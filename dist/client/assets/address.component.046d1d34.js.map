{"version":3,"file":"address.component.046d1d34.js","sources":["../../../node_modules/@spryker-oryx/checkout/address/src/address.component.js"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport { CheckoutDataService, } from '@spryker-oryx/checkout';\nimport { ComponentMixin } from '@spryker-oryx/experience';\nimport { resolve } from '@spryker-oryx/injector';\nimport { AddressService } from '@spryker-oryx/user';\nimport { i18n } from '@spryker-oryx/utilities/i18n';\nimport { asyncValue } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html } from 'lit';\nimport { state } from 'lit/decorators.js';\nimport { createRef, ref } from 'lit/directives/ref.js';\nexport class CheckoutAddressComponent extends ComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.checkoutDataService = resolve(CheckoutDataService);\n        this.addressService = resolve(AddressService);\n        this.selectedAddress = null;\n        this.addresses$ = this.addressService.getAddresses();\n        this.formRef = createRef();\n    }\n    getFormElement() {\n        return this.formRef.value?.getForm?.();\n    }\n    submit(report = false) {\n        const form = this.getFormElement();\n        if (!form?.checkValidity() && !this.selectedAddress) {\n            if (report) {\n                form?.reportValidity();\n            }\n            else {\n                this.checkoutDataService.setAddressDetails(null);\n            }\n            return false;\n        }\n        const data = form\n            ? Object.fromEntries(new FormData(form).entries())\n            : this.selectedAddress;\n        this.checkoutDataService.setAddressDetails(data);\n        return true;\n    }\n    handleAddressFromList(e) {\n        this.selectedAddress = e.detail.address;\n    }\n    render() {\n        return html `${asyncValue(this.addresses$, (addresses) => {\n            if (!addresses?.length) {\n                return html `\n          <p>${i18n('checkout.address-details')}</p>\n          <oryx-address-form ${ref(this.formRef)}></oryx-address-form>\n        `;\n            }\n            return html `\n        <oryx-address-list\n          .options=${{ selectable: true }}\n          @oryx.address-change=${(e) => this.handleAddressFromList(e)}\n        ></oryx-address-list>\n      `;\n        })}`;\n    }\n}\n__decorate([\n    state(),\n    __metadata(\"design:type\", Object)\n], CheckoutAddressComponent.prototype, \"selectedAddress\", void 0);\n//# sourceMappingURL=address.component.js.map"],"names":["CheckoutAddressComponent","ComponentMixin","resolve","CheckoutDataService","AddressService","createRef","_b","_a","report","form","data","e","html","asyncValue","addresses","i18n","ref","__decorate","state","__metadata"],"mappings":"uQAUO,MAAMA,UAAiCC,EAAc,CAAG,CAC3D,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,oBAAsBC,EAAQC,CAAmB,EACtD,KAAK,eAAiBD,EAAQE,CAAc,EAC5C,KAAK,gBAAkB,KACvB,KAAK,WAAa,KAAK,eAAe,aAAY,EAClD,KAAK,QAAUC,GAClB,CACD,gBAAiB,SACb,OAAOC,GAAAC,EAAA,KAAK,QAAQ,QAAb,YAAAA,EAAoB,UAApB,YAAAD,EAAA,KAAAC,EACV,CACD,OAAOC,EAAS,GAAO,CACnB,MAAMC,EAAO,KAAK,iBAClB,GAAI,EAACA,GAAA,MAAAA,EAAM,kBAAmB,CAAC,KAAK,gBAChC,OAAID,EACAC,GAAA,MAAAA,EAAM,iBAGN,KAAK,oBAAoB,kBAAkB,IAAI,EAE5C,GAEX,MAAMC,EAAOD,EACP,OAAO,YAAY,IAAI,SAASA,CAAI,EAAE,QAAO,CAAE,EAC/C,KAAK,gBACX,YAAK,oBAAoB,kBAAkBC,CAAI,EACxC,EACV,CACD,sBAAsBC,EAAG,CACrB,KAAK,gBAAkBA,EAAE,OAAO,OACnC,CACD,QAAS,CACL,OAAOC,IAAQC,EAAW,KAAK,WAAaC,GACnCA,GAAA,MAAAA,EAAW,OAMTF;AAAAA;AAAAA,qBAEE,CAAE,WAAY;iCACD,GAAM,KAAK,sBAAsB,CAAC;AAAA;AAAA,QAR7CA;AAAAA,eACRG,EAAK,0BAA0B;AAAA,+BACfC,EAAI,KAAK,OAAO;AAAA,SAStC,GACJ,CACL,CACAC,EAAW,CACPC,EAAO,EACPC,EAAW,cAAe,MAAM,CACpC,EAAGnB,EAAyB,UAAW,kBAAmB,MAAM"}