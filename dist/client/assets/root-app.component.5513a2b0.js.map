{"version":3,"file":"root-app.component.5513a2b0.js","sources":["../../../node_modules/@lit-labs/router/router.js","../../../node_modules/@spryker-oryx/application/src/services/router/default-router.js","../../../node_modules/@spryker-oryx/application/root-app/src/root-app.styles.js","../../../node_modules/@spryker-oryx/application/root-app/src/root-app.component.js"],"sourcesContent":["import{Routes as t}from\"./routes.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst o=location.origin||location.protocol+\"//\"+location.host;class i extends t{constructor(){super(...arguments),this.m=t=>{const i=0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey;if(t.defaultPrevented||i)return;const s=t.composedPath().find((t=>\"A\"===t.tagName));if(void 0===s||\"\"!==s.target||s.hasAttribute(\"download\")||\"external\"===s.getAttribute(\"rel\"))return;const n=s.href;if(\"\"===n||n.startsWith(\"mailto:\"))return;const e=window.location;s.origin===o&&(t.preventDefault(),n!==e.href&&(window.history.pushState({},\"\",n),this.goto(s.pathname)))},this.R=t=>{this.goto(window.location.pathname)}}hostConnected(){super.hostConnected(),window.addEventListener(\"click\",this.m),window.addEventListener(\"popstate\",this.R),this.goto(window.location.pathname)}hostDisconnected(){super.hostDisconnected(),window.removeEventListener(\"click\",this.m),window.removeEventListener(\"popstate\",this.R)}}export{i as Router};\n//# sourceMappingURL=router.js.map\n","import { Router } from '@lit-labs/router';\nimport { SSRAwaiterService, SsrOptions } from '@spryker-oryx/core';\nimport { RouterService } from '@spryker-oryx/experience';\nimport { resolve } from '@spryker-oryx/injector';\nimport { html, isServer } from 'lit';\nimport { identity, skip, tap } from 'rxjs';\nexport class DefaultRouter extends Router {\n    constructor(host, routes) {\n        super(host, routes);\n        this.routerService = resolve(RouterService);\n        this.ssrAwaiter = resolve(SSRAwaiterService, null);\n        this.ssrOptions = resolve(SsrOptions, {});\n        this.ssrRendered = false;\n        this.host = host;\n        this.ssrRendered =\n            !isServer && !!host.shadowRoot && !this.ssrOptions.initialNavigation;\n        this.routerService\n            .currentRoute()\n            .pipe(this.ssrRendered ? skip(1) : identity, tap(async (route) => {\n            if (route && route !== '') {\n                const resolve = this.ssrAwaiter?.getAwaiter();\n                await this._goto(route);\n                this.routerService.acceptParams(this.params);\n                resolve?.();\n            }\n        }))\n            .subscribe();\n    }\n    async _goto(pathname) {\n        this.currentPath = window.location?.pathname;\n        this.urlSearchParams = Object.fromEntries(new URLSearchParams(decodeURIComponent(window.location?.search)).entries());\n        // As part of the lazy hydration strategy, everything should not be hydrated by default\n        // If the host component is SSR rendered, hydrating it wipes everything\n        // So none of the previously SSRed sub components will remain\n        // This should only happen when someone actually clicks on a link; not during page load\n        if (this.ssrRendered &&\n            this.host._$needsHydration) {\n            return;\n        }\n        await super.goto(pathname);\n    }\n    async goto(pathname) {\n        await this._goto(pathname);\n        this.routerService.go(pathname, {\n            queryParams: this.urlSearchParams,\n        });\n    }\n    outlet() {\n        const result = html `<outlet>${super.outlet()}</outlet>`;\n        return result;\n    }\n}\n//# sourceMappingURL=default-router.js.map","import { css } from 'lit';\nexport const styles = css `\n  :host {\n    display: block;\n    font-family: var(--oryx-font);\n    font-size: var(--oryx-font-size-base);\n    font-weight: var(--oryx-font-weight-medium);\n    letter-spacing: 0.005em;\n    color: var(--oryx-color-ink);\n    background-color: var(--oryx-color-canvas-100);\n  }\n\n  @media (max-width: 767px) {\n    :host {\n      --oryx-font-size-base: 16px;\n      --oryx-font-weight-medium: 600;\n    }\n  }\n\n  ::placeholder {\n    color: var(--oryx-color-placeholder);\n  }\n\n  nav {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  nav .products {\n    display: flex;\n    justify-content: right;\n    align-items: center;\n    flex: 1;\n    font-size: 0.8em;\n  }\n\n  nav .link {\n    margin: 0 12px;\n    color: var(--oryx-color-canvas-100, #ffffff);\n  }\n`;\n//# sourceMappingURL=root-app.styles.js.map","import { __decorate, __metadata } from \"tslib\";\nimport { DefaultRouter, routes } from '@spryker-oryx/application';\nimport { ContextController } from '@spryker-oryx/core';\nimport { RouterService } from '@spryker-oryx/experience';\nimport { resolve } from '@spryker-oryx/injector';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html, isServer, LitElement } from 'lit';\nimport { take, tap } from 'rxjs';\nimport { styles } from './root-app.styles';\nlet RootAppComponent = class RootAppComponent extends LitElement {\n    constructor() {\n        super();\n        this.context = new ContextController(this);\n        this.routerService = resolve(RouterService);\n        this._routes = new DefaultRouter(this, routes);\n        this.route$ = this.routerService.currentParams().pipe(tap((params) => {\n            this.context.provide(\"sku\" /* ProductContext.SKU */, params?.sku);\n        }));\n        if (isServer) {\n            // Workaround to properly set SKU context on the SSR\n            this.route$.pipe(take(1)).subscribe();\n        }\n    }\n    render() {\n        return html ` ${asyncValue(this.route$, () => html `<experience-composition uid=\"header\"></experience-composition>\n          ${this._routes.outlet()}\n          <experience-composition uid=\"footer\"></experience-composition>`)}`;\n    }\n};\nRootAppComponent.styles = styles;\nRootAppComponent = __decorate([\n    hydratable(),\n    __metadata(\"design:paramtypes\", [])\n], RootAppComponent);\nexport { RootAppComponent };\n//# sourceMappingURL=root-app.component.js.map"],"names":["o","i","t","s","n","e","DefaultRouter","Router","host","routes","resolve","RouterService","SSRAwaiterService","SsrOptions","skip","identity","tap","route","_a","pathname","_b","html","styles","css","RootAppComponent","LitElement","ContextController","params","asyncValue","__decorate","hydratable","__metadata"],"mappings":"sMACA;AAAA;AAAA;AAAA;AAAA,GAKA,MAAMA,EAAE,SAAS,QAAQ,SAAS,SAAS,KAAK,SAAS,KAAK,MAAMC,UAAUC,CAAC,CAAC,aAAa,CAAC,MAAM,GAAG,SAAS,EAAE,KAAK,EAAE,GAAG,CAAC,MAAMD,EAAM,EAAE,SAAN,GAAc,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,GAAG,EAAE,kBAAkBA,EAAE,OAAO,MAAME,EAAE,EAAE,aAAY,EAAG,KAAMD,GAASA,EAAE,UAAR,GAAe,EAAG,GAAYC,IAAT,QAAiBA,EAAE,SAAP,IAAeA,EAAE,aAAa,UAAU,GAAgBA,EAAE,aAAa,KAAK,IAAjC,WAAmC,OAAO,MAAMC,EAAED,EAAE,KAAK,GAAQC,IAAL,IAAQA,EAAE,WAAW,SAAS,EAAE,OAAO,MAAMC,EAAE,OAAO,SAASF,EAAE,SAASH,IAAI,EAAE,iBAAiBI,IAAIC,EAAE,OAAO,OAAO,QAAQ,UAAU,CAAA,EAAG,GAAGD,CAAC,EAAE,KAAK,KAAKD,EAAE,QAAQ,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,KAAK,OAAO,SAAS,QAAQ,CAAC,CAAC,CAAC,eAAe,CAAC,MAAM,cAAa,EAAG,OAAO,iBAAiB,QAAQ,KAAK,CAAC,EAAE,OAAO,iBAAiB,WAAW,KAAK,CAAC,EAAE,KAAK,KAAK,OAAO,SAAS,QAAQ,CAAC,CAAC,kBAAkB,CAAC,MAAM,iBAAkB,EAAC,OAAO,oBAAoB,QAAQ,KAAK,CAAC,EAAE,OAAO,oBAAoB,WAAW,KAAK,CAAC,CAAC,CAAC,CCAl3B,MAAMG,UAAsBC,CAAO,CACtC,YAAYC,EAAMC,EAAQ,CACtB,MAAMD,EAAMC,CAAM,EAClB,KAAK,cAAgBC,EAAQC,CAAa,EAC1C,KAAK,WAAaD,EAAQE,EAAmB,IAAI,EACjD,KAAK,WAAaF,EAAQG,EAAY,CAAE,CAAA,EACxC,KAAK,YAAc,GACnB,KAAK,KAAOL,EACZ,KAAK,YACY,CAAC,CAACA,EAAK,YAAc,CAAC,KAAK,WAAW,kBACvD,KAAK,cACA,aAAc,EACd,KAAK,KAAK,YAAcM,EAAK,CAAC,EAAIC,EAAUC,EAAI,MAAOC,GAAU,OAClE,GAAIA,GAASA,IAAU,GAAI,CACvB,MAAMP,GAAUQ,EAAA,KAAK,aAAL,YAAAA,EAAiB,aACjC,MAAM,KAAK,MAAMD,CAAK,EACtB,KAAK,cAAc,aAAa,KAAK,MAAM,EAC3CP,GAAA,MAAAA,GACH,CACb,CAAS,CAAC,EACG,WACR,CACD,MAAM,MAAMS,EAAU,SAClB,KAAK,aAAcD,EAAA,OAAO,WAAP,YAAAA,EAAiB,SACpC,KAAK,gBAAkB,OAAO,YAAY,IAAI,gBAAgB,oBAAmBE,EAAA,OAAO,WAAP,YAAAA,EAAiB,MAAM,CAAC,EAAE,QAAS,CAAA,EAKhH,OAAK,aACL,KAAK,KAAK,mBAGd,MAAM,MAAM,KAAKD,CAAQ,CAC5B,CACD,MAAM,KAAKA,EAAU,CACjB,MAAM,KAAK,MAAMA,CAAQ,EACzB,KAAK,cAAc,GAAGA,EAAU,CAC5B,YAAa,KAAK,eAC9B,CAAS,CACJ,CACD,QAAS,CAEL,OADeE,YAAgB,MAAM,OAAM,YAE9C,CACL,CClDO,MAAMC,EAASC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,ECSnB,IAACC,EAAmB,cAA+BC,CAAW,CAC7D,aAAc,CACV,QACA,KAAK,QAAU,IAAIC,EAAkB,IAAI,EACzC,KAAK,cAAgBhB,EAAQC,CAAa,EAC1C,KAAK,QAAU,IAAIL,EAAc,KAAMG,CAAM,EAC7C,KAAK,OAAS,KAAK,cAAc,cAAa,EAAG,KAAKO,EAAKW,GAAW,CAClE,KAAK,QAAQ,QAAQ,MAAgCA,GAAA,YAAAA,EAAQ,GAAG,CACnE,CAAA,CAAC,CAKL,CACD,QAAS,CACL,OAAON,KAASO,EAAW,KAAK,OAAQ,IAAMP;AAAAA,YAC1C,KAAK,QAAQ;yEACgD,GACpE,CACL,EACAG,EAAiB,OAASF,EAC1BE,EAAmBK,EAAW,CAC1BC,EAAY,EACZC,EAAW,oBAAqB,EAAE,CACtC,EAAGP,CAAgB"}