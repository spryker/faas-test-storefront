{"version":3,"file":"totals.component.d2bfb3b6.js","sources":["../../../node_modules/@spryker-oryx/cart/totals/src/totals.styles.js","../../../node_modules/@spryker-oryx/cart/totals/src/totals.component.js"],"sourcesContent":["import { css } from 'lit';\nexport const styles = css `\n  :host {\n    --oryx-icon-size-small: 15px;\n\n    background-color: var(--oryx-color-canvas-200);\n    border-radius: var(--oryx-border-radius-small);\n    font-size: var(--oryx-font-size-medium);\n    line-height: 1.5;\n  }\n\n  h4 {\n    padding-top: var(--oryx-space-4);\n  }\n\n  :host > * {\n    padding-inline: var(--oryx-space-4);\n  }\n\n  :host > dl:last-child {\n    margin-top: var(--oryx-space-2);\n    padding-top: var(--oryx-space-3);\n    padding-bottom: var(--oryx-space-4);\n    border-top: solid 1px var(--oryx-color-canvas-500);\n    font-weight: 600;\n  }\n\n  :host > dl:last-child dd {\n    font-size: var(--oryx-font-size-large);\n  }\n\n  small {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    color: var(--oryx-color-neutral-200);\n  }\n\n  small.tax-message {\n    font-size: var(--oryx-font-size-medium);\n    font-weight: 500;\n    display: block;\n  }\n\n  h4,\n  dl,\n  dt,\n  dd,\n  p {\n    margin: 0;\n  }\n\n  dl {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-gap: var(--oryx-space-2);\n  }\n\n  dd {\n    justify-self: end;\n    text-align: end;\n  }\n\n  [slot='aside'],\n  oryx-collapsible dd {\n    color: var(--oryx-color-highlight-300);\n  }\n\n  dl,\n  oryx-collapsible {\n    margin-top: var(--oryx-space-4);\n  }\n\n  oryx-collapsible :is(dt, dd) {\n    font-size: 1rem;\n  }\n\n  oryx-collapsible dl {\n    margin-top: var(--oryx-space-2);\n  }\n`;\n//# sourceMappingURL=totals.styles.js.map","import { __decorate } from \"tslib\";\nimport { ContentController } from '@spryker-oryx/experience';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html } from 'lit';\nimport { when } from 'lit/directives/when.js';\nimport { combineLatest } from 'rxjs';\nimport { CartController } from '../../src/controllers/cart.controller';\nimport { CartComponentMixin } from '../../src/mixins/cart.mixin';\nimport { PriceMode } from '../../src/models';\nimport { styles } from './totals.styles';\nlet CartTotalsComponent = class CartTotalsComponent extends CartComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.cartTotals$ = combineLatest([\n            new CartController(this).getTotals(),\n            new ContentController(this).getOptions(),\n        ]);\n    }\n    render() {\n        return html `\n      ${asyncValue(this.cartTotals$, ([totals, options]) => {\n            if (!totals) {\n                return html ``;\n            }\n            return html `\n          <h4>Summary</h4>\n          ${this.renderSubtotal(options, totals)}\n          ${this.renderDiscounts(options, totals)}\n          ${this.renderExpense(options, totals)}\n          ${this.renderTax(options, totals)}\n          ${this.renderDelivery(options, totals)}\n          ${this.renderSummary(options, totals)}\n        `;\n        })}\n    `;\n    }\n    renderSubtotal(options, totals) {\n        return !options.hideSubtotal\n            ? this.renderSection('subtotal', html `\n            Subtotal\n            <span\n              >(${totals.itemsQuantity}\n              item${totals.itemsQuantity === 1 ? '' : 's'})</span\n            >\n          `, String(totals.calculations?.subtotal))\n            : html ``;\n    }\n    renderDiscounts(options, totals) {\n        return html `\n      ${when(!options.hideDiscounts && totals.calculations.discountTotal, () => html `\n          <oryx-collapsible\n            class=\"discounts\"\n            appearance=\"${\"inline\" /* CollapsibleAppearance.Inline */}\"\n            header=\"Discounts\"\n            ?open=${!options.collapseDiscounts}\n          >\n            <span slot=\"aside\">${totals.calculations.discountTotal}</span>\n\n            ${totals?.discounts?.map(({ displayName, amount }) => this.renderSection('discount', displayName, amount))}\n          </oryx-collapsible>\n        `)}\n    `;\n    }\n    renderExpense(options, totals) {\n        return totals.calculations.expenseTotal && !options.hideExpense\n            ? this.renderSection('expense', 'Expense', String(totals.calculations.expenseTotal))\n            : html ``;\n    }\n    renderTax(options, totals) {\n        return totals.calculations.taxTotal && !options.hideTaxAmount\n            ? this.renderSection('tax', 'Tax', String(totals.calculations.taxTotal))\n            : html ``;\n    }\n    renderDelivery(options, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    totals) {\n        return options.hideDelivery\n            ? html ``\n            : this.renderSection('delivery', 'Delivery', html `\n            <small class=\"delivery-message\">\n              ${options?.deliveryMessage ?? ''}\n              <oryx-icon-button size=\"small\">\n                <a href=\"#\" title=\"Click here to read about delivery options\">\n                  <oryx-icon type=\"info\"></oryx-icon>\n                </a>\n              </oryx-icon-button>\n            </small>\n          `);\n    }\n    renderSummary(options, totals) {\n        return this.renderSection('summary', 'Total', html ` ${totals.calculations.priceToPay}\n      ${when(!options.hideTaxMessage, () => html `<small class=\"tax-message\">\n            ${totals.priceMode === PriceMode.GrossMode\n            ? 'incl. tax'\n            : 'excl. tax'}\n          </small>`)}`);\n    }\n    renderSection(type, title, content) {\n        return html `\n      <dl class=${type}>\n        <dt>${title}</dt>\n        <dd>${content}</dd>\n      </dl>\n    `;\n    }\n};\nCartTotalsComponent.styles = styles;\nCartTotalsComponent = __decorate([\n    hydratable('window:load')\n], CartTotalsComponent);\nexport { CartTotalsComponent };\n//# sourceMappingURL=totals.component.js.map"],"names":["styles","css","CartTotalsComponent","CartComponentMixin","combineLatest","CartController","ContentController","html","asyncValue","totals","options","_a","when","displayName","amount","PriceMode","type","title","content","__decorate","hydratable"],"mappings":"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"}