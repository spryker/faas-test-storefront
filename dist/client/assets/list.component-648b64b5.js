import{C as a}from"./content.controller-bfde8771.js";import{r as o,l as c,m as p,y as s,f as u,au as m,av as d}from"./index-41c5945f.js";import"./experience-composition-preview.component-9bef1f27.js";import"./experience-composition.component-2ff75422.js";import{l as n}from"./layout.styles-e5516ea1.js";import{P as h}from"./product.mixin-b8d036c1.js";import{baseStyles as S}from"./list.styles-96362154.js";import"./subscribe.decorator-b8b77f67.js";import"./observe.decorator-62a61e42.js";import"./component.mixin-da8e468a.js";import"./state-2f3bc3a1.js";import"./screen-c0aae3c9.js";const e=class extends h(){constructor(){super(...arguments),this.productListService=o(m),this.productListPageService=o(d),this.options$=new a(this).getOptions(),this.products$=this.options$.pipe(c(t=>{const r=this.productListService.getSearchParams(t);return this.hasOptions(r)?this.productListService.get(r):this.productListPageService.get()}),p(t=>(t==null?void 0:t.products)??[]))}renderProducts(t){return s`${t.map(r=>s`<product-card .sku=${r.sku}></product-card>`)}`}hasOptions(t){return Object.keys(t).some(r=>!!t[r])}render(){return s`
      ${u(this.products$,t=>this.renderProducts(t))}
    `}};let i=e;(()=>{e.styles=[n,S]})();export{i as ProductListComponent};
