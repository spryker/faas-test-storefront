{"version":3,"file":"typeahead.component.974c8f5c.js","sources":["../../../node_modules/@spryker-oryx/ui/search/typeahead/src/controllers/filter.utils.js","../../../node_modules/@spryker-oryx/ui/search/typeahead/src/controllers/filter.controller.js","../../../node_modules/@spryker-oryx/ui/search/typeahead/src/controllers/typeahead.controller.js","../../../node_modules/@spryker-oryx/ui/search/typeahead/src/typeahead.component.js"],"sourcesContent":["function isNextDelimiter(content, nextIndex, filter, delimiters) {\n    return (delimiters.includes(content.charAt(nextIndex)) &&\n        content.charAt(nextIndex) !== filter.substring(0, 1));\n}\nexport function generateMarkedHtml(indexes, content, filter, strategy) {\n    let value = '';\n    // parts before the first mark\n    if (indexes.length > 0 && indexes[0] > -1) {\n        let i = indexes[0];\n        if (isNextDelimiter(content, i, filter, strategy.delimiters)) {\n            i++;\n        }\n        value += `${content.substring(0, i)}`;\n    }\n    value += indexes\n        .map((valueIndex, i) => {\n        let part = '';\n        if (valueIndex !== undefined) {\n            if (isNextDelimiter(content, valueIndex, filter, strategy.delimiters)) {\n                valueIndex++;\n            }\n            part += `<mark>${content.substring(valueIndex, valueIndex + filter.length)}</mark>`;\n            let nextIndex = indexes[i + 1];\n            if (isNextDelimiter(content, nextIndex, filter, strategy.delimiters)) {\n                nextIndex++;\n            }\n            if (nextIndex > -1) {\n                part += content.substring(valueIndex + filter.length, nextIndex);\n            }\n        }\n        return part;\n    })\n        .join('');\n    let lastIndex = indexes[indexes.length - 1];\n    if (lastIndex !== undefined) {\n        if (isNextDelimiter(content, lastIndex, filter, strategy.delimiters)) {\n            lastIndex++;\n        }\n        value += content.substring(lastIndex + filter.length);\n    }\n    return value;\n}\nexport function getFilterRegExp(value, strategy) {\n    const delimiters = (strategy.delimiters.indexOf(value.charAt(0)) > -1\n        ? []\n        : [...strategy.delimiters]).join('|');\n    let pattern;\n    switch (strategy.type) {\n        case \"start_of_word\" /* FilterStrategyType.START_OF_WORD */:\n            pattern = `(?:^|${delimiters})${value}`;\n            break;\n        case \"start_with\" /* FilterStrategyType.START_WITH */:\n            pattern = `^(${delimiters})?${value}`;\n            break;\n        case \"contains\" /* FilterStrategyType.CONTAINS */:\n            pattern = `[.]*${value}`;\n            break;\n    }\n    return new RegExp(pattern, 'gi');\n}\n//# sourceMappingURL=filter.utils.js.map","import { POPOVER_EVENT } from '@spryker-oryx/ui/popover';\nimport { getControl } from '../../../../form/utilities';\nimport { generateMarkedHtml, getFilterRegExp } from './filter.utils';\n/**\n * Provides filtering of options client side, so that the user is able to quickly\n * filter a (long) list of options by the given input characters.\n *\n * Filtering can be enabled by using the `filter` flag on the `TypeaheadOption`.\n */\nexport class FilterController {\n    constructor(host) {\n        this.host = host;\n        this.strategies = {\n            [\"start_of_word\" /* FilterStrategyType.START_OF_WORD */]: {\n                type: \"start_of_word\" /* FilterStrategyType.START_OF_WORD */,\n                delimiters: [' ', '/', '-', '_'],\n            },\n            [\"start_with\" /* FilterStrategyType.START_WITH */]: {\n                type: \"start_with\" /* FilterStrategyType.START_WITH */,\n                delimiters: ['/'],\n            },\n            [\"contains\" /* FilterStrategyType.CONTAINS */]: {\n                type: \"contains\" /* FilterStrategyType.CONTAINS */,\n                delimiters: [],\n            },\n        };\n        this.host.addController(this);\n        this.onKeydown = this.onKeydown.bind(this);\n        this.onInput = this.onInput.bind(this);\n        this.onFocusOut = this.onFocusOut.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n    hostConnected() {\n        this.host.addEventListener('keydown', this.onKeydown);\n        this.host.addEventListener('input', this.onInput);\n        this.host.addEventListener('focusout', this.onFocusOut);\n        this.host.addEventListener('change', this.onChange);\n    }\n    hostDisconnected() {\n        this.host.removeEventListener('keydown', this.onKeydown);\n        this.host.removeEventListener('input', this.onInput);\n        this.host.removeEventListener('focusout', this.onFocusOut);\n        this.host.removeEventListener('change', this.onChange);\n    }\n    onKeydown(e) {\n        if (this.host.filterStrategy &&\n            e.key === ' ' &&\n            this.controlItem.value === '') {\n            e.preventDefault();\n        }\n    }\n    onFocusOut() {\n        if (this.host.filterStrategy) {\n            const hasSelectedItem = this.items.find((item) => item.selected);\n            if (!hasSelectedItem) {\n                this.clearInput();\n            }\n        }\n    }\n    onInput(e) {\n        if (this.host.filterStrategy && e.inputType) {\n            this.filterOptionsByValue(e.inputType === 'deleteContentBackward' && !this.controlItem.value\n                ? ''\n                : this.controlItem.value);\n        }\n    }\n    hostUpdated() {\n        if (this.host.filterStrategy && this.filterValue) {\n            this.filterOptionsByValue(this.controlItem.value);\n        }\n    }\n    clearInput() {\n        if (this.control) {\n            this.control.value = '';\n            if (this.host.filterStrategy) {\n                this.filterOptionsByValue(this.control.value);\n            }\n            this.control.dispatchEvent(new Event(this.control instanceof HTMLSelectElement ? 'change' : 'input', { bubbles: true, composed: true }));\n        }\n    }\n    setEmptyState(value) {\n        const isEmpty = !!this.host.isEmpty;\n        // set isEmpty to true when there are no visible items\n        // and - when changed - ensure that the state is taken into account in the host\n        if (isEmpty !== value) {\n            this.host.isEmpty = value;\n            this.host.requestUpdate('isEmpty', isEmpty);\n        }\n    }\n    onChange() {\n        if (this.filterValue === this.controlItem.value) {\n            return;\n        }\n        this.filterOptions('', true);\n    }\n    filterOptions(value = '', omitDispatchEvent) {\n        if (!this.host.filterStrategy) {\n            return;\n        }\n        let visibleOptionCount = 0;\n        const strategy = this.strategies[this.host.filterStrategy];\n        this.items.forEach((item) => {\n            const itemValue = item.innerText || item.value;\n            if (itemValue) {\n                const indexes = [\n                    ...itemValue.matchAll(getFilterRegExp(value, strategy)),\n                ].map((a) => a.index);\n                item.toggleAttribute('hide', indexes.length === 0);\n                if (!item.hasAttribute('hide')) {\n                    item.innerHTML = generateMarkedHtml(indexes, itemValue, value, strategy);\n                    visibleOptionCount++;\n                }\n            }\n        });\n        if (!omitDispatchEvent) {\n            this.dispatchMatchEvent(visibleOptionCount, value);\n        }\n        this.setEmptyState(visibleOptionCount === 0);\n    }\n    filterOptionsByValue(value = '') {\n        if (this.filterValue === value || (!this.filterValue && value === '')) {\n            return;\n        }\n        this.filterValue = value;\n        this.filterOptions(value);\n    }\n    dispatchMatchEvent(visibleOptionCount, value) {\n        let selected;\n        if (visibleOptionCount === 1) {\n            const option = this.items.find((el) => !el.hasAttribute('hide'));\n            const optionText = option?.innerText?.trim() || option?.value || '';\n            if (optionText.toLowerCase() === value.toLowerCase()) {\n                selected = option;\n            }\n        }\n        const event = new CustomEvent(POPOVER_EVENT, {\n            detail: {\n                selected,\n            },\n            bubbles: true,\n            composed: true,\n        });\n        this.control.dispatchEvent(event);\n    }\n    get control() {\n        return getControl(this.host, 'input, select');\n    }\n    get filterControl() {\n        return this.host.renderRoot.querySelector('[filterInput]');\n    }\n    get controlItem() {\n        if (this.host.hasAttribute('filterSelect')) {\n            return this.filterControl;\n        }\n        else {\n            return this.control;\n        }\n    }\n    get items() {\n        return Array.from(this.host.querySelectorAll('oryx-option'));\n    }\n}\n//# sourceMappingURL=filter.controller.js.map","import { CLOSE_POPOVER_ATTR, PopoverController, } from '@spryker-oryx/ui/popover';\nimport { html } from 'lit';\nimport { when } from 'lit/directives/when.js';\nimport { getControl } from '../../../../form/utilities/getControl';\nimport { FilterController } from './filter.controller';\nconst emptyFallback = 'No results found';\nexport class TypeaheadController {\n    constructor(host, options) {\n        this.host = host;\n        this.options = options;\n        this.host.addController(this);\n        this.filterController = new FilterController(host);\n        this.popoverController = new PopoverController(host, options);\n        this.onInput = this.onInput.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.onSelect = this.onSelect.bind(this);\n    }\n    hostConnected() {\n        this.host.addEventListener('input', this.onInput);\n        this.host.addEventListener('change', this.onChange);\n        this.host.addEventListener('oryx.select', this.onSelect);\n    }\n    hostDisconnected() {\n        this.host.removeEventListener('input', this.onInput);\n        this.host.removeEventListener('change', this.onChange);\n        this.host.removeEventListener('oryx.select', this.onSelect);\n    }\n    hostUpdated() {\n        this.host\n            .querySelectorAll('oryx-option')\n            .forEach((option) => {\n            //ensure that option has necessary attribute for closing popover\n            option.toggleAttribute(CLOSE_POPOVER_ATTR, true);\n            if (!option.slot) {\n                option.slot = 'option';\n            }\n        });\n        if (!this.lastValue && this.control.value) {\n            this.lastValue = this.control.value;\n        }\n        this.onChange();\n    }\n    renderPopover() {\n        return html `\n      <oryx-popover>\n        ${when(!this.host.isEmpty, () => html `<slot name=\"option\"></slot>`)}\n        <slot name=\"empty\">\n          ${when(this.host.isEmpty, () => html `<div class=\"placeholder\">\n                ${this.host.emptyMessage ?? emptyFallback}\n              </div>`)}\n        </slot>\n        <slot name=\"loading\">\n          ${when(this.host.isLoading, () => html `<div class=\"placeholder\">\n                <oryx-spinner></oryx-spinner>\n              </div>`)}\n        </slot>\n      </oryx-popover>\n    `;\n    }\n    onInput() {\n        const query = this.typeaheadControl?.value || this.control.value;\n        const event = new CustomEvent('oryx.typeahead', {\n            detail: {\n                query,\n            },\n            bubbles: true,\n            composed: true,\n        });\n        this.host.dispatchEvent(event);\n    }\n    onChange() {\n        const value = this.control.value;\n        this.popoverController.selectByValue(value, this.lastValue === value);\n        if (value === '') {\n            this.lastValue = undefined;\n        }\n    }\n    onSelect(e) {\n        if (e.detail.selected) {\n            const value = this.getValue(e.detail.selected);\n            const text = this.getText(e.detail.selected);\n            if (!value) {\n                return;\n            }\n            // the control value might have been reset during filtering, hence we'll set it always\n            this.control.value = value;\n            this.control.dispatchEvent(new Event(this.control instanceof HTMLSelectElement ? 'change' : 'input', { bubbles: true, composed: true }));\n            if (text && this.typeaheadControl) {\n                this.typeaheadControl.value = text;\n            }\n        }\n    }\n    get control() {\n        return getControl(this.host);\n    }\n    get typeaheadControl() {\n        return this.host.renderRoot?.querySelector('[typeaheadInput]');\n    }\n    getValue(option) {\n        return option.value;\n    }\n    getText(option) {\n        return option.innerText?.trim();\n    }\n}\n//# sourceMappingURL=typeahead.controller.js.map","import { __decorate, __metadata } from \"tslib\";\nimport { FormControlController, } from '@spryker-oryx/ui/input';\nimport { SearchboxController, } from '@spryker-oryx/ui/searchbox';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { TypeaheadController } from './controllers';\nimport { baseStyles } from './typeahead.styles';\nlet TypeaheadComponent = class TypeaheadComponent extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.typeaheadController = new TypeaheadController(this);\n        this.formControlController = new FormControlController(this);\n        this.searchController = new SearchboxController(this);\n    }\n    render() {\n        return html `\n      ${this.formControlController.render({\n            before: this.searchController.renderPrefix(),\n            after: this.searchController.renderSuffix(),\n        })}\n      ${this.typeaheadController.renderPopover()}\n    `;\n    }\n};\nTypeaheadComponent.styles = baseStyles;\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"filterStrategy\", void 0);\n__decorate([\n    property({ type: Boolean }),\n    __metadata(\"design:type\", Boolean)\n], TypeaheadComponent.prototype, \"isLoading\", void 0);\n__decorate([\n    property({ type: Boolean }),\n    __metadata(\"design:type\", Boolean)\n], TypeaheadComponent.prototype, \"isEmpty\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"emptyMessage\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"label\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"errorMessage\", void 0);\n__decorate([\n    property({ type: Boolean }),\n    __metadata(\"design:type\", Boolean)\n], TypeaheadComponent.prototype, \"hasError\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"prefixIcon\", void 0);\n__decorate([\n    property({ type: Boolean }),\n    __metadata(\"design:type\", Boolean)\n], TypeaheadComponent.prototype, \"prefixFill\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"suffixIcon\", void 0);\n__decorate([\n    property({ type: Boolean }),\n    __metadata(\"design:type\", Boolean)\n], TypeaheadComponent.prototype, \"suffixFill\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"searchIcon\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"searchIconPosition\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"clearIcon\", void 0);\n__decorate([\n    property({ reflect: true }),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"clearIconPosition\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], TypeaheadComponent.prototype, \"clearIconAppearance\", void 0);\nTypeaheadComponent = __decorate([\n    hydratable('focusin')\n], TypeaheadComponent);\nexport { TypeaheadComponent };\n//# sourceMappingURL=typeahead.component.js.map"],"names":["isNextDelimiter","content","nextIndex","filter","delimiters","generateMarkedHtml","indexes","strategy","value","valueIndex","i","part","lastIndex","getFilterRegExp","pattern","FilterController","host","e","item","isEmpty","omitDispatchEvent","visibleOptionCount","itemValue","a","selected","option","el","_a","event","POPOVER_EVENT","getControl","emptyFallback","TypeaheadController","options","PopoverController","CLOSE_POPOVER_ATTR","html","when","query","text","TypeaheadComponent","LitElement","FormControlController","SearchboxController","baseStyles","__decorate","property","__metadata","hydratable"],"mappings":"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"}