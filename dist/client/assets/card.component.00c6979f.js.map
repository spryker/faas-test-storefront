{"version":3,"file":"card.component.00c6979f.js","sources":["../../../node_modules/@spryker-oryx/product/card/src/card.styles.js","../../../node_modules/@spryker-oryx/product/card/src/card.component.js"],"sourcesContent":["import { css } from 'lit';\nexport const ProductCardStyles = css `\n  :host {\n    --line-clamp: var(--oryx-product-card-title-line-clamp, 1);\n\n    transition: all var(--oryx-transition-time);\n    background-color: var(--oryx-color-canvas-100);\n    min-height: calc(\n      408px -\n        calc(\n          var(--_title-offset, 0px) +\n            calc(var(--_price-offset, 0px) + var(--_rating-offset, 0px))\n        )\n    );\n    box-sizing: border-box;\n    border: var(--oryx-border-thin) solid var(--oryx-color-canvas-200);\n    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color-2);\n  }\n\n  :host(:is(:hover, :focus-within)) {\n    --line-clamp: 0;\n\n    z-index: 1;\n    box-shadow: var(--oryx-elevation-1) var(--oryx-elevation-color-2);\n    border-color: var(--oryx-color-canvas-500);\n  }\n\n  :host(:is(:hover, :focus-within)) product-title {\n    white-space: normal;\n  }\n\n  :host([hide-title]) {\n    --_title-offset: 24px;\n  }\n\n  :host([hide-price]) {\n    --_price-offset: 34px;\n  }\n\n  :host([hide-rating]) {\n    --_rating-offset: 24px;\n  }\n\n  :host,\n  content-link,\n  content-link::part(wrapper),\n  content-link::part(link) {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n  }\n\n  content-link,\n  content-link::part(wrapper),\n  content-link::part(link) {\n    width: 100%;\n  }\n\n  :host,\n  content-link {\n    border-radius: var(--oryx-border-radius-small);\n  }\n\n  content-link {\n    position: relative;\n    color: #333;\n    text-decoration: none;\n    overflow: hidden;\n  }\n\n  content-link::part(link) {\n    justify-content: flex-end;\n    padding: 0;\n    border-radius: 0;\n    border: none;\n    background-color: transparent;\n  }\n\n  content-link > div {\n    display: flex;\n    align-items: flex-start;\n    padding-inline: 16px;\n    padding-block: 8px;\n    justify-content: space-between;\n    position: absolute;\n    top: 0;\n    inset-inline-start: 0;\n    width: 100%;\n    height: 250px;\n    box-sizing: border-box;\n  }\n\n  product-labels,\n  oryx-icon-button {\n    position: relative;\n    z-index: 1;\n  }\n\n  oryx-icon-button:first-child {\n    margin-inline-start: auto;\n  }\n\n  product-labels {\n    flex-wrap: wrap;\n  }\n\n  button {\n    padding: 6px;\n    background-color: var(--oryx-color-canvas-100);\n  }\n\n  oryx-icon {\n    --oryx-icon-size: 24px;\n\n    color: var(--oryx-color-ink);\n  }\n\n  product-media {\n    max-height: auto;\n    position: absolute;\n    top: 0;\n    inset-inline-start: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  product-media::part(fallback) {\n    --oryx-icon-size: 100px;\n\n    background: transparent;\n  }\n\n  section {\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: var(--oryx-color-canvas-100);\n    padding-inline: 16px;\n    padding-block: 12px 16px;\n    min-height: calc(\n      156px -\n        calc(\n          var(--_title-offset, 0px) +\n            calc(var(--_price-offset, 0px) + var(--_rating-offset, 0px))\n        )\n    );\n    position: relative;\n  }\n\n  product-title,\n  section > div > :not(:last-child) {\n    margin-bottom: 8px;\n  }\n\n  product-price {\n    font-size: 18px;\n    line-height: 26px;\n    font-weight: 700;\n    gap: 4px;\n    align-items: center;\n  }\n\n  product-price::part(default-original) {\n    color: var(--oryx-color-ink);\n  }\n\n  product-price::part(original) {\n    font-size: 12px;\n    line-height: 18px;\n    font-weight: 500;\n    color: #4c4c4c;\n    text-decoration: line-through;\n  }\n\n  product-price::part(original)::before {\n    display: none;\n  }\n\n  product-average-rating {\n    --oryx-icon-size: 12px;\n\n    display: block;\n  }\n\n  product-title {\n    color: var(--oryx-color-ink);\n    font-size: 12px;\n    line-height: 16px;\n    margin-block-end: auto;\n    white-space: normal;\n  }\n\n  section > div:only-child {\n    margin-block-start: auto;\n  }\n`;\n//# sourceMappingURL=card.styles.js.map","import { __decorate, __metadata } from \"tslib\";\nimport { ContextController } from '@spryker-oryx/core';\nimport { ContentController } from '@spryker-oryx/experience';\nimport { ProductComponentMixin, ProductController, } from '@spryker-oryx/product';\nimport { SemanticLinkType } from '@spryker-oryx/site';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue, ObserveController, subscribe, } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { when } from 'lit/directives/when.js';\nimport { combineLatest, filter, tap } from 'rxjs';\nimport { ProductCardStyles } from './card.styles';\nlet ProductCardComponent = class ProductCardComponent extends ProductComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.hideTitle = false;\n        this.hidePrice = false;\n        this.hideRating = false;\n        this.observe = new ObserveController(this);\n        this.context = new ContextController(this);\n        this.options$ = new ContentController(this).getOptions().pipe(tap((options) => {\n            // We have an issue during ssr that don't allow us\n            // to use methods of the class\n            // ie this.toggleAttribute('hide-title', !!options.hideTitle);\n            // Issue happens because component is not defined when code is called\n            // this solution uses lit-properties and should be replaced by more\n            // convenient in the future\n            this.hideTitle = !!options.hideTitle;\n            this.hidePrice = !!options.hidePrice;\n            this.hideRating = !!options.hideRating;\n        }));\n        this.product$ = new ProductController(this).getProduct();\n        this.card$ = combineLatest([this.product$, this.options$]).pipe(tap(([product, options]) => {\n            if (options && 'truncateTitleAfter' in options) {\n                this.style?.setProperty('--oryx-product-card-title-line-clamp', String(options.truncateTitleAfter));\n            }\n        }));\n        this.sku$ = combineLatest([\n            this.options$,\n            // TODO: investigate issue observe decorator with mixin\n            this.observe.get('sku'),\n        ]).pipe(filter(([options, propSku]) => Boolean(options.sku ?? propSku)), tap(([options, propSku]) => this.context.provide(\"sku\" /* ProductContext.SKU */, options.sku ?? propSku)));\n    }\n    preventPropagating(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n    render() {\n        return html `${asyncValue(this.card$, ([product, options]) => product\n            ? html `\n            <content-link\n              .options=\"${{\n                type: SemanticLinkType.Product,\n                id: product.sku,\n            }}\"\n            >\n              <div>\n                ${when(!options?.hideLabels, () => html `<product-labels></product-labels>`)}\n                ${when(!options?.hideFavorites, () => html `\n                    <oryx-icon-button>\n                      <button\n                        tabindex=\"-1\"\n                        aria-label=\"add-to-favorites\"\n                        @click=${this.preventPropagating}\n                      >\n                        <oryx-icon type=\"wishlist\"></oryx-icon>\n                      </button>\n                    </oryx-icon-button>\n                  `)}\n\n                <product-media\n                  .options=${{\n                containerSize: \"thumbnail\" /* ProductMediaContainerSize.Thumbnail */,\n            }}\n                ></product-media>\n              </div>\n\n              <section>\n                ${when(!options?.hideTitle, () => html `\n                    <product-title\n                      .options=\"${{ link: false }}\"\n                    ></product-title>\n                  `)}\n\n                <div>\n                  ${when(!options?.hidePrice, () => html `<product-price></product-price>`)}\n                  ${when(!options?.hideRating, () => html `\n                      <product-average-rating\n                        .options=${{ size: 'small' }}\n                      ></product-average-rating>\n                    `)}\n\n                  <oryx-cart-add\n                    tabindex=\"-1\"\n                    .options=\"${{\n                outlined: true,\n                hideQuantityInput: true,\n            }}\"\n                    @click=${this.preventPropagating}\n                  ></oryx-cart-add>\n                </div>\n              </section>\n            </content-link>\n          `\n            : html ``)}`;\n    }\n};\nProductCardComponent.styles = ProductCardStyles;\n__decorate([\n    property({ type: Boolean, reflect: true, attribute: 'hide-title' }),\n    __metadata(\"design:type\", Object)\n], ProductCardComponent.prototype, \"hideTitle\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true, attribute: 'hide-price' }),\n    __metadata(\"design:type\", Object)\n], ProductCardComponent.prototype, \"hidePrice\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true, attribute: 'hide-rating' }),\n    __metadata(\"design:type\", Object)\n], ProductCardComponent.prototype, \"hideRating\", void 0);\n__decorate([\n    subscribe(),\n    __metadata(\"design:type\", Object)\n], ProductCardComponent.prototype, \"sku$\", void 0);\nProductCardComponent = __decorate([\n    hydratable(['mouseover', 'focusin'])\n], ProductCardComponent);\nexport { ProductCardComponent };\n//# sourceMappingURL=card.component.js.map"],"names":["ProductCardStyles","css","ProductCardComponent","ProductComponentMixin","ObserveController","ContextController","ContentController","tap","options","ProductController","combineLatest","product","_a","filter","propSku","html","asyncValue","SemanticLinkType","when","__decorate","property","__metadata","subscribe","hydratable"],"mappings":"waACO,MAAMA,EAAoBC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,ECW9B,IAACC,EAAuB,cAAmCC,GAAwB,CAClF,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,GACjB,KAAK,UAAY,GACjB,KAAK,WAAa,GAClB,KAAK,QAAU,IAAIC,EAAkB,IAAI,EACzC,KAAK,QAAU,IAAIC,EAAkB,IAAI,EACzC,KAAK,SAAW,IAAIC,EAAkB,IAAI,EAAE,WAAU,EAAG,KAAKC,EAAKC,GAAY,CAO3E,KAAK,UAAY,CAAC,CAACA,EAAQ,UAC3B,KAAK,UAAY,CAAC,CAACA,EAAQ,UAC3B,KAAK,WAAa,CAAC,CAACA,EAAQ,UAC/B,CAAA,CAAC,EACF,KAAK,SAAW,IAAIC,EAAkB,IAAI,EAAE,WAAU,EACtD,KAAK,MAAQC,EAAc,CAAC,KAAK,SAAU,KAAK,QAAQ,CAAC,EAAE,KAAKH,EAAI,CAAC,CAACI,EAASH,CAAO,IAAM,OACpFA,GAAW,uBAAwBA,KACnCI,EAAA,KAAK,QAAL,MAAAA,EAAY,YAAY,uCAAwC,OAAOJ,EAAQ,kBAAkB,GAExG,CAAA,CAAC,EACF,KAAK,KAAOE,EAAc,CACtB,KAAK,SAEL,KAAK,QAAQ,IAAI,KAAK,CACzB,CAAA,EAAE,KAAKG,EAAO,CAAC,CAACL,EAASM,CAAO,IAAM,OAAA,gBAAQF,EAAAJ,EAAQ,MAAR,KAAAI,EAAeE,CAAO,EAAC,EAAGP,EAAI,CAAC,CAACC,EAASM,CAAO,IAAM,OAAA,YAAK,QAAQ,QAAQ,OAAgCF,EAAAJ,EAAQ,MAAR,KAAAI,EAAeE,CAAO,EAAC,CAAC,CACrL,CACD,mBAAmB,EAAG,CAClB,EAAE,eAAc,EAChB,EAAE,gBAAe,CACpB,CACD,QAAS,CACL,OAAOC,IAAQC,EAAW,KAAK,MAAO,CAAC,CAACL,EAASH,CAAO,IAAMG,EACxDI;AAAAA;AAAAA,0BAEY,CACV,KAAME,EAAiB,QACvB,GAAIN,EAAQ,GAC5B;AAAA;AAAA;AAAA,kBAGkBO,EAAK,EAACV,GAAA,MAAAA,EAAS,YAAY,IAAMO,oCAAwC;AAAA,kBACzEG,EAAK,EAACV,GAAA,MAAAA,EAAS,eAAe,IAAMO;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,iCAKrB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKnB;AAAA;AAAA;AAAA,6BAGU,CACb,cAAe,WAC/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKkBG,EAAK,EAACV,GAAA,MAAAA,EAAS,WAAW,IAAMO;AAAAA;AAAAA,kCAEhB,CAAE,KAAM;;mBAEvB;AAAA;AAAA;AAAA,oBAGCG,EAAK,EAACV,GAAA,MAAAA,EAAS,WAAW,IAAMO,kCAAsC;AAAA,oBACtEG,EAAK,EAACV,GAAA,MAAAA,EAAS,YAAY,IAAMO;AAAAA;AAAAA,mCAElB,CAAE,KAAM;;qBAEtB;AAAA;AAAA;AAAA;AAAA,gCAIW,CAChB,SAAU,GACV,kBAAmB,EACnC;AAAA,6BAC6B,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,YAMpBA,GAAO,GAChB,CACL,EACAb,EAAqB,OAASF,EAC9BmB,EAAW,CACPC,EAAS,CAAE,KAAM,QAAS,QAAS,GAAM,UAAW,aAAc,EAClEC,EAAW,cAAe,MAAM,CACpC,EAAGnB,EAAqB,UAAW,YAAa,MAAM,EACtDiB,EAAW,CACPC,EAAS,CAAE,KAAM,QAAS,QAAS,GAAM,UAAW,aAAc,EAClEC,EAAW,cAAe,MAAM,CACpC,EAAGnB,EAAqB,UAAW,YAAa,MAAM,EACtDiB,EAAW,CACPC,EAAS,CAAE,KAAM,QAAS,QAAS,GAAM,UAAW,cAAe,EACnEC,EAAW,cAAe,MAAM,CACpC,EAAGnB,EAAqB,UAAW,aAAc,MAAM,EACvDiB,EAAW,CACPG,EAAW,EACXD,EAAW,cAAe,MAAM,CACpC,EAAGnB,EAAqB,UAAW,OAAQ,MAAM,EACjDA,EAAuBiB,EAAW,CAC9BI,EAAmC,CACvC,EAAGrB,CAAoB"}