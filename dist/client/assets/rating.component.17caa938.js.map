{"version":3,"file":"rating.component.17caa938.js","sources":["../../../node_modules/@spryker-oryx/ui/graphical/rating/src/styles/base.styles.js","../../../node_modules/@spryker-oryx/ui/graphical/rating/src/styles/edit-mode.styles.js","../../../node_modules/@spryker-oryx/ui/graphical/rating/src/styles/readonly-mode.styles.js","../../../node_modules/@spryker-oryx/ui/graphical/rating/src/rating.component.js"],"sourcesContent":["import { css } from 'lit';\nexport const ratingBaseStyles = css `\n  :host {\n    --oryx-rating-size: 18px;\n    --oryx-icon-size: 18px;\n    --_margin: 3px;\n\n    display: flex;\n    align-items: center;\n    font-size: var(--oryx-rating-size);\n    gap: 10px;\n  }\n\n  :host([size='small']) {\n    --oryx-rating-size: 12px;\n    --oryx-icon-size: 12px;\n    --_margin: 2px;\n  }\n\n  fieldset {\n    all: unset;\n    white-space: nowrap;\n  }\n\n  input {\n    appearance: none;\n    display: inline-block;\n    flex: 0 0 var(--oryx-rating-size);\n    width: var(--oryx-rating-size);\n    aspect-ratio: 1/1;\n    position: relative;\n    margin: 0;\n    border-radius: var(--oryx-border-radius-small);\n    outline: none;\n  }\n\n  fieldset slot {\n    transition: 0.4s ease-out;\n    pointer-events: none;\n    display: inline-block;\n    padding: var(--_margin);\n    line-height: var(--oryx-rating-size);\n    height: var(--oryx-rating-size);\n    width: var(--oryx-rating-size);\n  }\n\n  fieldset slot,\n  fieldset ::slotted(*) {\n    color: var(--oryx-rating-color-active, var(--oryx-color-secondary-300));\n    font-size: 1em;\n  }\n\n  fieldset slot svg {\n    fill: currentColor;\n  }\n\n  input:focus-visible + slot {\n    border-radius: 4px;\n    background-color: var(--oryx-color-canvas-200);\n    box-shadow: var(--oryx-box-shadow-focus);\n  }\n\n  label {\n    position: absolute;\n    opacity: 0;\n  }\n\n  slot,\n  b {\n    font-size: 1rem;\n  }\n\n  :host > svg {\n    width: 0;\n    height: 0;\n  }\n`;\n//# sourceMappingURL=base.styles.js.map","import { css } from 'lit';\n// Note: the pseudo states in storybook are actual destroying some of the\n// :not selectors, which destroys the UX in the following case:\n//   - when you hover over a selected rating, the stars in between won't get highlighted\nexport const ratingEditModeStyles = css `\n  :host(:not([readonly])) input {\n    position: absolute;\n    margin: 0;\n    outline: none;\n    box-sizing: content-box;\n    padding: var(--_margin);\n  }\n\n  :host(:not([readonly])) input:not(:checked) {\n    cursor: pointer;\n  }\n\n  fieldset:not(:hover) input:invalid + slot,\n  fieldset:not(:hover) input:invalid + ::slotted(*),\n  fieldset :is(input:hover, :not(:hover) input:checked) + slot ~ slot,\n  fieldset :is(input:hover, :not(:hover) input:checked) + slot ~ ::slotted(*) {\n    color: var(--oryx-rating-color-inactive, var(--oryx-color-neutral-200));\n  }\n\n  input:hover:not(:checked) + slot,\n  input:hover:not(:checked) + ::slotted(*) {\n    color: var(--oryx-rating-color-hover, var(--oryx-color-secondary-400));\n  }\n\n  fieldset input:valid:hover + slot ~ slot[has-char],\n  fieldset input:hover + slot ~ slot[has-char],\n  fieldset:not(:hover) input:checked + slot ~ slot[has-char] {\n    opacity: 0.3;\n  }\n`;\n//# sourceMappingURL=edit-mode.styles.js.map","import { css } from 'lit';\nexport const ratingReadonlyStyles = css `\n  :host([readonly]) {\n    padding: var(--_margin);\n  }\n\n  :host([readonly]) fieldset {\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    gap: calc(2 * var(--_margin));\n  }\n\n  :host([readonly]) input {\n    background-color: var(--oryx-color-canvas-500);\n  }\n\n  :host([readonly]:not([size='small'])) input {\n    /* stylelint-disable-next-line */\n    clip-path: url('#star-path');\n  }\n\n  :host([readonly][size='small']) input {\n    /* stylelint-disable-next-line */\n    clip-path: url('#star-path-small');\n  }\n\n  :host([readonly]) input::after {\n    content: '';\n    position: absolute;\n    height: 100%;\n    background-color: orange;\n    width: min(calc(((var(--rate) - var(--pos) + 1) * 100%)), 100%);\n  }\n\n  .review-count {\n    color: var(--oryx-color-neutral-300);\n    line-height: var(--oryx-rating-size);\n    font-size: 1rem;\n  }\n`;\n//# sourceMappingURL=readonly-mode.styles.js.map","import { __decorate, __metadata } from \"tslib\";\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { when } from 'lit/directives/when.js';\nimport { ratingBaseStyles, ratingEditModeStyles, ratingReadonlyStyles, } from './styles';\n/** we'll have performance issues when someone accidentally uses a high scale */\nconst MAX_SCALE = 25;\nexport class RatingComponent extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.scale = 5;\n    }\n    render() {\n        return html `\n      <fieldset style=${`--rate: ${this.getValue()};`}>\n        ${[...Array(Math.min(this.scale, MAX_SCALE))].map((_, i) => this.renderInput(i))}\n      </fieldset>\n\n      ${when(this.reviewCount !== undefined, () => html `<span class=\"review-count\">${this.getCount()}</span>`)}\n      ${this.renderClipPath()}\n    `;\n    }\n    renderInput(i) {\n        return html `<input\n        @input=${() => this.setValue(i + 1)}\n        type=\"radio\"\n        name=\"rating\"\n        value=${i + 1}\n        ?required=${!this.readonly}\n        ?disabled=${this.readonly}\n        ?checked=${Math.round(this.getValue()) === i + 1}\n        style=${`--pos: ${i + 1}`}\n        aria-label=${i + 1}\n      />${when(!this.readonly, () => this.renderSlot(i))}`;\n    }\n    renderSlot(i) {\n        return html `<slot name=${i + 1} ?has-char=${this.hasChar(i)}\n      >${this.getChar(i) ??\n            html `<svg viewBox=\"0 0 18 18\">\n        <use href=\"#star\" />\n      </svg>`}</slot\n    >`;\n    }\n    renderClipPath() {\n        return html `\n      <svg xmlns=\"http://www.w3.org/2000/svg\">\n        <clipPath id=\"star-path\">\n          <use href=\"#star\" />\n        </clipPath>\n        <clipPath id=\"star-path-small\">\n          <path\n            d=\"M9.21975 7.07491L11.8082 4.93311C12.1743 4.62895 11.9849 4.0333 11.5051 4.00796L8.17175 3.80518C7.96973 3.79251 7.79296 3.66577 7.7172 3.47567L6.49243 0.332676C6.31566 -0.110892 5.69696 -0.110892 5.52019 0.332676L4.29543 3.463C4.21967 3.6531 4.0429 3.77984 3.84088 3.79251L0.494864 3.99528C0.0150585 4.02063 -0.174338 4.61628 0.191829 4.92044L2.78025 7.04957C2.93177 7.1763 3.00753 7.39175 2.95702 7.58185L2.11105 10.8389C1.99741 11.2951 2.48984 11.6627 2.89389 11.4092L5.70959 9.59692C5.88636 9.48286 6.10101 9.48286 6.26516 9.59692L9.09348 11.4092C9.49753 11.6627 9.98996 11.2951 9.87632 10.8389L9.03035 7.59452C8.99247 7.40442 9.0556 7.20165 9.21975 7.07491Z\"\n          />\n        </clipPath>\n        <defs>\n          <path\n            id=\"star\"\n            d=\"M13.8296 10.6124L17.7123 7.39967C18.2615 6.94343 17.9774 6.04995 17.2577 6.01193L12.2576 5.70777C11.9546 5.68876 11.6894 5.49866 11.5758 5.21351L9.73865 0.499014C9.47349 -0.166338 8.54545 -0.166338 8.28029 0.499014L6.44314 5.1945C6.3295 5.47965 6.06435 5.66975 5.76131 5.68876L0.742296 5.99292C0.0225877 6.03094 -0.261508 6.92442 0.287743 7.38066L4.17038 10.5744C4.39766 10.7645 4.51129 11.0876 4.43553 11.3728L3.16658 16.2584C2.99612 16.9427 3.73477 17.494 4.34084 17.1138L8.56439 14.3954C8.82954 14.2243 9.15152 14.2243 9.39773 14.3954L13.6402 17.1138C14.2463 17.494 14.9849 16.9427 14.8145 16.2584L13.5455 11.3918C13.4887 11.1066 13.5834 10.8025 13.8296 10.6124Z\"\n          />\n        </defs>\n      </svg>\n    `;\n    }\n    getValue() {\n        return this.value ?? 0;\n    }\n    setValue(value) {\n        this.value = value;\n    }\n    getCount() {\n        return this.reviewCount;\n    }\n    hasChar(position) {\n        return [...(this.characters ?? [])].length > position;\n    }\n    getChar(position) {\n        if (!this.hasChar(position)) {\n            return;\n        }\n        return [...(this.characters ?? [])][position];\n    }\n}\nRatingComponent.styles = [\n    ratingBaseStyles,\n    ratingEditModeStyles,\n    ratingReadonlyStyles,\n];\n__decorate([\n    property({ type: Number }),\n    __metadata(\"design:type\", Number)\n], RatingComponent.prototype, \"value\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true }),\n    __metadata(\"design:type\", Boolean)\n], RatingComponent.prototype, \"readonly\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", Object)\n], RatingComponent.prototype, \"reviewCount\", void 0);\n__decorate([\n    property({ type: Number }),\n    __metadata(\"design:type\", Object)\n], RatingComponent.prototype, \"scale\", void 0);\n__decorate([\n    property(),\n    __metadata(\"design:type\", String)\n], RatingComponent.prototype, \"characters\", void 0);\n__decorate([\n    property({ reflect: true }),\n    __metadata(\"design:type\", String)\n], RatingComponent.prototype, \"size\", void 0);\n//# sourceMappingURL=rating.component.js.map"],"names":["ratingBaseStyles","css","ratingEditModeStyles","ratingReadonlyStyles","MAX_SCALE","RatingComponent","LitElement","html","_","i","when","_a","value","position","__decorate","property","__metadata"],"mappings":"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"}