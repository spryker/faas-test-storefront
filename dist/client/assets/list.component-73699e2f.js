import{C as o}from"./content.controller-33ee67c3.js";import{r as e,l as i,m as c,y as s,f as p,au as a,av as u}from"./index-4d2c92b7.js";import"./experience-composition-preview.component-f7d2d25e.js";import"./experience-composition.component-ff3b35e3.js";import{l as m}from"./layout.styles-1c4c0b88.js";import{P as n}from"./product.mixin-69145c94.js";import{baseStyles as d}from"./list.styles-b6bada06.js";import"./subscribe.decorator-50a973f5.js";import"./observe.decorator-af7161d0.js";import"./component.mixin-6d7092a2.js";import"./state-464c8ba0.js";import"./screen-c0aae3c9.js";class x extends n(){constructor(){super(...arguments),this.productListService=e(a),this.productListPageService=e(u),this.options$=new o(this).getOptions(),this.products$=this.options$.pipe(i(t=>{const r=this.productListService.getSearchParams(t);return this.hasOptions(r)?this.productListService.get(r):this.productListPageService.get()}),c(t=>t?.products??[]))}static{this.styles=[m,d]}renderProducts(t){return s`${t.map(r=>s`<product-card .sku=${r.sku}></product-card>`)}`}hasOptions(t){return Object.keys(t).some(r=>!!t[r])}render(){return s`
      ${p(this.products$,t=>this.renderProducts(t))}
    `}}export{x as ProductListComponent};
