{"version":3,"file":"description.component.0e76b83e.js","sources":["../../../node_modules/@spryker-oryx/product/description/src/utils/html.converter.js","../../../node_modules/@spryker-oryx/product/description/src/description.component.js"],"sourcesContent":["/**\n * converts single line feeds to `<br />` and splits text with double\n * line breaks into paragraphs (`<p>...</p>`).\n */\nexport function convertLineFeedsToHTML(text) {\n    return text\n        .split(/(\\r?\\n\\s*){2}/)\n        .map((s) => s.trim())\n        .filter((s) => s.length)\n        .map((s) => `<p>${s}</p>`)\n        .join('')\n        .split(/(\\r?\\n\\s*){1}/)\n        .map((s) => (s.startsWith('\\n') ? '<br />' : s.trim()))\n        .join('');\n}\n//# sourceMappingURL=html.converter.js.map","import { __decorate } from \"tslib\";\nimport { ContentController } from '@spryker-oryx/experience';\nimport { ProductComponentMixin, ProductController, } from '@spryker-oryx/product';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue } from '@spryker-oryx/utilities/lit-rxjs';\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\nimport { html } from 'lit/static-html.js';\nimport { convertLineFeedsToHTML } from './utils';\nlet ProductDescriptionComponent = class ProductDescriptionComponent extends ProductComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.options$ = new ContentController(this).getOptions();\n        this.product$ = new ProductController(this).getProduct();\n    }\n    render() {\n        return html `\n      ${asyncValue(this.options$, (options) => html `<oryx-text\n          .style=${`--line-clamp: ${options.truncateAfter ?? 0}`}\n          .hideToggle=${!!options.hideToggle}\n          .defaultExpanded=${!!options.defaultExpanded}\n        >\n          ${asyncValue(this.product$, (product) => html `${unsafeHTML(this.convert(product?.description))}`)}\n        </oryx-text>`)}\n    `;\n    }\n    convert(text) {\n        return convertLineFeedsToHTML(text ?? '');\n    }\n};\nProductDescriptionComponent = __decorate([\n    hydratable(['mouseover', 'window:resize'])\n], ProductDescriptionComponent);\nexport { ProductDescriptionComponent };\n//# sourceMappingURL=description.component.js.map"],"names":["convertLineFeedsToHTML","text","s","ProductDescriptionComponent","ProductComponentMixin","ContentController","ProductController","html","asyncValue","options","_a","product","unsafeHTML","__decorate","hydratable"],"mappings":"8SAIO,SAASA,EAAuBC,EAAM,CACzC,OAAOA,EACF,MAAM,eAAe,EACrB,IAAKC,GAAMA,EAAE,KAAI,CAAE,EACnB,OAAQA,GAAMA,EAAE,MAAM,EACtB,IAAKA,GAAM,MAAMA,OAAO,EACxB,KAAK,EAAE,EACP,MAAM,eAAe,EACrB,IAAKA,GAAOA,EAAE,WAAW;AAAA,CAAI,EAAI,SAAWA,EAAE,KAAI,CAAG,EACrD,KAAK,EAAE,CAChB,CCNG,IAACC,EAA8B,cAA0CC,GAAwB,CAChG,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,SAAW,IAAIC,EAAkB,IAAI,EAAE,WAAU,EACtD,KAAK,SAAW,IAAIC,EAAkB,IAAI,EAAE,WAAU,CACzD,CACD,QAAS,CACL,OAAOC;AAAAA,QACPC,EAAW,KAAK,SAAWC,GAAO,OAAKF,OAAAA;AAAAA,mBAC5B,kBAAiBG,EAAAD,EAAQ,gBAAR,KAAAC,EAAyB;AAAA,wBACrC,CAAC,CAACD,EAAQ;AAAA,6BACL,CAAC,CAACA,EAAQ;AAAA;AAAA,YAE3BD,EAAW,KAAK,SAAWG,GAAYJ,IAAQK,EAAW,KAAK,QAAQD,GAAA,YAAAA,EAAS,WAAW,CAAC,GAAG;AAAA,sBACtF;AAAA,KAEhB,CACD,QAAQV,EAAM,CACV,OAAOD,EAAuBC,GAAA,KAAAA,EAAQ,EAAE,CAC3C,CACL,EACAE,EAA8BU,EAAW,CACrCC,EAAyC,CAC7C,EAAGX,CAA2B"}