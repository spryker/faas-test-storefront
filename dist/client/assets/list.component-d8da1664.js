import{C as a}from"./content.controller-bfcf20c7.js";import{r as o,l as c,m as p,y as s,f as u,au as m,av as d}from"./index-74abacf3.js";import"./experience-composition-preview.component-c4d01090.js";import"./experience-composition.component-6d8af21c.js";import{l as n}from"./layout.styles-3e06a114.js";import{P as h}from"./product.mixin-c69d7d06.js";import{baseStyles as S}from"./list.styles-95f70878.js";import"./subscribe.decorator-f722d0fb.js";import"./observe.decorator-62a61e42.js";import"./component.mixin-ae2cf780.js";import"./state-804e6978.js";import"./screen-c0aae3c9.js";const e=class extends h(){constructor(){super(...arguments),this.productListService=o(m),this.productListPageService=o(d),this.options$=new a(this).getOptions(),this.products$=this.options$.pipe(c(t=>{const r=this.productListService.getSearchParams(t);return this.hasOptions(r)?this.productListService.get(r):this.productListPageService.get()}),p(t=>(t==null?void 0:t.products)??[]))}renderProducts(t){return s`${t.map(r=>s`<product-card .sku=${r.sku}></product-card>`)}`}hasOptions(t){return Object.keys(t).some(r=>!!t[r])}render(){return s`
      ${u(this.products$,t=>this.renderProducts(t))}
    `}};let i=e;(()=>{e.styles=[n,S]})();export{i as ProductListComponent};
