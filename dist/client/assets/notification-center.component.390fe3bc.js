import{T as s,r as f,A as p,t as m,y as a,f as l,_ as c,g as h,h as u,Q as C}from"./index.4dee5cd5.js";import{C as d}from"./content.controller.2f1fd9c8.js";import{s as y}from"./subscribe.decorator.9a239dd0.js";import{C as $}from"./component.mixin.d2c5a023.js";import{NotificationCenterComponent as v}from"./notification-center.component.3f3eb053.js";import{e as N,n as S}from"./ref.afd3aedc.js";import"./state.2e407978.js";const b=i=>i?`[position=${i}]`:"";class w{getCenter(e="body",t){let o=document.querySelector(`${e} ${s}${b(t)}`);return o instanceof v||(o=this.createCenter(e,t)),o}createCenter(e="body",t){const o=document.querySelector(e);if(!o)throw new Error("Parent element not found for the creation of a new NotificationCenter");const n=document.createElement(s);return t&&n.setAttribute("position",t),o.append(n),n}}let r=class extends $(){constructor(){super(...arguments),this.notificationService=new w,this.siteNotificationService=f(C),this.contentController=new d(this),this.options$=this.contentController.getOptions(),this.centerRef=N(),this.notification$=this.siteNotificationService.get().pipe(p(e=>!!e),m(async e=>{var t,o;this.centerRef.value&&"open"in this.centerRef.value||await customElements.whenDefined("oryx-notification-center"),(o=(t=this.centerRef.value)==null?void 0:t.open)==null||o.call(t,e)}))}render(){return a`${l(this.options$,e=>{var t;return a`<oryx-notification-center
        position="${(t=e.position)!=null?t:"top-end"}"
        ${S(this.centerRef)}
      ></oryx-notification-center>`})}`}};c([y(),h("design:type",Object)],r.prototype,"notification$",void 0);r=c([u()],r);export{r as SiteNotificationCenterComponent};
