{"version":3,"file":"logout.component.06a0d593.js","sources":["../../../node_modules/@spryker-oryx/auth/logout/src/logout.component.js"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport { AuthService } from '@spryker-oryx/auth';\nimport { ComponentMixin, ContentController, RouterService, } from '@spryker-oryx/experience';\nimport { resolve } from '@spryker-oryx/injector';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue, subscribe } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html } from 'lit';\nimport { finalize, ReplaySubject, switchMap, withLatestFrom } from 'rxjs';\nlet AuthLogoutComponent = class AuthLogoutComponent extends ComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.routerService = resolve(RouterService);\n        this.authService = resolve(AuthService);\n        this.options$ = new ContentController(this).getOptions();\n        this.logoutTrigger$ = new ReplaySubject(1);\n        this.logout$ = this.logoutTrigger$.pipe(withLatestFrom(this.options$), switchMap(([_, options]) => {\n            return this.authService.logout().pipe(finalize(() => {\n                this.routerService.navigate(options.customRedirect ? `/${options.customRedirect}` : '');\n            }));\n        }));\n    }\n    render() {\n        return html `\n      ${asyncValue(this.authService.isAuthenticated(), (isAuthenticated) => isAuthenticated\n            ? html `\n              <oryx-button\n                size=\"small\"\n                @click=${() => this.logoutTrigger$.next()}\n              >\n                <button type=\"submit\">Logout</button>\n              </oryx-button>\n            `\n            : html ``)}\n    `;\n    }\n};\n__decorate([\n    subscribe(),\n    __metadata(\"design:type\", Object)\n], AuthLogoutComponent.prototype, \"logout$\", void 0);\nAuthLogoutComponent = __decorate([\n    hydratable('window:load')\n], AuthLogoutComponent);\nexport { AuthLogoutComponent };\n//# sourceMappingURL=logout.component.js.map"],"names":["AuthLogoutComponent","ComponentMixin","resolve","RouterService","AuthService","ContentController","ReplaySubject","withLatestFrom","switchMap","_","options","finalize","html","asyncValue","isAuthenticated","__decorate","subscribe","__metadata","hydratable"],"mappings":"kRAQG,IAACA,EAAsB,cAAkCC,GAAiB,CACzE,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,cAAgBC,EAAQC,CAAa,EAC1C,KAAK,YAAcD,EAAQE,CAAW,EACtC,KAAK,SAAW,IAAIC,EAAkB,IAAI,EAAE,WAAU,EACtD,KAAK,eAAiB,IAAIC,EAAc,CAAC,EACzC,KAAK,QAAU,KAAK,eAAe,KAAKC,EAAe,KAAK,QAAQ,EAAGC,EAAU,CAAC,CAACC,EAAGC,CAAO,IAClF,KAAK,YAAY,OAAQ,EAAC,KAAKC,EAAS,IAAM,CACjD,KAAK,cAAc,SAASD,EAAQ,eAAiB,IAAIA,EAAQ,iBAAmB,EAAE,CACzF,CAAA,CAAC,CACL,CAAC,CACL,CACD,QAAS,CACL,OAAOE;AAAAA,QACPC,EAAW,KAAK,YAAY,gBAAiB,EAAGC,GAAoBA,EAC9DF;AAAAA;AAAAA;AAAAA,yBAGW,IAAM,KAAK,eAAe;;;;cAKrCA,GAAO;AAAA,KAEhB,CACL,EACAG,EAAW,CACPC,EAAW,EACXC,EAAW,cAAe,MAAM,CACpC,EAAGjB,EAAoB,UAAW,UAAW,MAAM,EACnDA,EAAsBe,EAAW,CAC7BG,EAAwB,CAC5B,EAAGlB,CAAmB"}