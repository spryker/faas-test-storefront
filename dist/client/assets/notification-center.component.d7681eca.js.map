{"version":3,"file":"notification-center.component.d7681eca.js","sources":["../../../node_modules/@spryker-oryx/ui/overlays/notification-center/src/service/notification.service.js","../../../node_modules/@spryker-oryx/site/notification-center/src/notification-center.component.js"],"sourcesContent":["import { NotificationCenterComponent } from '../notification-center.component';\nimport { TAG_NAME } from '../tag';\nconst ensurePosition = (position) => position ? `[position=${position}]` : '';\nexport class NotificationService {\n    getCenter(parentSelector = 'body', position) {\n        let center = document.querySelector(`${parentSelector} ${TAG_NAME}${ensurePosition(position)}`);\n        if (!(center instanceof NotificationCenterComponent)) {\n            center = this.createCenter(parentSelector, position);\n        }\n        return center;\n    }\n    createCenter(parentSelector = 'body', position) {\n        const parent = document.querySelector(parentSelector);\n        if (!parent) {\n            throw new Error('Parent element not found for the creation of a new NotificationCenter');\n        }\n        const notificationCenter = document.createElement(TAG_NAME);\n        if (position) {\n            notificationCenter.setAttribute('position', position);\n        }\n        parent.append(notificationCenter);\n        return notificationCenter;\n    }\n}\n//# sourceMappingURL=notification.service.js.map","import { __decorate, __metadata } from \"tslib\";\nimport { ComponentMixin, ContentController } from '@spryker-oryx/experience';\nimport { resolve } from '@spryker-oryx/injector';\nimport { NotificationService as SiteNotificationService } from '@spryker-oryx/site';\nimport { NotificationService, } from '@spryker-oryx/ui/notification-center';\nimport { hydratable } from '@spryker-oryx/utilities';\nimport { asyncValue, subscribe } from '@spryker-oryx/utilities/lit-rxjs';\nimport { html } from 'lit';\nimport { createRef, ref } from 'lit/directives/ref.js';\nimport { filter, tap } from 'rxjs';\nlet SiteNotificationCenterComponent = class SiteNotificationCenterComponent extends ComponentMixin() {\n    constructor() {\n        super(...arguments);\n        this.notificationService = new NotificationService();\n        this.siteNotificationService = resolve(SiteNotificationService);\n        this.contentController = new ContentController(this);\n        this.options$ = this.contentController.getOptions();\n        this.centerRef = createRef();\n        this.notification$ = this.siteNotificationService.get().pipe(filter((notification) => !!notification), tap(async (notification) => {\n            if (!(this.centerRef.value && 'open' in this.centerRef.value)) {\n                await customElements.whenDefined('oryx-notification-center');\n            }\n            this.centerRef.value?.open?.(notification);\n        }));\n    }\n    render() {\n        return html `${asyncValue(this.options$, (options) => html `<oryx-notification-center\n        position=\"${options.position ?? 'top-end'}\"\n        ${ref(this.centerRef)}\n      ></oryx-notification-center>`)}`;\n    }\n};\n__decorate([\n    subscribe(),\n    __metadata(\"design:type\", Object)\n], SiteNotificationCenterComponent.prototype, \"notification$\", void 0);\nSiteNotificationCenterComponent = __decorate([\n    hydratable('window:oryx-notify')\n], SiteNotificationCenterComponent);\nexport { SiteNotificationCenterComponent };\n//# sourceMappingURL=notification-center.component.js.map"],"names":["ensurePosition","position","NotificationService","parentSelector","center","TAG_NAME","NotificationCenterComponent","parent","notificationCenter","SiteNotificationCenterComponent","ComponentMixin","resolve","SiteNotificationService","ContentController","createRef","filter","notification","tap","_b","_a","html","asyncValue","options","ref","__decorate","subscribe","__metadata","hydratable"],"mappings":"uaAEA,MAAMA,EAAkBC,GAAaA,EAAW,aAAaA,KAAc,GACpE,MAAMC,CAAoB,CAC7B,UAAUC,EAAiB,OAAQF,EAAU,CACzC,IAAIG,EAAS,SAAS,cAAc,GAAGD,KAAkBE,IAAWL,EAAeC,CAAQ,GAAG,EAC9F,OAAMG,aAAkBE,IACpBF,EAAS,KAAK,aAAaD,EAAgBF,CAAQ,GAEhDG,CACV,CACD,aAAaD,EAAiB,OAAQF,EAAU,CAC5C,MAAMM,EAAS,SAAS,cAAcJ,CAAc,EACpD,GAAI,CAACI,EACD,MAAM,IAAI,MAAM,uEAAuE,EAE3F,MAAMC,EAAqB,SAAS,cAAcH,CAAQ,EAC1D,OAAIJ,GACAO,EAAmB,aAAa,WAAYP,CAAQ,EAExDM,EAAO,OAAOC,CAAkB,EACzBA,CACV,CACL,CCbG,IAACC,EAAkC,cAA8CC,GAAiB,CACjG,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,oBAAsB,IAAIR,EAC/B,KAAK,wBAA0BS,EAAQC,CAAuB,EAC9D,KAAK,kBAAoB,IAAIC,EAAkB,IAAI,EACnD,KAAK,SAAW,KAAK,kBAAkB,WAAU,EACjD,KAAK,UAAYC,IACjB,KAAK,cAAgB,KAAK,wBAAwB,IAAK,EAAC,KAAKC,EAAQC,GAAiB,CAAC,CAACA,CAAY,EAAGC,EAAI,MAAOD,GAAiB,SACzH,KAAK,UAAU,OAAS,SAAU,KAAK,UAAU,OACnD,MAAM,eAAe,YAAY,0BAA0B,GAE/DE,GAAAC,EAAA,KAAK,UAAU,QAAf,YAAAA,EAAsB,OAAtB,MAAAD,EAAA,KAAAC,EAA6BH,EAChC,CAAA,CAAC,CACL,CACD,QAAS,CACL,OAAOI,IAAQC,EAAW,KAAK,SAAWC,GAAYF,OAAAA,OAAAA;AAAAA,qBAC1CD,EAAAG,EAAQ,WAAR,KAAAH,EAAoB;AAAA,UAC9BI,EAAI,KAAK,SAAS;AAAA,oCACO,GAC9B,CACL,EACAC,EAAW,CACPC,EAAW,EACXC,EAAW,cAAe,MAAM,CACpC,EAAGjB,EAAgC,UAAW,gBAAiB,MAAM,EACrEA,EAAkCe,EAAW,CACzCG,EAA+B,CACnC,EAAGlB,CAA+B"}