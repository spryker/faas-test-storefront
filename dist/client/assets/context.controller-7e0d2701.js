import{r as n,C as r,B as h,j as a,k as o,l as d,b as c,m as p,n as x,E as l,o as C}from"./index-74abacf3.js";class m{constructor(t){this.host=t,this.context=n(r,null),this.triggerContext$=new h(null),(this.host=t).addController(this)}get(t,e=l){return a([e.pipe(o(void 0)),this.triggerContext$.pipe(o(void 0),d(()=>{var s;return((s=this.context)==null?void 0:s.get(this.host,t))??C(void 0)}))]).pipe(c(1),p(([s,i])=>s??i),x())}provide(t,e){var s,i;if(e===void 0){(s=this.context)==null||s.remove(this.host,t);return}(i=this.context)==null||i.provide(this.host,t,e)}remove(t){var e;(e=this.context)==null||e.remove(this.host,t)}hostConnected(){this.triggerContext$.next()}}export{m as C};
