var storefront = (function (exports) {
    'use strict';

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t$5=globalThis,e$a=t$5.ShadowRoot&&(void 0===t$5.ShadyCSS||t$5.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$8=Symbol(),n$b=new WeakMap;class o$c{constructor(t,e,n){if(this._$cssResult$=!0,n!==s$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e;}get styleSheet(){let t=this.o;const s=this.t;if(e$a&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=n$b.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&n$b.set(s,t));}return t}toString(){return this.cssText}}const r$5=t=>new o$c("string"==typeof t?t:t+"",void 0,s$8),i$7=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1]),t[0]);return new o$c(n,t,s$8)},S$1=(s,n)=>{e$a?s.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((e=>{const n=document.createElement("style"),o=t$5.litNonce;void 0!==o&&n.setAttribute("nonce",o),n.textContent=e.cssText,s.appendChild(n);}));},c$6=e$a||void 0===t$5.CSSStyleSheet?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return r$5(e)})(t):t;

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var s$7,e$9;const r$4=globalThis;null!==(s$7=r$4.customElements)&&void 0!==s$7||(r$4.customElements={define(){}});const h$5=r$4.trustedTypes,o$b=h$5?h$5.emptyScript:"",n$a=r$4.reactiveElementPolyfillSupport,l$7={toAttribute(t,i){switch(i){case Boolean:t=t?o$b:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t);}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t);}catch(t){s=null;}}return s}},a$3=(t,i)=>i!==t&&(i==i||t==t),d$2={attribute:!0,type:String,converter:l$7,reflect:!1,hasChanged:a$3},u$4=void 0===r$4.HTMLElement;u$4&&(r$4.HTMLElement=class{});class c$5 extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u();}static addInitializer(t){var i;this.finalize(),(null!==(i=this.h)&&void 0!==i?i:this.h=[]).push(t);}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Ep(s,i);void 0!==e&&(this._$Ev.set(e,s),t.push(e));})),t}static createProperty(t,i=d$2){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e);}}static getPropertyDescriptor(t,i,s){return {get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s);},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||d$2}static finalize(){if(this.hasOwnProperty("finalized"))return !1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s]);}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(c$6(i));}else void 0!==i&&s.push(c$6(i));return s}static _$Ep(t,i){const s=i.attribute;return !1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)));}addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t));}removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1);}_$Eg(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i]);}));}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return S$1(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}));}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}));}attributeChangedCallback(t,i,s){this._$AK(t,s);}_$EO(t,i,s=d$2){var e;const r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){const h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:l$7).toAttribute(i,s.type);this._$El=t,null==h?this.removeAttribute(r):this.setAttribute(r,h),this._$El=null;}}_$AK(t,i){var s;const e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=e.getPropertyOptions(r),h="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(s=t.converter)||void 0===s?void 0:s.fromAttribute)?t.converter:l$7;this._$El=r,this[r]=h.fromAttribute(i,t.type),this._$El=null;}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a$3)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej());}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_;}catch(t){Promise.reject(t);}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,i)=>this[i]=t)),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek();}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s);}willUpdate(t){}_$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t);}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1;}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return !0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$EO(i,this[i],t))),this._$EC=void 0),this._$Ek();}updated(t){}firstUpdated(t){}}c$5.finalized=!0,c$5.elementProperties=new Map,c$5.elementStyles=[],c$5.shadowRootOptions={mode:"open"},u$4&&delete r$4.HTMLElement,null==n$a||n$a({ReactiveElement:c$5}),(null!==(e$9=r$4.reactiveElementVersions)&&void 0!==e$9?e$9:r$4.reactiveElementVersions=[]).push("1.4.2");

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    var t$4;const i$6=globalThis,s$6=i$6.trustedTypes,e$8=s$6?s$6.createPolicy("lit-html",{createHTML:t=>t}):void 0,o$a=`lit$${(Math.random()+"").slice(9)}$`,n$9="?"+o$a,l$6=`<${n$9}>`,h$4=void 0===i$6.document?{createTreeWalker:()=>({})}:document,r$3=(t="")=>h$4.createComment(t),d$1=t=>null===t||"object"!=typeof t&&"function"!=typeof t,u$3=Array.isArray,c$4=t=>u$3(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),v$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a$2=/-->/g,f$2=/>/g,_=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),m$2=/'/g,p$2=/"/g,g$1=/^(?:script|style|textarea|title)$/i,$$8=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),y=$$8(1),x=$$8(2),T=Symbol.for("lit-noChange"),b=Symbol.for("lit-nothing"),w=new WeakMap,A=h$4.createTreeWalker(h$4,129,null,!1),E=(t,i)=>{const s=t.length-1,n=[];let h,r=2===i?"<svg>":"",d=v$1;for(let i=0;i<s;i++){const s=t[i];let e,u,c=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===v$1?"!--"===u[1]?d=a$2:void 0!==u[1]?d=f$2:void 0!==u[2]?(g$1.test(u[2])&&(h=RegExp("</"+u[2],"g")),d=_):void 0!==u[3]&&(d=_):d===_?">"===u[0]?(d=null!=h?h:v$1,c=-1):void 0===u[1]?c=-2:(c=d.lastIndex-u[2].length,e=u[1],d=void 0===u[3]?_:'"'===u[3]?p$2:m$2):d===p$2||d===m$2?d=_:d===a$2||d===f$2?d=v$1:(d=_,h=void 0);const y=d===_&&t[i+1].startsWith("/>")?" ":"";r+=d===v$1?s+l$6:c>=0?(n.push(e),s.slice(0,c)+"$lit$"+s.slice(c)+o$a+y):s+o$a+(-2===c?(n.push(void 0),i):y);}const u=r+(t[s]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return [void 0!==e$8?e$8.createHTML(u):u,n]};class C{constructor({strings:t,_$litType$:i},e){let l;this.parts=[];let h=0,d=0;const u=t.length-1,c=this.parts,[v,a]=E(t,i);if(this.el=C.createElement(v,e),A.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes);}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith("$lit$")||i.startsWith(o$a)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+"$lit$").split(o$a),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:h,name:i[2],strings:t,ctor:"."===i[1]?M:"?"===i[1]?R:"@"===i[1]?H:S});}else c.push({type:6,index:h});}for(const i of t)l.removeAttribute(i);}if(g$1.test(l.tagName)){const t=l.textContent.split(o$a),i=t.length-1;if(i>0){l.textContent=s$6?s$6.emptyScript:"";for(let s=0;s<i;s++)l.append(t[s],r$3()),A.nextNode(),c.push({type:2,index:++h});l.append(t[i],r$3());}}}else if(8===l.nodeType)if(l.data===n$9)c.push({type:2,index:h});else {let t=-1;for(;-1!==(t=l.data.indexOf(o$a,t+1));)c.push({type:7,index:h}),t+=o$a.length-1;}h++;}}static createElement(t,i){const s=h$4.createElement("template");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d$1(i)?void 0:i._$litDirective$;return (null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=P(t,r._$AS(t,i.values),r,e)),i}class V{constructor(t,i){this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=i;}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:h$4).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),l=0,r=0,d=e[0];for(;void 0!==d;){if(l===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new I(n,this,t)),this.u.push(i),d=e[++r];}l!==(null==d?void 0:d.index)&&(n=A.nextNode(),l++);}return o}p(t){let i=0;for(const s of this.u)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++;}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=b,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cm=null===(o=null==e?void 0:e.isConnected)||void 0===o||o;}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cm}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),d$1(t)?t===b||null==t||""===t?(this._$AH!==b&&this._$AR(),this._$AH=b):t!==this._$AH&&t!==T&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):c$4(t)?this.k(t):this.g(t);}O(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t));}g(t){this._$AH!==b&&d$1(this._$AH)?this._$AA.nextSibling.data=t:this.T(h$4.createTextNode(t)),this._$AH=t;}$(t){var i;const{values:s,_$litType$:e}=t,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.p(s);else {const t=new V(o,this),i=t.v(this.options);t.p(s),this.T(i),this._$AH=t;}}_$AC(t){let i=w.get(t.strings);return void 0===i&&w.set(t.strings,i=new C(t)),i}k(t){u$3(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.O(r$3()),this.O(r$3()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e);}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i;}}setConnected(t){var i;void 0===this._$AM&&(this._$Cm=t,null===(i=this._$AP)||void 0===i||i.call(this,t));}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=b,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=b;}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!d$1(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else {const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d$1(h)||h!==this._$AH[l]),h===b?t=b:t!==b&&(t+=(null!=h?h:"")+o[l+1]),this._$AH[l]=h;}n&&!e&&this.j(t);}j(t){t===b?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"");}}class M extends S{constructor(){super(...arguments),this.type=3;}j(t){this.element[this.name]=t===b?void 0:t;}}const k=s$6?s$6.emptyScript:"";class R extends S{constructor(){super(...arguments),this.type=4;}j(t){t&&t!==b?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name);}}class H extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5;}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:b)===T)return;const e=this._$AH,o=t===b&&e!==b||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==b&&(e===b||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t;}handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t);}}class I{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s;}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t);}}const L={P:"$lit$",A:o$a,M:n$9,C:1,L:E,R:V,D:c$4,V:P,I:N,H:S,N:R,U:H,B:M,F:I},z=i$6.litHtmlPolyfillSupport;null==z||z(C,N),(null!==(t$4=i$6.litHtmlVersions)&&void 0!==t$4?t$4:i$6.litHtmlVersions=[]).push("2.4.0");const W=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(r$3(),t),t,void 0,null!=s?s:{});}return l._$AI(t),l};

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var l$5,o$9;class s$5 extends c$5{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0;}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=W(i,this.renderRoot,this.renderOptions);}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0);}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1);}render(){return T}}s$5.finalized=!0,s$5._$litElement$=!0,null===(l$5=globalThis.litElementHydrateSupport)||void 0===l$5||l$5.call(globalThis,{LitElement:s$5});const n$8=globalThis.litElementPolyfillSupport;null==n$8||n$8({LitElement:s$5});const h$3={_$AK:(t,e,i)=>{t._$AK(e,i);},_$AL:t=>t._$AL};(null!==(o$9=globalThis.litElementVersions)&&void 0!==o$9?o$9:globalThis.litElementVersions=[]).push("3.2.2");

    /**
     * @license
     * Copyright 2022 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const o$8=!0;

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t$3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$7=t=>(...e)=>({_$litDirective$:t,values:e});class i$5{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i;}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class e$6 extends i$5{constructor(i){if(super(i),this.it=b,i.type!==t$3.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(r){if(r===b||null==r)return this._t=void 0,this.it=r;if(r===T)return r;if("string"!=typeof r)throw Error(this.constructor.directiveName+"() called with a non-string value");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e$6.directiveName="unsafeHTML",e$6.resultType=1;const o$7=e$7(e$6);

    /**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const e$5=Symbol.for(""),l$4=t=>{if((null==t?void 0:t.r)===e$5)return null==t?void 0:t._$litStatic$},o$6=t=>({_$litStatic$:t,r:e$5}),s$4=new Map,a$1=t=>(r,...e)=>{const o=e.length;let i,a;const n=[],u=[];let c,$=0,f=!1;for(;$<o;){for(c=r[$];$<o&&void 0!==(a=e[$],i=l$4(a));)c+=i+r[++$],f=!0;u.push(a),n.push(c),$++;}if($===o&&n.push(r[o]),f){const t=n.join("$$lit$$");void 0===(r=s$4.get(t))&&(n.raw=n,s$4.set(t,r=n)),e=u;}return t(r,...e)},n$7=a$1(y);

    const dryLogic = () => {
        let lastNode = document.body;
        const scriptFns = {};
        function findNext(selector, node) {
            function getNextElement(node) {
                function nextSibling(node) {
                    while (node && !node.nextElementSibling) {
                        if (node.parentElement) {
                            node = node.parentElement;
                        }
                        else {
                            node = node.getRootNode().host;
                            if (node.firstElementChild) {
                                return node.firstElementChild;
                            }
                        }
                    }
                    return node?.nextElementSibling;
                }
                return (node.shadowRoot?.firstElementChild ??
                    node.firstElementChild ??
                    nextSibling(node));
            }
            while (node) {
                node = getNextElement(node);
                if (node?.matches(selector)) {
                    return node;
                }
            }
        }
        return (tag, fn) => {
            if (fn) {
                scriptFns[tag] = fn;
            }
            lastNode = findNext(tag, lastNode);
            scriptFns[tag](lastNode);
        };
    };

    const components$a = {};
    /**
     * Directive is used to inline javascript snippet with Server Side Rendered component.
     * Because of obvious overhead, it's intended to efficiently fix component rendering in order
     * to provide correct UI for not hydrated component but also to minimize UI changes and LCP metric.
     *
     * - dryFunction: code intended to fix SSR markup. At runtime, it will receive element instance and will
     *   be invoked for every element
     * - tag: element's tag name (currently required, to make the logic work)
     */
    class PrehydrateDirective extends i$5 {
        render(dryFunction, tag) {
            if (components$a[tag]) {
                return n$7 `${o$7(`<script>__dryFn('${tag}');</script>`)}`;
            }
            const first = Object.keys(components$a).length == 0;
            components$a[tag] = true;
            return n$7 `${o$7(`<script>${first ? `const __dryFn=(${dryLogic.toString()})();` : ''}__dryFn('${tag}', ${dryFunction.toString()});</script>`)}`;
        }
    }
    const prehydrate = e$7(PrehydrateDirective);

    let _currentInjector;
    /**
     * For internal or tooling usage only.
     *
     * Sets current injector context for the inject() function.
     *
     * @param injector
     */
    function setCurrentInjector(injector) {
        const previous = _currentInjector;
        _currentInjector = injector;
        return () => {
            _currentInjector = previous;
        };
    }
    function inject(token, defaultValue) {
        if (_currentInjector === undefined) {
            throw new Error(`inject() can't be used outside injection context!'`);
        }
        try {
            return _currentInjector.inject(token);
        }
        catch (error) {
            if (defaultValue !== undefined) {
                return defaultValue;
            }
            throw error;
        }
    }

    const INJECTOR = 'FES.Injector';
    function isValueProvider(provider) {
        return provider?.useValue !== undefined;
    }
    function isClassProvider(provider) {
        return provider?.useClass !== undefined;
    }
    function isFactoryProvider(provider) {
        return provider?.useFactory !== undefined;
    }
    /**
     * Injector container
     */
    class Injector {
        constructor(providers = [], parent) {
            this.parent = parent;
            this.providers = new Map();
            this._locked = false;
            this.multiCounter = 0;
            for (const provider of providers) {
                this.provide(provider);
            }
        }
        /**
         * Register injection tokens with providers.
         *
         * Each subsequent provider replaces previous one.
         *
         * Providing is only possible before first injector usage (first injection).
         *
         * @param provider
         */
        provide(provider) {
            if (this._locked) {
                throw new Error(`Providing is only possible before the first injection!`);
            }
            const token = this.isMultiProvider(provider.provide)
                ? `${provider.provide}ϴ${this.multiCounter++}`
                : provider.provide;
            this.providers.set(token, { provider });
        }
        inject(token, defaultInstance) {
            if (token === INJECTOR) {
                return this;
            }
            this._locked = true;
            if (!this.providers.has(token) && this.isMultiProvider(token)) {
                this.setupMultiProvider(token);
            }
            if (!this.providers.get(token)) {
                // no local provider
                if (this.parent) {
                    return this.parent.inject(token, defaultInstance);
                }
                // use default instance provided
                if (defaultInstance !== undefined) {
                    return defaultInstance;
                }
                throw new Error(`No provider for token ${token}!!!`);
            }
            return this.getInstance(token);
        }
        destroy() {
            this.providers.forEach((provider) => {
                provider?.instance?.onDestroy?.();
            });
        }
        getInstance(token) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const providerInstance = this.providers.get(token);
            if (isValueProvider(providerInstance.provider)) {
                return providerInstance.provider.useValue;
            }
            if (providerInstance.instance === undefined) {
                const restoreInjector = setCurrentInjector(this);
                if (isClassProvider(providerInstance.provider)) {
                    // eslint-disable-next-line new-cap
                    providerInstance.instance = new providerInstance.provider.useClass();
                }
                else if (isFactoryProvider(providerInstance.provider)) {
                    providerInstance.instance = providerInstance.provider.useFactory();
                }
                else {
                    throw new Error(`Invalid provider for ${token}`);
                }
                restoreInjector();
            }
            return providerInstance.instance;
        }
        setupMultiProvider(token) {
            const instance = [...this.providers.keys()]
                .filter((key) => typeof key === 'string' && key.startsWith(token))
                .map((key) => this.getInstance(key));
            if (instance.length) {
                this.providers.set(token, { instance });
            }
            else {
                // no providers for multi token, thus no multi provider in this injector
                this.providers.set(token, undefined);
            }
        }
        isMultiProvider(token) {
            return typeof token === 'string' && token.endsWith('*');
        }
    }

    /* eslint-disable @typescript-eslint/ban-types */
    var InjectorContextKey;
    (function (InjectorContextKey) {
        InjectorContextKey[InjectorContextKey["App"] = 0] = "App";
    })(InjectorContextKey || (InjectorContextKey = {}));
    let _injectorsRegistry;
    const REGISTRY_KEY = '_oryxInjectorsRegistry';
    function getRegistry() {
        if (!_injectorsRegistry) {
            if (globalThis[REGISTRY_KEY]) {
                _injectorsRegistry = globalThis[REGISTRY_KEY];
            }
            else {
                _injectorsRegistry = new Map();
                globalThis[REGISTRY_KEY] = _injectorsRegistry;
            }
        }
        return _injectorsRegistry;
    }
    let _theAppContext;
    function defaultContext() {
        return _theAppContext ?? '';
    }
    /**
     * Function will return injector for the current context
     *
     * You may have different injectors working for different context.
     *
     * For most SSR rendering solutions, proper context (for rendering run) should be provided,
     * otherwise there is a risk that injector will be shared between renders.
     *
     * @param context
     */
    function getInjector(context = defaultContext()) {
        const registry = getRegistry();
        if (registry.has(context)) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return registry.get(context);
        }
        throw new Error('No injector found!');
    }
    /**
     * Create an injector for specified context.
     *
     * If context is not specified, injector is created globally.
     * if context is specified as InjectorContextKey.App, application injector is shared by all components build together, using singleton context
     *
     * Returns teardown logic
     *
     * @param options
     */
    function createInjector(options) {
        const isAppInjector = (context) => {
            if (context === 0 /* InjectorContextKey.App */) {
                if (!_theAppContext) {
                    _theAppContext = Symbol();
                }
                return true;
            }
            return false;
        };
        const { context, parent, providers } = {
            ...options,
            context: isAppInjector(options.context)
                ? _theAppContext
                : options.context ?? '',
        };
        const registry = getRegistry();
        if (registry.has(context)) {
            throw new Error(`Injector already created for context - ${options.context === 0 /* InjectorContextKey.App */ ? 'App' : String(context)}`);
        }
        registry.set(context, new Injector(providers, parent));
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        return registry.get(context);
    }
    /**
     * Invoke destroy method of an injector and remove it from the registry
     *
     * @param context - Injector context.
     */
    function destroyInjector(context = '') {
        context =
            context === 0 /* InjectorContextKey.App */
                ? _theAppContext
                : context;
        const registry = getRegistry();
        if (!registry.has(context)) {
            return;
        }
        registry.get(context)?.destroy();
        registry.delete(context);
        if (context === 0 /* InjectorContextKey.App */) {
            _theAppContext = undefined;
        }
    }

    function resolve(token, defaultValue, context) {
        try {
            return getInjector(context).inject(token, defaultValue);
        }
        catch (error) {
            if (defaultValue !== undefined) {
                return defaultValue;
            }
            throw error;
        }
    }

    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

    function getDefaultExportFromCjs (x) {
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }

    function getAugmentedNamespace(n) {
      var f = n.default;
    	if (typeof f == "function") {
    		var a = function () {
    			return f.apply(this, arguments);
    		};
    		a.prototype = f.prototype;
      } else a = {};
      Object.defineProperty(a, '__esModule', {value: true});
    	Object.keys(n).forEach(function (k) {
    		var d = Object.getOwnPropertyDescriptor(n, k);
    		Object.defineProperty(a, k, d.get ? d : {
    			enumerable: true,
    			get: function () {
    				return n[k];
    			}
    		});
    	});
    	return a;
    }

    var cjs = {};

    var Observable$2 = {};

    var Subscriber$1 = {};

    var isFunction$b = {};

    Object.defineProperty(isFunction$b, "__esModule", { value: true });
    isFunction$b.isFunction = void 0;
    function isFunction$a(value) {
        return typeof value === 'function';
    }
    isFunction$b.isFunction = isFunction$a;

    var Subscription$2 = {};

    var UnsubscriptionError$1 = {};

    var createErrorClass$2 = {};

    Object.defineProperty(createErrorClass$2, "__esModule", { value: true });
    createErrorClass$2.createErrorClass = void 0;
    function createErrorClass$1(createImpl) {
        var _super = function (instance) {
            Error.call(instance);
            instance.stack = new Error().stack;
        };
        var ctorFunc = createImpl(_super);
        ctorFunc.prototype = Object.create(Error.prototype);
        ctorFunc.prototype.constructor = ctorFunc;
        return ctorFunc;
    }
    createErrorClass$2.createErrorClass = createErrorClass$1;

    Object.defineProperty(UnsubscriptionError$1, "__esModule", { value: true });
    UnsubscriptionError$1.UnsubscriptionError = void 0;
    var createErrorClass_1$5 = createErrorClass$2;
    UnsubscriptionError$1.UnsubscriptionError = createErrorClass_1$5.createErrorClass(function (_super) {
        return function UnsubscriptionErrorImpl(errors) {
            _super(this);
            this.message = errors
                ? errors.length + " errors occurred during unsubscription:\n" + errors.map(function (err, i) { return i + 1 + ") " + err.toString(); }).join('\n  ')
                : '';
            this.name = 'UnsubscriptionError';
            this.errors = errors;
        };
    });

    var arrRemove$2 = {};

    Object.defineProperty(arrRemove$2, "__esModule", { value: true });
    arrRemove$2.arrRemove = void 0;
    function arrRemove$1(arr, item) {
        if (arr) {
            var index = arr.indexOf(item);
            0 <= index && arr.splice(index, 1);
        }
    }
    arrRemove$2.arrRemove = arrRemove$1;

    var __values$9 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    var __read$i = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$h = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(Subscription$2, "__esModule", { value: true });
    Subscription$2.isSubscription = Subscription$2.EMPTY_SUBSCRIPTION = Subscription$2.Subscription = void 0;
    var isFunction_1$q = isFunction$b;
    var UnsubscriptionError_1 = UnsubscriptionError$1;
    var arrRemove_1$7 = arrRemove$2;
    var Subscription$1 = (function () {
        function Subscription(initialTeardown) {
            this.initialTeardown = initialTeardown;
            this.closed = false;
            this._parentage = null;
            this._finalizers = null;
        }
        Subscription.prototype.unsubscribe = function () {
            var e_1, _a, e_2, _b;
            var errors;
            if (!this.closed) {
                this.closed = true;
                var _parentage = this._parentage;
                if (_parentage) {
                    this._parentage = null;
                    if (Array.isArray(_parentage)) {
                        try {
                            for (var _parentage_1 = __values$9(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {
                                var parent_1 = _parentage_1_1.value;
                                parent_1.remove(this);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                    }
                    else {
                        _parentage.remove(this);
                    }
                }
                var initialFinalizer = this.initialTeardown;
                if (isFunction_1$q.isFunction(initialFinalizer)) {
                    try {
                        initialFinalizer();
                    }
                    catch (e) {
                        errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? e.errors : [e];
                    }
                }
                var _finalizers = this._finalizers;
                if (_finalizers) {
                    this._finalizers = null;
                    try {
                        for (var _finalizers_1 = __values$9(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {
                            var finalizer = _finalizers_1_1.value;
                            try {
                                execFinalizer$1(finalizer);
                            }
                            catch (err) {
                                errors = errors !== null && errors !== void 0 ? errors : [];
                                if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {
                                    errors = __spreadArray$h(__spreadArray$h([], __read$i(errors)), __read$i(err.errors));
                                }
                                else {
                                    errors.push(err);
                                }
                            }
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                }
                if (errors) {
                    throw new UnsubscriptionError_1.UnsubscriptionError(errors);
                }
            }
        };
        Subscription.prototype.add = function (teardown) {
            var _a;
            if (teardown && teardown !== this) {
                if (this.closed) {
                    execFinalizer$1(teardown);
                }
                else {
                    if (teardown instanceof Subscription) {
                        if (teardown.closed || teardown._hasParent(this)) {
                            return;
                        }
                        teardown._addParent(this);
                    }
                    (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);
                }
            }
        };
        Subscription.prototype._hasParent = function (parent) {
            var _parentage = this._parentage;
            return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));
        };
        Subscription.prototype._addParent = function (parent) {
            var _parentage = this._parentage;
            this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;
        };
        Subscription.prototype._removeParent = function (parent) {
            var _parentage = this._parentage;
            if (_parentage === parent) {
                this._parentage = null;
            }
            else if (Array.isArray(_parentage)) {
                arrRemove_1$7.arrRemove(_parentage, parent);
            }
        };
        Subscription.prototype.remove = function (teardown) {
            var _finalizers = this._finalizers;
            _finalizers && arrRemove_1$7.arrRemove(_finalizers, teardown);
            if (teardown instanceof Subscription) {
                teardown._removeParent(this);
            }
        };
        Subscription.EMPTY = (function () {
            var empty = new Subscription();
            empty.closed = true;
            return empty;
        })();
        return Subscription;
    }());
    Subscription$2.Subscription = Subscription$1;
    Subscription$2.EMPTY_SUBSCRIPTION = Subscription$1.EMPTY;
    function isSubscription$1(value) {
        return (value instanceof Subscription$1 ||
            (value && 'closed' in value && isFunction_1$q.isFunction(value.remove) && isFunction_1$q.isFunction(value.add) && isFunction_1$q.isFunction(value.unsubscribe)));
    }
    Subscription$2.isSubscription = isSubscription$1;
    function execFinalizer$1(finalizer) {
        if (isFunction_1$q.isFunction(finalizer)) {
            finalizer();
        }
        else {
            finalizer.unsubscribe();
        }
    }

    var config$1 = {};

    Object.defineProperty(config$1, "__esModule", { value: true });
    config$1.config = void 0;
    config$1.config = {
        onUnhandledError: null,
        onStoppedNotification: null,
        Promise: undefined,
        useDeprecatedSynchronousErrorHandling: false,
        useDeprecatedNextContext: false,
    };

    var reportUnhandledError$2 = {};

    var timeoutProvider$1 = {};

    (function (exports) {
    	var __read = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
    	    var m = typeof Symbol === "function" && o[Symbol.iterator];
    	    if (!m) return o;
    	    var i = m.call(o), r, ar = [], e;
    	    try {
    	        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    	    }
    	    catch (error) { e = { error: error }; }
    	    finally {
    	        try {
    	            if (r && !r.done && (m = i["return"])) m.call(i);
    	        }
    	        finally { if (e) throw e.error; }
    	    }
    	    return ar;
    	};
    	var __spreadArray = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
    	    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
    	        to[j] = from[i];
    	    return to;
    	};
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.timeoutProvider = void 0;
    	exports.timeoutProvider = {
    	    setTimeout: function (handler, timeout) {
    	        var args = [];
    	        for (var _i = 2; _i < arguments.length; _i++) {
    	            args[_i - 2] = arguments[_i];
    	        }
    	        var delegate = exports.timeoutProvider.delegate;
    	        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {
    	            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));
    	        }
    	        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));
    	    },
    	    clearTimeout: function (handle) {
    	        var delegate = exports.timeoutProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);
    	    },
    	    delegate: undefined,
    	};
    	
    } (timeoutProvider$1));

    Object.defineProperty(reportUnhandledError$2, "__esModule", { value: true });
    reportUnhandledError$2.reportUnhandledError = void 0;
    var config_1$2 = config$1;
    var timeoutProvider_1 = timeoutProvider$1;
    function reportUnhandledError$1(err) {
        timeoutProvider_1.timeoutProvider.setTimeout(function () {
            var onUnhandledError = config_1$2.config.onUnhandledError;
            if (onUnhandledError) {
                onUnhandledError(err);
            }
            else {
                throw err;
            }
        });
    }
    reportUnhandledError$2.reportUnhandledError = reportUnhandledError$1;

    var noop$2 = {};

    Object.defineProperty(noop$2, "__esModule", { value: true });
    noop$2.noop = void 0;
    function noop$1() { }
    noop$2.noop = noop$1;

    var NotificationFactories = {};

    Object.defineProperty(NotificationFactories, "__esModule", { value: true });
    NotificationFactories.createNotification = NotificationFactories.nextNotification = NotificationFactories.errorNotification = NotificationFactories.COMPLETE_NOTIFICATION = void 0;
    NotificationFactories.COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();
    function errorNotification(error) {
        return createNotification('E', undefined, error);
    }
    NotificationFactories.errorNotification = errorNotification;
    function nextNotification(value) {
        return createNotification('N', value, undefined);
    }
    NotificationFactories.nextNotification = nextNotification;
    function createNotification(kind, value, error) {
        return {
            kind: kind,
            value: value,
            error: error,
        };
    }
    NotificationFactories.createNotification = createNotification;

    var errorContext$2 = {};

    Object.defineProperty(errorContext$2, "__esModule", { value: true });
    errorContext$2.captureError = errorContext$2.errorContext = void 0;
    var config_1$1 = config$1;
    var context = null;
    function errorContext$1(cb) {
        if (config_1$1.config.useDeprecatedSynchronousErrorHandling) {
            var isRoot = !context;
            if (isRoot) {
                context = { errorThrown: false, error: null };
            }
            cb();
            if (isRoot) {
                var _a = context, errorThrown = _a.errorThrown, error = _a.error;
                context = null;
                if (errorThrown) {
                    throw error;
                }
            }
        }
        else {
            cb();
        }
    }
    errorContext$2.errorContext = errorContext$1;
    function captureError(err) {
        if (config_1$1.config.useDeprecatedSynchronousErrorHandling && context) {
            context.errorThrown = true;
            context.error = err;
        }
    }
    errorContext$2.captureError = captureError;

    (function (exports) {
    	var __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
    	    var extendStatics = function (d, b) {
    	        extendStatics = Object.setPrototypeOf ||
    	            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
    	            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    	        return extendStatics(d, b);
    	    };
    	    return function (d, b) {
    	        if (typeof b !== "function" && b !== null)
    	            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    	        extendStatics(d, b);
    	        function __() { this.constructor = d; }
    	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    	    };
    	})();
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.EMPTY_OBSERVER = exports.SafeSubscriber = exports.Subscriber = void 0;
    	var isFunction_1 = isFunction$b;
    	var Subscription_1 = Subscription$2;
    	var config_1 = config$1;
    	var reportUnhandledError_1 = reportUnhandledError$2;
    	var noop_1 = noop$2;
    	var NotificationFactories_1 = NotificationFactories;
    	var timeoutProvider_1 = timeoutProvider$1;
    	var errorContext_1 = errorContext$2;
    	var Subscriber = (function (_super) {
    	    __extends(Subscriber, _super);
    	    function Subscriber(destination) {
    	        var _this = _super.call(this) || this;
    	        _this.isStopped = false;
    	        if (destination) {
    	            _this.destination = destination;
    	            if (Subscription_1.isSubscription(destination)) {
    	                destination.add(_this);
    	            }
    	        }
    	        else {
    	            _this.destination = exports.EMPTY_OBSERVER;
    	        }
    	        return _this;
    	    }
    	    Subscriber.create = function (next, error, complete) {
    	        return new SafeSubscriber(next, error, complete);
    	    };
    	    Subscriber.prototype.next = function (value) {
    	        if (this.isStopped) {
    	            handleStoppedNotification(NotificationFactories_1.nextNotification(value), this);
    	        }
    	        else {
    	            this._next(value);
    	        }
    	    };
    	    Subscriber.prototype.error = function (err) {
    	        if (this.isStopped) {
    	            handleStoppedNotification(NotificationFactories_1.errorNotification(err), this);
    	        }
    	        else {
    	            this.isStopped = true;
    	            this._error(err);
    	        }
    	    };
    	    Subscriber.prototype.complete = function () {
    	        if (this.isStopped) {
    	            handleStoppedNotification(NotificationFactories_1.COMPLETE_NOTIFICATION, this);
    	        }
    	        else {
    	            this.isStopped = true;
    	            this._complete();
    	        }
    	    };
    	    Subscriber.prototype.unsubscribe = function () {
    	        if (!this.closed) {
    	            this.isStopped = true;
    	            _super.prototype.unsubscribe.call(this);
    	            this.destination = null;
    	        }
    	    };
    	    Subscriber.prototype._next = function (value) {
    	        this.destination.next(value);
    	    };
    	    Subscriber.prototype._error = function (err) {
    	        try {
    	            this.destination.error(err);
    	        }
    	        finally {
    	            this.unsubscribe();
    	        }
    	    };
    	    Subscriber.prototype._complete = function () {
    	        try {
    	            this.destination.complete();
    	        }
    	        finally {
    	            this.unsubscribe();
    	        }
    	    };
    	    return Subscriber;
    	}(Subscription_1.Subscription));
    	exports.Subscriber = Subscriber;
    	var _bind = Function.prototype.bind;
    	function bind(fn, thisArg) {
    	    return _bind.call(fn, thisArg);
    	}
    	var ConsumerObserver = (function () {
    	    function ConsumerObserver(partialObserver) {
    	        this.partialObserver = partialObserver;
    	    }
    	    ConsumerObserver.prototype.next = function (value) {
    	        var partialObserver = this.partialObserver;
    	        if (partialObserver.next) {
    	            try {
    	                partialObserver.next(value);
    	            }
    	            catch (error) {
    	                handleUnhandledError(error);
    	            }
    	        }
    	    };
    	    ConsumerObserver.prototype.error = function (err) {
    	        var partialObserver = this.partialObserver;
    	        if (partialObserver.error) {
    	            try {
    	                partialObserver.error(err);
    	            }
    	            catch (error) {
    	                handleUnhandledError(error);
    	            }
    	        }
    	        else {
    	            handleUnhandledError(err);
    	        }
    	    };
    	    ConsumerObserver.prototype.complete = function () {
    	        var partialObserver = this.partialObserver;
    	        if (partialObserver.complete) {
    	            try {
    	                partialObserver.complete();
    	            }
    	            catch (error) {
    	                handleUnhandledError(error);
    	            }
    	        }
    	    };
    	    return ConsumerObserver;
    	}());
    	var SafeSubscriber = (function (_super) {
    	    __extends(SafeSubscriber, _super);
    	    function SafeSubscriber(observerOrNext, error, complete) {
    	        var _this = _super.call(this) || this;
    	        var partialObserver;
    	        if (isFunction_1.isFunction(observerOrNext) || !observerOrNext) {
    	            partialObserver = {
    	                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),
    	                error: error !== null && error !== void 0 ? error : undefined,
    	                complete: complete !== null && complete !== void 0 ? complete : undefined,
    	            };
    	        }
    	        else {
    	            var context_1;
    	            if (_this && config_1.config.useDeprecatedNextContext) {
    	                context_1 = Object.create(observerOrNext);
    	                context_1.unsubscribe = function () { return _this.unsubscribe(); };
    	                partialObserver = {
    	                    next: observerOrNext.next && bind(observerOrNext.next, context_1),
    	                    error: observerOrNext.error && bind(observerOrNext.error, context_1),
    	                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),
    	                };
    	            }
    	            else {
    	                partialObserver = observerOrNext;
    	            }
    	        }
    	        _this.destination = new ConsumerObserver(partialObserver);
    	        return _this;
    	    }
    	    return SafeSubscriber;
    	}(Subscriber));
    	exports.SafeSubscriber = SafeSubscriber;
    	function handleUnhandledError(error) {
    	    if (config_1.config.useDeprecatedSynchronousErrorHandling) {
    	        errorContext_1.captureError(error);
    	    }
    	    else {
    	        reportUnhandledError_1.reportUnhandledError(error);
    	    }
    	}
    	function defaultErrorHandler(err) {
    	    throw err;
    	}
    	function handleStoppedNotification(notification, subscriber) {
    	    var onStoppedNotification = config_1.config.onStoppedNotification;
    	    onStoppedNotification && timeoutProvider_1.timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });
    	}
    	exports.EMPTY_OBSERVER = {
    	    closed: true,
    	    next: noop_1.noop,
    	    error: defaultErrorHandler,
    	    complete: noop_1.noop,
    	};
    	
    } (Subscriber$1));

    var observable$1 = {};

    Object.defineProperty(observable$1, "__esModule", { value: true });
    observable$1.observable = void 0;
    observable$1.observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();

    var pipe$1 = {};

    var identity$7 = {};

    Object.defineProperty(identity$7, "__esModule", { value: true });
    identity$7.identity = void 0;
    function identity$6(x) {
        return x;
    }
    identity$7.identity = identity$6;

    Object.defineProperty(pipe$1, "__esModule", { value: true });
    pipe$1.pipeFromArray = pipe$1.pipe = void 0;
    var identity_1$f = identity$7;
    function pipe() {
        var fns = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            fns[_i] = arguments[_i];
        }
        return pipeFromArray$1(fns);
    }
    pipe$1.pipe = pipe;
    function pipeFromArray$1(fns) {
        if (fns.length === 0) {
            return identity_1$f.identity;
        }
        if (fns.length === 1) {
            return fns[0];
        }
        return function piped(input) {
            return fns.reduce(function (prev, fn) { return fn(prev); }, input);
        };
    }
    pipe$1.pipeFromArray = pipeFromArray$1;

    Object.defineProperty(Observable$2, "__esModule", { value: true });
    Observable$2.Observable = void 0;
    var Subscriber_1$3 = Subscriber$1;
    var Subscription_1$9 = Subscription$2;
    var observable_1$2 = observable$1;
    var pipe_1$2 = pipe$1;
    var config_1 = config$1;
    var isFunction_1$p = isFunction$b;
    var errorContext_1$1 = errorContext$2;
    var Observable$1 = (function () {
        function Observable(subscribe) {
            if (subscribe) {
                this._subscribe = subscribe;
            }
        }
        Observable.prototype.lift = function (operator) {
            var observable = new Observable();
            observable.source = this;
            observable.operator = operator;
            return observable;
        };
        Observable.prototype.subscribe = function (observerOrNext, error, complete) {
            var _this = this;
            var subscriber = isSubscriber$1(observerOrNext) ? observerOrNext : new Subscriber_1$3.SafeSubscriber(observerOrNext, error, complete);
            errorContext_1$1.errorContext(function () {
                var _a = _this, operator = _a.operator, source = _a.source;
                subscriber.add(operator
                    ?
                        operator.call(subscriber, source)
                    : source
                        ?
                            _this._subscribe(subscriber)
                        :
                            _this._trySubscribe(subscriber));
            });
            return subscriber;
        };
        Observable.prototype._trySubscribe = function (sink) {
            try {
                return this._subscribe(sink);
            }
            catch (err) {
                sink.error(err);
            }
        };
        Observable.prototype.forEach = function (next, promiseCtor) {
            var _this = this;
            promiseCtor = getPromiseCtor$1(promiseCtor);
            return new promiseCtor(function (resolve, reject) {
                var subscriber = new Subscriber_1$3.SafeSubscriber({
                    next: function (value) {
                        try {
                            next(value);
                        }
                        catch (err) {
                            reject(err);
                            subscriber.unsubscribe();
                        }
                    },
                    error: reject,
                    complete: resolve,
                });
                _this.subscribe(subscriber);
            });
        };
        Observable.prototype._subscribe = function (subscriber) {
            var _a;
            return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);
        };
        Observable.prototype[observable_1$2.observable] = function () {
            return this;
        };
        Observable.prototype.pipe = function () {
            var operations = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                operations[_i] = arguments[_i];
            }
            return pipe_1$2.pipeFromArray(operations)(this);
        };
        Observable.prototype.toPromise = function (promiseCtor) {
            var _this = this;
            promiseCtor = getPromiseCtor$1(promiseCtor);
            return new promiseCtor(function (resolve, reject) {
                var value;
                _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });
            });
        };
        Observable.create = function (subscribe) {
            return new Observable(subscribe);
        };
        return Observable;
    }());
    Observable$2.Observable = Observable$1;
    function getPromiseCtor$1(promiseCtor) {
        var _a;
        return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config_1.config.Promise) !== null && _a !== void 0 ? _a : Promise;
    }
    function isObserver$1(value) {
        return value && isFunction_1$p.isFunction(value.next) && isFunction_1$p.isFunction(value.error) && isFunction_1$p.isFunction(value.complete);
    }
    function isSubscriber$1(value) {
        return (value && value instanceof Subscriber_1$3.Subscriber) || (isObserver$1(value) && Subscription_1$9.isSubscription(value));
    }

    var ConnectableObservable$1 = {};

    var refCount$1 = {};

    var lift = {};

    Object.defineProperty(lift, "__esModule", { value: true });
    lift.operate = lift.hasLift = void 0;
    var isFunction_1$o = isFunction$b;
    function hasLift$1(source) {
        return isFunction_1$o.isFunction(source === null || source === void 0 ? void 0 : source.lift);
    }
    lift.hasLift = hasLift$1;
    function operate$1(init) {
        return function (source) {
            if (hasLift$1(source)) {
                return source.lift(function (liftedSource) {
                    try {
                        return init(liftedSource, this);
                    }
                    catch (err) {
                        this.error(err);
                    }
                });
            }
            throw new TypeError('Unable to lift unknown Observable type');
        };
    }
    lift.operate = operate$1;

    var OperatorSubscriber$2 = {};

    var __extends$g = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(OperatorSubscriber$2, "__esModule", { value: true });
    OperatorSubscriber$2.OperatorSubscriber = OperatorSubscriber$2.createOperatorSubscriber = void 0;
    var Subscriber_1$2 = Subscriber$1;
    function createOperatorSubscriber$1(destination, onNext, onComplete, onError, onFinalize) {
        return new OperatorSubscriber$1(destination, onNext, onComplete, onError, onFinalize);
    }
    OperatorSubscriber$2.createOperatorSubscriber = createOperatorSubscriber$1;
    var OperatorSubscriber$1 = (function (_super) {
        __extends$g(OperatorSubscriber, _super);
        function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {
            var _this = _super.call(this, destination) || this;
            _this.onFinalize = onFinalize;
            _this.shouldUnsubscribe = shouldUnsubscribe;
            _this._next = onNext
                ? function (value) {
                    try {
                        onNext(value);
                    }
                    catch (err) {
                        destination.error(err);
                    }
                }
                : _super.prototype._next;
            _this._error = onError
                ? function (err) {
                    try {
                        onError(err);
                    }
                    catch (err) {
                        destination.error(err);
                    }
                    finally {
                        this.unsubscribe();
                    }
                }
                : _super.prototype._error;
            _this._complete = onComplete
                ? function () {
                    try {
                        onComplete();
                    }
                    catch (err) {
                        destination.error(err);
                    }
                    finally {
                        this.unsubscribe();
                    }
                }
                : _super.prototype._complete;
            return _this;
        }
        OperatorSubscriber.prototype.unsubscribe = function () {
            var _a;
            if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
                var closed_1 = this.closed;
                _super.prototype.unsubscribe.call(this);
                !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));
            }
        };
        return OperatorSubscriber;
    }(Subscriber_1$2.Subscriber));
    OperatorSubscriber$2.OperatorSubscriber = OperatorSubscriber$1;

    Object.defineProperty(refCount$1, "__esModule", { value: true });
    refCount$1.refCount = void 0;
    var lift_1$14 = lift;
    var OperatorSubscriber_1$U = OperatorSubscriber$2;
    function refCount() {
        return lift_1$14.operate(function (source, subscriber) {
            var connection = null;
            source._refCount++;
            var refCounter = OperatorSubscriber_1$U.createOperatorSubscriber(subscriber, undefined, undefined, undefined, function () {
                if (!source || source._refCount <= 0 || 0 < --source._refCount) {
                    connection = null;
                    return;
                }
                var sharedConnection = source._connection;
                var conn = connection;
                connection = null;
                if (sharedConnection && (!conn || sharedConnection === conn)) {
                    sharedConnection.unsubscribe();
                }
                subscriber.unsubscribe();
            });
            source.subscribe(refCounter);
            if (!refCounter.closed) {
                connection = source.connect();
            }
        });
    }
    refCount$1.refCount = refCount;

    var __extends$f = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(ConnectableObservable$1, "__esModule", { value: true });
    ConnectableObservable$1.ConnectableObservable = void 0;
    var Observable_1$m = Observable$2;
    var Subscription_1$8 = Subscription$2;
    var refCount_1 = refCount$1;
    var OperatorSubscriber_1$T = OperatorSubscriber$2;
    var lift_1$13 = lift;
    var ConnectableObservable = (function (_super) {
        __extends$f(ConnectableObservable, _super);
        function ConnectableObservable(source, subjectFactory) {
            var _this = _super.call(this) || this;
            _this.source = source;
            _this.subjectFactory = subjectFactory;
            _this._subject = null;
            _this._refCount = 0;
            _this._connection = null;
            if (lift_1$13.hasLift(source)) {
                _this.lift = source.lift;
            }
            return _this;
        }
        ConnectableObservable.prototype._subscribe = function (subscriber) {
            return this.getSubject().subscribe(subscriber);
        };
        ConnectableObservable.prototype.getSubject = function () {
            var subject = this._subject;
            if (!subject || subject.isStopped) {
                this._subject = this.subjectFactory();
            }
            return this._subject;
        };
        ConnectableObservable.prototype._teardown = function () {
            this._refCount = 0;
            var _connection = this._connection;
            this._subject = this._connection = null;
            _connection === null || _connection === void 0 ? void 0 : _connection.unsubscribe();
        };
        ConnectableObservable.prototype.connect = function () {
            var _this = this;
            var connection = this._connection;
            if (!connection) {
                connection = this._connection = new Subscription_1$8.Subscription();
                var subject_1 = this.getSubject();
                connection.add(this.source.subscribe(OperatorSubscriber_1$T.createOperatorSubscriber(subject_1, undefined, function () {
                    _this._teardown();
                    subject_1.complete();
                }, function (err) {
                    _this._teardown();
                    subject_1.error(err);
                }, function () { return _this._teardown(); })));
                if (connection.closed) {
                    this._connection = null;
                    connection = Subscription_1$8.Subscription.EMPTY;
                }
            }
            return connection;
        };
        ConnectableObservable.prototype.refCount = function () {
            return refCount_1.refCount()(this);
        };
        return ConnectableObservable;
    }(Observable_1$m.Observable));
    ConnectableObservable$1.ConnectableObservable = ConnectableObservable;

    var animationFrames$1 = {};

    var performanceTimestampProvider = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.performanceTimestampProvider = void 0;
    	exports.performanceTimestampProvider = {
    	    now: function () {
    	        return (exports.performanceTimestampProvider.delegate || performance).now();
    	    },
    	    delegate: undefined,
    	};
    	
    } (performanceTimestampProvider));

    var animationFrameProvider = {};

    (function (exports) {
    	var __read = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
    	    var m = typeof Symbol === "function" && o[Symbol.iterator];
    	    if (!m) return o;
    	    var i = m.call(o), r, ar = [], e;
    	    try {
    	        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    	    }
    	    catch (error) { e = { error: error }; }
    	    finally {
    	        try {
    	            if (r && !r.done && (m = i["return"])) m.call(i);
    	        }
    	        finally { if (e) throw e.error; }
    	    }
    	    return ar;
    	};
    	var __spreadArray = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
    	    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
    	        to[j] = from[i];
    	    return to;
    	};
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.animationFrameProvider = void 0;
    	var Subscription_1 = Subscription$2;
    	exports.animationFrameProvider = {
    	    schedule: function (callback) {
    	        var request = requestAnimationFrame;
    	        var cancel = cancelAnimationFrame;
    	        var delegate = exports.animationFrameProvider.delegate;
    	        if (delegate) {
    	            request = delegate.requestAnimationFrame;
    	            cancel = delegate.cancelAnimationFrame;
    	        }
    	        var handle = request(function (timestamp) {
    	            cancel = undefined;
    	            callback(timestamp);
    	        });
    	        return new Subscription_1.Subscription(function () { return cancel === null || cancel === void 0 ? void 0 : cancel(handle); });
    	    },
    	    requestAnimationFrame: function () {
    	        var args = [];
    	        for (var _i = 0; _i < arguments.length; _i++) {
    	            args[_i] = arguments[_i];
    	        }
    	        var delegate = exports.animationFrameProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.requestAnimationFrame) || requestAnimationFrame).apply(void 0, __spreadArray([], __read(args)));
    	    },
    	    cancelAnimationFrame: function () {
    	        var args = [];
    	        for (var _i = 0; _i < arguments.length; _i++) {
    	            args[_i] = arguments[_i];
    	        }
    	        var delegate = exports.animationFrameProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.cancelAnimationFrame) || cancelAnimationFrame).apply(void 0, __spreadArray([], __read(args)));
    	    },
    	    delegate: undefined,
    	};
    	
    } (animationFrameProvider));

    Object.defineProperty(animationFrames$1, "__esModule", { value: true });
    animationFrames$1.animationFrames = void 0;
    var Observable_1$l = Observable$2;
    var Subscription_1$7 = Subscription$2;
    var performanceTimestampProvider_1 = performanceTimestampProvider;
    var animationFrameProvider_1$1 = animationFrameProvider;
    function animationFrames(timestampProvider) {
        return timestampProvider ? animationFramesFactory(timestampProvider) : DEFAULT_ANIMATION_FRAMES;
    }
    animationFrames$1.animationFrames = animationFrames;
    function animationFramesFactory(timestampProvider) {
        var schedule = animationFrameProvider_1$1.animationFrameProvider.schedule;
        return new Observable_1$l.Observable(function (subscriber) {
            var subscription = new Subscription_1$7.Subscription();
            var provider = timestampProvider || performanceTimestampProvider_1.performanceTimestampProvider;
            var start = provider.now();
            var run = function (timestamp) {
                var now = provider.now();
                subscriber.next({
                    timestamp: timestampProvider ? now : timestamp,
                    elapsed: now - start,
                });
                if (!subscriber.closed) {
                    subscription.add(schedule(run));
                }
            };
            subscription.add(schedule(run));
            return subscription;
        });
    }
    var DEFAULT_ANIMATION_FRAMES = animationFramesFactory();

    var Subject$1 = {};

    var ObjectUnsubscribedError = {};

    Object.defineProperty(ObjectUnsubscribedError, "__esModule", { value: true });
    ObjectUnsubscribedError.ObjectUnsubscribedError = void 0;
    var createErrorClass_1$4 = createErrorClass$2;
    ObjectUnsubscribedError.ObjectUnsubscribedError = createErrorClass_1$4.createErrorClass(function (_super) {
        return function ObjectUnsubscribedErrorImpl() {
            _super(this);
            this.name = 'ObjectUnsubscribedError';
            this.message = 'object unsubscribed';
        };
    });

    var __extends$e = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    var __values$8 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(Subject$1, "__esModule", { value: true });
    Subject$1.AnonymousSubject = Subject$1.Subject = void 0;
    var Observable_1$k = Observable$2;
    var Subscription_1$6 = Subscription$2;
    var ObjectUnsubscribedError_1 = ObjectUnsubscribedError;
    var arrRemove_1$6 = arrRemove$2;
    var errorContext_1 = errorContext$2;
    var Subject = (function (_super) {
        __extends$e(Subject, _super);
        function Subject() {
            var _this = _super.call(this) || this;
            _this.closed = false;
            _this.currentObservers = null;
            _this.observers = [];
            _this.isStopped = false;
            _this.hasError = false;
            _this.thrownError = null;
            return _this;
        }
        Subject.prototype.lift = function (operator) {
            var subject = new AnonymousSubject(this, this);
            subject.operator = operator;
            return subject;
        };
        Subject.prototype._throwIfClosed = function () {
            if (this.closed) {
                throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            }
        };
        Subject.prototype.next = function (value) {
            var _this = this;
            errorContext_1.errorContext(function () {
                var e_1, _a;
                _this._throwIfClosed();
                if (!_this.isStopped) {
                    if (!_this.currentObservers) {
                        _this.currentObservers = Array.from(_this.observers);
                    }
                    try {
                        for (var _b = __values$8(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var observer = _c.value;
                            observer.next(value);
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                }
            });
        };
        Subject.prototype.error = function (err) {
            var _this = this;
            errorContext_1.errorContext(function () {
                _this._throwIfClosed();
                if (!_this.isStopped) {
                    _this.hasError = _this.isStopped = true;
                    _this.thrownError = err;
                    var observers = _this.observers;
                    while (observers.length) {
                        observers.shift().error(err);
                    }
                }
            });
        };
        Subject.prototype.complete = function () {
            var _this = this;
            errorContext_1.errorContext(function () {
                _this._throwIfClosed();
                if (!_this.isStopped) {
                    _this.isStopped = true;
                    var observers = _this.observers;
                    while (observers.length) {
                        observers.shift().complete();
                    }
                }
            });
        };
        Subject.prototype.unsubscribe = function () {
            this.isStopped = this.closed = true;
            this.observers = this.currentObservers = null;
        };
        Object.defineProperty(Subject.prototype, "observed", {
            get: function () {
                var _a;
                return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;
            },
            enumerable: false,
            configurable: true
        });
        Subject.prototype._trySubscribe = function (subscriber) {
            this._throwIfClosed();
            return _super.prototype._trySubscribe.call(this, subscriber);
        };
        Subject.prototype._subscribe = function (subscriber) {
            this._throwIfClosed();
            this._checkFinalizedStatuses(subscriber);
            return this._innerSubscribe(subscriber);
        };
        Subject.prototype._innerSubscribe = function (subscriber) {
            var _this = this;
            var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;
            if (hasError || isStopped) {
                return Subscription_1$6.EMPTY_SUBSCRIPTION;
            }
            this.currentObservers = null;
            observers.push(subscriber);
            return new Subscription_1$6.Subscription(function () {
                _this.currentObservers = null;
                arrRemove_1$6.arrRemove(observers, subscriber);
            });
        };
        Subject.prototype._checkFinalizedStatuses = function (subscriber) {
            var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;
            if (hasError) {
                subscriber.error(thrownError);
            }
            else if (isStopped) {
                subscriber.complete();
            }
        };
        Subject.prototype.asObservable = function () {
            var observable = new Observable_1$k.Observable();
            observable.source = this;
            return observable;
        };
        Subject.create = function (destination, source) {
            return new AnonymousSubject(destination, source);
        };
        return Subject;
    }(Observable_1$k.Observable));
    Subject$1.Subject = Subject;
    var AnonymousSubject = (function (_super) {
        __extends$e(AnonymousSubject, _super);
        function AnonymousSubject(destination, source) {
            var _this = _super.call(this) || this;
            _this.destination = destination;
            _this.source = source;
            return _this;
        }
        AnonymousSubject.prototype.next = function (value) {
            var _a, _b;
            (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);
        };
        AnonymousSubject.prototype.error = function (err) {
            var _a, _b;
            (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);
        };
        AnonymousSubject.prototype.complete = function () {
            var _a, _b;
            (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);
        };
        AnonymousSubject.prototype._subscribe = function (subscriber) {
            var _a, _b;
            return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : Subscription_1$6.EMPTY_SUBSCRIPTION;
        };
        return AnonymousSubject;
    }(Subject));
    Subject$1.AnonymousSubject = AnonymousSubject;

    var BehaviorSubject$1 = {};

    var __extends$d = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(BehaviorSubject$1, "__esModule", { value: true });
    BehaviorSubject$1.BehaviorSubject = void 0;
    var Subject_1$e = Subject$1;
    var BehaviorSubject = (function (_super) {
        __extends$d(BehaviorSubject, _super);
        function BehaviorSubject(_value) {
            var _this = _super.call(this) || this;
            _this._value = _value;
            return _this;
        }
        Object.defineProperty(BehaviorSubject.prototype, "value", {
            get: function () {
                return this.getValue();
            },
            enumerable: false,
            configurable: true
        });
        BehaviorSubject.prototype._subscribe = function (subscriber) {
            var subscription = _super.prototype._subscribe.call(this, subscriber);
            !subscription.closed && subscriber.next(this._value);
            return subscription;
        };
        BehaviorSubject.prototype.getValue = function () {
            var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;
            if (hasError) {
                throw thrownError;
            }
            this._throwIfClosed();
            return _value;
        };
        BehaviorSubject.prototype.next = function (value) {
            _super.prototype.next.call(this, (this._value = value));
        };
        return BehaviorSubject;
    }(Subject_1$e.Subject));
    BehaviorSubject$1.BehaviorSubject = BehaviorSubject;

    var ReplaySubject$1 = {};

    var dateTimestampProvider = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.dateTimestampProvider = void 0;
    	exports.dateTimestampProvider = {
    	    now: function () {
    	        return (exports.dateTimestampProvider.delegate || Date).now();
    	    },
    	    delegate: undefined,
    	};
    	
    } (dateTimestampProvider));

    var __extends$c = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(ReplaySubject$1, "__esModule", { value: true });
    ReplaySubject$1.ReplaySubject = void 0;
    var Subject_1$d = Subject$1;
    var dateTimestampProvider_1$2 = dateTimestampProvider;
    var ReplaySubject = (function (_super) {
        __extends$c(ReplaySubject, _super);
        function ReplaySubject(_bufferSize, _windowTime, _timestampProvider) {
            if (_bufferSize === void 0) { _bufferSize = Infinity; }
            if (_windowTime === void 0) { _windowTime = Infinity; }
            if (_timestampProvider === void 0) { _timestampProvider = dateTimestampProvider_1$2.dateTimestampProvider; }
            var _this = _super.call(this) || this;
            _this._bufferSize = _bufferSize;
            _this._windowTime = _windowTime;
            _this._timestampProvider = _timestampProvider;
            _this._buffer = [];
            _this._infiniteTimeWindow = true;
            _this._infiniteTimeWindow = _windowTime === Infinity;
            _this._bufferSize = Math.max(1, _bufferSize);
            _this._windowTime = Math.max(1, _windowTime);
            return _this;
        }
        ReplaySubject.prototype.next = function (value) {
            var _a = this, isStopped = _a.isStopped, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow, _timestampProvider = _a._timestampProvider, _windowTime = _a._windowTime;
            if (!isStopped) {
                _buffer.push(value);
                !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);
            }
            this._trimBuffer();
            _super.prototype.next.call(this, value);
        };
        ReplaySubject.prototype._subscribe = function (subscriber) {
            this._throwIfClosed();
            this._trimBuffer();
            var subscription = this._innerSubscribe(subscriber);
            var _a = this, _infiniteTimeWindow = _a._infiniteTimeWindow, _buffer = _a._buffer;
            var copy = _buffer.slice();
            for (var i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {
                subscriber.next(copy[i]);
            }
            this._checkFinalizedStatuses(subscriber);
            return subscription;
        };
        ReplaySubject.prototype._trimBuffer = function () {
            var _a = this, _bufferSize = _a._bufferSize, _timestampProvider = _a._timestampProvider, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow;
            var adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;
            _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);
            if (!_infiniteTimeWindow) {
                var now = _timestampProvider.now();
                var last = 0;
                for (var i = 1; i < _buffer.length && _buffer[i] <= now; i += 2) {
                    last = i;
                }
                last && _buffer.splice(0, last + 1);
            }
        };
        return ReplaySubject;
    }(Subject_1$d.Subject));
    ReplaySubject$1.ReplaySubject = ReplaySubject;

    var AsyncSubject$1 = {};

    var __extends$b = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AsyncSubject$1, "__esModule", { value: true });
    AsyncSubject$1.AsyncSubject = void 0;
    var Subject_1$c = Subject$1;
    var AsyncSubject = (function (_super) {
        __extends$b(AsyncSubject, _super);
        function AsyncSubject() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._value = null;
            _this._hasValue = false;
            _this._isComplete = false;
            return _this;
        }
        AsyncSubject.prototype._checkFinalizedStatuses = function (subscriber) {
            var _a = this, hasError = _a.hasError, _hasValue = _a._hasValue, _value = _a._value, thrownError = _a.thrownError, isStopped = _a.isStopped, _isComplete = _a._isComplete;
            if (hasError) {
                subscriber.error(thrownError);
            }
            else if (isStopped || _isComplete) {
                _hasValue && subscriber.next(_value);
                subscriber.complete();
            }
        };
        AsyncSubject.prototype.next = function (value) {
            if (!this.isStopped) {
                this._value = value;
                this._hasValue = true;
            }
        };
        AsyncSubject.prototype.complete = function () {
            var _a = this, _hasValue = _a._hasValue, _value = _a._value, _isComplete = _a._isComplete;
            if (!_isComplete) {
                this._isComplete = true;
                _hasValue && _super.prototype.next.call(this, _value);
                _super.prototype.complete.call(this);
            }
        };
        return AsyncSubject;
    }(Subject_1$c.Subject));
    AsyncSubject$1.AsyncSubject = AsyncSubject;

    var asap = {};

    var AsapAction$1 = {};

    var AsyncAction$1 = {};

    var Action$1 = {};

    var __extends$a = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(Action$1, "__esModule", { value: true });
    Action$1.Action = void 0;
    var Subscription_1$5 = Subscription$2;
    var Action = (function (_super) {
        __extends$a(Action, _super);
        function Action(scheduler, work) {
            return _super.call(this) || this;
        }
        Action.prototype.schedule = function (state, delay) {
            return this;
        };
        return Action;
    }(Subscription_1$5.Subscription));
    Action$1.Action = Action;

    var intervalProvider = {};

    (function (exports) {
    	var __read = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
    	    var m = typeof Symbol === "function" && o[Symbol.iterator];
    	    if (!m) return o;
    	    var i = m.call(o), r, ar = [], e;
    	    try {
    	        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    	    }
    	    catch (error) { e = { error: error }; }
    	    finally {
    	        try {
    	            if (r && !r.done && (m = i["return"])) m.call(i);
    	        }
    	        finally { if (e) throw e.error; }
    	    }
    	    return ar;
    	};
    	var __spreadArray = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
    	    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
    	        to[j] = from[i];
    	    return to;
    	};
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.intervalProvider = void 0;
    	exports.intervalProvider = {
    	    setInterval: function (handler, timeout) {
    	        var args = [];
    	        for (var _i = 2; _i < arguments.length; _i++) {
    	            args[_i - 2] = arguments[_i];
    	        }
    	        var delegate = exports.intervalProvider.delegate;
    	        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {
    	            return delegate.setInterval.apply(delegate, __spreadArray([handler, timeout], __read(args)));
    	        }
    	        return setInterval.apply(void 0, __spreadArray([handler, timeout], __read(args)));
    	    },
    	    clearInterval: function (handle) {
    	        var delegate = exports.intervalProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);
    	    },
    	    delegate: undefined,
    	};
    	
    } (intervalProvider));

    var __extends$9 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AsyncAction$1, "__esModule", { value: true });
    AsyncAction$1.AsyncAction = void 0;
    var Action_1 = Action$1;
    var intervalProvider_1 = intervalProvider;
    var arrRemove_1$5 = arrRemove$2;
    var AsyncAction = (function (_super) {
        __extends$9(AsyncAction, _super);
        function AsyncAction(scheduler, work) {
            var _this = _super.call(this, scheduler, work) || this;
            _this.scheduler = scheduler;
            _this.work = work;
            _this.pending = false;
            return _this;
        }
        AsyncAction.prototype.schedule = function (state, delay) {
            if (delay === void 0) { delay = 0; }
            if (this.closed) {
                return this;
            }
            this.state = state;
            var id = this.id;
            var scheduler = this.scheduler;
            if (id != null) {
                this.id = this.recycleAsyncId(scheduler, id, delay);
            }
            this.pending = true;
            this.delay = delay;
            this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);
            return this;
        };
        AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {
            if (delay === void 0) { delay = 0; }
            return intervalProvider_1.intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);
        };
        AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if (delay != null && this.delay === delay && this.pending === false) {
                return id;
            }
            intervalProvider_1.intervalProvider.clearInterval(id);
            return undefined;
        };
        AsyncAction.prototype.execute = function (state, delay) {
            if (this.closed) {
                return new Error('executing a cancelled action');
            }
            this.pending = false;
            var error = this._execute(state, delay);
            if (error) {
                return error;
            }
            else if (this.pending === false && this.id != null) {
                this.id = this.recycleAsyncId(this.scheduler, this.id, null);
            }
        };
        AsyncAction.prototype._execute = function (state, _delay) {
            var errored = false;
            var errorValue;
            try {
                this.work(state);
            }
            catch (e) {
                errored = true;
                errorValue = e ? e : new Error('Scheduled action threw falsy error');
            }
            if (errored) {
                this.unsubscribe();
                return errorValue;
            }
        };
        AsyncAction.prototype.unsubscribe = function () {
            if (!this.closed) {
                var _a = this, id = _a.id, scheduler = _a.scheduler;
                var actions = scheduler.actions;
                this.work = this.state = this.scheduler = null;
                this.pending = false;
                arrRemove_1$5.arrRemove(actions, this);
                if (id != null) {
                    this.id = this.recycleAsyncId(scheduler, id, null);
                }
                this.delay = null;
                _super.prototype.unsubscribe.call(this);
            }
        };
        return AsyncAction;
    }(Action_1.Action));
    AsyncAction$1.AsyncAction = AsyncAction;

    var immediateProvider = {};

    var Immediate = {};

    Object.defineProperty(Immediate, "__esModule", { value: true });
    Immediate.TestTools = Immediate.Immediate = void 0;
    var nextHandle = 1;
    var resolved;
    var activeHandles = {};
    function findAndClearHandle(handle) {
        if (handle in activeHandles) {
            delete activeHandles[handle];
            return true;
        }
        return false;
    }
    Immediate.Immediate = {
        setImmediate: function (cb) {
            var handle = nextHandle++;
            activeHandles[handle] = true;
            if (!resolved) {
                resolved = Promise.resolve();
            }
            resolved.then(function () { return findAndClearHandle(handle) && cb(); });
            return handle;
        },
        clearImmediate: function (handle) {
            findAndClearHandle(handle);
        },
    };
    Immediate.TestTools = {
        pending: function () {
            return Object.keys(activeHandles).length;
        }
    };

    (function (exports) {
    	var __read = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
    	    var m = typeof Symbol === "function" && o[Symbol.iterator];
    	    if (!m) return o;
    	    var i = m.call(o), r, ar = [], e;
    	    try {
    	        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    	    }
    	    catch (error) { e = { error: error }; }
    	    finally {
    	        try {
    	            if (r && !r.done && (m = i["return"])) m.call(i);
    	        }
    	        finally { if (e) throw e.error; }
    	    }
    	    return ar;
    	};
    	var __spreadArray = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
    	    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
    	        to[j] = from[i];
    	    return to;
    	};
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.immediateProvider = void 0;
    	var Immediate_1 = Immediate;
    	var setImmediate = Immediate_1.Immediate.setImmediate, clearImmediate = Immediate_1.Immediate.clearImmediate;
    	exports.immediateProvider = {
    	    setImmediate: function () {
    	        var args = [];
    	        for (var _i = 0; _i < arguments.length; _i++) {
    	            args[_i] = arguments[_i];
    	        }
    	        var delegate = exports.immediateProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setImmediate) || setImmediate).apply(void 0, __spreadArray([], __read(args)));
    	    },
    	    clearImmediate: function (handle) {
    	        var delegate = exports.immediateProvider.delegate;
    	        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearImmediate) || clearImmediate)(handle);
    	    },
    	    delegate: undefined,
    	};
    	
    } (immediateProvider));

    var __extends$8 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AsapAction$1, "__esModule", { value: true });
    AsapAction$1.AsapAction = void 0;
    var AsyncAction_1$3 = AsyncAction$1;
    var immediateProvider_1 = immediateProvider;
    var AsapAction = (function (_super) {
        __extends$8(AsapAction, _super);
        function AsapAction(scheduler, work) {
            var _this = _super.call(this, scheduler, work) || this;
            _this.scheduler = scheduler;
            _this.work = work;
            return _this;
        }
        AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if (delay !== null && delay > 0) {
                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
            }
            scheduler.actions.push(this);
            return scheduler._scheduled || (scheduler._scheduled = immediateProvider_1.immediateProvider.setImmediate(scheduler.flush.bind(scheduler, undefined)));
        };
        AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if ((delay != null && delay > 0) || (delay == null && this.delay > 0)) {
                return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
            }
            if (!scheduler.actions.some(function (action) { return action.id === id; })) {
                immediateProvider_1.immediateProvider.clearImmediate(id);
                scheduler._scheduled = undefined;
            }
            return undefined;
        };
        return AsapAction;
    }(AsyncAction_1$3.AsyncAction));
    AsapAction$1.AsapAction = AsapAction;

    var AsapScheduler$1 = {};

    var AsyncScheduler$1 = {};

    var Scheduler$1 = {};

    Object.defineProperty(Scheduler$1, "__esModule", { value: true });
    Scheduler$1.Scheduler = void 0;
    var dateTimestampProvider_1$1 = dateTimestampProvider;
    var Scheduler = (function () {
        function Scheduler(schedulerActionCtor, now) {
            if (now === void 0) { now = Scheduler.now; }
            this.schedulerActionCtor = schedulerActionCtor;
            this.now = now;
        }
        Scheduler.prototype.schedule = function (work, delay, state) {
            if (delay === void 0) { delay = 0; }
            return new this.schedulerActionCtor(this, work).schedule(state, delay);
        };
        Scheduler.now = dateTimestampProvider_1$1.dateTimestampProvider.now;
        return Scheduler;
    }());
    Scheduler$1.Scheduler = Scheduler;

    var __extends$7 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AsyncScheduler$1, "__esModule", { value: true });
    AsyncScheduler$1.AsyncScheduler = void 0;
    var Scheduler_1 = Scheduler$1;
    var AsyncScheduler = (function (_super) {
        __extends$7(AsyncScheduler, _super);
        function AsyncScheduler(SchedulerAction, now) {
            if (now === void 0) { now = Scheduler_1.Scheduler.now; }
            var _this = _super.call(this, SchedulerAction, now) || this;
            _this.actions = [];
            _this._active = false;
            _this._scheduled = undefined;
            return _this;
        }
        AsyncScheduler.prototype.flush = function (action) {
            var actions = this.actions;
            if (this._active) {
                actions.push(action);
                return;
            }
            var error;
            this._active = true;
            do {
                if ((error = action.execute(action.state, action.delay))) {
                    break;
                }
            } while ((action = actions.shift()));
            this._active = false;
            if (error) {
                while ((action = actions.shift())) {
                    action.unsubscribe();
                }
                throw error;
            }
        };
        return AsyncScheduler;
    }(Scheduler_1.Scheduler));
    AsyncScheduler$1.AsyncScheduler = AsyncScheduler;

    var __extends$6 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AsapScheduler$1, "__esModule", { value: true });
    AsapScheduler$1.AsapScheduler = void 0;
    var AsyncScheduler_1$3 = AsyncScheduler$1;
    var AsapScheduler = (function (_super) {
        __extends$6(AsapScheduler, _super);
        function AsapScheduler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        AsapScheduler.prototype.flush = function (action) {
            this._active = true;
            var flushId = this._scheduled;
            this._scheduled = undefined;
            var actions = this.actions;
            var error;
            action = action || actions.shift();
            do {
                if ((error = action.execute(action.state, action.delay))) {
                    break;
                }
            } while ((action = actions[0]) && action.id === flushId && actions.shift());
            this._active = false;
            if (error) {
                while ((action = actions[0]) && action.id === flushId && actions.shift()) {
                    action.unsubscribe();
                }
                throw error;
            }
        };
        return AsapScheduler;
    }(AsyncScheduler_1$3.AsyncScheduler));
    AsapScheduler$1.AsapScheduler = AsapScheduler;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.asap = exports.asapScheduler = void 0;
    	var AsapAction_1 = AsapAction$1;
    	var AsapScheduler_1 = AsapScheduler$1;
    	exports.asapScheduler = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);
    	exports.asap = exports.asapScheduler;
    	
    } (asap));

    var async = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.async = exports.asyncScheduler = void 0;
    	var AsyncAction_1 = AsyncAction$1;
    	var AsyncScheduler_1 = AsyncScheduler$1;
    	exports.asyncScheduler = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);
    	exports.async = exports.asyncScheduler;
    	
    } (async));

    var queue = {};

    var QueueAction$1 = {};

    var __extends$5 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(QueueAction$1, "__esModule", { value: true });
    QueueAction$1.QueueAction = void 0;
    var AsyncAction_1$2 = AsyncAction$1;
    var QueueAction = (function (_super) {
        __extends$5(QueueAction, _super);
        function QueueAction(scheduler, work) {
            var _this = _super.call(this, scheduler, work) || this;
            _this.scheduler = scheduler;
            _this.work = work;
            return _this;
        }
        QueueAction.prototype.schedule = function (state, delay) {
            if (delay === void 0) { delay = 0; }
            if (delay > 0) {
                return _super.prototype.schedule.call(this, state, delay);
            }
            this.delay = delay;
            this.state = state;
            this.scheduler.flush(this);
            return this;
        };
        QueueAction.prototype.execute = function (state, delay) {
            return (delay > 0 || this.closed) ?
                _super.prototype.execute.call(this, state, delay) :
                this._execute(state, delay);
        };
        QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if ((delay != null && delay > 0) || (delay == null && this.delay > 0)) {
                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
            }
            return scheduler.flush(this);
        };
        return QueueAction;
    }(AsyncAction_1$2.AsyncAction));
    QueueAction$1.QueueAction = QueueAction;

    var QueueScheduler$1 = {};

    var __extends$4 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(QueueScheduler$1, "__esModule", { value: true });
    QueueScheduler$1.QueueScheduler = void 0;
    var AsyncScheduler_1$2 = AsyncScheduler$1;
    var QueueScheduler = (function (_super) {
        __extends$4(QueueScheduler, _super);
        function QueueScheduler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return QueueScheduler;
    }(AsyncScheduler_1$2.AsyncScheduler));
    QueueScheduler$1.QueueScheduler = QueueScheduler;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.queue = exports.queueScheduler = void 0;
    	var QueueAction_1 = QueueAction$1;
    	var QueueScheduler_1 = QueueScheduler$1;
    	exports.queueScheduler = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);
    	exports.queue = exports.queueScheduler;
    	
    } (queue));

    var animationFrame = {};

    var AnimationFrameAction$1 = {};

    var __extends$3 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AnimationFrameAction$1, "__esModule", { value: true });
    AnimationFrameAction$1.AnimationFrameAction = void 0;
    var AsyncAction_1$1 = AsyncAction$1;
    var animationFrameProvider_1 = animationFrameProvider;
    var AnimationFrameAction = (function (_super) {
        __extends$3(AnimationFrameAction, _super);
        function AnimationFrameAction(scheduler, work) {
            var _this = _super.call(this, scheduler, work) || this;
            _this.scheduler = scheduler;
            _this.work = work;
            return _this;
        }
        AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if (delay !== null && delay > 0) {
                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
            }
            scheduler.actions.push(this);
            return scheduler._scheduled || (scheduler._scheduled = animationFrameProvider_1.animationFrameProvider.requestAnimationFrame(function () { return scheduler.flush(undefined); }));
        };
        AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            if ((delay != null && delay > 0) || (delay == null && this.delay > 0)) {
                return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
            }
            if (!scheduler.actions.some(function (action) { return action.id === id; })) {
                animationFrameProvider_1.animationFrameProvider.cancelAnimationFrame(id);
                scheduler._scheduled = undefined;
            }
            return undefined;
        };
        return AnimationFrameAction;
    }(AsyncAction_1$1.AsyncAction));
    AnimationFrameAction$1.AnimationFrameAction = AnimationFrameAction;

    var AnimationFrameScheduler$1 = {};

    var __extends$2 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(AnimationFrameScheduler$1, "__esModule", { value: true });
    AnimationFrameScheduler$1.AnimationFrameScheduler = void 0;
    var AsyncScheduler_1$1 = AsyncScheduler$1;
    var AnimationFrameScheduler = (function (_super) {
        __extends$2(AnimationFrameScheduler, _super);
        function AnimationFrameScheduler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        AnimationFrameScheduler.prototype.flush = function (action) {
            this._active = true;
            var flushId = this._scheduled;
            this._scheduled = undefined;
            var actions = this.actions;
            var error;
            action = action || actions.shift();
            do {
                if ((error = action.execute(action.state, action.delay))) {
                    break;
                }
            } while ((action = actions[0]) && action.id === flushId && actions.shift());
            this._active = false;
            if (error) {
                while ((action = actions[0]) && action.id === flushId && actions.shift()) {
                    action.unsubscribe();
                }
                throw error;
            }
        };
        return AnimationFrameScheduler;
    }(AsyncScheduler_1$1.AsyncScheduler));
    AnimationFrameScheduler$1.AnimationFrameScheduler = AnimationFrameScheduler;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.animationFrame = exports.animationFrameScheduler = void 0;
    	var AnimationFrameAction_1 = AnimationFrameAction$1;
    	var AnimationFrameScheduler_1 = AnimationFrameScheduler$1;
    	exports.animationFrameScheduler = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);
    	exports.animationFrame = exports.animationFrameScheduler;
    	
    } (animationFrame));

    var VirtualTimeScheduler$1 = {};

    var __extends$1 = (commonjsGlobal && commonjsGlobal.__extends) || (function () {
        var extendStatics = function (d, b) {
            extendStatics = Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
            return extendStatics(d, b);
        };
        return function (d, b) {
            if (typeof b !== "function" && b !== null)
                throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() { this.constructor = d; }
            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
    })();
    Object.defineProperty(VirtualTimeScheduler$1, "__esModule", { value: true });
    VirtualTimeScheduler$1.VirtualAction = VirtualTimeScheduler$1.VirtualTimeScheduler = void 0;
    var AsyncAction_1 = AsyncAction$1;
    var Subscription_1$4 = Subscription$2;
    var AsyncScheduler_1 = AsyncScheduler$1;
    var VirtualTimeScheduler = (function (_super) {
        __extends$1(VirtualTimeScheduler, _super);
        function VirtualTimeScheduler(schedulerActionCtor, maxFrames) {
            if (schedulerActionCtor === void 0) { schedulerActionCtor = VirtualAction; }
            if (maxFrames === void 0) { maxFrames = Infinity; }
            var _this = _super.call(this, schedulerActionCtor, function () { return _this.frame; }) || this;
            _this.maxFrames = maxFrames;
            _this.frame = 0;
            _this.index = -1;
            return _this;
        }
        VirtualTimeScheduler.prototype.flush = function () {
            var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;
            var error;
            var action;
            while ((action = actions[0]) && action.delay <= maxFrames) {
                actions.shift();
                this.frame = action.delay;
                if ((error = action.execute(action.state, action.delay))) {
                    break;
                }
            }
            if (error) {
                while ((action = actions.shift())) {
                    action.unsubscribe();
                }
                throw error;
            }
        };
        VirtualTimeScheduler.frameTimeFactor = 10;
        return VirtualTimeScheduler;
    }(AsyncScheduler_1.AsyncScheduler));
    VirtualTimeScheduler$1.VirtualTimeScheduler = VirtualTimeScheduler;
    var VirtualAction = (function (_super) {
        __extends$1(VirtualAction, _super);
        function VirtualAction(scheduler, work, index) {
            if (index === void 0) { index = (scheduler.index += 1); }
            var _this = _super.call(this, scheduler, work) || this;
            _this.scheduler = scheduler;
            _this.work = work;
            _this.index = index;
            _this.active = true;
            _this.index = scheduler.index = index;
            return _this;
        }
        VirtualAction.prototype.schedule = function (state, delay) {
            if (delay === void 0) { delay = 0; }
            if (Number.isFinite(delay)) {
                if (!this.id) {
                    return _super.prototype.schedule.call(this, state, delay);
                }
                this.active = false;
                var action = new VirtualAction(this.scheduler, this.work);
                this.add(action);
                return action.schedule(state, delay);
            }
            else {
                return Subscription_1$4.Subscription.EMPTY;
            }
        };
        VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {
            if (delay === void 0) { delay = 0; }
            this.delay = scheduler.frame + delay;
            var actions = scheduler.actions;
            actions.push(this);
            actions.sort(VirtualAction.sortActions);
            return true;
        };
        VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
            return undefined;
        };
        VirtualAction.prototype._execute = function (state, delay) {
            if (this.active === true) {
                return _super.prototype._execute.call(this, state, delay);
            }
        };
        VirtualAction.sortActions = function (a, b) {
            if (a.delay === b.delay) {
                if (a.index === b.index) {
                    return 0;
                }
                else if (a.index > b.index) {
                    return 1;
                }
                else {
                    return -1;
                }
            }
            else if (a.delay > b.delay) {
                return 1;
            }
            else {
                return -1;
            }
        };
        return VirtualAction;
    }(AsyncAction_1.AsyncAction));
    VirtualTimeScheduler$1.VirtualAction = VirtualAction;

    var Notification = {};

    var empty = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.empty = exports.EMPTY = void 0;
    	var Observable_1 = Observable$2;
    	exports.EMPTY = new Observable_1.Observable(function (subscriber) { return subscriber.complete(); });
    	function empty(scheduler) {
    	    return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;
    	}
    	exports.empty = empty;
    	function emptyScheduled(scheduler) {
    	    return new Observable_1.Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });
    	}
    	
    } (empty));

    var of$1 = {};

    var args = {};

    var isScheduler$1 = {};

    Object.defineProperty(isScheduler$1, "__esModule", { value: true });
    isScheduler$1.isScheduler = void 0;
    var isFunction_1$n = isFunction$b;
    function isScheduler(value) {
        return value && isFunction_1$n.isFunction(value.schedule);
    }
    isScheduler$1.isScheduler = isScheduler;

    Object.defineProperty(args, "__esModule", { value: true });
    args.popNumber = args.popScheduler = args.popResultSelector = void 0;
    var isFunction_1$m = isFunction$b;
    var isScheduler_1$3 = isScheduler$1;
    function last$2(arr) {
        return arr[arr.length - 1];
    }
    function popResultSelector(args) {
        return isFunction_1$m.isFunction(last$2(args)) ? args.pop() : undefined;
    }
    args.popResultSelector = popResultSelector;
    function popScheduler(args) {
        return isScheduler_1$3.isScheduler(last$2(args)) ? args.pop() : undefined;
    }
    args.popScheduler = popScheduler;
    function popNumber(args, defaultValue) {
        return typeof last$2(args) === 'number' ? args.pop() : defaultValue;
    }
    args.popNumber = popNumber;

    var from$1 = {};

    var scheduled$1 = {};

    var scheduleObservable$1 = {};

    var innerFrom$2 = {};

    var isArrayLike$8 = {};

    Object.defineProperty(isArrayLike$8, "__esModule", { value: true });
    isArrayLike$8.isArrayLike = void 0;
    isArrayLike$8.isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });

    var isPromise$3 = {};

    Object.defineProperty(isPromise$3, "__esModule", { value: true });
    isPromise$3.isPromise = void 0;
    var isFunction_1$l = isFunction$b;
    function isPromise$2(value) {
        return isFunction_1$l.isFunction(value === null || value === void 0 ? void 0 : value.then);
    }
    isPromise$3.isPromise = isPromise$2;

    var isInteropObservable$2 = {};

    Object.defineProperty(isInteropObservable$2, "__esModule", { value: true });
    isInteropObservable$2.isInteropObservable = void 0;
    var observable_1$1 = observable$1;
    var isFunction_1$k = isFunction$b;
    function isInteropObservable$1(input) {
        return isFunction_1$k.isFunction(input[observable_1$1.observable]);
    }
    isInteropObservable$2.isInteropObservable = isInteropObservable$1;

    var isAsyncIterable$2 = {};

    Object.defineProperty(isAsyncIterable$2, "__esModule", { value: true });
    isAsyncIterable$2.isAsyncIterable = void 0;
    var isFunction_1$j = isFunction$b;
    function isAsyncIterable$1(obj) {
        return Symbol.asyncIterator && isFunction_1$j.isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);
    }
    isAsyncIterable$2.isAsyncIterable = isAsyncIterable$1;

    var throwUnobservableError = {};

    Object.defineProperty(throwUnobservableError, "__esModule", { value: true });
    throwUnobservableError.createInvalidObservableTypeError = void 0;
    function createInvalidObservableTypeError$1(input) {
        return new TypeError("You provided " + (input !== null && typeof input === 'object' ? 'an invalid object' : "'" + input + "'") + " where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.");
    }
    throwUnobservableError.createInvalidObservableTypeError = createInvalidObservableTypeError$1;

    var isIterable$2 = {};

    var iterator$1 = {};

    Object.defineProperty(iterator$1, "__esModule", { value: true });
    iterator$1.iterator = iterator$1.getSymbolIterator = void 0;
    function getSymbolIterator$1() {
        if (typeof Symbol !== 'function' || !Symbol.iterator) {
            return '@@iterator';
        }
        return Symbol.iterator;
    }
    iterator$1.getSymbolIterator = getSymbolIterator$1;
    iterator$1.iterator = getSymbolIterator$1();

    Object.defineProperty(isIterable$2, "__esModule", { value: true });
    isIterable$2.isIterable = void 0;
    var iterator_1$1 = iterator$1;
    var isFunction_1$i = isFunction$b;
    function isIterable$1(input) {
        return isFunction_1$i.isFunction(input === null || input === void 0 ? void 0 : input[iterator_1$1.iterator]);
    }
    isIterable$2.isIterable = isIterable$1;

    var isReadableStreamLike$2 = {};

    var __generator$3 = (commonjsGlobal && commonjsGlobal.__generator) || function (thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    };
    var __await$1 = (commonjsGlobal && commonjsGlobal.__await) || function (v) { return this instanceof __await$1 ? (this.v = v, this) : new __await$1(v); };
    var __asyncGenerator$1 = (commonjsGlobal && commonjsGlobal.__asyncGenerator) || function (thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await$1 ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    };
    Object.defineProperty(isReadableStreamLike$2, "__esModule", { value: true });
    isReadableStreamLike$2.isReadableStreamLike = isReadableStreamLike$2.readableStreamLikeToAsyncGenerator = void 0;
    var isFunction_1$h = isFunction$b;
    function readableStreamLikeToAsyncGenerator$1(readableStream) {
        return __asyncGenerator$1(this, arguments, function readableStreamLikeToAsyncGenerator_1() {
            var reader, _a, value, done;
            return __generator$3(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        reader = readableStream.getReader();
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, , 9, 10]);
                        _b.label = 2;
                    case 2:
                        return [4, __await$1(reader.read())];
                    case 3:
                        _a = _b.sent(), value = _a.value, done = _a.done;
                        if (!done) return [3, 5];
                        return [4, __await$1(void 0)];
                    case 4: return [2, _b.sent()];
                    case 5: return [4, __await$1(value)];
                    case 6: return [4, _b.sent()];
                    case 7:
                        _b.sent();
                        return [3, 2];
                    case 8: return [3, 10];
                    case 9:
                        reader.releaseLock();
                        return [7];
                    case 10: return [2];
                }
            });
        });
    }
    isReadableStreamLike$2.readableStreamLikeToAsyncGenerator = readableStreamLikeToAsyncGenerator$1;
    function isReadableStreamLike$1(obj) {
        return isFunction_1$h.isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);
    }
    isReadableStreamLike$2.isReadableStreamLike = isReadableStreamLike$1;

    var __awaiter$1 = (commonjsGlobal && commonjsGlobal.__awaiter) || function (thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    };
    var __generator$2 = (commonjsGlobal && commonjsGlobal.__generator) || function (thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    };
    var __asyncValues$1 = (commonjsGlobal && commonjsGlobal.__asyncValues) || function (o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values$7 === "function" ? __values$7(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    };
    var __values$7 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(innerFrom$2, "__esModule", { value: true });
    innerFrom$2.fromReadableStreamLike = innerFrom$2.fromAsyncIterable = innerFrom$2.fromIterable = innerFrom$2.fromPromise = innerFrom$2.fromArrayLike = innerFrom$2.fromInteropObservable = innerFrom$2.innerFrom = void 0;
    var isArrayLike_1$3 = isArrayLike$8;
    var isPromise_1$1 = isPromise$3;
    var Observable_1$j = Observable$2;
    var isInteropObservable_1$1 = isInteropObservable$2;
    var isAsyncIterable_1$1 = isAsyncIterable$2;
    var throwUnobservableError_1$1 = throwUnobservableError;
    var isIterable_1$1 = isIterable$2;
    var isReadableStreamLike_1$2 = isReadableStreamLike$2;
    var isFunction_1$g = isFunction$b;
    var reportUnhandledError_1 = reportUnhandledError$2;
    var observable_1 = observable$1;
    function innerFrom$1(input) {
        if (input instanceof Observable_1$j.Observable) {
            return input;
        }
        if (input != null) {
            if (isInteropObservable_1$1.isInteropObservable(input)) {
                return fromInteropObservable$1(input);
            }
            if (isArrayLike_1$3.isArrayLike(input)) {
                return fromArrayLike$1(input);
            }
            if (isPromise_1$1.isPromise(input)) {
                return fromPromise$1(input);
            }
            if (isAsyncIterable_1$1.isAsyncIterable(input)) {
                return fromAsyncIterable$1(input);
            }
            if (isIterable_1$1.isIterable(input)) {
                return fromIterable$1(input);
            }
            if (isReadableStreamLike_1$2.isReadableStreamLike(input)) {
                return fromReadableStreamLike$1(input);
            }
        }
        throw throwUnobservableError_1$1.createInvalidObservableTypeError(input);
    }
    innerFrom$2.innerFrom = innerFrom$1;
    function fromInteropObservable$1(obj) {
        return new Observable_1$j.Observable(function (subscriber) {
            var obs = obj[observable_1.observable]();
            if (isFunction_1$g.isFunction(obs.subscribe)) {
                return obs.subscribe(subscriber);
            }
            throw new TypeError('Provided object does not correctly implement Symbol.observable');
        });
    }
    innerFrom$2.fromInteropObservable = fromInteropObservable$1;
    function fromArrayLike$1(array) {
        return new Observable_1$j.Observable(function (subscriber) {
            for (var i = 0; i < array.length && !subscriber.closed; i++) {
                subscriber.next(array[i]);
            }
            subscriber.complete();
        });
    }
    innerFrom$2.fromArrayLike = fromArrayLike$1;
    function fromPromise$1(promise) {
        return new Observable_1$j.Observable(function (subscriber) {
            promise
                .then(function (value) {
                if (!subscriber.closed) {
                    subscriber.next(value);
                    subscriber.complete();
                }
            }, function (err) { return subscriber.error(err); })
                .then(null, reportUnhandledError_1.reportUnhandledError);
        });
    }
    innerFrom$2.fromPromise = fromPromise$1;
    function fromIterable$1(iterable) {
        return new Observable_1$j.Observable(function (subscriber) {
            var e_1, _a;
            try {
                for (var iterable_1 = __values$7(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {
                    var value = iterable_1_1.value;
                    subscriber.next(value);
                    if (subscriber.closed) {
                        return;
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            subscriber.complete();
        });
    }
    innerFrom$2.fromIterable = fromIterable$1;
    function fromAsyncIterable$1(asyncIterable) {
        return new Observable_1$j.Observable(function (subscriber) {
            process$2(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });
        });
    }
    innerFrom$2.fromAsyncIterable = fromAsyncIterable$1;
    function fromReadableStreamLike$1(readableStream) {
        return fromAsyncIterable$1(isReadableStreamLike_1$2.readableStreamLikeToAsyncGenerator(readableStream));
    }
    innerFrom$2.fromReadableStreamLike = fromReadableStreamLike$1;
    function process$2(asyncIterable, subscriber) {
        var asyncIterable_1, asyncIterable_1_1;
        var e_2, _a;
        return __awaiter$1(this, void 0, void 0, function () {
            var value, e_2_1;
            return __generator$2(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 5, 6, 11]);
                        asyncIterable_1 = __asyncValues$1(asyncIterable);
                        _b.label = 1;
                    case 1: return [4, asyncIterable_1.next()];
                    case 2:
                        if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];
                        value = asyncIterable_1_1.value;
                        subscriber.next(value);
                        if (subscriber.closed) {
                            return [2];
                        }
                        _b.label = 3;
                    case 3: return [3, 1];
                    case 4: return [3, 11];
                    case 5:
                        e_2_1 = _b.sent();
                        e_2 = { error: e_2_1 };
                        return [3, 11];
                    case 6:
                        _b.trys.push([6, , 9, 10]);
                        if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];
                        return [4, _a.call(asyncIterable_1)];
                    case 7:
                        _b.sent();
                        _b.label = 8;
                    case 8: return [3, 10];
                    case 9:
                        if (e_2) throw e_2.error;
                        return [7];
                    case 10: return [7];
                    case 11:
                        subscriber.complete();
                        return [2];
                }
            });
        });
    }

    var observeOn$1 = {};

    var executeSchedule$1 = {};

    Object.defineProperty(executeSchedule$1, "__esModule", { value: true });
    executeSchedule$1.executeSchedule = void 0;
    function executeSchedule(parentSubscription, scheduler, work, delay, repeat) {
        if (delay === void 0) { delay = 0; }
        if (repeat === void 0) { repeat = false; }
        var scheduleSubscription = scheduler.schedule(function () {
            work();
            if (repeat) {
                parentSubscription.add(this.schedule(null, delay));
            }
            else {
                this.unsubscribe();
            }
        }, delay);
        parentSubscription.add(scheduleSubscription);
        if (!repeat) {
            return scheduleSubscription;
        }
    }
    executeSchedule$1.executeSchedule = executeSchedule;

    Object.defineProperty(observeOn$1, "__esModule", { value: true });
    observeOn$1.observeOn = void 0;
    var executeSchedule_1$6 = executeSchedule$1;
    var lift_1$12 = lift;
    var OperatorSubscriber_1$S = OperatorSubscriber$2;
    function observeOn(scheduler, delay) {
        if (delay === void 0) { delay = 0; }
        return lift_1$12.operate(function (source, subscriber) {
            source.subscribe(OperatorSubscriber_1$S.createOperatorSubscriber(subscriber, function (value) { return executeSchedule_1$6.executeSchedule(subscriber, scheduler, function () { return subscriber.next(value); }, delay); }, function () { return executeSchedule_1$6.executeSchedule(subscriber, scheduler, function () { return subscriber.complete(); }, delay); }, function (err) { return executeSchedule_1$6.executeSchedule(subscriber, scheduler, function () { return subscriber.error(err); }, delay); }));
        });
    }
    observeOn$1.observeOn = observeOn;

    var subscribeOn$1 = {};

    Object.defineProperty(subscribeOn$1, "__esModule", { value: true });
    subscribeOn$1.subscribeOn = void 0;
    var lift_1$11 = lift;
    function subscribeOn(scheduler, delay) {
        if (delay === void 0) { delay = 0; }
        return lift_1$11.operate(function (source, subscriber) {
            subscriber.add(scheduler.schedule(function () { return source.subscribe(subscriber); }, delay));
        });
    }
    subscribeOn$1.subscribeOn = subscribeOn;

    Object.defineProperty(scheduleObservable$1, "__esModule", { value: true });
    scheduleObservable$1.scheduleObservable = void 0;
    var innerFrom_1$u = innerFrom$2;
    var observeOn_1$2 = observeOn$1;
    var subscribeOn_1$2 = subscribeOn$1;
    function scheduleObservable(input, scheduler) {
        return innerFrom_1$u.innerFrom(input).pipe(subscribeOn_1$2.subscribeOn(scheduler), observeOn_1$2.observeOn(scheduler));
    }
    scheduleObservable$1.scheduleObservable = scheduleObservable;

    var schedulePromise$1 = {};

    Object.defineProperty(schedulePromise$1, "__esModule", { value: true });
    schedulePromise$1.schedulePromise = void 0;
    var innerFrom_1$t = innerFrom$2;
    var observeOn_1$1 = observeOn$1;
    var subscribeOn_1$1 = subscribeOn$1;
    function schedulePromise(input, scheduler) {
        return innerFrom_1$t.innerFrom(input).pipe(subscribeOn_1$1.subscribeOn(scheduler), observeOn_1$1.observeOn(scheduler));
    }
    schedulePromise$1.schedulePromise = schedulePromise;

    var scheduleArray$1 = {};

    Object.defineProperty(scheduleArray$1, "__esModule", { value: true });
    scheduleArray$1.scheduleArray = void 0;
    var Observable_1$i = Observable$2;
    function scheduleArray(input, scheduler) {
        return new Observable_1$i.Observable(function (subscriber) {
            var i = 0;
            return scheduler.schedule(function () {
                if (i === input.length) {
                    subscriber.complete();
                }
                else {
                    subscriber.next(input[i++]);
                    if (!subscriber.closed) {
                        this.schedule();
                    }
                }
            });
        });
    }
    scheduleArray$1.scheduleArray = scheduleArray;

    var scheduleIterable$1 = {};

    Object.defineProperty(scheduleIterable$1, "__esModule", { value: true });
    scheduleIterable$1.scheduleIterable = void 0;
    var Observable_1$h = Observable$2;
    var iterator_1 = iterator$1;
    var isFunction_1$f = isFunction$b;
    var executeSchedule_1$5 = executeSchedule$1;
    function scheduleIterable(input, scheduler) {
        return new Observable_1$h.Observable(function (subscriber) {
            var iterator;
            executeSchedule_1$5.executeSchedule(subscriber, scheduler, function () {
                iterator = input[iterator_1.iterator]();
                executeSchedule_1$5.executeSchedule(subscriber, scheduler, function () {
                    var _a;
                    var value;
                    var done;
                    try {
                        (_a = iterator.next(), value = _a.value, done = _a.done);
                    }
                    catch (err) {
                        subscriber.error(err);
                        return;
                    }
                    if (done) {
                        subscriber.complete();
                    }
                    else {
                        subscriber.next(value);
                    }
                }, 0, true);
            });
            return function () { return isFunction_1$f.isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };
        });
    }
    scheduleIterable$1.scheduleIterable = scheduleIterable;

    var scheduleAsyncIterable$1 = {};

    Object.defineProperty(scheduleAsyncIterable$1, "__esModule", { value: true });
    scheduleAsyncIterable$1.scheduleAsyncIterable = void 0;
    var Observable_1$g = Observable$2;
    var executeSchedule_1$4 = executeSchedule$1;
    function scheduleAsyncIterable(input, scheduler) {
        if (!input) {
            throw new Error('Iterable cannot be null');
        }
        return new Observable_1$g.Observable(function (subscriber) {
            executeSchedule_1$4.executeSchedule(subscriber, scheduler, function () {
                var iterator = input[Symbol.asyncIterator]();
                executeSchedule_1$4.executeSchedule(subscriber, scheduler, function () {
                    iterator.next().then(function (result) {
                        if (result.done) {
                            subscriber.complete();
                        }
                        else {
                            subscriber.next(result.value);
                        }
                    });
                }, 0, true);
            });
        });
    }
    scheduleAsyncIterable$1.scheduleAsyncIterable = scheduleAsyncIterable;

    var scheduleReadableStreamLike$1 = {};

    Object.defineProperty(scheduleReadableStreamLike$1, "__esModule", { value: true });
    scheduleReadableStreamLike$1.scheduleReadableStreamLike = void 0;
    var scheduleAsyncIterable_1$1 = scheduleAsyncIterable$1;
    var isReadableStreamLike_1$1 = isReadableStreamLike$2;
    function scheduleReadableStreamLike(input, scheduler) {
        return scheduleAsyncIterable_1$1.scheduleAsyncIterable(isReadableStreamLike_1$1.readableStreamLikeToAsyncGenerator(input), scheduler);
    }
    scheduleReadableStreamLike$1.scheduleReadableStreamLike = scheduleReadableStreamLike;

    Object.defineProperty(scheduled$1, "__esModule", { value: true });
    scheduled$1.scheduled = void 0;
    var scheduleObservable_1 = scheduleObservable$1;
    var schedulePromise_1 = schedulePromise$1;
    var scheduleArray_1 = scheduleArray$1;
    var scheduleIterable_1$1 = scheduleIterable$1;
    var scheduleAsyncIterable_1 = scheduleAsyncIterable$1;
    var isInteropObservable_1 = isInteropObservable$2;
    var isPromise_1 = isPromise$3;
    var isArrayLike_1$2 = isArrayLike$8;
    var isIterable_1 = isIterable$2;
    var isAsyncIterable_1 = isAsyncIterable$2;
    var throwUnobservableError_1 = throwUnobservableError;
    var isReadableStreamLike_1 = isReadableStreamLike$2;
    var scheduleReadableStreamLike_1 = scheduleReadableStreamLike$1;
    function scheduled(input, scheduler) {
        if (input != null) {
            if (isInteropObservable_1.isInteropObservable(input)) {
                return scheduleObservable_1.scheduleObservable(input, scheduler);
            }
            if (isArrayLike_1$2.isArrayLike(input)) {
                return scheduleArray_1.scheduleArray(input, scheduler);
            }
            if (isPromise_1.isPromise(input)) {
                return schedulePromise_1.schedulePromise(input, scheduler);
            }
            if (isAsyncIterable_1.isAsyncIterable(input)) {
                return scheduleAsyncIterable_1.scheduleAsyncIterable(input, scheduler);
            }
            if (isIterable_1.isIterable(input)) {
                return scheduleIterable_1$1.scheduleIterable(input, scheduler);
            }
            if (isReadableStreamLike_1.isReadableStreamLike(input)) {
                return scheduleReadableStreamLike_1.scheduleReadableStreamLike(input, scheduler);
            }
        }
        throw throwUnobservableError_1.createInvalidObservableTypeError(input);
    }
    scheduled$1.scheduled = scheduled;

    Object.defineProperty(from$1, "__esModule", { value: true });
    from$1.from = void 0;
    var scheduled_1 = scheduled$1;
    var innerFrom_1$s = innerFrom$2;
    function from(input, scheduler) {
        return scheduler ? scheduled_1.scheduled(input, scheduler) : innerFrom_1$s.innerFrom(input);
    }
    from$1.from = from;

    Object.defineProperty(of$1, "__esModule", { value: true });
    of$1.of = void 0;
    var args_1$c = args;
    var from_1$6 = from$1;
    function of() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var scheduler = args_1$c.popScheduler(args);
        return from_1$6.from(args, scheduler);
    }
    of$1.of = of;

    var throwError$1 = {};

    Object.defineProperty(throwError$1, "__esModule", { value: true });
    throwError$1.throwError = void 0;
    var Observable_1$f = Observable$2;
    var isFunction_1$e = isFunction$b;
    function throwError(errorOrErrorFactory, scheduler) {
        var errorFactory = isFunction_1$e.isFunction(errorOrErrorFactory) ? errorOrErrorFactory : function () { return errorOrErrorFactory; };
        var init = function (subscriber) { return subscriber.error(errorFactory()); };
        return new Observable_1$f.Observable(scheduler ? function (subscriber) { return scheduler.schedule(init, 0, subscriber); } : init);
    }
    throwError$1.throwError = throwError;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.observeNotification = exports.Notification = exports.NotificationKind = void 0;
    	var empty_1 = empty;
    	var of_1 = of$1;
    	var throwError_1 = throwError$1;
    	var isFunction_1 = isFunction$b;
    	(function (NotificationKind) {
    	    NotificationKind["NEXT"] = "N";
    	    NotificationKind["ERROR"] = "E";
    	    NotificationKind["COMPLETE"] = "C";
    	})(exports.NotificationKind || (exports.NotificationKind = {}));
    	var Notification = (function () {
    	    function Notification(kind, value, error) {
    	        this.kind = kind;
    	        this.value = value;
    	        this.error = error;
    	        this.hasValue = kind === 'N';
    	    }
    	    Notification.prototype.observe = function (observer) {
    	        return observeNotification(this, observer);
    	    };
    	    Notification.prototype.do = function (nextHandler, errorHandler, completeHandler) {
    	        var _a = this, kind = _a.kind, value = _a.value, error = _a.error;
    	        return kind === 'N' ? nextHandler === null || nextHandler === void 0 ? void 0 : nextHandler(value) : kind === 'E' ? errorHandler === null || errorHandler === void 0 ? void 0 : errorHandler(error) : completeHandler === null || completeHandler === void 0 ? void 0 : completeHandler();
    	    };
    	    Notification.prototype.accept = function (nextOrObserver, error, complete) {
    	        var _a;
    	        return isFunction_1.isFunction((_a = nextOrObserver) === null || _a === void 0 ? void 0 : _a.next)
    	            ? this.observe(nextOrObserver)
    	            : this.do(nextOrObserver, error, complete);
    	    };
    	    Notification.prototype.toObservable = function () {
    	        var _a = this, kind = _a.kind, value = _a.value, error = _a.error;
    	        var result = kind === 'N'
    	            ?
    	                of_1.of(value)
    	            :
    	                kind === 'E'
    	                    ?
    	                        throwError_1.throwError(function () { return error; })
    	                    :
    	                        kind === 'C'
    	                            ?
    	                                empty_1.EMPTY
    	                            :
    	                                0;
    	        if (!result) {
    	            throw new TypeError("Unexpected notification kind " + kind);
    	        }
    	        return result;
    	    };
    	    Notification.createNext = function (value) {
    	        return new Notification('N', value);
    	    };
    	    Notification.createError = function (err) {
    	        return new Notification('E', undefined, err);
    	    };
    	    Notification.createComplete = function () {
    	        return Notification.completeNotification;
    	    };
    	    Notification.completeNotification = new Notification('C');
    	    return Notification;
    	}());
    	exports.Notification = Notification;
    	function observeNotification(notification, observer) {
    	    var _a, _b, _c;
    	    var _d = notification, kind = _d.kind, value = _d.value, error = _d.error;
    	    if (typeof kind !== 'string') {
    	        throw new TypeError('Invalid notification, missing "kind"');
    	    }
    	    kind === 'N' ? (_a = observer.next) === null || _a === void 0 ? void 0 : _a.call(observer, value) : kind === 'E' ? (_b = observer.error) === null || _b === void 0 ? void 0 : _b.call(observer, error) : (_c = observer.complete) === null || _c === void 0 ? void 0 : _c.call(observer);
    	}
    	exports.observeNotification = observeNotification;
    	
    } (Notification));

    var isObservable$1 = {};

    Object.defineProperty(isObservable$1, "__esModule", { value: true });
    isObservable$1.isObservable = void 0;
    var Observable_1$e = Observable$2;
    var isFunction_1$d = isFunction$b;
    function isObservable(obj) {
        return !!obj && (obj instanceof Observable_1$e.Observable || (isFunction_1$d.isFunction(obj.lift) && isFunction_1$d.isFunction(obj.subscribe)));
    }
    isObservable$1.isObservable = isObservable;

    var lastValueFrom$1 = {};

    var EmptyError = {};

    Object.defineProperty(EmptyError, "__esModule", { value: true });
    EmptyError.EmptyError = void 0;
    var createErrorClass_1$3 = createErrorClass$2;
    EmptyError.EmptyError = createErrorClass_1$3.createErrorClass(function (_super) { return function EmptyErrorImpl() {
        _super(this);
        this.name = 'EmptyError';
        this.message = 'no elements in sequence';
    }; });

    Object.defineProperty(lastValueFrom$1, "__esModule", { value: true });
    lastValueFrom$1.lastValueFrom = void 0;
    var EmptyError_1$5 = EmptyError;
    function lastValueFrom(source, config) {
        var hasConfig = typeof config === 'object';
        return new Promise(function (resolve, reject) {
            var _hasValue = false;
            var _value;
            source.subscribe({
                next: function (value) {
                    _value = value;
                    _hasValue = true;
                },
                error: reject,
                complete: function () {
                    if (_hasValue) {
                        resolve(_value);
                    }
                    else if (hasConfig) {
                        resolve(config.defaultValue);
                    }
                    else {
                        reject(new EmptyError_1$5.EmptyError());
                    }
                },
            });
        });
    }
    lastValueFrom$1.lastValueFrom = lastValueFrom;

    var firstValueFrom$1 = {};

    Object.defineProperty(firstValueFrom$1, "__esModule", { value: true });
    firstValueFrom$1.firstValueFrom = void 0;
    var EmptyError_1$4 = EmptyError;
    var Subscriber_1$1 = Subscriber$1;
    function firstValueFrom(source, config) {
        var hasConfig = typeof config === 'object';
        return new Promise(function (resolve, reject) {
            var subscriber = new Subscriber_1$1.SafeSubscriber({
                next: function (value) {
                    resolve(value);
                    subscriber.unsubscribe();
                },
                error: reject,
                complete: function () {
                    if (hasConfig) {
                        resolve(config.defaultValue);
                    }
                    else {
                        reject(new EmptyError_1$4.EmptyError());
                    }
                },
            });
            source.subscribe(subscriber);
        });
    }
    firstValueFrom$1.firstValueFrom = firstValueFrom;

    var ArgumentOutOfRangeError = {};

    Object.defineProperty(ArgumentOutOfRangeError, "__esModule", { value: true });
    ArgumentOutOfRangeError.ArgumentOutOfRangeError = void 0;
    var createErrorClass_1$2 = createErrorClass$2;
    ArgumentOutOfRangeError.ArgumentOutOfRangeError = createErrorClass_1$2.createErrorClass(function (_super) {
        return function ArgumentOutOfRangeErrorImpl() {
            _super(this);
            this.name = 'ArgumentOutOfRangeError';
            this.message = 'argument out of range';
        };
    });

    var NotFoundError = {};

    Object.defineProperty(NotFoundError, "__esModule", { value: true });
    NotFoundError.NotFoundError = void 0;
    var createErrorClass_1$1 = createErrorClass$2;
    NotFoundError.NotFoundError = createErrorClass_1$1.createErrorClass(function (_super) {
        return function NotFoundErrorImpl(message) {
            _super(this);
            this.name = 'NotFoundError';
            this.message = message;
        };
    });

    var SequenceError = {};

    Object.defineProperty(SequenceError, "__esModule", { value: true });
    SequenceError.SequenceError = void 0;
    var createErrorClass_1 = createErrorClass$2;
    SequenceError.SequenceError = createErrorClass_1.createErrorClass(function (_super) {
        return function SequenceErrorImpl(message) {
            _super(this);
            this.name = 'SequenceError';
            this.message = message;
        };
    });

    var timeout = {};

    var isDate = {};

    Object.defineProperty(isDate, "__esModule", { value: true });
    isDate.isValidDate = void 0;
    function isValidDate(value) {
        return value instanceof Date && !isNaN(value);
    }
    isDate.isValidDate = isValidDate;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.timeout = exports.TimeoutError = void 0;
    	var async_1 = async;
    	var isDate_1 = isDate;
    	var lift_1 = lift;
    	var innerFrom_1 = innerFrom$2;
    	var createErrorClass_1 = createErrorClass$2;
    	var OperatorSubscriber_1 = OperatorSubscriber$2;
    	var executeSchedule_1 = executeSchedule$1;
    	exports.TimeoutError = createErrorClass_1.createErrorClass(function (_super) {
    	    return function TimeoutErrorImpl(info) {
    	        if (info === void 0) { info = null; }
    	        _super(this);
    	        this.message = 'Timeout has occurred';
    	        this.name = 'TimeoutError';
    	        this.info = info;
    	    };
    	});
    	function timeout(config, schedulerArg) {
    	    var _a = (isDate_1.isValidDate(config) ? { first: config } : typeof config === 'number' ? { each: config } : config), first = _a.first, each = _a.each, _b = _a.with, _with = _b === void 0 ? timeoutErrorFactory : _b, _c = _a.scheduler, scheduler = _c === void 0 ? schedulerArg !== null && schedulerArg !== void 0 ? schedulerArg : async_1.asyncScheduler : _c, _d = _a.meta, meta = _d === void 0 ? null : _d;
    	    if (first == null && each == null) {
    	        throw new TypeError('No timeout provided.');
    	    }
    	    return lift_1.operate(function (source, subscriber) {
    	        var originalSourceSubscription;
    	        var timerSubscription;
    	        var lastValue = null;
    	        var seen = 0;
    	        var startTimer = function (delay) {
    	            timerSubscription = executeSchedule_1.executeSchedule(subscriber, scheduler, function () {
    	                try {
    	                    originalSourceSubscription.unsubscribe();
    	                    innerFrom_1.innerFrom(_with({
    	                        meta: meta,
    	                        lastValue: lastValue,
    	                        seen: seen,
    	                    })).subscribe(subscriber);
    	                }
    	                catch (err) {
    	                    subscriber.error(err);
    	                }
    	            }, delay);
    	        };
    	        originalSourceSubscription = source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {
    	            timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();
    	            seen++;
    	            subscriber.next((lastValue = value));
    	            each > 0 && startTimer(each);
    	        }, undefined, undefined, function () {
    	            if (!(timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.closed)) {
    	                timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();
    	            }
    	            lastValue = null;
    	        }));
    	        !seen && startTimer(first != null ? (typeof first === 'number' ? first : +first - scheduler.now()) : each);
    	    });
    	}
    	exports.timeout = timeout;
    	function timeoutErrorFactory(info) {
    	    throw new exports.TimeoutError(info);
    	}
    	
    } (timeout));

    var bindCallback$1 = {};

    var bindCallbackInternals$1 = {};

    var mapOneOrManyArgs$1 = {};

    var map$2 = {};

    Object.defineProperty(map$2, "__esModule", { value: true });
    map$2.map = void 0;
    var lift_1$10 = lift;
    var OperatorSubscriber_1$R = OperatorSubscriber$2;
    function map$1(project, thisArg) {
        return lift_1$10.operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(OperatorSubscriber_1$R.createOperatorSubscriber(subscriber, function (value) {
                subscriber.next(project.call(thisArg, value, index++));
            }));
        });
    }
    map$2.map = map$1;

    var __read$h = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$g = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(mapOneOrManyArgs$1, "__esModule", { value: true });
    mapOneOrManyArgs$1.mapOneOrManyArgs = void 0;
    var map_1$5 = map$2;
    var isArray$f = Array.isArray;
    function callOrApply(fn, args) {
        return isArray$f(args) ? fn.apply(void 0, __spreadArray$g([], __read$h(args))) : fn(args);
    }
    function mapOneOrManyArgs(fn) {
        return map_1$5.map(function (args) { return callOrApply(fn, args); });
    }
    mapOneOrManyArgs$1.mapOneOrManyArgs = mapOneOrManyArgs;

    var __read$g = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$f = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(bindCallbackInternals$1, "__esModule", { value: true });
    bindCallbackInternals$1.bindCallbackInternals = void 0;
    var isScheduler_1$2 = isScheduler$1;
    var Observable_1$d = Observable$2;
    var subscribeOn_1 = subscribeOn$1;
    var mapOneOrManyArgs_1$6 = mapOneOrManyArgs$1;
    var observeOn_1 = observeOn$1;
    var AsyncSubject_1$1 = AsyncSubject$1;
    function bindCallbackInternals(isNodeStyle, callbackFunc, resultSelector, scheduler) {
        if (resultSelector) {
            if (isScheduler_1$2.isScheduler(resultSelector)) {
                scheduler = resultSelector;
            }
            else {
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return bindCallbackInternals(isNodeStyle, callbackFunc, scheduler)
                        .apply(this, args)
                        .pipe(mapOneOrManyArgs_1$6.mapOneOrManyArgs(resultSelector));
                };
            }
        }
        if (scheduler) {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return bindCallbackInternals(isNodeStyle, callbackFunc)
                    .apply(this, args)
                    .pipe(subscribeOn_1.subscribeOn(scheduler), observeOn_1.observeOn(scheduler));
            };
        }
        return function () {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var subject = new AsyncSubject_1$1.AsyncSubject();
            var uninitialized = true;
            return new Observable_1$d.Observable(function (subscriber) {
                var subs = subject.subscribe(subscriber);
                if (uninitialized) {
                    uninitialized = false;
                    var isAsync_1 = false;
                    var isComplete_1 = false;
                    callbackFunc.apply(_this, __spreadArray$f(__spreadArray$f([], __read$g(args)), [
                        function () {
                            var results = [];
                            for (var _i = 0; _i < arguments.length; _i++) {
                                results[_i] = arguments[_i];
                            }
                            if (isNodeStyle) {
                                var err = results.shift();
                                if (err != null) {
                                    subject.error(err);
                                    return;
                                }
                            }
                            subject.next(1 < results.length ? results : results[0]);
                            isComplete_1 = true;
                            if (isAsync_1) {
                                subject.complete();
                            }
                        },
                    ]));
                    if (isComplete_1) {
                        subject.complete();
                    }
                    isAsync_1 = true;
                }
                return subs;
            });
        };
    }
    bindCallbackInternals$1.bindCallbackInternals = bindCallbackInternals;

    Object.defineProperty(bindCallback$1, "__esModule", { value: true });
    bindCallback$1.bindCallback = void 0;
    var bindCallbackInternals_1$1 = bindCallbackInternals$1;
    function bindCallback(callbackFunc, resultSelector, scheduler) {
        return bindCallbackInternals_1$1.bindCallbackInternals(false, callbackFunc, resultSelector, scheduler);
    }
    bindCallback$1.bindCallback = bindCallback;

    var bindNodeCallback$1 = {};

    Object.defineProperty(bindNodeCallback$1, "__esModule", { value: true });
    bindNodeCallback$1.bindNodeCallback = void 0;
    var bindCallbackInternals_1 = bindCallbackInternals$1;
    function bindNodeCallback(callbackFunc, resultSelector, scheduler) {
        return bindCallbackInternals_1.bindCallbackInternals(true, callbackFunc, resultSelector, scheduler);
    }
    bindNodeCallback$1.bindNodeCallback = bindNodeCallback;

    var combineLatest$3 = {};

    var argsArgArrayOrObject$1 = {};

    Object.defineProperty(argsArgArrayOrObject$1, "__esModule", { value: true });
    argsArgArrayOrObject$1.argsArgArrayOrObject = void 0;
    var isArray$e = Array.isArray;
    var getPrototypeOf = Object.getPrototypeOf, objectProto$f = Object.prototype, getKeys = Object.keys;
    function argsArgArrayOrObject(args) {
        if (args.length === 1) {
            var first_1 = args[0];
            if (isArray$e(first_1)) {
                return { args: first_1, keys: null };
            }
            if (isPOJO(first_1)) {
                var keys = getKeys(first_1);
                return {
                    args: keys.map(function (key) { return first_1[key]; }),
                    keys: keys,
                };
            }
        }
        return { args: args, keys: null };
    }
    argsArgArrayOrObject$1.argsArgArrayOrObject = argsArgArrayOrObject;
    function isPOJO(obj) {
        return obj && typeof obj === 'object' && getPrototypeOf(obj) === objectProto$f;
    }

    var createObject$1 = {};

    Object.defineProperty(createObject$1, "__esModule", { value: true });
    createObject$1.createObject = void 0;
    function createObject(keys, values) {
        return keys.reduce(function (result, key, i) { return ((result[key] = values[i]), result); }, {});
    }
    createObject$1.createObject = createObject;

    Object.defineProperty(combineLatest$3, "__esModule", { value: true });
    combineLatest$3.combineLatestInit = combineLatest$3.combineLatest = void 0;
    var Observable_1$c = Observable$2;
    var argsArgArrayOrObject_1$1 = argsArgArrayOrObject$1;
    var from_1$5 = from$1;
    var identity_1$e = identity$7;
    var mapOneOrManyArgs_1$5 = mapOneOrManyArgs$1;
    var args_1$b = args;
    var createObject_1$1 = createObject$1;
    var OperatorSubscriber_1$Q = OperatorSubscriber$2;
    var executeSchedule_1$3 = executeSchedule$1;
    function combineLatest$2() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var scheduler = args_1$b.popScheduler(args);
        var resultSelector = args_1$b.popResultSelector(args);
        var _a = argsArgArrayOrObject_1$1.argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;
        if (observables.length === 0) {
            return from_1$5.from([], scheduler);
        }
        var result = new Observable_1$c.Observable(combineLatestInit(observables, scheduler, keys
            ?
                function (values) { return createObject_1$1.createObject(keys, values); }
            :
                identity_1$e.identity));
        return resultSelector ? result.pipe(mapOneOrManyArgs_1$5.mapOneOrManyArgs(resultSelector)) : result;
    }
    combineLatest$3.combineLatest = combineLatest$2;
    function combineLatestInit(observables, scheduler, valueTransform) {
        if (valueTransform === void 0) { valueTransform = identity_1$e.identity; }
        return function (subscriber) {
            maybeSchedule(scheduler, function () {
                var length = observables.length;
                var values = new Array(length);
                var active = length;
                var remainingFirstValues = length;
                var _loop_1 = function (i) {
                    maybeSchedule(scheduler, function () {
                        var source = from_1$5.from(observables[i], scheduler);
                        var hasFirstValue = false;
                        source.subscribe(OperatorSubscriber_1$Q.createOperatorSubscriber(subscriber, function (value) {
                            values[i] = value;
                            if (!hasFirstValue) {
                                hasFirstValue = true;
                                remainingFirstValues--;
                            }
                            if (!remainingFirstValues) {
                                subscriber.next(valueTransform(values.slice()));
                            }
                        }, function () {
                            if (!--active) {
                                subscriber.complete();
                            }
                        }));
                    }, subscriber);
                };
                for (var i = 0; i < length; i++) {
                    _loop_1(i);
                }
            }, subscriber);
        };
    }
    combineLatest$3.combineLatestInit = combineLatestInit;
    function maybeSchedule(scheduler, execute, subscription) {
        if (scheduler) {
            executeSchedule_1$3.executeSchedule(subscription, scheduler, execute);
        }
        else {
            execute();
        }
    }

    var concat$3 = {};

    var concatAll$1 = {};

    var mergeAll$1 = {};

    var mergeMap$1 = {};

    var mergeInternals$1 = {};

    Object.defineProperty(mergeInternals$1, "__esModule", { value: true });
    mergeInternals$1.mergeInternals = void 0;
    var innerFrom_1$r = innerFrom$2;
    var executeSchedule_1$2 = executeSchedule$1;
    var OperatorSubscriber_1$P = OperatorSubscriber$2;
    function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {
        var buffer = [];
        var active = 0;
        var index = 0;
        var isComplete = false;
        var checkComplete = function () {
            if (isComplete && !buffer.length && !active) {
                subscriber.complete();
            }
        };
        var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };
        var doInnerSub = function (value) {
            expand && subscriber.next(value);
            active++;
            var innerComplete = false;
            innerFrom_1$r.innerFrom(project(value, index++)).subscribe(OperatorSubscriber_1$P.createOperatorSubscriber(subscriber, function (innerValue) {
                onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);
                if (expand) {
                    outerNext(innerValue);
                }
                else {
                    subscriber.next(innerValue);
                }
            }, function () {
                innerComplete = true;
            }, undefined, function () {
                if (innerComplete) {
                    try {
                        active--;
                        var _loop_1 = function () {
                            var bufferedValue = buffer.shift();
                            if (innerSubScheduler) {
                                executeSchedule_1$2.executeSchedule(subscriber, innerSubScheduler, function () { return doInnerSub(bufferedValue); });
                            }
                            else {
                                doInnerSub(bufferedValue);
                            }
                        };
                        while (buffer.length && active < concurrent) {
                            _loop_1();
                        }
                        checkComplete();
                    }
                    catch (err) {
                        subscriber.error(err);
                    }
                }
            }));
        };
        source.subscribe(OperatorSubscriber_1$P.createOperatorSubscriber(subscriber, outerNext, function () {
            isComplete = true;
            checkComplete();
        }));
        return function () {
            additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();
        };
    }
    mergeInternals$1.mergeInternals = mergeInternals;

    Object.defineProperty(mergeMap$1, "__esModule", { value: true });
    mergeMap$1.mergeMap = void 0;
    var map_1$4 = map$2;
    var innerFrom_1$q = innerFrom$2;
    var lift_1$$ = lift;
    var mergeInternals_1$2 = mergeInternals$1;
    var isFunction_1$c = isFunction$b;
    function mergeMap(project, resultSelector, concurrent) {
        if (concurrent === void 0) { concurrent = Infinity; }
        if (isFunction_1$c.isFunction(resultSelector)) {
            return mergeMap(function (a, i) { return map_1$4.map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom_1$q.innerFrom(project(a, i))); }, concurrent);
        }
        else if (typeof resultSelector === 'number') {
            concurrent = resultSelector;
        }
        return lift_1$$.operate(function (source, subscriber) { return mergeInternals_1$2.mergeInternals(source, subscriber, project, concurrent); });
    }
    mergeMap$1.mergeMap = mergeMap;

    Object.defineProperty(mergeAll$1, "__esModule", { value: true });
    mergeAll$1.mergeAll = void 0;
    var mergeMap_1$6 = mergeMap$1;
    var identity_1$d = identity$7;
    function mergeAll(concurrent) {
        if (concurrent === void 0) { concurrent = Infinity; }
        return mergeMap_1$6.mergeMap(identity_1$d.identity, concurrent);
    }
    mergeAll$1.mergeAll = mergeAll;

    Object.defineProperty(concatAll$1, "__esModule", { value: true });
    concatAll$1.concatAll = void 0;
    var mergeAll_1$2 = mergeAll$1;
    function concatAll() {
        return mergeAll_1$2.mergeAll(1);
    }
    concatAll$1.concatAll = concatAll;

    Object.defineProperty(concat$3, "__esModule", { value: true });
    concat$3.concat = void 0;
    var concatAll_1$1 = concatAll$1;
    var args_1$a = args;
    var from_1$4 = from$1;
    function concat$2() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return concatAll_1$1.concatAll()(from_1$4.from(args, args_1$a.popScheduler(args)));
    }
    concat$3.concat = concat$2;

    var connectable$1 = {};

    var defer$1 = {};

    Object.defineProperty(defer$1, "__esModule", { value: true });
    defer$1.defer = void 0;
    var Observable_1$b = Observable$2;
    var innerFrom_1$p = innerFrom$2;
    function defer(observableFactory) {
        return new Observable_1$b.Observable(function (subscriber) {
            innerFrom_1$p.innerFrom(observableFactory()).subscribe(subscriber);
        });
    }
    defer$1.defer = defer;

    Object.defineProperty(connectable$1, "__esModule", { value: true });
    connectable$1.connectable = void 0;
    var Subject_1$b = Subject$1;
    var Observable_1$a = Observable$2;
    var defer_1$2 = defer$1;
    var DEFAULT_CONFIG$1 = {
        connector: function () { return new Subject_1$b.Subject(); },
        resetOnDisconnect: true,
    };
    function connectable(source, config) {
        if (config === void 0) { config = DEFAULT_CONFIG$1; }
        var connection = null;
        var connector = config.connector, _a = config.resetOnDisconnect, resetOnDisconnect = _a === void 0 ? true : _a;
        var subject = connector();
        var result = new Observable_1$a.Observable(function (subscriber) {
            return subject.subscribe(subscriber);
        });
        result.connect = function () {
            if (!connection || connection.closed) {
                connection = defer_1$2.defer(function () { return source; }).subscribe(subject);
                if (resetOnDisconnect) {
                    connection.add(function () { return (subject = connector()); });
                }
            }
            return connection;
        };
        return result;
    }
    connectable$1.connectable = connectable;

    var forkJoin$1 = {};

    Object.defineProperty(forkJoin$1, "__esModule", { value: true });
    forkJoin$1.forkJoin = void 0;
    var Observable_1$9 = Observable$2;
    var argsArgArrayOrObject_1 = argsArgArrayOrObject$1;
    var innerFrom_1$o = innerFrom$2;
    var args_1$9 = args;
    var OperatorSubscriber_1$O = OperatorSubscriber$2;
    var mapOneOrManyArgs_1$4 = mapOneOrManyArgs$1;
    var createObject_1 = createObject$1;
    function forkJoin() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var resultSelector = args_1$9.popResultSelector(args);
        var _a = argsArgArrayOrObject_1.argsArgArrayOrObject(args), sources = _a.args, keys = _a.keys;
        var result = new Observable_1$9.Observable(function (subscriber) {
            var length = sources.length;
            if (!length) {
                subscriber.complete();
                return;
            }
            var values = new Array(length);
            var remainingCompletions = length;
            var remainingEmissions = length;
            var _loop_1 = function (sourceIndex) {
                var hasValue = false;
                innerFrom_1$o.innerFrom(sources[sourceIndex]).subscribe(OperatorSubscriber_1$O.createOperatorSubscriber(subscriber, function (value) {
                    if (!hasValue) {
                        hasValue = true;
                        remainingEmissions--;
                    }
                    values[sourceIndex] = value;
                }, function () { return remainingCompletions--; }, undefined, function () {
                    if (!remainingCompletions || !hasValue) {
                        if (!remainingEmissions) {
                            subscriber.next(keys ? createObject_1.createObject(keys, values) : values);
                        }
                        subscriber.complete();
                    }
                }));
            };
            for (var sourceIndex = 0; sourceIndex < length; sourceIndex++) {
                _loop_1(sourceIndex);
            }
        });
        return resultSelector ? result.pipe(mapOneOrManyArgs_1$4.mapOneOrManyArgs(resultSelector)) : result;
    }
    forkJoin$1.forkJoin = forkJoin;

    var fromEvent$1 = {};

    var __read$f = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    Object.defineProperty(fromEvent$1, "__esModule", { value: true });
    fromEvent$1.fromEvent = void 0;
    var innerFrom_1$n = innerFrom$2;
    var Observable_1$8 = Observable$2;
    var mergeMap_1$5 = mergeMap$1;
    var isArrayLike_1$1 = isArrayLike$8;
    var isFunction_1$b = isFunction$b;
    var mapOneOrManyArgs_1$3 = mapOneOrManyArgs$1;
    var nodeEventEmitterMethods = ['addListener', 'removeListener'];
    var eventTargetMethods = ['addEventListener', 'removeEventListener'];
    var jqueryMethods = ['on', 'off'];
    function fromEvent(target, eventName, options, resultSelector) {
        if (isFunction_1$b.isFunction(options)) {
            resultSelector = options;
            options = undefined;
        }
        if (resultSelector) {
            return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs_1$3.mapOneOrManyArgs(resultSelector));
        }
        var _a = __read$f(isEventTarget(target)
            ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })
            :
                isNodeStyleEventEmitter(target)
                    ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))
                    : isJQueryStyleEventEmitter(target)
                        ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))
                        : [], 2), add = _a[0], remove = _a[1];
        if (!add) {
            if (isArrayLike_1$1.isArrayLike(target)) {
                return mergeMap_1$5.mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(innerFrom_1$n.innerFrom(target));
            }
        }
        if (!add) {
            throw new TypeError('Invalid event target');
        }
        return new Observable_1$8.Observable(function (subscriber) {
            var handler = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return subscriber.next(1 < args.length ? args : args[0]);
            };
            add(handler);
            return function () { return remove(handler); };
        });
    }
    fromEvent$1.fromEvent = fromEvent;
    function toCommonHandlerRegistry(target, eventName) {
        return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };
    }
    function isNodeStyleEventEmitter(target) {
        return isFunction_1$b.isFunction(target.addListener) && isFunction_1$b.isFunction(target.removeListener);
    }
    function isJQueryStyleEventEmitter(target) {
        return isFunction_1$b.isFunction(target.on) && isFunction_1$b.isFunction(target.off);
    }
    function isEventTarget(target) {
        return isFunction_1$b.isFunction(target.addEventListener) && isFunction_1$b.isFunction(target.removeEventListener);
    }

    var fromEventPattern$1 = {};

    Object.defineProperty(fromEventPattern$1, "__esModule", { value: true });
    fromEventPattern$1.fromEventPattern = void 0;
    var Observable_1$7 = Observable$2;
    var isFunction_1$a = isFunction$b;
    var mapOneOrManyArgs_1$2 = mapOneOrManyArgs$1;
    function fromEventPattern(addHandler, removeHandler, resultSelector) {
        if (resultSelector) {
            return fromEventPattern(addHandler, removeHandler).pipe(mapOneOrManyArgs_1$2.mapOneOrManyArgs(resultSelector));
        }
        return new Observable_1$7.Observable(function (subscriber) {
            var handler = function () {
                var e = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    e[_i] = arguments[_i];
                }
                return subscriber.next(e.length === 1 ? e[0] : e);
            };
            var retValue = addHandler(handler);
            return isFunction_1$a.isFunction(removeHandler) ? function () { return removeHandler(handler, retValue); } : undefined;
        });
    }
    fromEventPattern$1.fromEventPattern = fromEventPattern;

    var generate$1 = {};

    var __generator$1 = (commonjsGlobal && commonjsGlobal.__generator) || function (thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    };
    Object.defineProperty(generate$1, "__esModule", { value: true });
    generate$1.generate = void 0;
    var identity_1$c = identity$7;
    var isScheduler_1$1 = isScheduler$1;
    var defer_1$1 = defer$1;
    var scheduleIterable_1 = scheduleIterable$1;
    function generate(initialStateOrOptions, condition, iterate, resultSelectorOrScheduler, scheduler) {
        var _a, _b;
        var resultSelector;
        var initialState;
        if (arguments.length === 1) {
            (_a = initialStateOrOptions, initialState = _a.initialState, condition = _a.condition, iterate = _a.iterate, _b = _a.resultSelector, resultSelector = _b === void 0 ? identity_1$c.identity : _b, scheduler = _a.scheduler);
        }
        else {
            initialState = initialStateOrOptions;
            if (!resultSelectorOrScheduler || isScheduler_1$1.isScheduler(resultSelectorOrScheduler)) {
                resultSelector = identity_1$c.identity;
                scheduler = resultSelectorOrScheduler;
            }
            else {
                resultSelector = resultSelectorOrScheduler;
            }
        }
        function gen() {
            var state;
            return __generator$1(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        state = initialState;
                        _a.label = 1;
                    case 1:
                        if (!(!condition || condition(state))) return [3, 4];
                        return [4, resultSelector(state)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        state = iterate(state);
                        return [3, 1];
                    case 4: return [2];
                }
            });
        }
        return defer_1$1.defer((scheduler
            ?
                function () { return scheduleIterable_1.scheduleIterable(gen(), scheduler); }
            :
                gen));
    }
    generate$1.generate = generate;

    var iif$1 = {};

    Object.defineProperty(iif$1, "__esModule", { value: true });
    iif$1.iif = void 0;
    var defer_1 = defer$1;
    function iif(condition, trueResult, falseResult) {
        return defer_1.defer(function () { return (condition() ? trueResult : falseResult); });
    }
    iif$1.iif = iif;

    var interval$1 = {};

    var timer$1 = {};

    Object.defineProperty(timer$1, "__esModule", { value: true });
    timer$1.timer = void 0;
    var Observable_1$6 = Observable$2;
    var async_1$a = async;
    var isScheduler_1 = isScheduler$1;
    var isDate_1$1 = isDate;
    function timer(dueTime, intervalOrScheduler, scheduler) {
        if (dueTime === void 0) { dueTime = 0; }
        if (scheduler === void 0) { scheduler = async_1$a.async; }
        var intervalDuration = -1;
        if (intervalOrScheduler != null) {
            if (isScheduler_1.isScheduler(intervalOrScheduler)) {
                scheduler = intervalOrScheduler;
            }
            else {
                intervalDuration = intervalOrScheduler;
            }
        }
        return new Observable_1$6.Observable(function (subscriber) {
            var due = isDate_1$1.isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;
            if (due < 0) {
                due = 0;
            }
            var n = 0;
            return scheduler.schedule(function () {
                if (!subscriber.closed) {
                    subscriber.next(n++);
                    if (0 <= intervalDuration) {
                        this.schedule(undefined, intervalDuration);
                    }
                    else {
                        subscriber.complete();
                    }
                }
            }, due);
        });
    }
    timer$1.timer = timer;

    Object.defineProperty(interval$1, "__esModule", { value: true });
    interval$1.interval = void 0;
    var async_1$9 = async;
    var timer_1$5 = timer$1;
    function interval(period, scheduler) {
        if (period === void 0) { period = 0; }
        if (scheduler === void 0) { scheduler = async_1$9.asyncScheduler; }
        if (period < 0) {
            period = 0;
        }
        return timer_1$5.timer(period, period, scheduler);
    }
    interval$1.interval = interval;

    var merge$4 = {};

    Object.defineProperty(merge$4, "__esModule", { value: true });
    merge$4.merge = void 0;
    var mergeAll_1$1 = mergeAll$1;
    var innerFrom_1$m = innerFrom$2;
    var empty_1$7 = empty;
    var args_1$8 = args;
    var from_1$3 = from$1;
    function merge$3() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var scheduler = args_1$8.popScheduler(args);
        var concurrent = args_1$8.popNumber(args, Infinity);
        var sources = args;
        return !sources.length
            ?
                empty_1$7.EMPTY
            : sources.length === 1
                ?
                    innerFrom_1$m.innerFrom(sources[0])
                :
                    mergeAll_1$1.mergeAll(concurrent)(from_1$3.from(sources, scheduler));
    }
    merge$4.merge = merge$3;

    var never = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.never = exports.NEVER = void 0;
    	var Observable_1 = Observable$2;
    	var noop_1 = noop$2;
    	exports.NEVER = new Observable_1.Observable(noop_1.noop);
    	function never() {
    	    return exports.NEVER;
    	}
    	exports.never = never;
    	
    } (never));

    var onErrorResumeNext$3 = {};

    var onErrorResumeNext$2 = {};

    var argsOrArgArray$1 = {};

    Object.defineProperty(argsOrArgArray$1, "__esModule", { value: true });
    argsOrArgArray$1.argsOrArgArray = void 0;
    var isArray$d = Array.isArray;
    function argsOrArgArray(args) {
        return args.length === 1 && isArray$d(args[0]) ? args[0] : args;
    }
    argsOrArgArray$1.argsOrArgArray = argsOrArgArray;

    var __read$e = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$e = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(onErrorResumeNext$2, "__esModule", { value: true });
    onErrorResumeNext$2.onErrorResumeNext = void 0;
    var lift_1$_ = lift;
    var innerFrom_1$l = innerFrom$2;
    var argsOrArgArray_1$5 = argsOrArgArray$1;
    var OperatorSubscriber_1$N = OperatorSubscriber$2;
    var noop_1$c = noop$2;
    function onErrorResumeNext$1() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        var nextSources = argsOrArgArray_1$5.argsOrArgArray(sources);
        return lift_1$_.operate(function (source, subscriber) {
            var remaining = __spreadArray$e([source], __read$e(nextSources));
            var subscribeNext = function () {
                if (!subscriber.closed) {
                    if (remaining.length > 0) {
                        var nextSource = void 0;
                        try {
                            nextSource = innerFrom_1$l.innerFrom(remaining.shift());
                        }
                        catch (err) {
                            subscribeNext();
                            return;
                        }
                        var innerSub = OperatorSubscriber_1$N.createOperatorSubscriber(subscriber, undefined, noop_1$c.noop, noop_1$c.noop);
                        nextSource.subscribe(innerSub);
                        innerSub.add(subscribeNext);
                    }
                    else {
                        subscriber.complete();
                    }
                }
            };
            subscribeNext();
        });
    }
    onErrorResumeNext$2.onErrorResumeNext = onErrorResumeNext$1;

    Object.defineProperty(onErrorResumeNext$3, "__esModule", { value: true });
    onErrorResumeNext$3.onErrorResumeNext = void 0;
    var empty_1$6 = empty;
    var onErrorResumeNext_1 = onErrorResumeNext$2;
    var argsOrArgArray_1$4 = argsOrArgArray$1;
    function onErrorResumeNext() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        return onErrorResumeNext_1.onErrorResumeNext(argsOrArgArray_1$4.argsOrArgArray(sources))(empty_1$6.EMPTY);
    }
    onErrorResumeNext$3.onErrorResumeNext = onErrorResumeNext;

    var pairs$1 = {};

    Object.defineProperty(pairs$1, "__esModule", { value: true });
    pairs$1.pairs = void 0;
    var from_1$2 = from$1;
    function pairs(obj, scheduler) {
        return from_1$2.from(Object.entries(obj), scheduler);
    }
    pairs$1.pairs = pairs;

    var partition$1 = {};

    var not$1 = {};

    Object.defineProperty(not$1, "__esModule", { value: true });
    not$1.not = void 0;
    function not(pred, thisArg) {
        return function (value, index) { return !pred.call(thisArg, value, index); };
    }
    not$1.not = not;

    var filter$6 = {};

    Object.defineProperty(filter$6, "__esModule", { value: true });
    filter$6.filter = void 0;
    var lift_1$Z = lift;
    var OperatorSubscriber_1$M = OperatorSubscriber$2;
    function filter$5(predicate, thisArg) {
        return lift_1$Z.operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(OperatorSubscriber_1$M.createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));
        });
    }
    filter$6.filter = filter$5;

    Object.defineProperty(partition$1, "__esModule", { value: true });
    partition$1.partition = void 0;
    var not_1 = not$1;
    var filter_1$4 = filter$6;
    var innerFrom_1$k = innerFrom$2;
    function partition(source, predicate, thisArg) {
        return [filter_1$4.filter(predicate, thisArg)(innerFrom_1$k.innerFrom(source)), filter_1$4.filter(not_1.not(predicate, thisArg))(innerFrom_1$k.innerFrom(source))];
    }
    partition$1.partition = partition;

    var race$1 = {};

    Object.defineProperty(race$1, "__esModule", { value: true });
    race$1.raceInit = race$1.race = void 0;
    var Observable_1$5 = Observable$2;
    var innerFrom_1$j = innerFrom$2;
    var argsOrArgArray_1$3 = argsOrArgArray$1;
    var OperatorSubscriber_1$L = OperatorSubscriber$2;
    function race() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        sources = argsOrArgArray_1$3.argsOrArgArray(sources);
        return sources.length === 1 ? innerFrom_1$j.innerFrom(sources[0]) : new Observable_1$5.Observable(raceInit(sources));
    }
    race$1.race = race;
    function raceInit(sources) {
        return function (subscriber) {
            var subscriptions = [];
            var _loop_1 = function (i) {
                subscriptions.push(innerFrom_1$j.innerFrom(sources[i]).subscribe(OperatorSubscriber_1$L.createOperatorSubscriber(subscriber, function (value) {
                    if (subscriptions) {
                        for (var s = 0; s < subscriptions.length; s++) {
                            s !== i && subscriptions[s].unsubscribe();
                        }
                        subscriptions = null;
                    }
                    subscriber.next(value);
                })));
            };
            for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {
                _loop_1(i);
            }
        };
    }
    race$1.raceInit = raceInit;

    var range$1 = {};

    Object.defineProperty(range$1, "__esModule", { value: true });
    range$1.range = void 0;
    var Observable_1$4 = Observable$2;
    var empty_1$5 = empty;
    function range(start, count, scheduler) {
        if (count == null) {
            count = start;
            start = 0;
        }
        if (count <= 0) {
            return empty_1$5.EMPTY;
        }
        var end = count + start;
        return new Observable_1$4.Observable(scheduler
            ?
                function (subscriber) {
                    var n = start;
                    return scheduler.schedule(function () {
                        if (n < end) {
                            subscriber.next(n++);
                            this.schedule();
                        }
                        else {
                            subscriber.complete();
                        }
                    });
                }
            :
                function (subscriber) {
                    var n = start;
                    while (n < end && !subscriber.closed) {
                        subscriber.next(n++);
                    }
                    subscriber.complete();
                });
    }
    range$1.range = range;

    var using$1 = {};

    Object.defineProperty(using$1, "__esModule", { value: true });
    using$1.using = void 0;
    var Observable_1$3 = Observable$2;
    var innerFrom_1$i = innerFrom$2;
    var empty_1$4 = empty;
    function using(resourceFactory, observableFactory) {
        return new Observable_1$3.Observable(function (subscriber) {
            var resource = resourceFactory();
            var result = observableFactory(resource);
            var source = result ? innerFrom_1$i.innerFrom(result) : empty_1$4.EMPTY;
            source.subscribe(subscriber);
            return function () {
                if (resource) {
                    resource.unsubscribe();
                }
            };
        });
    }
    using$1.using = using;

    var zip$3 = {};

    var __read$d = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$d = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(zip$3, "__esModule", { value: true });
    zip$3.zip = void 0;
    var Observable_1$2 = Observable$2;
    var innerFrom_1$h = innerFrom$2;
    var argsOrArgArray_1$2 = argsOrArgArray$1;
    var empty_1$3 = empty;
    var OperatorSubscriber_1$K = OperatorSubscriber$2;
    var args_1$7 = args;
    function zip$2() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var resultSelector = args_1$7.popResultSelector(args);
        var sources = argsOrArgArray_1$2.argsOrArgArray(args);
        return sources.length
            ? new Observable_1$2.Observable(function (subscriber) {
                var buffers = sources.map(function () { return []; });
                var completed = sources.map(function () { return false; });
                subscriber.add(function () {
                    buffers = completed = null;
                });
                var _loop_1 = function (sourceIndex) {
                    innerFrom_1$h.innerFrom(sources[sourceIndex]).subscribe(OperatorSubscriber_1$K.createOperatorSubscriber(subscriber, function (value) {
                        buffers[sourceIndex].push(value);
                        if (buffers.every(function (buffer) { return buffer.length; })) {
                            var result = buffers.map(function (buffer) { return buffer.shift(); });
                            subscriber.next(resultSelector ? resultSelector.apply(void 0, __spreadArray$d([], __read$d(result))) : result);
                            if (buffers.some(function (buffer, i) { return !buffer.length && completed[i]; })) {
                                subscriber.complete();
                            }
                        }
                    }, function () {
                        completed[sourceIndex] = true;
                        !buffers[sourceIndex].length && subscriber.complete();
                    }));
                };
                for (var sourceIndex = 0; !subscriber.closed && sourceIndex < sources.length; sourceIndex++) {
                    _loop_1(sourceIndex);
                }
                return function () {
                    buffers = completed = null;
                };
            })
            : empty_1$3.EMPTY;
    }
    zip$3.zip = zip$2;

    var types = {};

    Object.defineProperty(types, "__esModule", { value: true });

    var audit$1 = {};

    Object.defineProperty(audit$1, "__esModule", { value: true });
    audit$1.audit = void 0;
    var lift_1$Y = lift;
    var innerFrom_1$g = innerFrom$2;
    var OperatorSubscriber_1$J = OperatorSubscriber$2;
    function audit(durationSelector) {
        return lift_1$Y.operate(function (source, subscriber) {
            var hasValue = false;
            var lastValue = null;
            var durationSubscriber = null;
            var isComplete = false;
            var endDuration = function () {
                durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();
                durationSubscriber = null;
                if (hasValue) {
                    hasValue = false;
                    var value = lastValue;
                    lastValue = null;
                    subscriber.next(value);
                }
                isComplete && subscriber.complete();
            };
            var cleanupDuration = function () {
                durationSubscriber = null;
                isComplete && subscriber.complete();
            };
            source.subscribe(OperatorSubscriber_1$J.createOperatorSubscriber(subscriber, function (value) {
                hasValue = true;
                lastValue = value;
                if (!durationSubscriber) {
                    innerFrom_1$g.innerFrom(durationSelector(value)).subscribe((durationSubscriber = OperatorSubscriber_1$J.createOperatorSubscriber(subscriber, endDuration, cleanupDuration)));
                }
            }, function () {
                isComplete = true;
                (!hasValue || !durationSubscriber || durationSubscriber.closed) && subscriber.complete();
            }));
        });
    }
    audit$1.audit = audit;

    var auditTime$1 = {};

    Object.defineProperty(auditTime$1, "__esModule", { value: true });
    auditTime$1.auditTime = void 0;
    var async_1$8 = async;
    var audit_1 = audit$1;
    var timer_1$4 = timer$1;
    function auditTime(duration, scheduler) {
        if (scheduler === void 0) { scheduler = async_1$8.asyncScheduler; }
        return audit_1.audit(function () { return timer_1$4.timer(duration, scheduler); });
    }
    auditTime$1.auditTime = auditTime;

    var buffer$1 = {};

    Object.defineProperty(buffer$1, "__esModule", { value: true });
    buffer$1.buffer = void 0;
    var lift_1$X = lift;
    var noop_1$b = noop$2;
    var OperatorSubscriber_1$I = OperatorSubscriber$2;
    function buffer(closingNotifier) {
        return lift_1$X.operate(function (source, subscriber) {
            var currentBuffer = [];
            source.subscribe(OperatorSubscriber_1$I.createOperatorSubscriber(subscriber, function (value) { return currentBuffer.push(value); }, function () {
                subscriber.next(currentBuffer);
                subscriber.complete();
            }));
            closingNotifier.subscribe(OperatorSubscriber_1$I.createOperatorSubscriber(subscriber, function () {
                var b = currentBuffer;
                currentBuffer = [];
                subscriber.next(b);
            }, noop_1$b.noop));
            return function () {
                currentBuffer = null;
            };
        });
    }
    buffer$1.buffer = buffer;

    var bufferCount$1 = {};

    var __values$6 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(bufferCount$1, "__esModule", { value: true });
    bufferCount$1.bufferCount = void 0;
    var lift_1$W = lift;
    var OperatorSubscriber_1$H = OperatorSubscriber$2;
    var arrRemove_1$4 = arrRemove$2;
    function bufferCount(bufferSize, startBufferEvery) {
        if (startBufferEvery === void 0) { startBufferEvery = null; }
        startBufferEvery = startBufferEvery !== null && startBufferEvery !== void 0 ? startBufferEvery : bufferSize;
        return lift_1$W.operate(function (source, subscriber) {
            var buffers = [];
            var count = 0;
            source.subscribe(OperatorSubscriber_1$H.createOperatorSubscriber(subscriber, function (value) {
                var e_1, _a, e_2, _b;
                var toEmit = null;
                if (count++ % startBufferEvery === 0) {
                    buffers.push([]);
                }
                try {
                    for (var buffers_1 = __values$6(buffers), buffers_1_1 = buffers_1.next(); !buffers_1_1.done; buffers_1_1 = buffers_1.next()) {
                        var buffer = buffers_1_1.value;
                        buffer.push(value);
                        if (bufferSize <= buffer.length) {
                            toEmit = toEmit !== null && toEmit !== void 0 ? toEmit : [];
                            toEmit.push(buffer);
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (buffers_1_1 && !buffers_1_1.done && (_a = buffers_1.return)) _a.call(buffers_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
                if (toEmit) {
                    try {
                        for (var toEmit_1 = __values$6(toEmit), toEmit_1_1 = toEmit_1.next(); !toEmit_1_1.done; toEmit_1_1 = toEmit_1.next()) {
                            var buffer = toEmit_1_1.value;
                            arrRemove_1$4.arrRemove(buffers, buffer);
                            subscriber.next(buffer);
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (toEmit_1_1 && !toEmit_1_1.done && (_b = toEmit_1.return)) _b.call(toEmit_1);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                }
            }, function () {
                var e_3, _a;
                try {
                    for (var buffers_2 = __values$6(buffers), buffers_2_1 = buffers_2.next(); !buffers_2_1.done; buffers_2_1 = buffers_2.next()) {
                        var buffer = buffers_2_1.value;
                        subscriber.next(buffer);
                    }
                }
                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                finally {
                    try {
                        if (buffers_2_1 && !buffers_2_1.done && (_a = buffers_2.return)) _a.call(buffers_2);
                    }
                    finally { if (e_3) throw e_3.error; }
                }
                subscriber.complete();
            }, undefined, function () {
                buffers = null;
            }));
        });
    }
    bufferCount$1.bufferCount = bufferCount;

    var bufferTime$1 = {};

    var __values$5 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(bufferTime$1, "__esModule", { value: true });
    bufferTime$1.bufferTime = void 0;
    var Subscription_1$3 = Subscription$2;
    var lift_1$V = lift;
    var OperatorSubscriber_1$G = OperatorSubscriber$2;
    var arrRemove_1$3 = arrRemove$2;
    var async_1$7 = async;
    var args_1$6 = args;
    var executeSchedule_1$1 = executeSchedule$1;
    function bufferTime(bufferTimeSpan) {
        var _a, _b;
        var otherArgs = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            otherArgs[_i - 1] = arguments[_i];
        }
        var scheduler = (_a = args_1$6.popScheduler(otherArgs)) !== null && _a !== void 0 ? _a : async_1$7.asyncScheduler;
        var bufferCreationInterval = (_b = otherArgs[0]) !== null && _b !== void 0 ? _b : null;
        var maxBufferSize = otherArgs[1] || Infinity;
        return lift_1$V.operate(function (source, subscriber) {
            var bufferRecords = [];
            var restartOnEmit = false;
            var emit = function (record) {
                var buffer = record.buffer, subs = record.subs;
                subs.unsubscribe();
                arrRemove_1$3.arrRemove(bufferRecords, record);
                subscriber.next(buffer);
                restartOnEmit && startBuffer();
            };
            var startBuffer = function () {
                if (bufferRecords) {
                    var subs = new Subscription_1$3.Subscription();
                    subscriber.add(subs);
                    var buffer = [];
                    var record_1 = {
                        buffer: buffer,
                        subs: subs,
                    };
                    bufferRecords.push(record_1);
                    executeSchedule_1$1.executeSchedule(subs, scheduler, function () { return emit(record_1); }, bufferTimeSpan);
                }
            };
            if (bufferCreationInterval !== null && bufferCreationInterval >= 0) {
                executeSchedule_1$1.executeSchedule(subscriber, scheduler, startBuffer, bufferCreationInterval, true);
            }
            else {
                restartOnEmit = true;
            }
            startBuffer();
            var bufferTimeSubscriber = OperatorSubscriber_1$G.createOperatorSubscriber(subscriber, function (value) {
                var e_1, _a;
                var recordsCopy = bufferRecords.slice();
                try {
                    for (var recordsCopy_1 = __values$5(recordsCopy), recordsCopy_1_1 = recordsCopy_1.next(); !recordsCopy_1_1.done; recordsCopy_1_1 = recordsCopy_1.next()) {
                        var record = recordsCopy_1_1.value;
                        var buffer = record.buffer;
                        buffer.push(value);
                        maxBufferSize <= buffer.length && emit(record);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (recordsCopy_1_1 && !recordsCopy_1_1.done && (_a = recordsCopy_1.return)) _a.call(recordsCopy_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }, function () {
                while (bufferRecords === null || bufferRecords === void 0 ? void 0 : bufferRecords.length) {
                    subscriber.next(bufferRecords.shift().buffer);
                }
                bufferTimeSubscriber === null || bufferTimeSubscriber === void 0 ? void 0 : bufferTimeSubscriber.unsubscribe();
                subscriber.complete();
                subscriber.unsubscribe();
            }, undefined, function () { return (bufferRecords = null); });
            source.subscribe(bufferTimeSubscriber);
        });
    }
    bufferTime$1.bufferTime = bufferTime;

    var bufferToggle$1 = {};

    var __values$4 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(bufferToggle$1, "__esModule", { value: true });
    bufferToggle$1.bufferToggle = void 0;
    var Subscription_1$2 = Subscription$2;
    var lift_1$U = lift;
    var innerFrom_1$f = innerFrom$2;
    var OperatorSubscriber_1$F = OperatorSubscriber$2;
    var noop_1$a = noop$2;
    var arrRemove_1$2 = arrRemove$2;
    function bufferToggle(openings, closingSelector) {
        return lift_1$U.operate(function (source, subscriber) {
            var buffers = [];
            innerFrom_1$f.innerFrom(openings).subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(subscriber, function (openValue) {
                var buffer = [];
                buffers.push(buffer);
                var closingSubscription = new Subscription_1$2.Subscription();
                var emitBuffer = function () {
                    arrRemove_1$2.arrRemove(buffers, buffer);
                    subscriber.next(buffer);
                    closingSubscription.unsubscribe();
                };
                closingSubscription.add(innerFrom_1$f.innerFrom(closingSelector(openValue)).subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(subscriber, emitBuffer, noop_1$a.noop)));
            }, noop_1$a.noop));
            source.subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(subscriber, function (value) {
                var e_1, _a;
                try {
                    for (var buffers_1 = __values$4(buffers), buffers_1_1 = buffers_1.next(); !buffers_1_1.done; buffers_1_1 = buffers_1.next()) {
                        var buffer = buffers_1_1.value;
                        buffer.push(value);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (buffers_1_1 && !buffers_1_1.done && (_a = buffers_1.return)) _a.call(buffers_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }, function () {
                while (buffers.length > 0) {
                    subscriber.next(buffers.shift());
                }
                subscriber.complete();
            }));
        });
    }
    bufferToggle$1.bufferToggle = bufferToggle;

    var bufferWhen$1 = {};

    Object.defineProperty(bufferWhen$1, "__esModule", { value: true });
    bufferWhen$1.bufferWhen = void 0;
    var lift_1$T = lift;
    var noop_1$9 = noop$2;
    var OperatorSubscriber_1$E = OperatorSubscriber$2;
    var innerFrom_1$e = innerFrom$2;
    function bufferWhen(closingSelector) {
        return lift_1$T.operate(function (source, subscriber) {
            var buffer = null;
            var closingSubscriber = null;
            var openBuffer = function () {
                closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();
                var b = buffer;
                buffer = [];
                b && subscriber.next(b);
                innerFrom_1$e.innerFrom(closingSelector()).subscribe((closingSubscriber = OperatorSubscriber_1$E.createOperatorSubscriber(subscriber, openBuffer, noop_1$9.noop)));
            };
            openBuffer();
            source.subscribe(OperatorSubscriber_1$E.createOperatorSubscriber(subscriber, function (value) { return buffer === null || buffer === void 0 ? void 0 : buffer.push(value); }, function () {
                buffer && subscriber.next(buffer);
                subscriber.complete();
            }, undefined, function () { return (buffer = closingSubscriber = null); }));
        });
    }
    bufferWhen$1.bufferWhen = bufferWhen;

    var catchError$2 = {};

    Object.defineProperty(catchError$2, "__esModule", { value: true });
    catchError$2.catchError = void 0;
    var innerFrom_1$d = innerFrom$2;
    var OperatorSubscriber_1$D = OperatorSubscriber$2;
    var lift_1$S = lift;
    function catchError$1(selector) {
        return lift_1$S.operate(function (source, subscriber) {
            var innerSub = null;
            var syncUnsub = false;
            var handledResult;
            innerSub = source.subscribe(OperatorSubscriber_1$D.createOperatorSubscriber(subscriber, undefined, undefined, function (err) {
                handledResult = innerFrom_1$d.innerFrom(selector(err, catchError$1(selector)(source)));
                if (innerSub) {
                    innerSub.unsubscribe();
                    innerSub = null;
                    handledResult.subscribe(subscriber);
                }
                else {
                    syncUnsub = true;
                }
            }));
            if (syncUnsub) {
                innerSub.unsubscribe();
                innerSub = null;
                handledResult.subscribe(subscriber);
            }
        });
    }
    catchError$2.catchError = catchError$1;

    var combineAll = {};

    var combineLatestAll$1 = {};

    var joinAllInternals$1 = {};

    var toArray$1 = {};

    var reduce$1 = {};

    var scanInternals$1 = {};

    Object.defineProperty(scanInternals$1, "__esModule", { value: true });
    scanInternals$1.scanInternals = void 0;
    var OperatorSubscriber_1$C = OperatorSubscriber$2;
    function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {
        return function (source, subscriber) {
            var hasState = hasSeed;
            var state = seed;
            var index = 0;
            source.subscribe(OperatorSubscriber_1$C.createOperatorSubscriber(subscriber, function (value) {
                var i = index++;
                state = hasState
                    ?
                        accumulator(state, value, i)
                    :
                        ((hasState = true), value);
                emitOnNext && subscriber.next(state);
            }, emitBeforeComplete &&
                (function () {
                    hasState && subscriber.next(state);
                    subscriber.complete();
                })));
        };
    }
    scanInternals$1.scanInternals = scanInternals;

    Object.defineProperty(reduce$1, "__esModule", { value: true });
    reduce$1.reduce = void 0;
    var scanInternals_1$1 = scanInternals$1;
    var lift_1$R = lift;
    function reduce(accumulator, seed) {
        return lift_1$R.operate(scanInternals_1$1.scanInternals(accumulator, seed, arguments.length >= 2, false, true));
    }
    reduce$1.reduce = reduce;

    Object.defineProperty(toArray$1, "__esModule", { value: true });
    toArray$1.toArray = void 0;
    var reduce_1$3 = reduce$1;
    var lift_1$Q = lift;
    var arrReducer = function (arr, value) { return (arr.push(value), arr); };
    function toArray() {
        return lift_1$Q.operate(function (source, subscriber) {
            reduce_1$3.reduce(arrReducer, [])(source).subscribe(subscriber);
        });
    }
    toArray$1.toArray = toArray;

    Object.defineProperty(joinAllInternals$1, "__esModule", { value: true });
    joinAllInternals$1.joinAllInternals = void 0;
    var identity_1$b = identity$7;
    var mapOneOrManyArgs_1$1 = mapOneOrManyArgs$1;
    var pipe_1$1 = pipe$1;
    var mergeMap_1$4 = mergeMap$1;
    var toArray_1 = toArray$1;
    function joinAllInternals(joinFn, project) {
        return pipe_1$1.pipe(toArray_1.toArray(), mergeMap_1$4.mergeMap(function (sources) { return joinFn(sources); }), project ? mapOneOrManyArgs_1$1.mapOneOrManyArgs(project) : identity_1$b.identity);
    }
    joinAllInternals$1.joinAllInternals = joinAllInternals;

    Object.defineProperty(combineLatestAll$1, "__esModule", { value: true });
    combineLatestAll$1.combineLatestAll = void 0;
    var combineLatest_1$2 = combineLatest$3;
    var joinAllInternals_1$1 = joinAllInternals$1;
    function combineLatestAll(project) {
        return joinAllInternals_1$1.joinAllInternals(combineLatest_1$2.combineLatest, project);
    }
    combineLatestAll$1.combineLatestAll = combineLatestAll;

    Object.defineProperty(combineAll, "__esModule", { value: true });
    combineAll.combineAll = void 0;
    var combineLatestAll_1 = combineLatestAll$1;
    combineAll.combineAll = combineLatestAll_1.combineLatestAll;

    var combineLatestWith$1 = {};

    var combineLatest$1 = {};

    var __read$c = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$c = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(combineLatest$1, "__esModule", { value: true });
    combineLatest$1.combineLatest = void 0;
    var combineLatest_1$1 = combineLatest$3;
    var lift_1$P = lift;
    var argsOrArgArray_1$1 = argsOrArgArray$1;
    var mapOneOrManyArgs_1 = mapOneOrManyArgs$1;
    var pipe_1 = pipe$1;
    var args_1$5 = args;
    function combineLatest() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var resultSelector = args_1$5.popResultSelector(args);
        return resultSelector
            ? pipe_1.pipe(combineLatest.apply(void 0, __spreadArray$c([], __read$c(args))), mapOneOrManyArgs_1.mapOneOrManyArgs(resultSelector))
            : lift_1$P.operate(function (source, subscriber) {
                combineLatest_1$1.combineLatestInit(__spreadArray$c([source], __read$c(argsOrArgArray_1$1.argsOrArgArray(args))))(subscriber);
            });
    }
    combineLatest$1.combineLatest = combineLatest;

    var __read$b = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$b = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(combineLatestWith$1, "__esModule", { value: true });
    combineLatestWith$1.combineLatestWith = void 0;
    var combineLatest_1 = combineLatest$1;
    function combineLatestWith() {
        var otherSources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            otherSources[_i] = arguments[_i];
        }
        return combineLatest_1.combineLatest.apply(void 0, __spreadArray$b([], __read$b(otherSources)));
    }
    combineLatestWith$1.combineLatestWith = combineLatestWith;

    var concatMap$1 = {};

    Object.defineProperty(concatMap$1, "__esModule", { value: true });
    concatMap$1.concatMap = void 0;
    var mergeMap_1$3 = mergeMap$1;
    var isFunction_1$9 = isFunction$b;
    function concatMap(project, resultSelector) {
        return isFunction_1$9.isFunction(resultSelector) ? mergeMap_1$3.mergeMap(project, resultSelector, 1) : mergeMap_1$3.mergeMap(project, 1);
    }
    concatMap$1.concatMap = concatMap;

    var concatMapTo$1 = {};

    Object.defineProperty(concatMapTo$1, "__esModule", { value: true });
    concatMapTo$1.concatMapTo = void 0;
    var concatMap_1 = concatMap$1;
    var isFunction_1$8 = isFunction$b;
    function concatMapTo(innerObservable, resultSelector) {
        return isFunction_1$8.isFunction(resultSelector) ? concatMap_1.concatMap(function () { return innerObservable; }, resultSelector) : concatMap_1.concatMap(function () { return innerObservable; });
    }
    concatMapTo$1.concatMapTo = concatMapTo;

    var concatWith$1 = {};

    var concat$1 = {};

    var __read$a = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$a = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(concat$1, "__esModule", { value: true });
    concat$1.concat = void 0;
    var lift_1$O = lift;
    var concatAll_1 = concatAll$1;
    var args_1$4 = args;
    var from_1$1 = from$1;
    function concat() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var scheduler = args_1$4.popScheduler(args);
        return lift_1$O.operate(function (source, subscriber) {
            concatAll_1.concatAll()(from_1$1.from(__spreadArray$a([source], __read$a(args)), scheduler)).subscribe(subscriber);
        });
    }
    concat$1.concat = concat;

    var __read$9 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$9 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(concatWith$1, "__esModule", { value: true });
    concatWith$1.concatWith = void 0;
    var concat_1$3 = concat$1;
    function concatWith() {
        var otherSources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            otherSources[_i] = arguments[_i];
        }
        return concat_1$3.concat.apply(void 0, __spreadArray$9([], __read$9(otherSources)));
    }
    concatWith$1.concatWith = concatWith;

    var connect$1 = {};

    var fromSubscribable$1 = {};

    Object.defineProperty(fromSubscribable$1, "__esModule", { value: true });
    fromSubscribable$1.fromSubscribable = void 0;
    var Observable_1$1 = Observable$2;
    function fromSubscribable(subscribable) {
        return new Observable_1$1.Observable(function (subscriber) { return subscribable.subscribe(subscriber); });
    }
    fromSubscribable$1.fromSubscribable = fromSubscribable;

    Object.defineProperty(connect$1, "__esModule", { value: true });
    connect$1.connect = void 0;
    var Subject_1$a = Subject$1;
    var innerFrom_1$c = innerFrom$2;
    var lift_1$N = lift;
    var fromSubscribable_1 = fromSubscribable$1;
    var DEFAULT_CONFIG = {
        connector: function () { return new Subject_1$a.Subject(); },
    };
    function connect(selector, config) {
        if (config === void 0) { config = DEFAULT_CONFIG; }
        var connector = config.connector;
        return lift_1$N.operate(function (source, subscriber) {
            var subject = connector();
            innerFrom_1$c.innerFrom(selector(fromSubscribable_1.fromSubscribable(subject))).subscribe(subscriber);
            subscriber.add(source.subscribe(subject));
        });
    }
    connect$1.connect = connect;

    var count$1 = {};

    Object.defineProperty(count$1, "__esModule", { value: true });
    count$1.count = void 0;
    var reduce_1$2 = reduce$1;
    function count(predicate) {
        return reduce_1$2.reduce(function (total, value, i) { return (!predicate || predicate(value, i) ? total + 1 : total); }, 0);
    }
    count$1.count = count;

    var debounce$1 = {};

    Object.defineProperty(debounce$1, "__esModule", { value: true });
    debounce$1.debounce = void 0;
    var lift_1$M = lift;
    var noop_1$8 = noop$2;
    var OperatorSubscriber_1$B = OperatorSubscriber$2;
    var innerFrom_1$b = innerFrom$2;
    function debounce(durationSelector) {
        return lift_1$M.operate(function (source, subscriber) {
            var hasValue = false;
            var lastValue = null;
            var durationSubscriber = null;
            var emit = function () {
                durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();
                durationSubscriber = null;
                if (hasValue) {
                    hasValue = false;
                    var value = lastValue;
                    lastValue = null;
                    subscriber.next(value);
                }
            };
            source.subscribe(OperatorSubscriber_1$B.createOperatorSubscriber(subscriber, function (value) {
                durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();
                hasValue = true;
                lastValue = value;
                durationSubscriber = OperatorSubscriber_1$B.createOperatorSubscriber(subscriber, emit, noop_1$8.noop);
                innerFrom_1$b.innerFrom(durationSelector(value)).subscribe(durationSubscriber);
            }, function () {
                emit();
                subscriber.complete();
            }, undefined, function () {
                lastValue = durationSubscriber = null;
            }));
        });
    }
    debounce$1.debounce = debounce;

    var debounceTime$1 = {};

    Object.defineProperty(debounceTime$1, "__esModule", { value: true });
    debounceTime$1.debounceTime = void 0;
    var async_1$6 = async;
    var lift_1$L = lift;
    var OperatorSubscriber_1$A = OperatorSubscriber$2;
    function debounceTime(dueTime, scheduler) {
        if (scheduler === void 0) { scheduler = async_1$6.asyncScheduler; }
        return lift_1$L.operate(function (source, subscriber) {
            var activeTask = null;
            var lastValue = null;
            var lastTime = null;
            var emit = function () {
                if (activeTask) {
                    activeTask.unsubscribe();
                    activeTask = null;
                    var value = lastValue;
                    lastValue = null;
                    subscriber.next(value);
                }
            };
            function emitWhenIdle() {
                var targetTime = lastTime + dueTime;
                var now = scheduler.now();
                if (now < targetTime) {
                    activeTask = this.schedule(undefined, targetTime - now);
                    subscriber.add(activeTask);
                    return;
                }
                emit();
            }
            source.subscribe(OperatorSubscriber_1$A.createOperatorSubscriber(subscriber, function (value) {
                lastValue = value;
                lastTime = scheduler.now();
                if (!activeTask) {
                    activeTask = scheduler.schedule(emitWhenIdle, dueTime);
                    subscriber.add(activeTask);
                }
            }, function () {
                emit();
                subscriber.complete();
            }, undefined, function () {
                lastValue = activeTask = null;
            }));
        });
    }
    debounceTime$1.debounceTime = debounceTime;

    var defaultIfEmpty$1 = {};

    Object.defineProperty(defaultIfEmpty$1, "__esModule", { value: true });
    defaultIfEmpty$1.defaultIfEmpty = void 0;
    var lift_1$K = lift;
    var OperatorSubscriber_1$z = OperatorSubscriber$2;
    function defaultIfEmpty(defaultValue) {
        return lift_1$K.operate(function (source, subscriber) {
            var hasValue = false;
            source.subscribe(OperatorSubscriber_1$z.createOperatorSubscriber(subscriber, function (value) {
                hasValue = true;
                subscriber.next(value);
            }, function () {
                if (!hasValue) {
                    subscriber.next(defaultValue);
                }
                subscriber.complete();
            }));
        });
    }
    defaultIfEmpty$1.defaultIfEmpty = defaultIfEmpty;

    var delay$1 = {};

    var delayWhen$1 = {};

    var take$1 = {};

    Object.defineProperty(take$1, "__esModule", { value: true });
    take$1.take = void 0;
    var empty_1$2 = empty;
    var lift_1$J = lift;
    var OperatorSubscriber_1$y = OperatorSubscriber$2;
    function take(count) {
        return count <= 0
            ?
                function () { return empty_1$2.EMPTY; }
            : lift_1$J.operate(function (source, subscriber) {
                var seen = 0;
                source.subscribe(OperatorSubscriber_1$y.createOperatorSubscriber(subscriber, function (value) {
                    if (++seen <= count) {
                        subscriber.next(value);
                        if (count <= seen) {
                            subscriber.complete();
                        }
                    }
                }));
            });
    }
    take$1.take = take;

    var ignoreElements$1 = {};

    Object.defineProperty(ignoreElements$1, "__esModule", { value: true });
    ignoreElements$1.ignoreElements = void 0;
    var lift_1$I = lift;
    var OperatorSubscriber_1$x = OperatorSubscriber$2;
    var noop_1$7 = noop$2;
    function ignoreElements() {
        return lift_1$I.operate(function (source, subscriber) {
            source.subscribe(OperatorSubscriber_1$x.createOperatorSubscriber(subscriber, noop_1$7.noop));
        });
    }
    ignoreElements$1.ignoreElements = ignoreElements;

    var mapTo$1 = {};

    Object.defineProperty(mapTo$1, "__esModule", { value: true });
    mapTo$1.mapTo = void 0;
    var map_1$3 = map$2;
    function mapTo(value) {
        return map_1$3.map(function () { return value; });
    }
    mapTo$1.mapTo = mapTo;

    Object.defineProperty(delayWhen$1, "__esModule", { value: true });
    delayWhen$1.delayWhen = void 0;
    var concat_1$2 = concat$3;
    var take_1$2 = take$1;
    var ignoreElements_1 = ignoreElements$1;
    var mapTo_1 = mapTo$1;
    var mergeMap_1$2 = mergeMap$1;
    function delayWhen(delayDurationSelector, subscriptionDelay) {
        if (subscriptionDelay) {
            return function (source) {
                return concat_1$2.concat(subscriptionDelay.pipe(take_1$2.take(1), ignoreElements_1.ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));
            };
        }
        return mergeMap_1$2.mergeMap(function (value, index) { return delayDurationSelector(value, index).pipe(take_1$2.take(1), mapTo_1.mapTo(value)); });
    }
    delayWhen$1.delayWhen = delayWhen;

    Object.defineProperty(delay$1, "__esModule", { value: true });
    delay$1.delay = void 0;
    var async_1$5 = async;
    var delayWhen_1 = delayWhen$1;
    var timer_1$3 = timer$1;
    function delay(due, scheduler) {
        if (scheduler === void 0) { scheduler = async_1$5.asyncScheduler; }
        var duration = timer_1$3.timer(due, scheduler);
        return delayWhen_1.delayWhen(function () { return duration; });
    }
    delay$1.delay = delay;

    var dematerialize$1 = {};

    Object.defineProperty(dematerialize$1, "__esModule", { value: true });
    dematerialize$1.dematerialize = void 0;
    var Notification_1$1 = Notification;
    var lift_1$H = lift;
    var OperatorSubscriber_1$w = OperatorSubscriber$2;
    function dematerialize() {
        return lift_1$H.operate(function (source, subscriber) {
            source.subscribe(OperatorSubscriber_1$w.createOperatorSubscriber(subscriber, function (notification) { return Notification_1$1.observeNotification(notification, subscriber); }));
        });
    }
    dematerialize$1.dematerialize = dematerialize;

    var distinct$1 = {};

    Object.defineProperty(distinct$1, "__esModule", { value: true });
    distinct$1.distinct = void 0;
    var lift_1$G = lift;
    var OperatorSubscriber_1$v = OperatorSubscriber$2;
    var noop_1$6 = noop$2;
    function distinct(keySelector, flushes) {
        return lift_1$G.operate(function (source, subscriber) {
            var distinctKeys = new Set();
            source.subscribe(OperatorSubscriber_1$v.createOperatorSubscriber(subscriber, function (value) {
                var key = keySelector ? keySelector(value) : value;
                if (!distinctKeys.has(key)) {
                    distinctKeys.add(key);
                    subscriber.next(value);
                }
            }));
            flushes === null || flushes === void 0 ? void 0 : flushes.subscribe(OperatorSubscriber_1$v.createOperatorSubscriber(subscriber, function () { return distinctKeys.clear(); }, noop_1$6.noop));
        });
    }
    distinct$1.distinct = distinct;

    var distinctUntilChanged$1 = {};

    Object.defineProperty(distinctUntilChanged$1, "__esModule", { value: true });
    distinctUntilChanged$1.distinctUntilChanged = void 0;
    var identity_1$a = identity$7;
    var lift_1$F = lift;
    var OperatorSubscriber_1$u = OperatorSubscriber$2;
    function distinctUntilChanged(comparator, keySelector) {
        if (keySelector === void 0) { keySelector = identity_1$a.identity; }
        comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;
        return lift_1$F.operate(function (source, subscriber) {
            var previousKey;
            var first = true;
            source.subscribe(OperatorSubscriber_1$u.createOperatorSubscriber(subscriber, function (value) {
                var currentKey = keySelector(value);
                if (first || !comparator(previousKey, currentKey)) {
                    first = false;
                    previousKey = currentKey;
                    subscriber.next(value);
                }
            }));
        });
    }
    distinctUntilChanged$1.distinctUntilChanged = distinctUntilChanged;
    function defaultCompare(a, b) {
        return a === b;
    }

    var distinctUntilKeyChanged$1 = {};

    Object.defineProperty(distinctUntilKeyChanged$1, "__esModule", { value: true });
    distinctUntilKeyChanged$1.distinctUntilKeyChanged = void 0;
    var distinctUntilChanged_1 = distinctUntilChanged$1;
    function distinctUntilKeyChanged(key, compare) {
        return distinctUntilChanged_1.distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });
    }
    distinctUntilKeyChanged$1.distinctUntilKeyChanged = distinctUntilKeyChanged;

    var elementAt$1 = {};

    var throwIfEmpty$1 = {};

    Object.defineProperty(throwIfEmpty$1, "__esModule", { value: true });
    throwIfEmpty$1.throwIfEmpty = void 0;
    var EmptyError_1$3 = EmptyError;
    var lift_1$E = lift;
    var OperatorSubscriber_1$t = OperatorSubscriber$2;
    function throwIfEmpty(errorFactory) {
        if (errorFactory === void 0) { errorFactory = defaultErrorFactory; }
        return lift_1$E.operate(function (source, subscriber) {
            var hasValue = false;
            source.subscribe(OperatorSubscriber_1$t.createOperatorSubscriber(subscriber, function (value) {
                hasValue = true;
                subscriber.next(value);
            }, function () { return (hasValue ? subscriber.complete() : subscriber.error(errorFactory())); }));
        });
    }
    throwIfEmpty$1.throwIfEmpty = throwIfEmpty;
    function defaultErrorFactory() {
        return new EmptyError_1$3.EmptyError();
    }

    Object.defineProperty(elementAt$1, "__esModule", { value: true });
    elementAt$1.elementAt = void 0;
    var ArgumentOutOfRangeError_1 = ArgumentOutOfRangeError;
    var filter_1$3 = filter$6;
    var throwIfEmpty_1$2 = throwIfEmpty$1;
    var defaultIfEmpty_1$2 = defaultIfEmpty$1;
    var take_1$1 = take$1;
    function elementAt(index, defaultValue) {
        if (index < 0) {
            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }
        var hasDefaultValue = arguments.length >= 2;
        return function (source) {
            return source.pipe(filter_1$3.filter(function (v, i) { return i === index; }), take_1$1.take(1), hasDefaultValue ? defaultIfEmpty_1$2.defaultIfEmpty(defaultValue) : throwIfEmpty_1$2.throwIfEmpty(function () { return new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError(); }));
        };
    }
    elementAt$1.elementAt = elementAt;

    var endWith$1 = {};

    var __read$8 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$8 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(endWith$1, "__esModule", { value: true });
    endWith$1.endWith = void 0;
    var concat_1$1 = concat$3;
    var of_1 = of$1;
    function endWith() {
        var values = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            values[_i] = arguments[_i];
        }
        return function (source) { return concat_1$1.concat(source, of_1.of.apply(void 0, __spreadArray$8([], __read$8(values)))); };
    }
    endWith$1.endWith = endWith;

    var every$1 = {};

    Object.defineProperty(every$1, "__esModule", { value: true });
    every$1.every = void 0;
    var lift_1$D = lift;
    var OperatorSubscriber_1$s = OperatorSubscriber$2;
    function every(predicate, thisArg) {
        return lift_1$D.operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(OperatorSubscriber_1$s.createOperatorSubscriber(subscriber, function (value) {
                if (!predicate.call(thisArg, value, index++, source)) {
                    subscriber.next(false);
                    subscriber.complete();
                }
            }, function () {
                subscriber.next(true);
                subscriber.complete();
            }));
        });
    }
    every$1.every = every;

    var exhaust = {};

    var exhaustAll$1 = {};

    var exhaustMap$1 = {};

    Object.defineProperty(exhaustMap$1, "__esModule", { value: true });
    exhaustMap$1.exhaustMap = void 0;
    var map_1$2 = map$2;
    var innerFrom_1$a = innerFrom$2;
    var lift_1$C = lift;
    var OperatorSubscriber_1$r = OperatorSubscriber$2;
    function exhaustMap(project, resultSelector) {
        if (resultSelector) {
            return function (source) {
                return source.pipe(exhaustMap(function (a, i) { return innerFrom_1$a.innerFrom(project(a, i)).pipe(map_1$2.map(function (b, ii) { return resultSelector(a, b, i, ii); })); }));
            };
        }
        return lift_1$C.operate(function (source, subscriber) {
            var index = 0;
            var innerSub = null;
            var isComplete = false;
            source.subscribe(OperatorSubscriber_1$r.createOperatorSubscriber(subscriber, function (outerValue) {
                if (!innerSub) {
                    innerSub = OperatorSubscriber_1$r.createOperatorSubscriber(subscriber, undefined, function () {
                        innerSub = null;
                        isComplete && subscriber.complete();
                    });
                    innerFrom_1$a.innerFrom(project(outerValue, index++)).subscribe(innerSub);
                }
            }, function () {
                isComplete = true;
                !innerSub && subscriber.complete();
            }));
        });
    }
    exhaustMap$1.exhaustMap = exhaustMap;

    Object.defineProperty(exhaustAll$1, "__esModule", { value: true });
    exhaustAll$1.exhaustAll = void 0;
    var exhaustMap_1 = exhaustMap$1;
    var identity_1$9 = identity$7;
    function exhaustAll() {
        return exhaustMap_1.exhaustMap(identity_1$9.identity);
    }
    exhaustAll$1.exhaustAll = exhaustAll;

    Object.defineProperty(exhaust, "__esModule", { value: true });
    exhaust.exhaust = void 0;
    var exhaustAll_1 = exhaustAll$1;
    exhaust.exhaust = exhaustAll_1.exhaustAll;

    var expand$5 = {};

    Object.defineProperty(expand$5, "__esModule", { value: true });
    expand$5.expand = void 0;
    var lift_1$B = lift;
    var mergeInternals_1$1 = mergeInternals$1;
    function expand$4(project, concurrent, scheduler) {
        if (concurrent === void 0) { concurrent = Infinity; }
        concurrent = (concurrent || 0) < 1 ? Infinity : concurrent;
        return lift_1$B.operate(function (source, subscriber) {
            return mergeInternals_1$1.mergeInternals(source, subscriber, project, concurrent, undefined, true, scheduler);
        });
    }
    expand$5.expand = expand$4;

    var finalize$1 = {};

    Object.defineProperty(finalize$1, "__esModule", { value: true });
    finalize$1.finalize = void 0;
    var lift_1$A = lift;
    function finalize(callback) {
        return lift_1$A.operate(function (source, subscriber) {
            try {
                source.subscribe(subscriber);
            }
            finally {
                subscriber.add(callback);
            }
        });
    }
    finalize$1.finalize = finalize;

    var find$2 = {};

    Object.defineProperty(find$2, "__esModule", { value: true });
    find$2.createFind = find$2.find = void 0;
    var lift_1$z = lift;
    var OperatorSubscriber_1$q = OperatorSubscriber$2;
    function find$1(predicate, thisArg) {
        return lift_1$z.operate(createFind$2(predicate, thisArg, 'value'));
    }
    find$2.find = find$1;
    function createFind$2(predicate, thisArg, emit) {
        var findIndex = emit === 'index';
        return function (source, subscriber) {
            var index = 0;
            source.subscribe(OperatorSubscriber_1$q.createOperatorSubscriber(subscriber, function (value) {
                var i = index++;
                if (predicate.call(thisArg, value, i, source)) {
                    subscriber.next(findIndex ? i : value);
                    subscriber.complete();
                }
            }, function () {
                subscriber.next(findIndex ? -1 : undefined);
                subscriber.complete();
            }));
        };
    }
    find$2.createFind = createFind$2;

    var findIndex$3 = {};

    Object.defineProperty(findIndex$3, "__esModule", { value: true });
    findIndex$3.findIndex = void 0;
    var lift_1$y = lift;
    var find_1$1 = find$2;
    function findIndex$2(predicate, thisArg) {
        return lift_1$y.operate(find_1$1.createFind(predicate, thisArg, 'index'));
    }
    findIndex$3.findIndex = findIndex$2;

    var first$1 = {};

    Object.defineProperty(first$1, "__esModule", { value: true });
    first$1.first = void 0;
    var EmptyError_1$2 = EmptyError;
    var filter_1$2 = filter$6;
    var take_1 = take$1;
    var defaultIfEmpty_1$1 = defaultIfEmpty$1;
    var throwIfEmpty_1$1 = throwIfEmpty$1;
    var identity_1$8 = identity$7;
    function first(predicate, defaultValue) {
        var hasDefaultValue = arguments.length >= 2;
        return function (source) {
            return source.pipe(predicate ? filter_1$2.filter(function (v, i) { return predicate(v, i, source); }) : identity_1$8.identity, take_1.take(1), hasDefaultValue ? defaultIfEmpty_1$1.defaultIfEmpty(defaultValue) : throwIfEmpty_1$1.throwIfEmpty(function () { return new EmptyError_1$2.EmptyError(); }));
        };
    }
    first$1.first = first;

    var groupBy$1 = {};

    Object.defineProperty(groupBy$1, "__esModule", { value: true });
    groupBy$1.groupBy = void 0;
    var Observable_1 = Observable$2;
    var innerFrom_1$9 = innerFrom$2;
    var Subject_1$9 = Subject$1;
    var lift_1$x = lift;
    var OperatorSubscriber_1$p = OperatorSubscriber$2;
    function groupBy(keySelector, elementOrOptions, duration, connector) {
        return lift_1$x.operate(function (source, subscriber) {
            var element;
            if (!elementOrOptions || typeof elementOrOptions === 'function') {
                element = elementOrOptions;
            }
            else {
                (duration = elementOrOptions.duration, element = elementOrOptions.element, connector = elementOrOptions.connector);
            }
            var groups = new Map();
            var notify = function (cb) {
                groups.forEach(cb);
                cb(subscriber);
            };
            var handleError = function (err) { return notify(function (consumer) { return consumer.error(err); }); };
            var activeGroups = 0;
            var teardownAttempted = false;
            var groupBySourceSubscriber = new OperatorSubscriber_1$p.OperatorSubscriber(subscriber, function (value) {
                try {
                    var key_1 = keySelector(value);
                    var group_1 = groups.get(key_1);
                    if (!group_1) {
                        groups.set(key_1, (group_1 = connector ? connector() : new Subject_1$9.Subject()));
                        var grouped = createGroupedObservable(key_1, group_1);
                        subscriber.next(grouped);
                        if (duration) {
                            var durationSubscriber_1 = OperatorSubscriber_1$p.createOperatorSubscriber(group_1, function () {
                                group_1.complete();
                                durationSubscriber_1 === null || durationSubscriber_1 === void 0 ? void 0 : durationSubscriber_1.unsubscribe();
                            }, undefined, undefined, function () { return groups.delete(key_1); });
                            groupBySourceSubscriber.add(innerFrom_1$9.innerFrom(duration(grouped)).subscribe(durationSubscriber_1));
                        }
                    }
                    group_1.next(element ? element(value) : value);
                }
                catch (err) {
                    handleError(err);
                }
            }, function () { return notify(function (consumer) { return consumer.complete(); }); }, handleError, function () { return groups.clear(); }, function () {
                teardownAttempted = true;
                return activeGroups === 0;
            });
            source.subscribe(groupBySourceSubscriber);
            function createGroupedObservable(key, groupSubject) {
                var result = new Observable_1.Observable(function (groupSubscriber) {
                    activeGroups++;
                    var innerSub = groupSubject.subscribe(groupSubscriber);
                    return function () {
                        innerSub.unsubscribe();
                        --activeGroups === 0 && teardownAttempted && groupBySourceSubscriber.unsubscribe();
                    };
                });
                result.key = key;
                return result;
            }
        });
    }
    groupBy$1.groupBy = groupBy;

    var isEmpty$3 = {};

    Object.defineProperty(isEmpty$3, "__esModule", { value: true });
    isEmpty$3.isEmpty = void 0;
    var lift_1$w = lift;
    var OperatorSubscriber_1$o = OperatorSubscriber$2;
    function isEmpty$2() {
        return lift_1$w.operate(function (source, subscriber) {
            source.subscribe(OperatorSubscriber_1$o.createOperatorSubscriber(subscriber, function () {
                subscriber.next(false);
                subscriber.complete();
            }, function () {
                subscriber.next(true);
                subscriber.complete();
            }));
        });
    }
    isEmpty$3.isEmpty = isEmpty$2;

    var last$1 = {};

    var takeLast$1 = {};

    var __values$3 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(takeLast$1, "__esModule", { value: true });
    takeLast$1.takeLast = void 0;
    var empty_1$1 = empty;
    var lift_1$v = lift;
    var OperatorSubscriber_1$n = OperatorSubscriber$2;
    function takeLast(count) {
        return count <= 0
            ? function () { return empty_1$1.EMPTY; }
            : lift_1$v.operate(function (source, subscriber) {
                var buffer = [];
                source.subscribe(OperatorSubscriber_1$n.createOperatorSubscriber(subscriber, function (value) {
                    buffer.push(value);
                    count < buffer.length && buffer.shift();
                }, function () {
                    var e_1, _a;
                    try {
                        for (var buffer_1 = __values$3(buffer), buffer_1_1 = buffer_1.next(); !buffer_1_1.done; buffer_1_1 = buffer_1.next()) {
                            var value = buffer_1_1.value;
                            subscriber.next(value);
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (buffer_1_1 && !buffer_1_1.done && (_a = buffer_1.return)) _a.call(buffer_1);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                    subscriber.complete();
                }, undefined, function () {
                    buffer = null;
                }));
            });
    }
    takeLast$1.takeLast = takeLast;

    Object.defineProperty(last$1, "__esModule", { value: true });
    last$1.last = void 0;
    var EmptyError_1$1 = EmptyError;
    var filter_1$1 = filter$6;
    var takeLast_1 = takeLast$1;
    var throwIfEmpty_1 = throwIfEmpty$1;
    var defaultIfEmpty_1 = defaultIfEmpty$1;
    var identity_1$7 = identity$7;
    function last(predicate, defaultValue) {
        var hasDefaultValue = arguments.length >= 2;
        return function (source) {
            return source.pipe(predicate ? filter_1$1.filter(function (v, i) { return predicate(v, i, source); }) : identity_1$7.identity, takeLast_1.takeLast(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function () { return new EmptyError_1$1.EmptyError(); }));
        };
    }
    last$1.last = last;

    var materialize$1 = {};

    Object.defineProperty(materialize$1, "__esModule", { value: true });
    materialize$1.materialize = void 0;
    var Notification_1 = Notification;
    var lift_1$u = lift;
    var OperatorSubscriber_1$m = OperatorSubscriber$2;
    function materialize() {
        return lift_1$u.operate(function (source, subscriber) {
            source.subscribe(OperatorSubscriber_1$m.createOperatorSubscriber(subscriber, function (value) {
                subscriber.next(Notification_1.Notification.createNext(value));
            }, function () {
                subscriber.next(Notification_1.Notification.createComplete());
                subscriber.complete();
            }, function (err) {
                subscriber.next(Notification_1.Notification.createError(err));
                subscriber.complete();
            }));
        });
    }
    materialize$1.materialize = materialize;

    var max$1 = {};

    Object.defineProperty(max$1, "__esModule", { value: true });
    max$1.max = void 0;
    var reduce_1$1 = reduce$1;
    var isFunction_1$7 = isFunction$b;
    function max(comparer) {
        return reduce_1$1.reduce(isFunction_1$7.isFunction(comparer) ? function (x, y) { return (comparer(x, y) > 0 ? x : y); } : function (x, y) { return (x > y ? x : y); });
    }
    max$1.max = max;

    var flatMap = {};

    Object.defineProperty(flatMap, "__esModule", { value: true });
    flatMap.flatMap = void 0;
    var mergeMap_1$1 = mergeMap$1;
    flatMap.flatMap = mergeMap_1$1.mergeMap;

    var mergeMapTo$1 = {};

    Object.defineProperty(mergeMapTo$1, "__esModule", { value: true });
    mergeMapTo$1.mergeMapTo = void 0;
    var mergeMap_1 = mergeMap$1;
    var isFunction_1$6 = isFunction$b;
    function mergeMapTo(innerObservable, resultSelector, concurrent) {
        if (concurrent === void 0) { concurrent = Infinity; }
        if (isFunction_1$6.isFunction(resultSelector)) {
            return mergeMap_1.mergeMap(function () { return innerObservable; }, resultSelector, concurrent);
        }
        if (typeof resultSelector === 'number') {
            concurrent = resultSelector;
        }
        return mergeMap_1.mergeMap(function () { return innerObservable; }, concurrent);
    }
    mergeMapTo$1.mergeMapTo = mergeMapTo;

    var mergeScan$1 = {};

    Object.defineProperty(mergeScan$1, "__esModule", { value: true });
    mergeScan$1.mergeScan = void 0;
    var lift_1$t = lift;
    var mergeInternals_1 = mergeInternals$1;
    function mergeScan(accumulator, seed, concurrent) {
        if (concurrent === void 0) { concurrent = Infinity; }
        return lift_1$t.operate(function (source, subscriber) {
            var state = seed;
            return mergeInternals_1.mergeInternals(source, subscriber, function (value, index) { return accumulator(state, value, index); }, concurrent, function (value) {
                state = value;
            }, false, undefined, function () { return (state = null); });
        });
    }
    mergeScan$1.mergeScan = mergeScan;

    var mergeWith$1 = {};

    var merge$2 = {};

    var __read$7 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$7 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(merge$2, "__esModule", { value: true });
    merge$2.merge = void 0;
    var lift_1$s = lift;
    var argsOrArgArray_1 = argsOrArgArray$1;
    var mergeAll_1 = mergeAll$1;
    var args_1$3 = args;
    var from_1 = from$1;
    function merge$1() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var scheduler = args_1$3.popScheduler(args);
        var concurrent = args_1$3.popNumber(args, Infinity);
        args = argsOrArgArray_1.argsOrArgArray(args);
        return lift_1$s.operate(function (source, subscriber) {
            mergeAll_1.mergeAll(concurrent)(from_1.from(__spreadArray$7([source], __read$7(args)), scheduler)).subscribe(subscriber);
        });
    }
    merge$2.merge = merge$1;

    var __read$6 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$6 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(mergeWith$1, "__esModule", { value: true });
    mergeWith$1.mergeWith = void 0;
    var merge_1$1 = merge$2;
    function mergeWith() {
        var otherSources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            otherSources[_i] = arguments[_i];
        }
        return merge_1$1.merge.apply(void 0, __spreadArray$6([], __read$6(otherSources)));
    }
    mergeWith$1.mergeWith = mergeWith;

    var min$1 = {};

    Object.defineProperty(min$1, "__esModule", { value: true });
    min$1.min = void 0;
    var reduce_1 = reduce$1;
    var isFunction_1$5 = isFunction$b;
    function min(comparer) {
        return reduce_1.reduce(isFunction_1$5.isFunction(comparer) ? function (x, y) { return (comparer(x, y) < 0 ? x : y); } : function (x, y) { return (x < y ? x : y); });
    }
    min$1.min = min;

    var multicast$1 = {};

    Object.defineProperty(multicast$1, "__esModule", { value: true });
    multicast$1.multicast = void 0;
    var ConnectableObservable_1$2 = ConnectableObservable$1;
    var isFunction_1$4 = isFunction$b;
    var connect_1$1 = connect$1;
    function multicast(subjectOrSubjectFactory, selector) {
        var subjectFactory = isFunction_1$4.isFunction(subjectOrSubjectFactory) ? subjectOrSubjectFactory : function () { return subjectOrSubjectFactory; };
        if (isFunction_1$4.isFunction(selector)) {
            return connect_1$1.connect(selector, {
                connector: subjectFactory,
            });
        }
        return function (source) { return new ConnectableObservable_1$2.ConnectableObservable(source, subjectFactory); };
    }
    multicast$1.multicast = multicast;

    var pairwise$1 = {};

    Object.defineProperty(pairwise$1, "__esModule", { value: true });
    pairwise$1.pairwise = void 0;
    var lift_1$r = lift;
    var OperatorSubscriber_1$l = OperatorSubscriber$2;
    function pairwise() {
        return lift_1$r.operate(function (source, subscriber) {
            var prev;
            var hasPrev = false;
            source.subscribe(OperatorSubscriber_1$l.createOperatorSubscriber(subscriber, function (value) {
                var p = prev;
                prev = value;
                hasPrev && subscriber.next([p, value]);
                hasPrev = true;
            }));
        });
    }
    pairwise$1.pairwise = pairwise;

    var pluck$1 = {};

    Object.defineProperty(pluck$1, "__esModule", { value: true });
    pluck$1.pluck = void 0;
    var map_1$1 = map$2;
    function pluck() {
        var properties = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            properties[_i] = arguments[_i];
        }
        var length = properties.length;
        if (length === 0) {
            throw new Error('list of properties cannot be empty.');
        }
        return map_1$1.map(function (x) {
            var currentProp = x;
            for (var i = 0; i < length; i++) {
                var p = currentProp === null || currentProp === void 0 ? void 0 : currentProp[properties[i]];
                if (typeof p !== 'undefined') {
                    currentProp = p;
                }
                else {
                    return undefined;
                }
            }
            return currentProp;
        });
    }
    pluck$1.pluck = pluck;

    var publish$1 = {};

    Object.defineProperty(publish$1, "__esModule", { value: true });
    publish$1.publish = void 0;
    var Subject_1$8 = Subject$1;
    var multicast_1$1 = multicast$1;
    var connect_1 = connect$1;
    function publish(selector) {
        return selector ? function (source) { return connect_1.connect(selector)(source); } : function (source) { return multicast_1$1.multicast(new Subject_1$8.Subject())(source); };
    }
    publish$1.publish = publish;

    var publishBehavior$1 = {};

    Object.defineProperty(publishBehavior$1, "__esModule", { value: true });
    publishBehavior$1.publishBehavior = void 0;
    var BehaviorSubject_1 = BehaviorSubject$1;
    var ConnectableObservable_1$1 = ConnectableObservable$1;
    function publishBehavior(initialValue) {
        return function (source) {
            var subject = new BehaviorSubject_1.BehaviorSubject(initialValue);
            return new ConnectableObservable_1$1.ConnectableObservable(source, function () { return subject; });
        };
    }
    publishBehavior$1.publishBehavior = publishBehavior;

    var publishLast$1 = {};

    Object.defineProperty(publishLast$1, "__esModule", { value: true });
    publishLast$1.publishLast = void 0;
    var AsyncSubject_1 = AsyncSubject$1;
    var ConnectableObservable_1 = ConnectableObservable$1;
    function publishLast() {
        return function (source) {
            var subject = new AsyncSubject_1.AsyncSubject();
            return new ConnectableObservable_1.ConnectableObservable(source, function () { return subject; });
        };
    }
    publishLast$1.publishLast = publishLast;

    var publishReplay$1 = {};

    Object.defineProperty(publishReplay$1, "__esModule", { value: true });
    publishReplay$1.publishReplay = void 0;
    var ReplaySubject_1$1 = ReplaySubject$1;
    var multicast_1 = multicast$1;
    var isFunction_1$3 = isFunction$b;
    function publishReplay(bufferSize, windowTime, selectorOrScheduler, timestampProvider) {
        if (selectorOrScheduler && !isFunction_1$3.isFunction(selectorOrScheduler)) {
            timestampProvider = selectorOrScheduler;
        }
        var selector = isFunction_1$3.isFunction(selectorOrScheduler) ? selectorOrScheduler : undefined;
        return function (source) { return multicast_1.multicast(new ReplaySubject_1$1.ReplaySubject(bufferSize, windowTime, timestampProvider), selector)(source); };
    }
    publishReplay$1.publishReplay = publishReplay;

    var raceWith$1 = {};

    var __read$5 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$5 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(raceWith$1, "__esModule", { value: true });
    raceWith$1.raceWith = void 0;
    var race_1 = race$1;
    var lift_1$q = lift;
    var identity_1$6 = identity$7;
    function raceWith() {
        var otherSources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            otherSources[_i] = arguments[_i];
        }
        return !otherSources.length
            ? identity_1$6.identity
            : lift_1$q.operate(function (source, subscriber) {
                race_1.raceInit(__spreadArray$5([source], __read$5(otherSources)))(subscriber);
            });
    }
    raceWith$1.raceWith = raceWith;

    var repeat$1 = {};

    Object.defineProperty(repeat$1, "__esModule", { value: true });
    repeat$1.repeat = void 0;
    var empty_1 = empty;
    var lift_1$p = lift;
    var OperatorSubscriber_1$k = OperatorSubscriber$2;
    var innerFrom_1$8 = innerFrom$2;
    var timer_1$2 = timer$1;
    function repeat(countOrConfig) {
        var _a;
        var count = Infinity;
        var delay;
        if (countOrConfig != null) {
            if (typeof countOrConfig === 'object') {
                (_a = countOrConfig.count, count = _a === void 0 ? Infinity : _a, delay = countOrConfig.delay);
            }
            else {
                count = countOrConfig;
            }
        }
        return count <= 0
            ? function () { return empty_1.EMPTY; }
            : lift_1$p.operate(function (source, subscriber) {
                var soFar = 0;
                var sourceSub;
                var resubscribe = function () {
                    sourceSub === null || sourceSub === void 0 ? void 0 : sourceSub.unsubscribe();
                    sourceSub = null;
                    if (delay != null) {
                        var notifier = typeof delay === 'number' ? timer_1$2.timer(delay) : innerFrom_1$8.innerFrom(delay(soFar));
                        var notifierSubscriber_1 = OperatorSubscriber_1$k.createOperatorSubscriber(subscriber, function () {
                            notifierSubscriber_1.unsubscribe();
                            subscribeToSource();
                        });
                        notifier.subscribe(notifierSubscriber_1);
                    }
                    else {
                        subscribeToSource();
                    }
                };
                var subscribeToSource = function () {
                    var syncUnsub = false;
                    sourceSub = source.subscribe(OperatorSubscriber_1$k.createOperatorSubscriber(subscriber, undefined, function () {
                        if (++soFar < count) {
                            if (sourceSub) {
                                resubscribe();
                            }
                            else {
                                syncUnsub = true;
                            }
                        }
                        else {
                            subscriber.complete();
                        }
                    }));
                    if (syncUnsub) {
                        resubscribe();
                    }
                };
                subscribeToSource();
            });
    }
    repeat$1.repeat = repeat;

    var repeatWhen$1 = {};

    Object.defineProperty(repeatWhen$1, "__esModule", { value: true });
    repeatWhen$1.repeatWhen = void 0;
    var Subject_1$7 = Subject$1;
    var lift_1$o = lift;
    var OperatorSubscriber_1$j = OperatorSubscriber$2;
    function repeatWhen(notifier) {
        return lift_1$o.operate(function (source, subscriber) {
            var innerSub;
            var syncResub = false;
            var completions$;
            var isNotifierComplete = false;
            var isMainComplete = false;
            var checkComplete = function () { return isMainComplete && isNotifierComplete && (subscriber.complete(), true); };
            var getCompletionSubject = function () {
                if (!completions$) {
                    completions$ = new Subject_1$7.Subject();
                    notifier(completions$).subscribe(OperatorSubscriber_1$j.createOperatorSubscriber(subscriber, function () {
                        if (innerSub) {
                            subscribeForRepeatWhen();
                        }
                        else {
                            syncResub = true;
                        }
                    }, function () {
                        isNotifierComplete = true;
                        checkComplete();
                    }));
                }
                return completions$;
            };
            var subscribeForRepeatWhen = function () {
                isMainComplete = false;
                innerSub = source.subscribe(OperatorSubscriber_1$j.createOperatorSubscriber(subscriber, undefined, function () {
                    isMainComplete = true;
                    !checkComplete() && getCompletionSubject().next();
                }));
                if (syncResub) {
                    innerSub.unsubscribe();
                    innerSub = null;
                    syncResub = false;
                    subscribeForRepeatWhen();
                }
            };
            subscribeForRepeatWhen();
        });
    }
    repeatWhen$1.repeatWhen = repeatWhen;

    var retry$1 = {};

    Object.defineProperty(retry$1, "__esModule", { value: true });
    retry$1.retry = void 0;
    var lift_1$n = lift;
    var OperatorSubscriber_1$i = OperatorSubscriber$2;
    var identity_1$5 = identity$7;
    var timer_1$1 = timer$1;
    var innerFrom_1$7 = innerFrom$2;
    function retry(configOrCount) {
        if (configOrCount === void 0) { configOrCount = Infinity; }
        var config;
        if (configOrCount && typeof configOrCount === 'object') {
            config = configOrCount;
        }
        else {
            config = {
                count: configOrCount,
            };
        }
        var _a = config.count, count = _a === void 0 ? Infinity : _a, delay = config.delay, _b = config.resetOnSuccess, resetOnSuccess = _b === void 0 ? false : _b;
        return count <= 0
            ? identity_1$5.identity
            : lift_1$n.operate(function (source, subscriber) {
                var soFar = 0;
                var innerSub;
                var subscribeForRetry = function () {
                    var syncUnsub = false;
                    innerSub = source.subscribe(OperatorSubscriber_1$i.createOperatorSubscriber(subscriber, function (value) {
                        if (resetOnSuccess) {
                            soFar = 0;
                        }
                        subscriber.next(value);
                    }, undefined, function (err) {
                        if (soFar++ < count) {
                            var resub_1 = function () {
                                if (innerSub) {
                                    innerSub.unsubscribe();
                                    innerSub = null;
                                    subscribeForRetry();
                                }
                                else {
                                    syncUnsub = true;
                                }
                            };
                            if (delay != null) {
                                var notifier = typeof delay === 'number' ? timer_1$1.timer(delay) : innerFrom_1$7.innerFrom(delay(err, soFar));
                                var notifierSubscriber_1 = OperatorSubscriber_1$i.createOperatorSubscriber(subscriber, function () {
                                    notifierSubscriber_1.unsubscribe();
                                    resub_1();
                                }, function () {
                                    subscriber.complete();
                                });
                                notifier.subscribe(notifierSubscriber_1);
                            }
                            else {
                                resub_1();
                            }
                        }
                        else {
                            subscriber.error(err);
                        }
                    }));
                    if (syncUnsub) {
                        innerSub.unsubscribe();
                        innerSub = null;
                        subscribeForRetry();
                    }
                };
                subscribeForRetry();
            });
    }
    retry$1.retry = retry;

    var retryWhen$1 = {};

    Object.defineProperty(retryWhen$1, "__esModule", { value: true });
    retryWhen$1.retryWhen = void 0;
    var Subject_1$6 = Subject$1;
    var lift_1$m = lift;
    var OperatorSubscriber_1$h = OperatorSubscriber$2;
    function retryWhen(notifier) {
        return lift_1$m.operate(function (source, subscriber) {
            var innerSub;
            var syncResub = false;
            var errors$;
            var subscribeForRetryWhen = function () {
                innerSub = source.subscribe(OperatorSubscriber_1$h.createOperatorSubscriber(subscriber, undefined, undefined, function (err) {
                    if (!errors$) {
                        errors$ = new Subject_1$6.Subject();
                        notifier(errors$).subscribe(OperatorSubscriber_1$h.createOperatorSubscriber(subscriber, function () {
                            return innerSub ? subscribeForRetryWhen() : (syncResub = true);
                        }));
                    }
                    if (errors$) {
                        errors$.next(err);
                    }
                }));
                if (syncResub) {
                    innerSub.unsubscribe();
                    innerSub = null;
                    syncResub = false;
                    subscribeForRetryWhen();
                }
            };
            subscribeForRetryWhen();
        });
    }
    retryWhen$1.retryWhen = retryWhen;

    var sample$1 = {};

    Object.defineProperty(sample$1, "__esModule", { value: true });
    sample$1.sample = void 0;
    var lift_1$l = lift;
    var noop_1$5 = noop$2;
    var OperatorSubscriber_1$g = OperatorSubscriber$2;
    function sample(notifier) {
        return lift_1$l.operate(function (source, subscriber) {
            var hasValue = false;
            var lastValue = null;
            source.subscribe(OperatorSubscriber_1$g.createOperatorSubscriber(subscriber, function (value) {
                hasValue = true;
                lastValue = value;
            }));
            notifier.subscribe(OperatorSubscriber_1$g.createOperatorSubscriber(subscriber, function () {
                if (hasValue) {
                    hasValue = false;
                    var value = lastValue;
                    lastValue = null;
                    subscriber.next(value);
                }
            }, noop_1$5.noop));
        });
    }
    sample$1.sample = sample;

    var sampleTime$1 = {};

    Object.defineProperty(sampleTime$1, "__esModule", { value: true });
    sampleTime$1.sampleTime = void 0;
    var async_1$4 = async;
    var sample_1 = sample$1;
    var interval_1 = interval$1;
    function sampleTime(period, scheduler) {
        if (scheduler === void 0) { scheduler = async_1$4.asyncScheduler; }
        return sample_1.sample(interval_1.interval(period, scheduler));
    }
    sampleTime$1.sampleTime = sampleTime;

    var scan$1 = {};

    Object.defineProperty(scan$1, "__esModule", { value: true });
    scan$1.scan = void 0;
    var lift_1$k = lift;
    var scanInternals_1 = scanInternals$1;
    function scan(accumulator, seed) {
        return lift_1$k.operate(scanInternals_1.scanInternals(accumulator, seed, arguments.length >= 2, true));
    }
    scan$1.scan = scan;

    var sequenceEqual$1 = {};

    Object.defineProperty(sequenceEqual$1, "__esModule", { value: true });
    sequenceEqual$1.sequenceEqual = void 0;
    var lift_1$j = lift;
    var OperatorSubscriber_1$f = OperatorSubscriber$2;
    function sequenceEqual(compareTo, comparator) {
        if (comparator === void 0) { comparator = function (a, b) { return a === b; }; }
        return lift_1$j.operate(function (source, subscriber) {
            var aState = createState();
            var bState = createState();
            var emit = function (isEqual) {
                subscriber.next(isEqual);
                subscriber.complete();
            };
            var createSubscriber = function (selfState, otherState) {
                var sequenceEqualSubscriber = OperatorSubscriber_1$f.createOperatorSubscriber(subscriber, function (a) {
                    var buffer = otherState.buffer, complete = otherState.complete;
                    if (buffer.length === 0) {
                        complete ? emit(false) : selfState.buffer.push(a);
                    }
                    else {
                        !comparator(a, buffer.shift()) && emit(false);
                    }
                }, function () {
                    selfState.complete = true;
                    var complete = otherState.complete, buffer = otherState.buffer;
                    complete && emit(buffer.length === 0);
                    sequenceEqualSubscriber === null || sequenceEqualSubscriber === void 0 ? void 0 : sequenceEqualSubscriber.unsubscribe();
                });
                return sequenceEqualSubscriber;
            };
            source.subscribe(createSubscriber(aState, bState));
            compareTo.subscribe(createSubscriber(bState, aState));
        });
    }
    sequenceEqual$1.sequenceEqual = sequenceEqual;
    function createState() {
        return {
            buffer: [],
            complete: false,
        };
    }

    var share$1 = {};

    var __read$4 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$4 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(share$1, "__esModule", { value: true });
    share$1.share = void 0;
    var innerFrom_1$6 = innerFrom$2;
    var Subject_1$5 = Subject$1;
    var Subscriber_1 = Subscriber$1;
    var lift_1$i = lift;
    function share(options) {
        if (options === void 0) { options = {}; }
        var _a = options.connector, connector = _a === void 0 ? function () { return new Subject_1$5.Subject(); } : _a, _b = options.resetOnError, resetOnError = _b === void 0 ? true : _b, _c = options.resetOnComplete, resetOnComplete = _c === void 0 ? true : _c, _d = options.resetOnRefCountZero, resetOnRefCountZero = _d === void 0 ? true : _d;
        return function (wrapperSource) {
            var connection;
            var resetConnection;
            var subject;
            var refCount = 0;
            var hasCompleted = false;
            var hasErrored = false;
            var cancelReset = function () {
                resetConnection === null || resetConnection === void 0 ? void 0 : resetConnection.unsubscribe();
                resetConnection = undefined;
            };
            var reset = function () {
                cancelReset();
                connection = subject = undefined;
                hasCompleted = hasErrored = false;
            };
            var resetAndUnsubscribe = function () {
                var conn = connection;
                reset();
                conn === null || conn === void 0 ? void 0 : conn.unsubscribe();
            };
            return lift_1$i.operate(function (source, subscriber) {
                refCount++;
                if (!hasErrored && !hasCompleted) {
                    cancelReset();
                }
                var dest = (subject = subject !== null && subject !== void 0 ? subject : connector());
                subscriber.add(function () {
                    refCount--;
                    if (refCount === 0 && !hasErrored && !hasCompleted) {
                        resetConnection = handleReset(resetAndUnsubscribe, resetOnRefCountZero);
                    }
                });
                dest.subscribe(subscriber);
                if (!connection &&
                    refCount > 0) {
                    connection = new Subscriber_1.SafeSubscriber({
                        next: function (value) { return dest.next(value); },
                        error: function (err) {
                            hasErrored = true;
                            cancelReset();
                            resetConnection = handleReset(reset, resetOnError, err);
                            dest.error(err);
                        },
                        complete: function () {
                            hasCompleted = true;
                            cancelReset();
                            resetConnection = handleReset(reset, resetOnComplete);
                            dest.complete();
                        },
                    });
                    innerFrom_1$6.innerFrom(source).subscribe(connection);
                }
            })(wrapperSource);
        };
    }
    share$1.share = share;
    function handleReset(reset, on) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        if (on === true) {
            reset();
            return;
        }
        if (on === false) {
            return;
        }
        var onSubscriber = new Subscriber_1.SafeSubscriber({
            next: function () {
                onSubscriber.unsubscribe();
                reset();
            },
        });
        return on.apply(void 0, __spreadArray$4([], __read$4(args))).subscribe(onSubscriber);
    }

    var shareReplay$1 = {};

    Object.defineProperty(shareReplay$1, "__esModule", { value: true });
    shareReplay$1.shareReplay = void 0;
    var ReplaySubject_1 = ReplaySubject$1;
    var share_1 = share$1;
    function shareReplay(configOrBufferSize, windowTime, scheduler) {
        var _a, _b, _c;
        var bufferSize;
        var refCount = false;
        if (configOrBufferSize && typeof configOrBufferSize === 'object') {
            (_a = configOrBufferSize.bufferSize, bufferSize = _a === void 0 ? Infinity : _a, _b = configOrBufferSize.windowTime, windowTime = _b === void 0 ? Infinity : _b, _c = configOrBufferSize.refCount, refCount = _c === void 0 ? false : _c, scheduler = configOrBufferSize.scheduler);
        }
        else {
            bufferSize = (configOrBufferSize !== null && configOrBufferSize !== void 0 ? configOrBufferSize : Infinity);
        }
        return share_1.share({
            connector: function () { return new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler); },
            resetOnError: true,
            resetOnComplete: false,
            resetOnRefCountZero: refCount,
        });
    }
    shareReplay$1.shareReplay = shareReplay;

    var single$1 = {};

    Object.defineProperty(single$1, "__esModule", { value: true });
    single$1.single = void 0;
    var EmptyError_1 = EmptyError;
    var SequenceError_1 = SequenceError;
    var NotFoundError_1 = NotFoundError;
    var lift_1$h = lift;
    var OperatorSubscriber_1$e = OperatorSubscriber$2;
    function single(predicate) {
        return lift_1$h.operate(function (source, subscriber) {
            var hasValue = false;
            var singleValue;
            var seenValue = false;
            var index = 0;
            source.subscribe(OperatorSubscriber_1$e.createOperatorSubscriber(subscriber, function (value) {
                seenValue = true;
                if (!predicate || predicate(value, index++, source)) {
                    hasValue && subscriber.error(new SequenceError_1.SequenceError('Too many matching values'));
                    hasValue = true;
                    singleValue = value;
                }
            }, function () {
                if (hasValue) {
                    subscriber.next(singleValue);
                    subscriber.complete();
                }
                else {
                    subscriber.error(seenValue ? new NotFoundError_1.NotFoundError('No matching values') : new EmptyError_1.EmptyError());
                }
            }));
        });
    }
    single$1.single = single;

    var skip$1 = {};

    Object.defineProperty(skip$1, "__esModule", { value: true });
    skip$1.skip = void 0;
    var filter_1 = filter$6;
    function skip(count) {
        return filter_1.filter(function (_, index) { return count <= index; });
    }
    skip$1.skip = skip;

    var skipLast$1 = {};

    Object.defineProperty(skipLast$1, "__esModule", { value: true });
    skipLast$1.skipLast = void 0;
    var identity_1$4 = identity$7;
    var lift_1$g = lift;
    var OperatorSubscriber_1$d = OperatorSubscriber$2;
    function skipLast(skipCount) {
        return skipCount <= 0
            ?
                identity_1$4.identity
            : lift_1$g.operate(function (source, subscriber) {
                var ring = new Array(skipCount);
                var seen = 0;
                source.subscribe(OperatorSubscriber_1$d.createOperatorSubscriber(subscriber, function (value) {
                    var valueIndex = seen++;
                    if (valueIndex < skipCount) {
                        ring[valueIndex] = value;
                    }
                    else {
                        var index = valueIndex % skipCount;
                        var oldValue = ring[index];
                        ring[index] = value;
                        subscriber.next(oldValue);
                    }
                }));
                return function () {
                    ring = null;
                };
            });
    }
    skipLast$1.skipLast = skipLast;

    var skipUntil$1 = {};

    Object.defineProperty(skipUntil$1, "__esModule", { value: true });
    skipUntil$1.skipUntil = void 0;
    var lift_1$f = lift;
    var OperatorSubscriber_1$c = OperatorSubscriber$2;
    var innerFrom_1$5 = innerFrom$2;
    var noop_1$4 = noop$2;
    function skipUntil(notifier) {
        return lift_1$f.operate(function (source, subscriber) {
            var taking = false;
            var skipSubscriber = OperatorSubscriber_1$c.createOperatorSubscriber(subscriber, function () {
                skipSubscriber === null || skipSubscriber === void 0 ? void 0 : skipSubscriber.unsubscribe();
                taking = true;
            }, noop_1$4.noop);
            innerFrom_1$5.innerFrom(notifier).subscribe(skipSubscriber);
            source.subscribe(OperatorSubscriber_1$c.createOperatorSubscriber(subscriber, function (value) { return taking && subscriber.next(value); }));
        });
    }
    skipUntil$1.skipUntil = skipUntil;

    var skipWhile$1 = {};

    Object.defineProperty(skipWhile$1, "__esModule", { value: true });
    skipWhile$1.skipWhile = void 0;
    var lift_1$e = lift;
    var OperatorSubscriber_1$b = OperatorSubscriber$2;
    function skipWhile(predicate) {
        return lift_1$e.operate(function (source, subscriber) {
            var taking = false;
            var index = 0;
            source.subscribe(OperatorSubscriber_1$b.createOperatorSubscriber(subscriber, function (value) { return (taking || (taking = !predicate(value, index++))) && subscriber.next(value); }));
        });
    }
    skipWhile$1.skipWhile = skipWhile;

    var startWith$1 = {};

    Object.defineProperty(startWith$1, "__esModule", { value: true });
    startWith$1.startWith = void 0;
    var concat_1 = concat$3;
    var args_1$2 = args;
    var lift_1$d = lift;
    function startWith() {
        var values = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            values[_i] = arguments[_i];
        }
        var scheduler = args_1$2.popScheduler(values);
        return lift_1$d.operate(function (source, subscriber) {
            (scheduler ? concat_1.concat(values, source, scheduler) : concat_1.concat(values, source)).subscribe(subscriber);
        });
    }
    startWith$1.startWith = startWith;

    var switchAll$1 = {};

    var switchMap$1 = {};

    Object.defineProperty(switchMap$1, "__esModule", { value: true });
    switchMap$1.switchMap = void 0;
    var innerFrom_1$4 = innerFrom$2;
    var lift_1$c = lift;
    var OperatorSubscriber_1$a = OperatorSubscriber$2;
    function switchMap(project, resultSelector) {
        return lift_1$c.operate(function (source, subscriber) {
            var innerSubscriber = null;
            var index = 0;
            var isComplete = false;
            var checkComplete = function () { return isComplete && !innerSubscriber && subscriber.complete(); };
            source.subscribe(OperatorSubscriber_1$a.createOperatorSubscriber(subscriber, function (value) {
                innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();
                var innerIndex = 0;
                var outerIndex = index++;
                innerFrom_1$4.innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = OperatorSubscriber_1$a.createOperatorSubscriber(subscriber, function (innerValue) { return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue); }, function () {
                    innerSubscriber = null;
                    checkComplete();
                })));
            }, function () {
                isComplete = true;
                checkComplete();
            }));
        });
    }
    switchMap$1.switchMap = switchMap;

    Object.defineProperty(switchAll$1, "__esModule", { value: true });
    switchAll$1.switchAll = void 0;
    var switchMap_1$2 = switchMap$1;
    var identity_1$3 = identity$7;
    function switchAll() {
        return switchMap_1$2.switchMap(identity_1$3.identity);
    }
    switchAll$1.switchAll = switchAll;

    var switchMapTo$1 = {};

    Object.defineProperty(switchMapTo$1, "__esModule", { value: true });
    switchMapTo$1.switchMapTo = void 0;
    var switchMap_1$1 = switchMap$1;
    var isFunction_1$2 = isFunction$b;
    function switchMapTo(innerObservable, resultSelector) {
        return isFunction_1$2.isFunction(resultSelector) ? switchMap_1$1.switchMap(function () { return innerObservable; }, resultSelector) : switchMap_1$1.switchMap(function () { return innerObservable; });
    }
    switchMapTo$1.switchMapTo = switchMapTo;

    var switchScan$1 = {};

    Object.defineProperty(switchScan$1, "__esModule", { value: true });
    switchScan$1.switchScan = void 0;
    var switchMap_1 = switchMap$1;
    var lift_1$b = lift;
    function switchScan(accumulator, seed) {
        return lift_1$b.operate(function (source, subscriber) {
            var state = seed;
            switchMap_1.switchMap(function (value, index) { return accumulator(state, value, index); }, function (_, innerValue) { return ((state = innerValue), innerValue); })(source).subscribe(subscriber);
            return function () {
                state = null;
            };
        });
    }
    switchScan$1.switchScan = switchScan;

    var takeUntil$1 = {};

    Object.defineProperty(takeUntil$1, "__esModule", { value: true });
    takeUntil$1.takeUntil = void 0;
    var lift_1$a = lift;
    var OperatorSubscriber_1$9 = OperatorSubscriber$2;
    var innerFrom_1$3 = innerFrom$2;
    var noop_1$3 = noop$2;
    function takeUntil(notifier) {
        return lift_1$a.operate(function (source, subscriber) {
            innerFrom_1$3.innerFrom(notifier).subscribe(OperatorSubscriber_1$9.createOperatorSubscriber(subscriber, function () { return subscriber.complete(); }, noop_1$3.noop));
            !subscriber.closed && source.subscribe(subscriber);
        });
    }
    takeUntil$1.takeUntil = takeUntil;

    var takeWhile$1 = {};

    Object.defineProperty(takeWhile$1, "__esModule", { value: true });
    takeWhile$1.takeWhile = void 0;
    var lift_1$9 = lift;
    var OperatorSubscriber_1$8 = OperatorSubscriber$2;
    function takeWhile(predicate, inclusive) {
        if (inclusive === void 0) { inclusive = false; }
        return lift_1$9.operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(OperatorSubscriber_1$8.createOperatorSubscriber(subscriber, function (value) {
                var result = predicate(value, index++);
                (result || inclusive) && subscriber.next(value);
                !result && subscriber.complete();
            }));
        });
    }
    takeWhile$1.takeWhile = takeWhile;

    var tap$1 = {};

    Object.defineProperty(tap$1, "__esModule", { value: true });
    tap$1.tap = void 0;
    var isFunction_1$1 = isFunction$b;
    var lift_1$8 = lift;
    var OperatorSubscriber_1$7 = OperatorSubscriber$2;
    var identity_1$2 = identity$7;
    function tap(observerOrNext, error, complete) {
        var tapObserver = isFunction_1$1.isFunction(observerOrNext) || error || complete
            ?
                { next: observerOrNext, error: error, complete: complete }
            : observerOrNext;
        return tapObserver
            ? lift_1$8.operate(function (source, subscriber) {
                var _a;
                (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);
                var isUnsub = true;
                source.subscribe(OperatorSubscriber_1$7.createOperatorSubscriber(subscriber, function (value) {
                    var _a;
                    (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);
                    subscriber.next(value);
                }, function () {
                    var _a;
                    isUnsub = false;
                    (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);
                    subscriber.complete();
                }, function (err) {
                    var _a;
                    isUnsub = false;
                    (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);
                    subscriber.error(err);
                }, function () {
                    var _a, _b;
                    if (isUnsub) {
                        (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);
                    }
                    (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);
                }));
            })
            :
                identity_1$2.identity;
    }
    tap$1.tap = tap;

    var throttle$1 = {};

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.throttle = exports.defaultThrottleConfig = void 0;
    	var lift_1 = lift;
    	var OperatorSubscriber_1 = OperatorSubscriber$2;
    	var innerFrom_1 = innerFrom$2;
    	exports.defaultThrottleConfig = {
    	    leading: true,
    	    trailing: false,
    	};
    	function throttle(durationSelector, config) {
    	    if (config === void 0) { config = exports.defaultThrottleConfig; }
    	    return lift_1.operate(function (source, subscriber) {
    	        var leading = config.leading, trailing = config.trailing;
    	        var hasValue = false;
    	        var sendValue = null;
    	        var throttled = null;
    	        var isComplete = false;
    	        var endThrottling = function () {
    	            throttled === null || throttled === void 0 ? void 0 : throttled.unsubscribe();
    	            throttled = null;
    	            if (trailing) {
    	                send();
    	                isComplete && subscriber.complete();
    	            }
    	        };
    	        var cleanupThrottling = function () {
    	            throttled = null;
    	            isComplete && subscriber.complete();
    	        };
    	        var startThrottle = function (value) {
    	            return (throttled = innerFrom_1.innerFrom(durationSelector(value)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, endThrottling, cleanupThrottling)));
    	        };
    	        var send = function () {
    	            if (hasValue) {
    	                hasValue = false;
    	                var value = sendValue;
    	                sendValue = null;
    	                subscriber.next(value);
    	                !isComplete && startThrottle(value);
    	            }
    	        };
    	        source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {
    	            hasValue = true;
    	            sendValue = value;
    	            !(throttled && !throttled.closed) && (leading ? send() : startThrottle(value));
    	        }, function () {
    	            isComplete = true;
    	            !(trailing && hasValue && throttled && !throttled.closed) && subscriber.complete();
    	        }));
    	    });
    	}
    	exports.throttle = throttle;
    	
    } (throttle$1));

    var throttleTime$1 = {};

    Object.defineProperty(throttleTime$1, "__esModule", { value: true });
    throttleTime$1.throttleTime = void 0;
    var async_1$3 = async;
    var throttle_1 = throttle$1;
    var timer_1 = timer$1;
    function throttleTime(duration, scheduler, config) {
        if (scheduler === void 0) { scheduler = async_1$3.asyncScheduler; }
        if (config === void 0) { config = throttle_1.defaultThrottleConfig; }
        var duration$ = timer_1.timer(duration, scheduler);
        return throttle_1.throttle(function () { return duration$; }, config);
    }
    throttleTime$1.throttleTime = throttleTime;

    var timeInterval$1 = {};

    Object.defineProperty(timeInterval$1, "__esModule", { value: true });
    timeInterval$1.TimeInterval = timeInterval$1.timeInterval = void 0;
    var async_1$2 = async;
    var lift_1$7 = lift;
    var OperatorSubscriber_1$6 = OperatorSubscriber$2;
    function timeInterval(scheduler) {
        if (scheduler === void 0) { scheduler = async_1$2.asyncScheduler; }
        return lift_1$7.operate(function (source, subscriber) {
            var last = scheduler.now();
            source.subscribe(OperatorSubscriber_1$6.createOperatorSubscriber(subscriber, function (value) {
                var now = scheduler.now();
                var interval = now - last;
                last = now;
                subscriber.next(new TimeInterval(value, interval));
            }));
        });
    }
    timeInterval$1.timeInterval = timeInterval;
    var TimeInterval = (function () {
        function TimeInterval(value, interval) {
            this.value = value;
            this.interval = interval;
        }
        return TimeInterval;
    }());
    timeInterval$1.TimeInterval = TimeInterval;

    var timeoutWith$1 = {};

    Object.defineProperty(timeoutWith$1, "__esModule", { value: true });
    timeoutWith$1.timeoutWith = void 0;
    var async_1$1 = async;
    var isDate_1 = isDate;
    var timeout_1 = timeout;
    function timeoutWith(due, withObservable, scheduler) {
        var first;
        var each;
        var _with;
        scheduler = scheduler !== null && scheduler !== void 0 ? scheduler : async_1$1.async;
        if (isDate_1.isValidDate(due)) {
            first = due;
        }
        else if (typeof due === 'number') {
            each = due;
        }
        if (withObservable) {
            _with = function () { return withObservable; };
        }
        else {
            throw new TypeError('No observable provided to switch to');
        }
        if (first == null && each == null) {
            throw new TypeError('No timeout provided.');
        }
        return timeout_1.timeout({
            first: first,
            each: each,
            scheduler: scheduler,
            with: _with,
        });
    }
    timeoutWith$1.timeoutWith = timeoutWith;

    var timestamp$1 = {};

    Object.defineProperty(timestamp$1, "__esModule", { value: true });
    timestamp$1.timestamp = void 0;
    var dateTimestampProvider_1 = dateTimestampProvider;
    var map_1 = map$2;
    function timestamp(timestampProvider) {
        if (timestampProvider === void 0) { timestampProvider = dateTimestampProvider_1.dateTimestampProvider; }
        return map_1.map(function (value) { return ({ value: value, timestamp: timestampProvider.now() }); });
    }
    timestamp$1.timestamp = timestamp;

    var window$2 = {};

    Object.defineProperty(window$2, "__esModule", { value: true });
    window$2.window = void 0;
    var Subject_1$4 = Subject$1;
    var lift_1$6 = lift;
    var OperatorSubscriber_1$5 = OperatorSubscriber$2;
    var noop_1$2 = noop$2;
    function window$1(windowBoundaries) {
        return lift_1$6.operate(function (source, subscriber) {
            var windowSubject = new Subject_1$4.Subject();
            subscriber.next(windowSubject.asObservable());
            var errorHandler = function (err) {
                windowSubject.error(err);
                subscriber.error(err);
            };
            source.subscribe(OperatorSubscriber_1$5.createOperatorSubscriber(subscriber, function (value) { return windowSubject === null || windowSubject === void 0 ? void 0 : windowSubject.next(value); }, function () {
                windowSubject.complete();
                subscriber.complete();
            }, errorHandler));
            windowBoundaries.subscribe(OperatorSubscriber_1$5.createOperatorSubscriber(subscriber, function () {
                windowSubject.complete();
                subscriber.next((windowSubject = new Subject_1$4.Subject()));
            }, noop_1$2.noop, errorHandler));
            return function () {
                windowSubject === null || windowSubject === void 0 ? void 0 : windowSubject.unsubscribe();
                windowSubject = null;
            };
        });
    }
    window$2.window = window$1;

    var windowCount$1 = {};

    var __values$2 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(windowCount$1, "__esModule", { value: true });
    windowCount$1.windowCount = void 0;
    var Subject_1$3 = Subject$1;
    var lift_1$5 = lift;
    var OperatorSubscriber_1$4 = OperatorSubscriber$2;
    function windowCount(windowSize, startWindowEvery) {
        if (startWindowEvery === void 0) { startWindowEvery = 0; }
        var startEvery = startWindowEvery > 0 ? startWindowEvery : windowSize;
        return lift_1$5.operate(function (source, subscriber) {
            var windows = [new Subject_1$3.Subject()];
            var count = 0;
            subscriber.next(windows[0].asObservable());
            source.subscribe(OperatorSubscriber_1$4.createOperatorSubscriber(subscriber, function (value) {
                var e_1, _a;
                try {
                    for (var windows_1 = __values$2(windows), windows_1_1 = windows_1.next(); !windows_1_1.done; windows_1_1 = windows_1.next()) {
                        var window_1 = windows_1_1.value;
                        window_1.next(value);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (windows_1_1 && !windows_1_1.done && (_a = windows_1.return)) _a.call(windows_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
                var c = count - windowSize + 1;
                if (c >= 0 && c % startEvery === 0) {
                    windows.shift().complete();
                }
                if (++count % startEvery === 0) {
                    var window_2 = new Subject_1$3.Subject();
                    windows.push(window_2);
                    subscriber.next(window_2.asObservable());
                }
            }, function () {
                while (windows.length > 0) {
                    windows.shift().complete();
                }
                subscriber.complete();
            }, function (err) {
                while (windows.length > 0) {
                    windows.shift().error(err);
                }
                subscriber.error(err);
            }, function () {
                windows = null;
            }));
        });
    }
    windowCount$1.windowCount = windowCount;

    var windowTime$1 = {};

    Object.defineProperty(windowTime$1, "__esModule", { value: true });
    windowTime$1.windowTime = void 0;
    var Subject_1$2 = Subject$1;
    var async_1 = async;
    var Subscription_1$1 = Subscription$2;
    var lift_1$4 = lift;
    var OperatorSubscriber_1$3 = OperatorSubscriber$2;
    var arrRemove_1$1 = arrRemove$2;
    var args_1$1 = args;
    var executeSchedule_1 = executeSchedule$1;
    function windowTime(windowTimeSpan) {
        var _a, _b;
        var otherArgs = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            otherArgs[_i - 1] = arguments[_i];
        }
        var scheduler = (_a = args_1$1.popScheduler(otherArgs)) !== null && _a !== void 0 ? _a : async_1.asyncScheduler;
        var windowCreationInterval = (_b = otherArgs[0]) !== null && _b !== void 0 ? _b : null;
        var maxWindowSize = otherArgs[1] || Infinity;
        return lift_1$4.operate(function (source, subscriber) {
            var windowRecords = [];
            var restartOnClose = false;
            var closeWindow = function (record) {
                var window = record.window, subs = record.subs;
                window.complete();
                subs.unsubscribe();
                arrRemove_1$1.arrRemove(windowRecords, record);
                restartOnClose && startWindow();
            };
            var startWindow = function () {
                if (windowRecords) {
                    var subs = new Subscription_1$1.Subscription();
                    subscriber.add(subs);
                    var window_1 = new Subject_1$2.Subject();
                    var record_1 = {
                        window: window_1,
                        subs: subs,
                        seen: 0,
                    };
                    windowRecords.push(record_1);
                    subscriber.next(window_1.asObservable());
                    executeSchedule_1.executeSchedule(subs, scheduler, function () { return closeWindow(record_1); }, windowTimeSpan);
                }
            };
            if (windowCreationInterval !== null && windowCreationInterval >= 0) {
                executeSchedule_1.executeSchedule(subscriber, scheduler, startWindow, windowCreationInterval, true);
            }
            else {
                restartOnClose = true;
            }
            startWindow();
            var loop = function (cb) { return windowRecords.slice().forEach(cb); };
            var terminate = function (cb) {
                loop(function (_a) {
                    var window = _a.window;
                    return cb(window);
                });
                cb(subscriber);
                subscriber.unsubscribe();
            };
            source.subscribe(OperatorSubscriber_1$3.createOperatorSubscriber(subscriber, function (value) {
                loop(function (record) {
                    record.window.next(value);
                    maxWindowSize <= ++record.seen && closeWindow(record);
                });
            }, function () { return terminate(function (consumer) { return consumer.complete(); }); }, function (err) { return terminate(function (consumer) { return consumer.error(err); }); }));
            return function () {
                windowRecords = null;
            };
        });
    }
    windowTime$1.windowTime = windowTime;

    var windowToggle$1 = {};

    var __values$1 = (commonjsGlobal && commonjsGlobal.__values) || function(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    Object.defineProperty(windowToggle$1, "__esModule", { value: true });
    windowToggle$1.windowToggle = void 0;
    var Subject_1$1 = Subject$1;
    var Subscription_1 = Subscription$2;
    var lift_1$3 = lift;
    var innerFrom_1$2 = innerFrom$2;
    var OperatorSubscriber_1$2 = OperatorSubscriber$2;
    var noop_1$1 = noop$2;
    var arrRemove_1 = arrRemove$2;
    function windowToggle(openings, closingSelector) {
        return lift_1$3.operate(function (source, subscriber) {
            var windows = [];
            var handleError = function (err) {
                while (0 < windows.length) {
                    windows.shift().error(err);
                }
                subscriber.error(err);
            };
            innerFrom_1$2.innerFrom(openings).subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(subscriber, function (openValue) {
                var window = new Subject_1$1.Subject();
                windows.push(window);
                var closingSubscription = new Subscription_1.Subscription();
                var closeWindow = function () {
                    arrRemove_1.arrRemove(windows, window);
                    window.complete();
                    closingSubscription.unsubscribe();
                };
                var closingNotifier;
                try {
                    closingNotifier = innerFrom_1$2.innerFrom(closingSelector(openValue));
                }
                catch (err) {
                    handleError(err);
                    return;
                }
                subscriber.next(window.asObservable());
                closingSubscription.add(closingNotifier.subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(subscriber, closeWindow, noop_1$1.noop, handleError)));
            }, noop_1$1.noop));
            source.subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(subscriber, function (value) {
                var e_1, _a;
                var windowsCopy = windows.slice();
                try {
                    for (var windowsCopy_1 = __values$1(windowsCopy), windowsCopy_1_1 = windowsCopy_1.next(); !windowsCopy_1_1.done; windowsCopy_1_1 = windowsCopy_1.next()) {
                        var window_1 = windowsCopy_1_1.value;
                        window_1.next(value);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (windowsCopy_1_1 && !windowsCopy_1_1.done && (_a = windowsCopy_1.return)) _a.call(windowsCopy_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }, function () {
                while (0 < windows.length) {
                    windows.shift().complete();
                }
                subscriber.complete();
            }, handleError, function () {
                while (0 < windows.length) {
                    windows.shift().unsubscribe();
                }
            }));
        });
    }
    windowToggle$1.windowToggle = windowToggle;

    var windowWhen$1 = {};

    Object.defineProperty(windowWhen$1, "__esModule", { value: true });
    windowWhen$1.windowWhen = void 0;
    var Subject_1 = Subject$1;
    var lift_1$2 = lift;
    var OperatorSubscriber_1$1 = OperatorSubscriber$2;
    var innerFrom_1$1 = innerFrom$2;
    function windowWhen(closingSelector) {
        return lift_1$2.operate(function (source, subscriber) {
            var window;
            var closingSubscriber;
            var handleError = function (err) {
                window.error(err);
                subscriber.error(err);
            };
            var openWindow = function () {
                closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();
                window === null || window === void 0 ? void 0 : window.complete();
                window = new Subject_1.Subject();
                subscriber.next(window.asObservable());
                var closingNotifier;
                try {
                    closingNotifier = innerFrom_1$1.innerFrom(closingSelector());
                }
                catch (err) {
                    handleError(err);
                    return;
                }
                closingNotifier.subscribe((closingSubscriber = OperatorSubscriber_1$1.createOperatorSubscriber(subscriber, openWindow, openWindow, handleError)));
            };
            openWindow();
            source.subscribe(OperatorSubscriber_1$1.createOperatorSubscriber(subscriber, function (value) { return window.next(value); }, function () {
                window.complete();
                subscriber.complete();
            }, handleError, function () {
                closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();
                window = null;
            }));
        });
    }
    windowWhen$1.windowWhen = windowWhen;

    var withLatestFrom$1 = {};

    var __read$3 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$3 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(withLatestFrom$1, "__esModule", { value: true });
    withLatestFrom$1.withLatestFrom = void 0;
    var lift_1$1 = lift;
    var OperatorSubscriber_1 = OperatorSubscriber$2;
    var innerFrom_1 = innerFrom$2;
    var identity_1$1 = identity$7;
    var noop_1 = noop$2;
    var args_1 = args;
    function withLatestFrom() {
        var inputs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            inputs[_i] = arguments[_i];
        }
        var project = args_1.popResultSelector(inputs);
        return lift_1$1.operate(function (source, subscriber) {
            var len = inputs.length;
            var otherValues = new Array(len);
            var hasValue = inputs.map(function () { return false; });
            var ready = false;
            var _loop_1 = function (i) {
                innerFrom_1.innerFrom(inputs[i]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {
                    otherValues[i] = value;
                    if (!ready && !hasValue[i]) {
                        hasValue[i] = true;
                        (ready = hasValue.every(identity_1$1.identity)) && (hasValue = null);
                    }
                }, noop_1.noop));
            };
            for (var i = 0; i < len; i++) {
                _loop_1(i);
            }
            source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {
                if (ready) {
                    var values = __spreadArray$3([value], __read$3(otherValues));
                    subscriber.next(project ? project.apply(void 0, __spreadArray$3([], __read$3(values))) : values);
                }
            }));
        });
    }
    withLatestFrom$1.withLatestFrom = withLatestFrom;

    var zipAll$1 = {};

    Object.defineProperty(zipAll$1, "__esModule", { value: true });
    zipAll$1.zipAll = void 0;
    var zip_1$2 = zip$3;
    var joinAllInternals_1 = joinAllInternals$1;
    function zipAll(project) {
        return joinAllInternals_1.joinAllInternals(zip_1$2.zip, project);
    }
    zipAll$1.zipAll = zipAll;

    var zipWith$1 = {};

    var zip$1 = {};

    var __read$2 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$2 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(zip$1, "__esModule", { value: true });
    zip$1.zip = void 0;
    var zip_1$1 = zip$3;
    var lift_1 = lift;
    function zip() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        return lift_1.operate(function (source, subscriber) {
            zip_1$1.zip.apply(void 0, __spreadArray$2([source], __read$2(sources))).subscribe(subscriber);
        });
    }
    zip$1.zip = zip;

    var __read$1 = (commonjsGlobal && commonjsGlobal.__read) || function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };
    var __spreadArray$1 = (commonjsGlobal && commonjsGlobal.__spreadArray) || function (to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    };
    Object.defineProperty(zipWith$1, "__esModule", { value: true });
    zipWith$1.zipWith = void 0;
    var zip_1 = zip$1;
    function zipWith() {
        var otherInputs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            otherInputs[_i] = arguments[_i];
        }
        return zip_1.zip.apply(void 0, __spreadArray$1([], __read$1(otherInputs)));
    }
    zipWith$1.zipWith = zipWith;

    (function (exports) {
    	var __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    	    if (k2 === undefined) k2 = k;
    	    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
    	}) : (function(o, m, k, k2) {
    	    if (k2 === undefined) k2 = k;
    	    o[k2] = m[k];
    	}));
    	var __exportStar = (commonjsGlobal && commonjsGlobal.__exportStar) || function(m, exports) {
    	    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
    	};
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.interval = exports.iif = exports.generate = exports.fromEventPattern = exports.fromEvent = exports.from = exports.forkJoin = exports.empty = exports.defer = exports.connectable = exports.concat = exports.combineLatest = exports.bindNodeCallback = exports.bindCallback = exports.UnsubscriptionError = exports.TimeoutError = exports.SequenceError = exports.ObjectUnsubscribedError = exports.NotFoundError = exports.EmptyError = exports.ArgumentOutOfRangeError = exports.firstValueFrom = exports.lastValueFrom = exports.isObservable = exports.identity = exports.noop = exports.pipe = exports.NotificationKind = exports.Notification = exports.Subscriber = exports.Subscription = exports.Scheduler = exports.VirtualAction = exports.VirtualTimeScheduler = exports.animationFrameScheduler = exports.animationFrame = exports.queueScheduler = exports.queue = exports.asyncScheduler = exports.async = exports.asapScheduler = exports.asap = exports.AsyncSubject = exports.ReplaySubject = exports.BehaviorSubject = exports.Subject = exports.animationFrames = exports.observable = exports.ConnectableObservable = exports.Observable = void 0;
    	exports.filter = exports.expand = exports.exhaustMap = exports.exhaustAll = exports.exhaust = exports.every = exports.endWith = exports.elementAt = exports.distinctUntilKeyChanged = exports.distinctUntilChanged = exports.distinct = exports.dematerialize = exports.delayWhen = exports.delay = exports.defaultIfEmpty = exports.debounceTime = exports.debounce = exports.count = exports.connect = exports.concatWith = exports.concatMapTo = exports.concatMap = exports.concatAll = exports.combineLatestWith = exports.combineLatestAll = exports.combineAll = exports.catchError = exports.bufferWhen = exports.bufferToggle = exports.bufferTime = exports.bufferCount = exports.buffer = exports.auditTime = exports.audit = exports.config = exports.NEVER = exports.EMPTY = exports.scheduled = exports.zip = exports.using = exports.timer = exports.throwError = exports.range = exports.race = exports.partition = exports.pairs = exports.onErrorResumeNext = exports.of = exports.never = exports.merge = void 0;
    	exports.switchMapTo = exports.switchMap = exports.switchAll = exports.subscribeOn = exports.startWith = exports.skipWhile = exports.skipUntil = exports.skipLast = exports.skip = exports.single = exports.shareReplay = exports.share = exports.sequenceEqual = exports.scan = exports.sampleTime = exports.sample = exports.refCount = exports.retryWhen = exports.retry = exports.repeatWhen = exports.repeat = exports.reduce = exports.raceWith = exports.publishReplay = exports.publishLast = exports.publishBehavior = exports.publish = exports.pluck = exports.pairwise = exports.observeOn = exports.multicast = exports.min = exports.mergeWith = exports.mergeScan = exports.mergeMapTo = exports.mergeMap = exports.flatMap = exports.mergeAll = exports.max = exports.materialize = exports.mapTo = exports.map = exports.last = exports.isEmpty = exports.ignoreElements = exports.groupBy = exports.first = exports.findIndex = exports.find = exports.finalize = void 0;
    	exports.zipWith = exports.zipAll = exports.withLatestFrom = exports.windowWhen = exports.windowToggle = exports.windowTime = exports.windowCount = exports.window = exports.toArray = exports.timestamp = exports.timeoutWith = exports.timeout = exports.timeInterval = exports.throwIfEmpty = exports.throttleTime = exports.throttle = exports.tap = exports.takeWhile = exports.takeUntil = exports.takeLast = exports.take = exports.switchScan = void 0;
    	var Observable_1 = Observable$2;
    	Object.defineProperty(exports, "Observable", { enumerable: true, get: function () { return Observable_1.Observable; } });
    	var ConnectableObservable_1 = ConnectableObservable$1;
    	Object.defineProperty(exports, "ConnectableObservable", { enumerable: true, get: function () { return ConnectableObservable_1.ConnectableObservable; } });
    	var observable_1 = observable$1;
    	Object.defineProperty(exports, "observable", { enumerable: true, get: function () { return observable_1.observable; } });
    	var animationFrames_1 = animationFrames$1;
    	Object.defineProperty(exports, "animationFrames", { enumerable: true, get: function () { return animationFrames_1.animationFrames; } });
    	var Subject_1 = Subject$1;
    	Object.defineProperty(exports, "Subject", { enumerable: true, get: function () { return Subject_1.Subject; } });
    	var BehaviorSubject_1 = BehaviorSubject$1;
    	Object.defineProperty(exports, "BehaviorSubject", { enumerable: true, get: function () { return BehaviorSubject_1.BehaviorSubject; } });
    	var ReplaySubject_1 = ReplaySubject$1;
    	Object.defineProperty(exports, "ReplaySubject", { enumerable: true, get: function () { return ReplaySubject_1.ReplaySubject; } });
    	var AsyncSubject_1 = AsyncSubject$1;
    	Object.defineProperty(exports, "AsyncSubject", { enumerable: true, get: function () { return AsyncSubject_1.AsyncSubject; } });
    	var asap_1 = asap;
    	Object.defineProperty(exports, "asap", { enumerable: true, get: function () { return asap_1.asap; } });
    	Object.defineProperty(exports, "asapScheduler", { enumerable: true, get: function () { return asap_1.asapScheduler; } });
    	var async_1 = async;
    	Object.defineProperty(exports, "async", { enumerable: true, get: function () { return async_1.async; } });
    	Object.defineProperty(exports, "asyncScheduler", { enumerable: true, get: function () { return async_1.asyncScheduler; } });
    	var queue_1 = queue;
    	Object.defineProperty(exports, "queue", { enumerable: true, get: function () { return queue_1.queue; } });
    	Object.defineProperty(exports, "queueScheduler", { enumerable: true, get: function () { return queue_1.queueScheduler; } });
    	var animationFrame_1 = animationFrame;
    	Object.defineProperty(exports, "animationFrame", { enumerable: true, get: function () { return animationFrame_1.animationFrame; } });
    	Object.defineProperty(exports, "animationFrameScheduler", { enumerable: true, get: function () { return animationFrame_1.animationFrameScheduler; } });
    	var VirtualTimeScheduler_1 = VirtualTimeScheduler$1;
    	Object.defineProperty(exports, "VirtualTimeScheduler", { enumerable: true, get: function () { return VirtualTimeScheduler_1.VirtualTimeScheduler; } });
    	Object.defineProperty(exports, "VirtualAction", { enumerable: true, get: function () { return VirtualTimeScheduler_1.VirtualAction; } });
    	var Scheduler_1 = Scheduler$1;
    	Object.defineProperty(exports, "Scheduler", { enumerable: true, get: function () { return Scheduler_1.Scheduler; } });
    	var Subscription_1 = Subscription$2;
    	Object.defineProperty(exports, "Subscription", { enumerable: true, get: function () { return Subscription_1.Subscription; } });
    	var Subscriber_1 = Subscriber$1;
    	Object.defineProperty(exports, "Subscriber", { enumerable: true, get: function () { return Subscriber_1.Subscriber; } });
    	var Notification_1 = Notification;
    	Object.defineProperty(exports, "Notification", { enumerable: true, get: function () { return Notification_1.Notification; } });
    	Object.defineProperty(exports, "NotificationKind", { enumerable: true, get: function () { return Notification_1.NotificationKind; } });
    	var pipe_1 = pipe$1;
    	Object.defineProperty(exports, "pipe", { enumerable: true, get: function () { return pipe_1.pipe; } });
    	var noop_1 = noop$2;
    	Object.defineProperty(exports, "noop", { enumerable: true, get: function () { return noop_1.noop; } });
    	var identity_1 = identity$7;
    	Object.defineProperty(exports, "identity", { enumerable: true, get: function () { return identity_1.identity; } });
    	var isObservable_1 = isObservable$1;
    	Object.defineProperty(exports, "isObservable", { enumerable: true, get: function () { return isObservable_1.isObservable; } });
    	var lastValueFrom_1 = lastValueFrom$1;
    	Object.defineProperty(exports, "lastValueFrom", { enumerable: true, get: function () { return lastValueFrom_1.lastValueFrom; } });
    	var firstValueFrom_1 = firstValueFrom$1;
    	Object.defineProperty(exports, "firstValueFrom", { enumerable: true, get: function () { return firstValueFrom_1.firstValueFrom; } });
    	var ArgumentOutOfRangeError_1 = ArgumentOutOfRangeError;
    	Object.defineProperty(exports, "ArgumentOutOfRangeError", { enumerable: true, get: function () { return ArgumentOutOfRangeError_1.ArgumentOutOfRangeError; } });
    	var EmptyError_1 = EmptyError;
    	Object.defineProperty(exports, "EmptyError", { enumerable: true, get: function () { return EmptyError_1.EmptyError; } });
    	var NotFoundError_1 = NotFoundError;
    	Object.defineProperty(exports, "NotFoundError", { enumerable: true, get: function () { return NotFoundError_1.NotFoundError; } });
    	var ObjectUnsubscribedError_1 = ObjectUnsubscribedError;
    	Object.defineProperty(exports, "ObjectUnsubscribedError", { enumerable: true, get: function () { return ObjectUnsubscribedError_1.ObjectUnsubscribedError; } });
    	var SequenceError_1 = SequenceError;
    	Object.defineProperty(exports, "SequenceError", { enumerable: true, get: function () { return SequenceError_1.SequenceError; } });
    	var timeout_1 = timeout;
    	Object.defineProperty(exports, "TimeoutError", { enumerable: true, get: function () { return timeout_1.TimeoutError; } });
    	var UnsubscriptionError_1 = UnsubscriptionError$1;
    	Object.defineProperty(exports, "UnsubscriptionError", { enumerable: true, get: function () { return UnsubscriptionError_1.UnsubscriptionError; } });
    	var bindCallback_1 = bindCallback$1;
    	Object.defineProperty(exports, "bindCallback", { enumerable: true, get: function () { return bindCallback_1.bindCallback; } });
    	var bindNodeCallback_1 = bindNodeCallback$1;
    	Object.defineProperty(exports, "bindNodeCallback", { enumerable: true, get: function () { return bindNodeCallback_1.bindNodeCallback; } });
    	var combineLatest_1 = combineLatest$3;
    	Object.defineProperty(exports, "combineLatest", { enumerable: true, get: function () { return combineLatest_1.combineLatest; } });
    	var concat_1 = concat$3;
    	Object.defineProperty(exports, "concat", { enumerable: true, get: function () { return concat_1.concat; } });
    	var connectable_1 = connectable$1;
    	Object.defineProperty(exports, "connectable", { enumerable: true, get: function () { return connectable_1.connectable; } });
    	var defer_1 = defer$1;
    	Object.defineProperty(exports, "defer", { enumerable: true, get: function () { return defer_1.defer; } });
    	var empty_1 = empty;
    	Object.defineProperty(exports, "empty", { enumerable: true, get: function () { return empty_1.empty; } });
    	var forkJoin_1 = forkJoin$1;
    	Object.defineProperty(exports, "forkJoin", { enumerable: true, get: function () { return forkJoin_1.forkJoin; } });
    	var from_1 = from$1;
    	Object.defineProperty(exports, "from", { enumerable: true, get: function () { return from_1.from; } });
    	var fromEvent_1 = fromEvent$1;
    	Object.defineProperty(exports, "fromEvent", { enumerable: true, get: function () { return fromEvent_1.fromEvent; } });
    	var fromEventPattern_1 = fromEventPattern$1;
    	Object.defineProperty(exports, "fromEventPattern", { enumerable: true, get: function () { return fromEventPattern_1.fromEventPattern; } });
    	var generate_1 = generate$1;
    	Object.defineProperty(exports, "generate", { enumerable: true, get: function () { return generate_1.generate; } });
    	var iif_1 = iif$1;
    	Object.defineProperty(exports, "iif", { enumerable: true, get: function () { return iif_1.iif; } });
    	var interval_1 = interval$1;
    	Object.defineProperty(exports, "interval", { enumerable: true, get: function () { return interval_1.interval; } });
    	var merge_1 = merge$4;
    	Object.defineProperty(exports, "merge", { enumerable: true, get: function () { return merge_1.merge; } });
    	var never_1 = never;
    	Object.defineProperty(exports, "never", { enumerable: true, get: function () { return never_1.never; } });
    	var of_1 = of$1;
    	Object.defineProperty(exports, "of", { enumerable: true, get: function () { return of_1.of; } });
    	var onErrorResumeNext_1 = onErrorResumeNext$3;
    	Object.defineProperty(exports, "onErrorResumeNext", { enumerable: true, get: function () { return onErrorResumeNext_1.onErrorResumeNext; } });
    	var pairs_1 = pairs$1;
    	Object.defineProperty(exports, "pairs", { enumerable: true, get: function () { return pairs_1.pairs; } });
    	var partition_1 = partition$1;
    	Object.defineProperty(exports, "partition", { enumerable: true, get: function () { return partition_1.partition; } });
    	var race_1 = race$1;
    	Object.defineProperty(exports, "race", { enumerable: true, get: function () { return race_1.race; } });
    	var range_1 = range$1;
    	Object.defineProperty(exports, "range", { enumerable: true, get: function () { return range_1.range; } });
    	var throwError_1 = throwError$1;
    	Object.defineProperty(exports, "throwError", { enumerable: true, get: function () { return throwError_1.throwError; } });
    	var timer_1 = timer$1;
    	Object.defineProperty(exports, "timer", { enumerable: true, get: function () { return timer_1.timer; } });
    	var using_1 = using$1;
    	Object.defineProperty(exports, "using", { enumerable: true, get: function () { return using_1.using; } });
    	var zip_1 = zip$3;
    	Object.defineProperty(exports, "zip", { enumerable: true, get: function () { return zip_1.zip; } });
    	var scheduled_1 = scheduled$1;
    	Object.defineProperty(exports, "scheduled", { enumerable: true, get: function () { return scheduled_1.scheduled; } });
    	var empty_2 = empty;
    	Object.defineProperty(exports, "EMPTY", { enumerable: true, get: function () { return empty_2.EMPTY; } });
    	var never_2 = never;
    	Object.defineProperty(exports, "NEVER", { enumerable: true, get: function () { return never_2.NEVER; } });
    	__exportStar(types, exports);
    	var config_1 = config$1;
    	Object.defineProperty(exports, "config", { enumerable: true, get: function () { return config_1.config; } });
    	var audit_1 = audit$1;
    	Object.defineProperty(exports, "audit", { enumerable: true, get: function () { return audit_1.audit; } });
    	var auditTime_1 = auditTime$1;
    	Object.defineProperty(exports, "auditTime", { enumerable: true, get: function () { return auditTime_1.auditTime; } });
    	var buffer_1 = buffer$1;
    	Object.defineProperty(exports, "buffer", { enumerable: true, get: function () { return buffer_1.buffer; } });
    	var bufferCount_1 = bufferCount$1;
    	Object.defineProperty(exports, "bufferCount", { enumerable: true, get: function () { return bufferCount_1.bufferCount; } });
    	var bufferTime_1 = bufferTime$1;
    	Object.defineProperty(exports, "bufferTime", { enumerable: true, get: function () { return bufferTime_1.bufferTime; } });
    	var bufferToggle_1 = bufferToggle$1;
    	Object.defineProperty(exports, "bufferToggle", { enumerable: true, get: function () { return bufferToggle_1.bufferToggle; } });
    	var bufferWhen_1 = bufferWhen$1;
    	Object.defineProperty(exports, "bufferWhen", { enumerable: true, get: function () { return bufferWhen_1.bufferWhen; } });
    	var catchError_1 = catchError$2;
    	Object.defineProperty(exports, "catchError", { enumerable: true, get: function () { return catchError_1.catchError; } });
    	var combineAll_1 = combineAll;
    	Object.defineProperty(exports, "combineAll", { enumerable: true, get: function () { return combineAll_1.combineAll; } });
    	var combineLatestAll_1 = combineLatestAll$1;
    	Object.defineProperty(exports, "combineLatestAll", { enumerable: true, get: function () { return combineLatestAll_1.combineLatestAll; } });
    	var combineLatestWith_1 = combineLatestWith$1;
    	Object.defineProperty(exports, "combineLatestWith", { enumerable: true, get: function () { return combineLatestWith_1.combineLatestWith; } });
    	var concatAll_1 = concatAll$1;
    	Object.defineProperty(exports, "concatAll", { enumerable: true, get: function () { return concatAll_1.concatAll; } });
    	var concatMap_1 = concatMap$1;
    	Object.defineProperty(exports, "concatMap", { enumerable: true, get: function () { return concatMap_1.concatMap; } });
    	var concatMapTo_1 = concatMapTo$1;
    	Object.defineProperty(exports, "concatMapTo", { enumerable: true, get: function () { return concatMapTo_1.concatMapTo; } });
    	var concatWith_1 = concatWith$1;
    	Object.defineProperty(exports, "concatWith", { enumerable: true, get: function () { return concatWith_1.concatWith; } });
    	var connect_1 = connect$1;
    	Object.defineProperty(exports, "connect", { enumerable: true, get: function () { return connect_1.connect; } });
    	var count_1 = count$1;
    	Object.defineProperty(exports, "count", { enumerable: true, get: function () { return count_1.count; } });
    	var debounce_1 = debounce$1;
    	Object.defineProperty(exports, "debounce", { enumerable: true, get: function () { return debounce_1.debounce; } });
    	var debounceTime_1 = debounceTime$1;
    	Object.defineProperty(exports, "debounceTime", { enumerable: true, get: function () { return debounceTime_1.debounceTime; } });
    	var defaultIfEmpty_1 = defaultIfEmpty$1;
    	Object.defineProperty(exports, "defaultIfEmpty", { enumerable: true, get: function () { return defaultIfEmpty_1.defaultIfEmpty; } });
    	var delay_1 = delay$1;
    	Object.defineProperty(exports, "delay", { enumerable: true, get: function () { return delay_1.delay; } });
    	var delayWhen_1 = delayWhen$1;
    	Object.defineProperty(exports, "delayWhen", { enumerable: true, get: function () { return delayWhen_1.delayWhen; } });
    	var dematerialize_1 = dematerialize$1;
    	Object.defineProperty(exports, "dematerialize", { enumerable: true, get: function () { return dematerialize_1.dematerialize; } });
    	var distinct_1 = distinct$1;
    	Object.defineProperty(exports, "distinct", { enumerable: true, get: function () { return distinct_1.distinct; } });
    	var distinctUntilChanged_1 = distinctUntilChanged$1;
    	Object.defineProperty(exports, "distinctUntilChanged", { enumerable: true, get: function () { return distinctUntilChanged_1.distinctUntilChanged; } });
    	var distinctUntilKeyChanged_1 = distinctUntilKeyChanged$1;
    	Object.defineProperty(exports, "distinctUntilKeyChanged", { enumerable: true, get: function () { return distinctUntilKeyChanged_1.distinctUntilKeyChanged; } });
    	var elementAt_1 = elementAt$1;
    	Object.defineProperty(exports, "elementAt", { enumerable: true, get: function () { return elementAt_1.elementAt; } });
    	var endWith_1 = endWith$1;
    	Object.defineProperty(exports, "endWith", { enumerable: true, get: function () { return endWith_1.endWith; } });
    	var every_1 = every$1;
    	Object.defineProperty(exports, "every", { enumerable: true, get: function () { return every_1.every; } });
    	var exhaust_1 = exhaust;
    	Object.defineProperty(exports, "exhaust", { enumerable: true, get: function () { return exhaust_1.exhaust; } });
    	var exhaustAll_1 = exhaustAll$1;
    	Object.defineProperty(exports, "exhaustAll", { enumerable: true, get: function () { return exhaustAll_1.exhaustAll; } });
    	var exhaustMap_1 = exhaustMap$1;
    	Object.defineProperty(exports, "exhaustMap", { enumerable: true, get: function () { return exhaustMap_1.exhaustMap; } });
    	var expand_1 = expand$5;
    	Object.defineProperty(exports, "expand", { enumerable: true, get: function () { return expand_1.expand; } });
    	var filter_1 = filter$6;
    	Object.defineProperty(exports, "filter", { enumerable: true, get: function () { return filter_1.filter; } });
    	var finalize_1 = finalize$1;
    	Object.defineProperty(exports, "finalize", { enumerable: true, get: function () { return finalize_1.finalize; } });
    	var find_1 = find$2;
    	Object.defineProperty(exports, "find", { enumerable: true, get: function () { return find_1.find; } });
    	var findIndex_1 = findIndex$3;
    	Object.defineProperty(exports, "findIndex", { enumerable: true, get: function () { return findIndex_1.findIndex; } });
    	var first_1 = first$1;
    	Object.defineProperty(exports, "first", { enumerable: true, get: function () { return first_1.first; } });
    	var groupBy_1 = groupBy$1;
    	Object.defineProperty(exports, "groupBy", { enumerable: true, get: function () { return groupBy_1.groupBy; } });
    	var ignoreElements_1 = ignoreElements$1;
    	Object.defineProperty(exports, "ignoreElements", { enumerable: true, get: function () { return ignoreElements_1.ignoreElements; } });
    	var isEmpty_1 = isEmpty$3;
    	Object.defineProperty(exports, "isEmpty", { enumerable: true, get: function () { return isEmpty_1.isEmpty; } });
    	var last_1 = last$1;
    	Object.defineProperty(exports, "last", { enumerable: true, get: function () { return last_1.last; } });
    	var map_1 = map$2;
    	Object.defineProperty(exports, "map", { enumerable: true, get: function () { return map_1.map; } });
    	var mapTo_1 = mapTo$1;
    	Object.defineProperty(exports, "mapTo", { enumerable: true, get: function () { return mapTo_1.mapTo; } });
    	var materialize_1 = materialize$1;
    	Object.defineProperty(exports, "materialize", { enumerable: true, get: function () { return materialize_1.materialize; } });
    	var max_1 = max$1;
    	Object.defineProperty(exports, "max", { enumerable: true, get: function () { return max_1.max; } });
    	var mergeAll_1 = mergeAll$1;
    	Object.defineProperty(exports, "mergeAll", { enumerable: true, get: function () { return mergeAll_1.mergeAll; } });
    	var flatMap_1 = flatMap;
    	Object.defineProperty(exports, "flatMap", { enumerable: true, get: function () { return flatMap_1.flatMap; } });
    	var mergeMap_1 = mergeMap$1;
    	Object.defineProperty(exports, "mergeMap", { enumerable: true, get: function () { return mergeMap_1.mergeMap; } });
    	var mergeMapTo_1 = mergeMapTo$1;
    	Object.defineProperty(exports, "mergeMapTo", { enumerable: true, get: function () { return mergeMapTo_1.mergeMapTo; } });
    	var mergeScan_1 = mergeScan$1;
    	Object.defineProperty(exports, "mergeScan", { enumerable: true, get: function () { return mergeScan_1.mergeScan; } });
    	var mergeWith_1 = mergeWith$1;
    	Object.defineProperty(exports, "mergeWith", { enumerable: true, get: function () { return mergeWith_1.mergeWith; } });
    	var min_1 = min$1;
    	Object.defineProperty(exports, "min", { enumerable: true, get: function () { return min_1.min; } });
    	var multicast_1 = multicast$1;
    	Object.defineProperty(exports, "multicast", { enumerable: true, get: function () { return multicast_1.multicast; } });
    	var observeOn_1 = observeOn$1;
    	Object.defineProperty(exports, "observeOn", { enumerable: true, get: function () { return observeOn_1.observeOn; } });
    	var pairwise_1 = pairwise$1;
    	Object.defineProperty(exports, "pairwise", { enumerable: true, get: function () { return pairwise_1.pairwise; } });
    	var pluck_1 = pluck$1;
    	Object.defineProperty(exports, "pluck", { enumerable: true, get: function () { return pluck_1.pluck; } });
    	var publish_1 = publish$1;
    	Object.defineProperty(exports, "publish", { enumerable: true, get: function () { return publish_1.publish; } });
    	var publishBehavior_1 = publishBehavior$1;
    	Object.defineProperty(exports, "publishBehavior", { enumerable: true, get: function () { return publishBehavior_1.publishBehavior; } });
    	var publishLast_1 = publishLast$1;
    	Object.defineProperty(exports, "publishLast", { enumerable: true, get: function () { return publishLast_1.publishLast; } });
    	var publishReplay_1 = publishReplay$1;
    	Object.defineProperty(exports, "publishReplay", { enumerable: true, get: function () { return publishReplay_1.publishReplay; } });
    	var raceWith_1 = raceWith$1;
    	Object.defineProperty(exports, "raceWith", { enumerable: true, get: function () { return raceWith_1.raceWith; } });
    	var reduce_1 = reduce$1;
    	Object.defineProperty(exports, "reduce", { enumerable: true, get: function () { return reduce_1.reduce; } });
    	var repeat_1 = repeat$1;
    	Object.defineProperty(exports, "repeat", { enumerable: true, get: function () { return repeat_1.repeat; } });
    	var repeatWhen_1 = repeatWhen$1;
    	Object.defineProperty(exports, "repeatWhen", { enumerable: true, get: function () { return repeatWhen_1.repeatWhen; } });
    	var retry_1 = retry$1;
    	Object.defineProperty(exports, "retry", { enumerable: true, get: function () { return retry_1.retry; } });
    	var retryWhen_1 = retryWhen$1;
    	Object.defineProperty(exports, "retryWhen", { enumerable: true, get: function () { return retryWhen_1.retryWhen; } });
    	var refCount_1 = refCount$1;
    	Object.defineProperty(exports, "refCount", { enumerable: true, get: function () { return refCount_1.refCount; } });
    	var sample_1 = sample$1;
    	Object.defineProperty(exports, "sample", { enumerable: true, get: function () { return sample_1.sample; } });
    	var sampleTime_1 = sampleTime$1;
    	Object.defineProperty(exports, "sampleTime", { enumerable: true, get: function () { return sampleTime_1.sampleTime; } });
    	var scan_1 = scan$1;
    	Object.defineProperty(exports, "scan", { enumerable: true, get: function () { return scan_1.scan; } });
    	var sequenceEqual_1 = sequenceEqual$1;
    	Object.defineProperty(exports, "sequenceEqual", { enumerable: true, get: function () { return sequenceEqual_1.sequenceEqual; } });
    	var share_1 = share$1;
    	Object.defineProperty(exports, "share", { enumerable: true, get: function () { return share_1.share; } });
    	var shareReplay_1 = shareReplay$1;
    	Object.defineProperty(exports, "shareReplay", { enumerable: true, get: function () { return shareReplay_1.shareReplay; } });
    	var single_1 = single$1;
    	Object.defineProperty(exports, "single", { enumerable: true, get: function () { return single_1.single; } });
    	var skip_1 = skip$1;
    	Object.defineProperty(exports, "skip", { enumerable: true, get: function () { return skip_1.skip; } });
    	var skipLast_1 = skipLast$1;
    	Object.defineProperty(exports, "skipLast", { enumerable: true, get: function () { return skipLast_1.skipLast; } });
    	var skipUntil_1 = skipUntil$1;
    	Object.defineProperty(exports, "skipUntil", { enumerable: true, get: function () { return skipUntil_1.skipUntil; } });
    	var skipWhile_1 = skipWhile$1;
    	Object.defineProperty(exports, "skipWhile", { enumerable: true, get: function () { return skipWhile_1.skipWhile; } });
    	var startWith_1 = startWith$1;
    	Object.defineProperty(exports, "startWith", { enumerable: true, get: function () { return startWith_1.startWith; } });
    	var subscribeOn_1 = subscribeOn$1;
    	Object.defineProperty(exports, "subscribeOn", { enumerable: true, get: function () { return subscribeOn_1.subscribeOn; } });
    	var switchAll_1 = switchAll$1;
    	Object.defineProperty(exports, "switchAll", { enumerable: true, get: function () { return switchAll_1.switchAll; } });
    	var switchMap_1 = switchMap$1;
    	Object.defineProperty(exports, "switchMap", { enumerable: true, get: function () { return switchMap_1.switchMap; } });
    	var switchMapTo_1 = switchMapTo$1;
    	Object.defineProperty(exports, "switchMapTo", { enumerable: true, get: function () { return switchMapTo_1.switchMapTo; } });
    	var switchScan_1 = switchScan$1;
    	Object.defineProperty(exports, "switchScan", { enumerable: true, get: function () { return switchScan_1.switchScan; } });
    	var take_1 = take$1;
    	Object.defineProperty(exports, "take", { enumerable: true, get: function () { return take_1.take; } });
    	var takeLast_1 = takeLast$1;
    	Object.defineProperty(exports, "takeLast", { enumerable: true, get: function () { return takeLast_1.takeLast; } });
    	var takeUntil_1 = takeUntil$1;
    	Object.defineProperty(exports, "takeUntil", { enumerable: true, get: function () { return takeUntil_1.takeUntil; } });
    	var takeWhile_1 = takeWhile$1;
    	Object.defineProperty(exports, "takeWhile", { enumerable: true, get: function () { return takeWhile_1.takeWhile; } });
    	var tap_1 = tap$1;
    	Object.defineProperty(exports, "tap", { enumerable: true, get: function () { return tap_1.tap; } });
    	var throttle_1 = throttle$1;
    	Object.defineProperty(exports, "throttle", { enumerable: true, get: function () { return throttle_1.throttle; } });
    	var throttleTime_1 = throttleTime$1;
    	Object.defineProperty(exports, "throttleTime", { enumerable: true, get: function () { return throttleTime_1.throttleTime; } });
    	var throwIfEmpty_1 = throwIfEmpty$1;
    	Object.defineProperty(exports, "throwIfEmpty", { enumerable: true, get: function () { return throwIfEmpty_1.throwIfEmpty; } });
    	var timeInterval_1 = timeInterval$1;
    	Object.defineProperty(exports, "timeInterval", { enumerable: true, get: function () { return timeInterval_1.timeInterval; } });
    	var timeout_2 = timeout;
    	Object.defineProperty(exports, "timeout", { enumerable: true, get: function () { return timeout_2.timeout; } });
    	var timeoutWith_1 = timeoutWith$1;
    	Object.defineProperty(exports, "timeoutWith", { enumerable: true, get: function () { return timeoutWith_1.timeoutWith; } });
    	var timestamp_1 = timestamp$1;
    	Object.defineProperty(exports, "timestamp", { enumerable: true, get: function () { return timestamp_1.timestamp; } });
    	var toArray_1 = toArray$1;
    	Object.defineProperty(exports, "toArray", { enumerable: true, get: function () { return toArray_1.toArray; } });
    	var window_1 = window$2;
    	Object.defineProperty(exports, "window", { enumerable: true, get: function () { return window_1.window; } });
    	var windowCount_1 = windowCount$1;
    	Object.defineProperty(exports, "windowCount", { enumerable: true, get: function () { return windowCount_1.windowCount; } });
    	var windowTime_1 = windowTime$1;
    	Object.defineProperty(exports, "windowTime", { enumerable: true, get: function () { return windowTime_1.windowTime; } });
    	var windowToggle_1 = windowToggle$1;
    	Object.defineProperty(exports, "windowToggle", { enumerable: true, get: function () { return windowToggle_1.windowToggle; } });
    	var windowWhen_1 = windowWhen$1;
    	Object.defineProperty(exports, "windowWhen", { enumerable: true, get: function () { return windowWhen_1.windowWhen; } });
    	var withLatestFrom_1 = withLatestFrom$1;
    	Object.defineProperty(exports, "withLatestFrom", { enumerable: true, get: function () { return withLatestFrom_1.withLatestFrom; } });
    	var zipAll_1 = zipAll$1;
    	Object.defineProperty(exports, "zipAll", { enumerable: true, get: function () { return zipAll_1.zipAll; } });
    	var zipWith_1 = zipWith$1;
    	Object.defineProperty(exports, "zipWith", { enumerable: true, get: function () { return zipWith_1.zipWith; } });
    	
    } (cjs));

    const ContextService = 'FES.ContextService';

    class ContextController {
        constructor(host) {
            this.host = host;
            this.context = resolve(ContextService, null);
            this.triggerContext$ = new cjs.BehaviorSubject(null);
            (this.host = host).addController(this);
        }
        get(key, overrideContext$ = cjs.EMPTY) {
            return cjs.combineLatest([
                overrideContext$.pipe(cjs.startWith(undefined)),
                this.triggerContext$.pipe(cjs.startWith(undefined), cjs.switchMap(() => this.context?.get(this.host, key) ?? cjs.of(undefined))),
            ]).pipe(cjs.skip(1), cjs.map(([overrideContext, context]) => overrideContext ?? context), cjs.distinctUntilChanged());
        }
        provide(key, value) {
            if (value === undefined) {
                this.context?.remove(this.host, key);
                return;
            }
            this.context?.provide(this.host, key, value);
        }
        remove(key) {
            this.context?.remove(this.host, key);
        }
        hostConnected() {
            this.triggerContext$.next();
        }
    }

    /* eslint-disable @typescript-eslint/no-non-null-assertion */
    class DefaultContextService {
        constructor() {
            this.dataKey = 'data-';
            this.manifest = new WeakMap();
            this.triggerManifest$ = new cjs.Subject();
        }
        provide(element, key, value) {
            const stringifiedValue = typeof value === 'string' ? value : JSON.stringify(value);
            element.setAttribute(this.getAttributeName(key), stringifiedValue);
            if (!this.hasKey(element, key)) {
                if (!this.manifest.has(element)) {
                    this.manifest.set(element, new Map());
                }
                this.manifest.get(element).set(key, new cjs.BehaviorSubject(value));
                this.triggerManifest$.next();
                return;
            }
            this.manifest.get(element).get(key).next(value);
        }
        get(element, key) {
            return this.triggerManifest$.pipe(cjs.startWith(undefined), cjs.switchMap(() => {
                const { element: currentElement, elementWithAttr } = this.closestPassShadow(element, this.getAttributeName(key));
                if (currentElement && this.hasKey(currentElement, key)) {
                    return this.manifest.get(currentElement).get(key);
                }
                if (elementWithAttr) {
                    let value = elementWithAttr.getAttribute(this.getAttributeName(key));
                    try {
                        value = JSON.parse(value);
                    }
                    catch {
                        // fallback to string value if JSON.parse will fail
                    }
                    this.provide(elementWithAttr, key, value);
                    return this.manifest.get(elementWithAttr).get(key);
                }
                return cjs.of(undefined);
            }), cjs.distinctUntilChanged());
        }
        remove(element, key) {
            element.removeAttribute(this.getAttributeName(key));
            if (!this.hasKey(element, key)) {
                return;
            }
            const namespaceValues = this.manifest.get(element);
            const subject$ = namespaceValues.get(key);
            subject$.next(undefined);
            subject$.complete();
            namespaceValues.delete(key);
            if (!namespaceValues.size) {
                this.manifest.delete(element);
            }
            this.triggerManifest$.next();
        }
        getAttributeName(key) {
            return `${this.dataKey}${key}`;
        }
        hasKey(element, key) {
            if (!this.manifest.has(element)) {
                return false;
            }
            return this.manifest.get(element).has(key);
        }
        closestPassShadow(element, selector) {
            const isElement = (element) => {
                return element && element !== window && element !== document;
            };
            while (isElement(element)) {
                const result = this.closest(element, selector);
                if (result) {
                    return result;
                }
                element = element.getRootNode?.().host;
            }
            return {};
        }
        closest(element, selector) {
            while (element) {
                const hasElement = this.manifest.has(element);
                if (hasElement) {
                    return {
                        element: element,
                    };
                }
                const hasAttr = element.hasAttribute?.(selector);
                if (hasAttr) {
                    return {
                        elementWithAttr: element,
                    };
                }
                element = element.parentElement;
            }
            return null;
        }
    }

    const ErrorHandler = 'FES.ErrorHandler';

    class DefaultErrorService {
        constructor(element = window, handler = inject(ErrorHandler, null)) {
            this.element = element;
            this.handler = handler;
            this.handle = (event) => {
                const error = event instanceof PromiseRejectionEvent ? event.reason : event.error;
                // Check is done when this listener is attached
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                this.handler.handle(error);
            };
        }
        initialize() {
            if (!this.handler) {
                return;
            }
            this.element.addEventListener('error', this.handle);
            this.element.addEventListener('unhandledrejection', this.handle);
        }
        onDestroy() {
            if (!this.handler) {
                return;
            }
            this.element.removeEventListener('error', this.handle);
            this.element.removeEventListener('unhandledrejection', this.handle);
        }
        dispatchError(event) {
            this.element.dispatchEvent(event);
        }
    }

    const ErrorService = 'FES.ErrorService';

    /******************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __rest(s, e) {
        var t = {};
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
            t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                    t[p[i]] = s[p[i]];
            }
        return t;
    }

    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (g && (g = 0, op[0] && (_ = 0)), _) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }

    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    }

    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    }

    function __asyncValues(o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    }

    function isFunction$9(value) {
        return typeof value === 'function';
    }

    function createErrorClass(createImpl) {
        var _super = function (instance) {
            Error.call(instance);
            instance.stack = new Error().stack;
        };
        var ctorFunc = createImpl(_super);
        ctorFunc.prototype = Object.create(Error.prototype);
        ctorFunc.prototype.constructor = ctorFunc;
        return ctorFunc;
    }

    var UnsubscriptionError = createErrorClass(function (_super) {
        return function UnsubscriptionErrorImpl(errors) {
            _super(this);
            this.message = errors
                ? errors.length + " errors occurred during unsubscription:\n" + errors.map(function (err, i) { return i + 1 + ") " + err.toString(); }).join('\n  ')
                : '';
            this.name = 'UnsubscriptionError';
            this.errors = errors;
        };
    });

    function arrRemove(arr, item) {
        if (arr) {
            var index = arr.indexOf(item);
            0 <= index && arr.splice(index, 1);
        }
    }

    var Subscription = (function () {
        function Subscription(initialTeardown) {
            this.initialTeardown = initialTeardown;
            this.closed = false;
            this._parentage = null;
            this._finalizers = null;
        }
        Subscription.prototype.unsubscribe = function () {
            var e_1, _a, e_2, _b;
            var errors;
            if (!this.closed) {
                this.closed = true;
                var _parentage = this._parentage;
                if (_parentage) {
                    this._parentage = null;
                    if (Array.isArray(_parentage)) {
                        try {
                            for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {
                                var parent_1 = _parentage_1_1.value;
                                parent_1.remove(this);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                    }
                    else {
                        _parentage.remove(this);
                    }
                }
                var initialFinalizer = this.initialTeardown;
                if (isFunction$9(initialFinalizer)) {
                    try {
                        initialFinalizer();
                    }
                    catch (e) {
                        errors = e instanceof UnsubscriptionError ? e.errors : [e];
                    }
                }
                var _finalizers = this._finalizers;
                if (_finalizers) {
                    this._finalizers = null;
                    try {
                        for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {
                            var finalizer = _finalizers_1_1.value;
                            try {
                                execFinalizer(finalizer);
                            }
                            catch (err) {
                                errors = errors !== null && errors !== void 0 ? errors : [];
                                if (err instanceof UnsubscriptionError) {
                                    errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));
                                }
                                else {
                                    errors.push(err);
                                }
                            }
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                }
                if (errors) {
                    throw new UnsubscriptionError(errors);
                }
            }
        };
        Subscription.prototype.add = function (teardown) {
            var _a;
            if (teardown && teardown !== this) {
                if (this.closed) {
                    execFinalizer(teardown);
                }
                else {
                    if (teardown instanceof Subscription) {
                        if (teardown.closed || teardown._hasParent(this)) {
                            return;
                        }
                        teardown._addParent(this);
                    }
                    (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);
                }
            }
        };
        Subscription.prototype._hasParent = function (parent) {
            var _parentage = this._parentage;
            return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));
        };
        Subscription.prototype._addParent = function (parent) {
            var _parentage = this._parentage;
            this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;
        };
        Subscription.prototype._removeParent = function (parent) {
            var _parentage = this._parentage;
            if (_parentage === parent) {
                this._parentage = null;
            }
            else if (Array.isArray(_parentage)) {
                arrRemove(_parentage, parent);
            }
        };
        Subscription.prototype.remove = function (teardown) {
            var _finalizers = this._finalizers;
            _finalizers && arrRemove(_finalizers, teardown);
            if (teardown instanceof Subscription) {
                teardown._removeParent(this);
            }
        };
        Subscription.EMPTY = (function () {
            var empty = new Subscription();
            empty.closed = true;
            return empty;
        })();
        return Subscription;
    }());
    Subscription.EMPTY;
    function isSubscription(value) {
        return (value instanceof Subscription ||
            (value && 'closed' in value && isFunction$9(value.remove) && isFunction$9(value.add) && isFunction$9(value.unsubscribe)));
    }
    function execFinalizer(finalizer) {
        if (isFunction$9(finalizer)) {
            finalizer();
        }
        else {
            finalizer.unsubscribe();
        }
    }

    var config = {
        onUnhandledError: null,
        onStoppedNotification: null,
        Promise: undefined,
        useDeprecatedSynchronousErrorHandling: false,
        useDeprecatedNextContext: false,
    };

    var timeoutProvider = {
        setTimeout: function (handler, timeout) {
            var args = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                args[_i - 2] = arguments[_i];
            }
            var delegate = timeoutProvider.delegate;
            if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {
                return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));
            }
            return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));
        },
        clearTimeout: function (handle) {
            var delegate = timeoutProvider.delegate;
            return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);
        },
        delegate: undefined,
    };

    function reportUnhandledError(err) {
        timeoutProvider.setTimeout(function () {
            {
                throw err;
            }
        });
    }

    function noop() { }

    function errorContext(cb) {
        {
            cb();
        }
    }

    var Subscriber = (function (_super) {
        __extends(Subscriber, _super);
        function Subscriber(destination) {
            var _this = _super.call(this) || this;
            _this.isStopped = false;
            if (destination) {
                _this.destination = destination;
                if (isSubscription(destination)) {
                    destination.add(_this);
                }
            }
            else {
                _this.destination = EMPTY_OBSERVER;
            }
            return _this;
        }
        Subscriber.create = function (next, error, complete) {
            return new SafeSubscriber(next, error, complete);
        };
        Subscriber.prototype.next = function (value) {
            if (this.isStopped) ;
            else {
                this._next(value);
            }
        };
        Subscriber.prototype.error = function (err) {
            if (this.isStopped) ;
            else {
                this.isStopped = true;
                this._error(err);
            }
        };
        Subscriber.prototype.complete = function () {
            if (this.isStopped) ;
            else {
                this.isStopped = true;
                this._complete();
            }
        };
        Subscriber.prototype.unsubscribe = function () {
            if (!this.closed) {
                this.isStopped = true;
                _super.prototype.unsubscribe.call(this);
                this.destination = null;
            }
        };
        Subscriber.prototype._next = function (value) {
            this.destination.next(value);
        };
        Subscriber.prototype._error = function (err) {
            try {
                this.destination.error(err);
            }
            finally {
                this.unsubscribe();
            }
        };
        Subscriber.prototype._complete = function () {
            try {
                this.destination.complete();
            }
            finally {
                this.unsubscribe();
            }
        };
        return Subscriber;
    }(Subscription));
    var _bind = Function.prototype.bind;
    function bind(fn, thisArg) {
        return _bind.call(fn, thisArg);
    }
    var ConsumerObserver = (function () {
        function ConsumerObserver(partialObserver) {
            this.partialObserver = partialObserver;
        }
        ConsumerObserver.prototype.next = function (value) {
            var partialObserver = this.partialObserver;
            if (partialObserver.next) {
                try {
                    partialObserver.next(value);
                }
                catch (error) {
                    handleUnhandledError(error);
                }
            }
        };
        ConsumerObserver.prototype.error = function (err) {
            var partialObserver = this.partialObserver;
            if (partialObserver.error) {
                try {
                    partialObserver.error(err);
                }
                catch (error) {
                    handleUnhandledError(error);
                }
            }
            else {
                handleUnhandledError(err);
            }
        };
        ConsumerObserver.prototype.complete = function () {
            var partialObserver = this.partialObserver;
            if (partialObserver.complete) {
                try {
                    partialObserver.complete();
                }
                catch (error) {
                    handleUnhandledError(error);
                }
            }
        };
        return ConsumerObserver;
    }());
    var SafeSubscriber = (function (_super) {
        __extends(SafeSubscriber, _super);
        function SafeSubscriber(observerOrNext, error, complete) {
            var _this = _super.call(this) || this;
            var partialObserver;
            if (isFunction$9(observerOrNext) || !observerOrNext) {
                partialObserver = {
                    next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),
                    error: error !== null && error !== void 0 ? error : undefined,
                    complete: complete !== null && complete !== void 0 ? complete : undefined,
                };
            }
            else {
                var context_1;
                if (_this && config.useDeprecatedNextContext) {
                    context_1 = Object.create(observerOrNext);
                    context_1.unsubscribe = function () { return _this.unsubscribe(); };
                    partialObserver = {
                        next: observerOrNext.next && bind(observerOrNext.next, context_1),
                        error: observerOrNext.error && bind(observerOrNext.error, context_1),
                        complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),
                    };
                }
                else {
                    partialObserver = observerOrNext;
                }
            }
            _this.destination = new ConsumerObserver(partialObserver);
            return _this;
        }
        return SafeSubscriber;
    }(Subscriber));
    function handleUnhandledError(error) {
        {
            reportUnhandledError(error);
        }
    }
    function defaultErrorHandler(err) {
        throw err;
    }
    var EMPTY_OBSERVER = {
        closed: true,
        next: noop,
        error: defaultErrorHandler,
        complete: noop,
    };

    function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {
        return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);
    }
    var OperatorSubscriber = (function (_super) {
        __extends(OperatorSubscriber, _super);
        function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {
            var _this = _super.call(this, destination) || this;
            _this.onFinalize = onFinalize;
            _this.shouldUnsubscribe = shouldUnsubscribe;
            _this._next = onNext
                ? function (value) {
                    try {
                        onNext(value);
                    }
                    catch (err) {
                        destination.error(err);
                    }
                }
                : _super.prototype._next;
            _this._error = onError
                ? function (err) {
                    try {
                        onError(err);
                    }
                    catch (err) {
                        destination.error(err);
                    }
                    finally {
                        this.unsubscribe();
                    }
                }
                : _super.prototype._error;
            _this._complete = onComplete
                ? function () {
                    try {
                        onComplete();
                    }
                    catch (err) {
                        destination.error(err);
                    }
                    finally {
                        this.unsubscribe();
                    }
                }
                : _super.prototype._complete;
            return _this;
        }
        OperatorSubscriber.prototype.unsubscribe = function () {
            var _a;
            if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
                var closed_1 = this.closed;
                _super.prototype.unsubscribe.call(this);
                !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));
            }
        };
        return OperatorSubscriber;
    }(Subscriber));

    var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();

    function identity$5(x) {
        return x;
    }

    function pipeFromArray(fns) {
        if (fns.length === 0) {
            return identity$5;
        }
        if (fns.length === 1) {
            return fns[0];
        }
        return function piped(input) {
            return fns.reduce(function (prev, fn) { return fn(prev); }, input);
        };
    }

    var Observable = (function () {
        function Observable(subscribe) {
            if (subscribe) {
                this._subscribe = subscribe;
            }
        }
        Observable.prototype.lift = function (operator) {
            var observable = new Observable();
            observable.source = this;
            observable.operator = operator;
            return observable;
        };
        Observable.prototype.subscribe = function (observerOrNext, error, complete) {
            var _this = this;
            var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);
            errorContext(function () {
                var _a = _this, operator = _a.operator, source = _a.source;
                subscriber.add(operator
                    ?
                        operator.call(subscriber, source)
                    : source
                        ?
                            _this._subscribe(subscriber)
                        :
                            _this._trySubscribe(subscriber));
            });
            return subscriber;
        };
        Observable.prototype._trySubscribe = function (sink) {
            try {
                return this._subscribe(sink);
            }
            catch (err) {
                sink.error(err);
            }
        };
        Observable.prototype.forEach = function (next, promiseCtor) {
            var _this = this;
            promiseCtor = getPromiseCtor(promiseCtor);
            return new promiseCtor(function (resolve, reject) {
                var subscriber = new SafeSubscriber({
                    next: function (value) {
                        try {
                            next(value);
                        }
                        catch (err) {
                            reject(err);
                            subscriber.unsubscribe();
                        }
                    },
                    error: reject,
                    complete: resolve,
                });
                _this.subscribe(subscriber);
            });
        };
        Observable.prototype._subscribe = function (subscriber) {
            var _a;
            return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);
        };
        Observable.prototype[observable] = function () {
            return this;
        };
        Observable.prototype.pipe = function () {
            var operations = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                operations[_i] = arguments[_i];
            }
            return pipeFromArray(operations)(this);
        };
        Observable.prototype.toPromise = function (promiseCtor) {
            var _this = this;
            promiseCtor = getPromiseCtor(promiseCtor);
            return new promiseCtor(function (resolve, reject) {
                var value;
                _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });
            });
        };
        Observable.create = function (subscribe) {
            return new Observable(subscribe);
        };
        return Observable;
    }());
    function getPromiseCtor(promiseCtor) {
        var _a;
        return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;
    }
    function isObserver(value) {
        return value && isFunction$9(value.next) && isFunction$9(value.error) && isFunction$9(value.complete);
    }
    function isSubscriber(value) {
        return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));
    }

    var isArrayLike$7 = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });

    function isPromise$1(value) {
        return isFunction$9(value === null || value === void 0 ? void 0 : value.then);
    }

    function isInteropObservable(input) {
        return isFunction$9(input[observable]);
    }

    function isAsyncIterable(obj) {
        return Symbol.asyncIterator && isFunction$9(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);
    }

    function createInvalidObservableTypeError(input) {
        return new TypeError("You provided " + (input !== null && typeof input === 'object' ? 'an invalid object' : "'" + input + "'") + " where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.");
    }

    function getSymbolIterator() {
        if (typeof Symbol !== 'function' || !Symbol.iterator) {
            return '@@iterator';
        }
        return Symbol.iterator;
    }
    var iterator = getSymbolIterator();

    function isIterable(input) {
        return isFunction$9(input === null || input === void 0 ? void 0 : input[iterator]);
    }

    function readableStreamLikeToAsyncGenerator(readableStream) {
        return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {
            var reader, _a, value, done;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        reader = readableStream.getReader();
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, , 9, 10]);
                        _b.label = 2;
                    case 2:
                        return [4, __await(reader.read())];
                    case 3:
                        _a = _b.sent(), value = _a.value, done = _a.done;
                        if (!done) return [3, 5];
                        return [4, __await(void 0)];
                    case 4: return [2, _b.sent()];
                    case 5: return [4, __await(value)];
                    case 6: return [4, _b.sent()];
                    case 7:
                        _b.sent();
                        return [3, 2];
                    case 8: return [3, 10];
                    case 9:
                        reader.releaseLock();
                        return [7];
                    case 10: return [2];
                }
            });
        });
    }
    function isReadableStreamLike(obj) {
        return isFunction$9(obj === null || obj === void 0 ? void 0 : obj.getReader);
    }

    function innerFrom(input) {
        if (input instanceof Observable) {
            return input;
        }
        if (input != null) {
            if (isInteropObservable(input)) {
                return fromInteropObservable(input);
            }
            if (isArrayLike$7(input)) {
                return fromArrayLike(input);
            }
            if (isPromise$1(input)) {
                return fromPromise(input);
            }
            if (isAsyncIterable(input)) {
                return fromAsyncIterable(input);
            }
            if (isIterable(input)) {
                return fromIterable(input);
            }
            if (isReadableStreamLike(input)) {
                return fromReadableStreamLike(input);
            }
        }
        throw createInvalidObservableTypeError(input);
    }
    function fromInteropObservable(obj) {
        return new Observable(function (subscriber) {
            var obs = obj[observable]();
            if (isFunction$9(obs.subscribe)) {
                return obs.subscribe(subscriber);
            }
            throw new TypeError('Provided object does not correctly implement Symbol.observable');
        });
    }
    function fromArrayLike(array) {
        return new Observable(function (subscriber) {
            for (var i = 0; i < array.length && !subscriber.closed; i++) {
                subscriber.next(array[i]);
            }
            subscriber.complete();
        });
    }
    function fromPromise(promise) {
        return new Observable(function (subscriber) {
            promise
                .then(function (value) {
                if (!subscriber.closed) {
                    subscriber.next(value);
                    subscriber.complete();
                }
            }, function (err) { return subscriber.error(err); })
                .then(null, reportUnhandledError);
        });
    }
    function fromIterable(iterable) {
        return new Observable(function (subscriber) {
            var e_1, _a;
            try {
                for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {
                    var value = iterable_1_1.value;
                    subscriber.next(value);
                    if (subscriber.closed) {
                        return;
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            subscriber.complete();
        });
    }
    function fromAsyncIterable(asyncIterable) {
        return new Observable(function (subscriber) {
            process$1(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });
        });
    }
    function fromReadableStreamLike(readableStream) {
        return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));
    }
    function process$1(asyncIterable, subscriber) {
        var asyncIterable_1, asyncIterable_1_1;
        var e_2, _a;
        return __awaiter(this, void 0, void 0, function () {
            var value, e_2_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 5, 6, 11]);
                        asyncIterable_1 = __asyncValues(asyncIterable);
                        _b.label = 1;
                    case 1: return [4, asyncIterable_1.next()];
                    case 2:
                        if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];
                        value = asyncIterable_1_1.value;
                        subscriber.next(value);
                        if (subscriber.closed) {
                            return [2];
                        }
                        _b.label = 3;
                    case 3: return [3, 1];
                    case 4: return [3, 11];
                    case 5:
                        e_2_1 = _b.sent();
                        e_2 = { error: e_2_1 };
                        return [3, 11];
                    case 6:
                        _b.trys.push([6, , 9, 10]);
                        if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];
                        return [4, _a.call(asyncIterable_1)];
                    case 7:
                        _b.sent();
                        _b.label = 8;
                    case 8: return [3, 10];
                    case 9:
                        if (e_2) throw e_2.error;
                        return [7];
                    case 10: return [7];
                    case 11:
                        subscriber.complete();
                        return [2];
                }
            });
        });
    }

    function fromFetch(input, initWithSelector) {
        if (initWithSelector === void 0) { initWithSelector = {}; }
        var selector = initWithSelector.selector, init = __rest(initWithSelector, ["selector"]);
        return new Observable(function (subscriber) {
            var controller = new AbortController();
            var signal = controller.signal;
            var abortable = true;
            var outerSignal = init.signal;
            if (outerSignal) {
                if (outerSignal.aborted) {
                    controller.abort();
                }
                else {
                    var outerSignalHandler_1 = function () {
                        if (!signal.aborted) {
                            controller.abort();
                        }
                    };
                    outerSignal.addEventListener('abort', outerSignalHandler_1);
                    subscriber.add(function () { return outerSignal.removeEventListener('abort', outerSignalHandler_1); });
                }
            }
            var perSubscriberInit = __assign(__assign({}, init), { signal: signal });
            var handleError = function (err) {
                abortable = false;
                subscriber.error(err);
            };
            fetch(input, perSubscriberInit)
                .then(function (response) {
                if (selector) {
                    innerFrom(selector(response)).subscribe(createOperatorSubscriber(subscriber, undefined, function () {
                        abortable = false;
                        subscriber.complete();
                    }, handleError));
                }
                else {
                    abortable = false;
                    subscriber.next(response);
                    subscriber.complete();
                }
            })
                .catch(handleError);
            return function () {
                if (abortable) {
                    controller.abort();
                }
            };
        });
    }

    const HttpInterceptor = 'FES.HttpInterceptor*';
    const HttpHandler = 'FES.HttpHandler';

    class DefaultHttpHandler {
        constructor(injector = inject(INJECTOR)) {
            this.injector = injector;
            this.chain = null;
        }
        handle(initialUrl, initialOptions) {
            if (this.chain === null) {
                const interceptors = this.injector.inject(HttpInterceptor, null);
                if (!interceptors) {
                    return fromFetch(initialUrl, initialOptions);
                }
                const initialFn = (url, options, handle) => {
                    return handle(url, options);
                };
                const reducer = (chainFn, interceptor) => {
                    return (url, options, handle) => {
                        return interceptor.intercept(url, options, (url, options) => chainFn(url, options, handle));
                    };
                };
                this.chain = interceptors.reduceRight(reducer, initialFn);
            }
            return this.chain(initialUrl, initialOptions, (url, options) => fromFetch(url, options));
        }
    }

    var ResponseKeys;
    (function (ResponseKeys) {
        ResponseKeys["Headers"] = "headers";
        ResponseKeys["Ok"] = "ok";
        ResponseKeys["Redirected"] = "redirected";
        ResponseKeys["Status"] = "status";
        ResponseKeys["StatusText"] = "statusText";
        ResponseKeys["Type"] = "type";
        ResponseKeys["Url"] = "url";
    })(ResponseKeys || (ResponseKeys = {}));

    const jsonRegex = /(?=.*application)(?=.*json)/;
    const htmlRegex = /(?=.*text)(?=.*html)/;
    class DefaultHttpService {
        constructor(handler = inject(HttpHandler)) {
            this.handler = handler;
        }
        request(url, options = {}) {
            if (!options.headers?.['Content-Type']) {
                options.headers = {
                    ...(options.headers ?? {}),
                    'Content-Type': 'application/json',
                };
            }
            return this.handler.handle(url, options).pipe(cjs.switchMap((response) => {
                if (!response.ok) {
                    this.throwError(response);
                }
                if (options?.parser) {
                    options?.parser?.(response);
                }
                const contentType = response.headers.get('content-type') ?? '';
                if (jsonRegex.test(contentType)) {
                    return response.json();
                }
                if (htmlRegex.test(contentType)) {
                    return response.text();
                }
                return cjs.of(null);
            }));
        }
        get(url, options) {
            return this.request(url, {
                ...options,
                method: 'GET',
            });
        }
        post(url, body, options) {
            return this.request(url, {
                ...options,
                body: JSON.stringify(body),
                method: 'POST',
            });
        }
        patch(url, body, options) {
            return this.request(url, {
                ...options,
                body: JSON.stringify(body),
                method: 'PATCH',
            });
        }
        delete(url, options) {
            return this.request(url, {
                ...options,
                method: 'DELETE',
            });
        }
        throwError(response) {
            const error = new Error(`${response.status} ${response.statusText}`);
            for (const field of Object.values(ResponseKeys)) {
                error[field] =
                    response[field];
            }
            throw error;
        }
    }

    const HttpService = 'FES.HttpService';

    class DefaultStorageService {
        getStorage(type = "local" /* StorageType.LOCAL */) {
            return type === "local" /* StorageType.LOCAL */ ? localStorage : sessionStorage;
        }
        get(key, type = "local" /* StorageType.LOCAL */) {
            try {
                return cjs.of(JSON.parse(this.getStorage(type).getItem(key)));
            }
            catch (e) {
                console.error(e);
            }
            return cjs.of(null);
        }
        set(key, value, type = "local" /* StorageType.LOCAL */) {
            this.getStorage(type).setItem(key, JSON.stringify(value));
            return cjs.of(undefined);
        }
        remove(key, type = "local" /* StorageType.LOCAL */) {
            this.getStorage(type).removeItem(key);
            return cjs.of(undefined);
        }
        clear(type = "local" /* StorageType.LOCAL */) {
            this.getStorage(type).clear();
            return cjs.of(undefined);
        }
    }

    var StorageType;
    (function (StorageType) {
        StorageType["LOCAL"] = "local";
        StorageType["SESSION"] = "session";
    })(StorageType || (StorageType = {}));

    const StorageService = 'FES.StorageService';

    /**
     * Transforms data by transformer(s) callback
     */
    class DefaultTransformerService {
        constructor(injector = inject(INJECTOR)) {
            this.injector = injector;
        }
        transform(data, token) {
            const reducer = (fullData, currentData) => {
                if (fullData === null ||
                    Array.isArray(fullData) ||
                    typeof fullData !== 'object') {
                    return currentData;
                }
                return {
                    ...currentData,
                    ...fullData,
                };
            };
            const asyncData = [];
            const syncData = this.getTransformers(token).reduce((currentData, cb) => {
                const cbData = cb(data, this);
                if (cjs.isObservable(cbData)) {
                    asyncData.push(cbData);
                    return currentData;
                }
                return reducer(currentData, cbData);
            }, null);
            return cjs.merge(...asyncData).pipe(cjs.reduce(reducer, syncData));
        }
        do(token) {
            return (source$) => source$.pipe(cjs.switchMap((data) => this.transform(data, token)));
        }
        getTransformers(token) {
            const transformer = this.injector.inject(token);
            return Array.isArray(transformer) ? transformer : [transformer];
        }
    }

    // TODO - We need this workaround for jsonapi-serializer, it should be resolved or investigated in FAAS-3714.
    globalThis.global = globalThis;

    function camelize(str) {
        return str
            .toLowerCase()
            .replace(/[^a-z]+(.)/g, (substring, chr) => chr.toUpperCase());
    }

    function isNodeElement(node) {
        return node.nodeType === Node.ELEMENT_NODE;
    }

    class PromiseSubject extends Promise {
        constructor(executor) {
            let resolve;
            let reject;
            super((_resolve, _reject) => {
                resolve = _resolve;
                reject = _reject;
                executor?.(resolve, reject);
            });
            // Executor is running synchronously so functions resolve immediately
            /* eslint-disable @typescript-eslint/no-non-null-assertion */
            this._resolve = resolve;
            this._reject = reject;
            /* eslint-enable @typescript-eslint/no-non-null-assertion */
        }
        resolve(value) {
            this._resolve(value);
        }
        reject(reason) {
            this._reject(reason);
        }
        asPromise() {
            return new Promise((res, rej) => this.then(res).catch(rej));
        }
    }

    const HOOKS_KEY = '_oryx.hooks';
    const createHook = (context, token, propName) => {
        if (!context[HOOKS_KEY]) {
            Object.defineProperty(context, HOOKS_KEY, {
                value: {
                    [token]: propName,
                },
                enumerable: false,
                configurable: true,
                writable: true,
            });
            return;
        }
        Object.assign(context[HOOKS_KEY], {
            [token]: propName,
        });
    };
    const standardHook = (context, token, propName) => {
        return {
            ...context,
            finisher(clazz) {
                createHook(clazz, token, propName);
            },
        };
    };
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function hook(token) {
        return (context, name) => {
            const isLegacy = (context, name) => {
                return name !== undefined;
            };
            const propName = (isLegacy(context, name) ? name : context.key);
            return isLegacy(context, name)
                ? createHook(context, token, propName)
                : standardHook(context, token, propName);
        };
    }

    const IconHookToken = 'FES.IconHookToken';

    const DEFER_HYDRATION = Symbol('deferHydration');
    const HYDRATION_CALLS = Symbol('hydrationCalls');
    const HYDRATE_ON_DEMAND = '$__HYDRATE_ON_DEMAND';
    const HYDRATING = '$__HYDRATING';
    const hydratable = (mode) => (classOrDescriptor) => typeof classOrDescriptor === 'function'
        ? legacyCustomElement(classOrDescriptor, mode)
        : standardCustomElement(classOrDescriptor, mode);
    const legacyCustomElement = (clazz, mode) => {
        return hydratableClass(clazz, mode);
    };
    const standardCustomElement = (descriptor, mode) => {
        const { kind, elements } = descriptor;
        return {
            kind,
            elements,
            finisher(clazz) {
                return hydratableClass(clazz, mode);
            },
        };
    };
    function hydratableClass(target, mode) {
        var _a, _b;
        return class extends target {
            constructor(...args) {
                super();
                this[_a] = false;
                this[_b] = 0;
                {
                    this.setAttribute('hydratable', mode ?? '');
                }
            }
            connectedCallback() {
                if (this[DEFER_HYDRATION]) {
                    return;
                }
                super.connectedCallback();
            }
            update(changedProperties) {
                if (this[DEFER_HYDRATION]) {
                    return;
                }
                if (this._$needsHydration) {
                    this[HYDRATING] = true;
                }
                super.update(changedProperties);
                this[HYDRATING] = false;
            }
            [(_a = DEFER_HYDRATION, _b = HYDRATION_CALLS, HYDRATE_ON_DEMAND)]() {
                const prototype = Array(this[HYDRATION_CALLS])
                    .fill(null)
                    .reduce(Object.getPrototypeOf, this);
                if (prototype[HYDRATE_ON_DEMAND]) {
                    this[HYDRATION_CALLS]++;
                    prototype[HYDRATE_ON_DEMAND].call(this);
                    this[HYDRATION_CALLS]--;
                }
                if (this.renderRoot) {
                    return;
                }
                this[DEFER_HYDRATION] = false;
                this.removeAttribute('defer-hydration');
                prototype.connectedCallback.call(this);
            }
        };
    }

    function isDefined(arg) {
        return arg !== null && arg !== undefined;
    }

    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isPromise(object) {
        return typeof object?.then === 'function';
    }

    /**
     * A simple container that allows to:
     *
     * - Invert dependencies
     * - Provide default implementation
     * - Swap implementation at runtime
     * - Share implementation across global container (globalThis by default)
     *
     * If the default implementation was not provided and `inject()` was not called at least once
     * then `get()` calls would always throw as there is no implementation provided for container.
     *
     * @example
     * - First create an injectable for your interface with key and default implementation:
     * ```ts
     * const myInjectable = new Injectable<MyInterface>('my-key', new MyDefaultImpl());
     * ```
     *
     * - Then use injectable to depend on your interface:
     * ```ts
     * doSomethingWith(myInjectable.get())
     *
     * ```
     * - Then you can inject alternative implementation from somewhere else:
     * ```ts
     * myInjectable.inject(new MyAnotherImpl())
     * ```
     * You can always request the same injectable from another place by key:
     * ```ts
     * myAnotherInjectable = new Injectable<MyInterface>('my-key');
     * myAnotherInjectable.get();
     * ```
     */
    class Injectable {
        constructor(key, defaultValue, 
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        container = globalThis[Injectable.GlobalKey] ?? (globalThis[Injectable.GlobalKey] = {})) {
            this.container = container;
            this.key = Symbol.for(key);
            if (defaultValue) {
                this.inject(defaultValue);
            }
        }
        /**
         * Get current implmentation of the Injectable container.
         *
         * @throws If default value was not provided
         * and {@link Injectable.inject()} method was never called
         */
        get() {
            const value = this.container[this.key];
            if (value === undefined) {
                throw new Error(`Injectable: Value for ${String(this.key)} was not provided!`);
            }
            return value;
        }
        /**
         * Inject a new implementation into the Injectable container.
         */
        inject(value) {
            this.container[this.key] = value;
        }
    }
    Injectable.GlobalKey = Symbol.for('FES.Injectable');

    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function getPropByPath(value, path, delimiter = '.') {
        const paths = path.split(delimiter);
        while (value && paths.length) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            value = value[paths.shift()];
        }
        return value;
    }

    var Size$2;
    (function (Size) {
        Size["Sm"] = "sm";
        Size["Md"] = "md";
        Size["Lg"] = "lg";
    })(Size$2 || (Size$2 = {}));

    var dist = {};

    var toJSON = {};

    var regex = {};

    Object.defineProperty(regex, "__esModule", { value: true });
    regex.altX = regex.lineAttrX = regex.commentX = regex.lineX = regex.endX = regex.selX = void 0;
    regex.selX = /([^\s\;\{\}][^\;\{\}]*)\{/g;
    regex.endX = /\}/g;
    regex.lineX = /([^\;\{\}]*)\;/g;
    regex.commentX = /\/\*[\s\S]*?\*\//g;
    regex.lineAttrX = /([^\:]+):([^\;]*);/;
    // This is used, a concatenation of all above. We use alternation to
    // capture.
    regex.altX = /(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim;

    var isEmpty$1 = {};

    Object.defineProperty(isEmpty$1, "__esModule", { value: true });
    isEmpty$1.isEmpty = void 0;
    const isEmpty = function (x) {
        return typeof x == 'undefined' || x.length == 0 || x == null;
    };
    isEmpty$1.isEmpty = isEmpty;

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.toJSON = void 0;
    	const regex_1 = regex;
    	const isEmpty_1 = isEmpty$1;
    	const capComment = 1;
    	const capSelector = 2;
    	const capEnd = 3;
    	const capAttr = 4;
    	/**
    	 * Input is css string and current pos, returns JSON object
    	 *
    	 * @param cssString
    	 *            The CSS string.
    	 * @param args
    	 *            An optional argument object. ordered: Whether order of
    	 *            comments and other nodes should be kept in the output. This
    	 *            will return an object where all the keys are numbers and the
    	 *            values are objects containing "name" and "value" keys for each
    	 *            node. comments: Whether to capture comments. split: Whether to
    	 *            split each comma separated list of selectors.
    	 */
    	const defaultArgs = {
    	    ordered: false,
    	    comments: false,
    	    stripComments: false,
    	    split: false,
    	};
    	const toJSON = function (cssString, args = defaultArgs) {
    	    const node = {
    	        children: {},
    	        attributes: {},
    	    };
    	    let match = null;
    	    let count = 0;
    	    if (args.stripComments) {
    	        args.comments = false;
    	        cssString = cssString.replace(regex_1.commentX, '');
    	    }
    	    while ((match = regex_1.altX.exec(cssString)) != null) {
    	        if (!isEmpty_1.isEmpty(match[capComment]) && args.comments) {
    	            // Comment
    	            node[count++] = match[capComment].trim();
    	        }
    	        else if (!isEmpty_1.isEmpty(match[capSelector])) {
    	            // New node, we recurse
    	            const name = match[capSelector].trim();
    	            // This will return when we encounter a closing brace
    	            const newNode = exports.toJSON(cssString, args);
    	            if (args.ordered) {
    	                // Since we must use key as index to keep order and not
    	                // name, this will differentiate between a Rule Node and an
    	                // Attribute, since both contain a name and value pair.
    	                node[count++] = { name, value: newNode, type: 'rule' };
    	            }
    	            else {
    	                const bits = args.split ? name.split(',') : [name];
    	                for (const i in bits) {
    	                    const sel = bits[i].trim();
    	                    if (sel in node.children) {
    	                        for (const att in newNode.attributes) {
    	                            node.children[sel].attributes[att] = newNode.attributes[att];
    	                        }
    	                    }
    	                    else {
    	                        node.children[sel] = newNode;
    	                    }
    	                }
    	            }
    	        }
    	        else if (!isEmpty_1.isEmpty(match[capEnd])) {
    	            // Node has finished
    	            return node;
    	        }
    	        else if (!isEmpty_1.isEmpty(match[capAttr])) {
    	            const line = match[capAttr].trim();
    	            const attr = regex_1.lineAttrX.exec(line);
    	            if (attr) {
    	                // Attribute
    	                const name = attr[1].trim();
    	                const value = attr[2].trim();
    	                if (args.ordered) {
    	                    node[count++] = { name, value, type: 'attr' };
    	                }
    	                else {
    	                    if (name in node.attributes) {
    	                        const currVal = node.attributes[name];
    	                        if (!(currVal instanceof Array)) {
    	                            node.attributes[name] = [currVal];
    	                        }
    	                        node.attributes[name].push(value);
    	                    }
    	                    else {
    	                        node.attributes[name] = value;
    	                    }
    	                }
    	            }
    	            else {
    	                // Semicolon terminated line
    	                node[count++] = line;
    	            }
    	        }
    	    }
    	    return node;
    	};
    	exports.toJSON = toJSON;
    	
    } (toJSON));

    var toCSS = {};

    var strAttr$1 = {};

    Object.defineProperty(strAttr$1, "__esModule", { value: true });
    strAttr$1.strAttr = void 0;
    const strAttr = (name, value, depth = 0) => {
        let response = '';
        for (let i = 0; i <= depth; ++i) {
            response += '  ';
        }
        return response + name + ': ' + value + ';\n';
    };
    strAttr$1.strAttr = strAttr;

    var strNode = {};

    var hasRequiredStrNode;

    function requireStrNode () {
    	if (hasRequiredStrNode) return strNode;
    	hasRequiredStrNode = 1;
    	Object.defineProperty(strNode, "__esModule", { value: true });
    	strNode.strNode = void 0;
    	const toCSS_1 = requireToCSS();
    	const strNode$1 = function (name, value, depth = 0) {
    	    let cssString = '';
    	    for (let i = 0; i <= depth; ++i) {
    	        cssString += '  ';
    	    }
    	    cssString += name + ' {\n';
    	    cssString += toCSS_1.toCSS(value, depth + 1);
    	    for (let i = 0; i <= depth; ++i) {
    	        cssString += '  ';
    	    }
    	    cssString += '}\n';
    	    return cssString;
    	};
    	strNode.strNode = strNode$1;
    	
    	return strNode;
    }

    var hasRequiredToCSS;

    function requireToCSS () {
    	if (hasRequiredToCSS) return toCSS;
    	hasRequiredToCSS = 1;
    	Object.defineProperty(toCSS, "__esModule", { value: true });
    	toCSS.toCSS = void 0;
    	const strAttr_1 = strAttr$1;
    	const strNode_1 = requireStrNode();
    	/**
    	 * @param node
    	 *            A JSON node.
    	 * @param depth
    	 *            The depth of the current node; used for indentation and
    	 *            optional.
    	 * @param breaks
    	 *            Whether to add line breaks in the output.
    	 */
    	const toCSS$1 = function (node, depth = 0, breaks = 0) {
    	    let cssString = '';
    	    if (node.attributes) {
    	        for (const i in node.attributes) {
    	            const att = node.attributes[i];
    	            cssString += strAttr_1.strAttr(i, att, depth);
    	        }
    	    }
    	    if (node.children) {
    	        let first = true;
    	        for (const i in node.children) {
    	            if (breaks && !first) {
    	                cssString += '\n';
    	            }
    	            else {
    	                first = false;
    	            }
    	            cssString += strNode_1.strNode(i, node.children[i], depth);
    	        }
    	    }
    	    return cssString;
    	};
    	toCSS.toCSS = toCSS$1;
    	
    	return toCSS;
    }

    (function (exports) {
    	Object.defineProperty(exports, "__esModule", { value: true });
    	exports.toCSS = exports.toJSON = void 0;
    	const toJSON_1 = toJSON;
    	Object.defineProperty(exports, "toJSON", { enumerable: true, get: function () { return toJSON_1.toJSON; } });
    	const toCSS_1 = requireToCSS();
    	Object.defineProperty(exports, "toCSS", { enumerable: true, get: function () { return toCSS_1.toCSS; } });
    	
    } (dist));

    /* eslint-disable @typescript-eslint/no-explicit-any */
    const ssrAwaiter = (object) => {
        const observable = isPromise(object) ? cjs.from(object) : object;
        let ssrAwaiter = null;
        try {
            ssrAwaiter = inject(SSRAwaiterService);
        }
        catch (_e) {
            ssrAwaiter = resolve(SSRAwaiterService, null);
        }
        if (!ssrAwaiter)
            return observable;
        return cjs.defer(() => {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const resolveFn = ssrAwaiter.getAwaiter();
            const tapFn = () => {
                setTimeout(resolveFn, 0);
            };
            return observable.pipe(cjs.tap(tapFn), cjs.finalize(tapFn));
        });
    };

    /** Detect free variable `global` from Node.js. */

    var freeGlobal$1 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;

    var _freeGlobal = freeGlobal$1;

    var freeGlobal = _freeGlobal;

    /** Detect free variable `self`. */
    var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

    /** Used as a reference to the global object. */
    var root$8 = freeGlobal || freeSelf || Function('return this')();

    var _root = root$8;

    var root$7 = _root;

    /** Built-in value references. */
    var Symbol$6 = root$7.Symbol;

    var _Symbol = Symbol$6;

    var Symbol$5 = _Symbol;

    /** Used for built-in method references. */
    var objectProto$e = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$b = objectProto$e.hasOwnProperty;

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString$1 = objectProto$e.toString;

    /** Built-in value references. */
    var symToStringTag$1 = Symbol$5 ? Symbol$5.toStringTag : undefined;

    /**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */
    function getRawTag$1(value) {
      var isOwn = hasOwnProperty$b.call(value, symToStringTag$1),
          tag = value[symToStringTag$1];

      try {
        value[symToStringTag$1] = undefined;
        var unmasked = true;
      } catch (e) {}

      var result = nativeObjectToString$1.call(value);
      if (unmasked) {
        if (isOwn) {
          value[symToStringTag$1] = tag;
        } else {
          delete value[symToStringTag$1];
        }
      }
      return result;
    }

    var _getRawTag = getRawTag$1;

    /** Used for built-in method references. */

    var objectProto$d = Object.prototype;

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString = objectProto$d.toString;

    /**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */
    function objectToString$1(value) {
      return nativeObjectToString.call(value);
    }

    var _objectToString = objectToString$1;

    var Symbol$4 = _Symbol,
        getRawTag = _getRawTag,
        objectToString = _objectToString;

    /** `Object#toString` result references. */
    var nullTag = '[object Null]',
        undefinedTag = '[object Undefined]';

    /** Built-in value references. */
    var symToStringTag = Symbol$4 ? Symbol$4.toStringTag : undefined;

    /**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    function baseGetTag$6(value) {
      if (value == null) {
        return value === undefined ? undefinedTag : nullTag;
      }
      return (symToStringTag && symToStringTag in Object(value))
        ? getRawTag(value)
        : objectToString(value);
    }

    var _baseGetTag = baseGetTag$6;

    /**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */

    function isObject$c(value) {
      var type = typeof value;
      return value != null && (type == 'object' || type == 'function');
    }

    var isObject_1 = isObject$c;

    var baseGetTag$5 = _baseGetTag,
        isObject$b = isObject_1;

    /** `Object#toString` result references. */
    var asyncTag = '[object AsyncFunction]',
        funcTag$1 = '[object Function]',
        genTag = '[object GeneratorFunction]',
        proxyTag = '[object Proxy]';

    /**
     * Checks if `value` is classified as a `Function` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     *
     * _.isFunction(/abc/);
     * // => false
     */
    function isFunction$8(value) {
      if (!isObject$b(value)) {
        return false;
      }
      // The use of `Object#toString` avoids issues with the `typeof` operator
      // in Safari 9 which returns 'object' for typed arrays and other constructors.
      var tag = baseGetTag$5(value);
      return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;
    }

    var isFunction_1 = isFunction$8;

    var root$6 = _root;

    /** Used to detect overreaching core-js shims. */
    var coreJsData$1 = root$6['__core-js_shared__'];

    var _coreJsData = coreJsData$1;

    var coreJsData = _coreJsData;

    /** Used to detect methods masquerading as native. */
    var maskSrcKey = (function() {
      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
      return uid ? ('Symbol(src)_1.' + uid) : '';
    }());

    /**
     * Checks if `func` has its source masked.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` is masked, else `false`.
     */
    function isMasked$1(func) {
      return !!maskSrcKey && (maskSrcKey in func);
    }

    var _isMasked = isMasked$1;

    /** Used for built-in method references. */

    var funcProto$2 = Function.prototype;

    /** Used to resolve the decompiled source of functions. */
    var funcToString$2 = funcProto$2.toString;

    /**
     * Converts `func` to its source code.
     *
     * @private
     * @param {Function} func The function to convert.
     * @returns {string} Returns the source code.
     */
    function toSource$2(func) {
      if (func != null) {
        try {
          return funcToString$2.call(func);
        } catch (e) {}
        try {
          return (func + '');
        } catch (e) {}
      }
      return '';
    }

    var _toSource = toSource$2;

    var isFunction$7 = isFunction_1,
        isMasked = _isMasked,
        isObject$a = isObject_1,
        toSource$1 = _toSource;

    /**
     * Used to match `RegExp`
     * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
     */
    var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

    /** Used to detect host constructors (Safari). */
    var reIsHostCtor = /^\[object .+?Constructor\]$/;

    /** Used for built-in method references. */
    var funcProto$1 = Function.prototype,
        objectProto$c = Object.prototype;

    /** Used to resolve the decompiled source of functions. */
    var funcToString$1 = funcProto$1.toString;

    /** Used to check objects for own properties. */
    var hasOwnProperty$a = objectProto$c.hasOwnProperty;

    /** Used to detect if a method is native. */
    var reIsNative = RegExp('^' +
      funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar, '\\$&')
      .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
    );

    /**
     * The base implementation of `_.isNative` without bad shim checks.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     */
    function baseIsNative$1(value) {
      if (!isObject$a(value) || isMasked(value)) {
        return false;
      }
      var pattern = isFunction$7(value) ? reIsNative : reIsHostCtor;
      return pattern.test(toSource$1(value));
    }

    var _baseIsNative = baseIsNative$1;

    /**
     * Gets the value at `key` of `object`.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {string} key The key of the property to get.
     * @returns {*} Returns the property value.
     */

    function getValue$1(object, key) {
      return object == null ? undefined : object[key];
    }

    var _getValue = getValue$1;

    var baseIsNative = _baseIsNative,
        getValue = _getValue;

    /**
     * Gets the native function at `key` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the method to get.
     * @returns {*} Returns the function if it's native, else `undefined`.
     */
    function getNative$7(object, key) {
      var value = getValue(object, key);
      return baseIsNative(value) ? value : undefined;
    }

    var _getNative = getNative$7;

    var getNative$6 = _getNative;

    var defineProperty$2 = (function() {
      try {
        var func = getNative$6(Object, 'defineProperty');
        func({}, '', {});
        return func;
      } catch (e) {}
    }());

    var _defineProperty = defineProperty$2;

    var defineProperty$1 = _defineProperty;

    /**
     * The base implementation of `assignValue` and `assignMergeValue` without
     * value checks.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function baseAssignValue$5(object, key, value) {
      if (key == '__proto__' && defineProperty$1) {
        defineProperty$1(object, key, {
          'configurable': true,
          'enumerable': true,
          'value': value,
          'writable': true
        });
      } else {
        object[key] = value;
      }
    }

    var _baseAssignValue = baseAssignValue$5;

    /**
     * Creates a base function for methods like `_.forIn` and `_.forOwn`.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */

    function createBaseFor$1(fromRight) {
      return function(object, iteratee, keysFunc) {
        var index = -1,
            iterable = Object(object),
            props = keysFunc(object),
            length = props.length;

        while (length--) {
          var key = props[fromRight ? length : ++index];
          if (iteratee(iterable[key], key, iterable) === false) {
            break;
          }
        }
        return object;
      };
    }

    var _createBaseFor = createBaseFor$1;

    var createBaseFor = _createBaseFor;

    /**
     * The base implementation of `baseForOwn` which iterates over `object`
     * properties returned by `keysFunc` and invokes `iteratee` for each property.
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */
    var baseFor$2 = createBaseFor();

    var _baseFor = baseFor$2;

    /**
     * The base implementation of `_.times` without support for iteratee shorthands
     * or max array length checks.
     *
     * @private
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     */

    function baseTimes$1(n, iteratee) {
      var index = -1,
          result = Array(n);

      while (++index < n) {
        result[index] = iteratee(index);
      }
      return result;
    }

    var _baseTimes = baseTimes$1;

    /**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */

    function isObjectLike$7(value) {
      return value != null && typeof value == 'object';
    }

    var isObjectLike_1 = isObjectLike$7;

    var baseGetTag$4 = _baseGetTag,
        isObjectLike$6 = isObjectLike_1;

    /** `Object#toString` result references. */
    var argsTag$2 = '[object Arguments]';

    /**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */
    function baseIsArguments$1(value) {
      return isObjectLike$6(value) && baseGetTag$4(value) == argsTag$2;
    }

    var _baseIsArguments = baseIsArguments$1;

    var baseIsArguments = _baseIsArguments,
        isObjectLike$5 = isObjectLike_1;

    /** Used for built-in method references. */
    var objectProto$b = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$9 = objectProto$b.hasOwnProperty;

    /** Built-in value references. */
    var propertyIsEnumerable$1 = objectProto$b.propertyIsEnumerable;

    /**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    var isArguments$4 = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
      return isObjectLike$5(value) && hasOwnProperty$9.call(value, 'callee') &&
        !propertyIsEnumerable$1.call(value, 'callee');
    };

    var isArguments_1 = isArguments$4;

    /**
     * Checks if `value` is classified as an `Array` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array, else `false`.
     * @example
     *
     * _.isArray([1, 2, 3]);
     * // => true
     *
     * _.isArray(document.body.children);
     * // => false
     *
     * _.isArray('abc');
     * // => false
     *
     * _.isArray(_.noop);
     * // => false
     */

    var isArray$c = Array.isArray;

    var isArray_1 = isArray$c;

    var isBuffer$4 = {exports: {}};

    /**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */

    function stubFalse() {
      return false;
    }

    var stubFalse_1 = stubFalse;

    (function (module, exports) {
    	var root = _root,
    	    stubFalse = stubFalse_1;

    	/** Detect free variable `exports`. */
    	var freeExports = exports && !exports.nodeType && exports;

    	/** Detect free variable `module`. */
    	var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

    	/** Detect the popular CommonJS extension `module.exports`. */
    	var moduleExports = freeModule && freeModule.exports === freeExports;

    	/** Built-in value references. */
    	var Buffer = moduleExports ? root.Buffer : undefined;

    	/* Built-in method references for those with the same name as other `lodash` methods. */
    	var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;

    	/**
    	 * Checks if `value` is a buffer.
    	 *
    	 * @static
    	 * @memberOf _
    	 * @since 4.3.0
    	 * @category Lang
    	 * @param {*} value The value to check.
    	 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
    	 * @example
    	 *
    	 * _.isBuffer(new Buffer(2));
    	 * // => true
    	 *
    	 * _.isBuffer(new Uint8Array(2));
    	 * // => false
    	 */
    	var isBuffer = nativeIsBuffer || stubFalse;

    	module.exports = isBuffer;
    } (isBuffer$4, isBuffer$4.exports));

    /** Used as references for various `Number` constants. */

    var MAX_SAFE_INTEGER$1 = 9007199254740991;

    /** Used to detect unsigned integer values. */
    var reIsUint = /^(?:0|[1-9]\d*)$/;

    /**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */
    function isIndex$4(value, length) {
      var type = typeof value;
      length = length == null ? MAX_SAFE_INTEGER$1 : length;

      return !!length &&
        (type == 'number' ||
          (type != 'symbol' && reIsUint.test(value))) &&
            (value > -1 && value % 1 == 0 && value < length);
    }

    var _isIndex = isIndex$4;

    /** Used as references for various `Number` constants. */

    var MAX_SAFE_INTEGER = 9007199254740991;

    /**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */
    function isLength$3(value) {
      return typeof value == 'number' &&
        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    }

    var isLength_1 = isLength$3;

    var baseGetTag$3 = _baseGetTag,
        isLength$2 = isLength_1,
        isObjectLike$4 = isObjectLike_1;

    /** `Object#toString` result references. */
    var argsTag$1 = '[object Arguments]',
        arrayTag$1 = '[object Array]',
        boolTag$1 = '[object Boolean]',
        dateTag$1 = '[object Date]',
        errorTag$1 = '[object Error]',
        funcTag = '[object Function]',
        mapTag$2 = '[object Map]',
        numberTag$1 = '[object Number]',
        objectTag$3 = '[object Object]',
        regexpTag$1 = '[object RegExp]',
        setTag$2 = '[object Set]',
        stringTag$1 = '[object String]',
        weakMapTag$1 = '[object WeakMap]';

    var arrayBufferTag$1 = '[object ArrayBuffer]',
        dataViewTag$2 = '[object DataView]',
        float32Tag = '[object Float32Array]',
        float64Tag = '[object Float64Array]',
        int8Tag = '[object Int8Array]',
        int16Tag = '[object Int16Array]',
        int32Tag = '[object Int32Array]',
        uint8Tag = '[object Uint8Array]',
        uint8ClampedTag = '[object Uint8ClampedArray]',
        uint16Tag = '[object Uint16Array]',
        uint32Tag = '[object Uint32Array]';

    /** Used to identify `toStringTag` values of typed arrays. */
    var typedArrayTags = {};
    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
    typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
    typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
    typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
    typedArrayTags[uint32Tag] = true;
    typedArrayTags[argsTag$1] = typedArrayTags[arrayTag$1] =
    typedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] =
    typedArrayTags[dataViewTag$2] = typedArrayTags[dateTag$1] =
    typedArrayTags[errorTag$1] = typedArrayTags[funcTag] =
    typedArrayTags[mapTag$2] = typedArrayTags[numberTag$1] =
    typedArrayTags[objectTag$3] = typedArrayTags[regexpTag$1] =
    typedArrayTags[setTag$2] = typedArrayTags[stringTag$1] =
    typedArrayTags[weakMapTag$1] = false;

    /**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */
    function baseIsTypedArray$1(value) {
      return isObjectLike$4(value) &&
        isLength$2(value.length) && !!typedArrayTags[baseGetTag$3(value)];
    }

    var _baseIsTypedArray = baseIsTypedArray$1;

    /**
     * The base implementation of `_.unary` without support for storing metadata.
     *
     * @private
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     */

    function baseUnary$1(func) {
      return function(value) {
        return func(value);
      };
    }

    var _baseUnary = baseUnary$1;

    var _nodeUtil = {exports: {}};

    (function (module, exports) {
    	var freeGlobal = _freeGlobal;

    	/** Detect free variable `exports`. */
    	var freeExports = exports && !exports.nodeType && exports;

    	/** Detect free variable `module`. */
    	var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

    	/** Detect the popular CommonJS extension `module.exports`. */
    	var moduleExports = freeModule && freeModule.exports === freeExports;

    	/** Detect free variable `process` from Node.js. */
    	var freeProcess = moduleExports && freeGlobal.process;

    	/** Used to access faster Node.js helpers. */
    	var nodeUtil = (function() {
    	  try {
    	    // Use `util.types` for Node.js 10+.
    	    var types = freeModule && freeModule.require && freeModule.require('util').types;

    	    if (types) {
    	      return types;
    	    }

    	    // Legacy `process.binding('util')` for Node.js < 10.
    	    return freeProcess && freeProcess.binding && freeProcess.binding('util');
    	  } catch (e) {}
    	}());

    	module.exports = nodeUtil;
    } (_nodeUtil, _nodeUtil.exports));

    var baseIsTypedArray = _baseIsTypedArray,
        baseUnary = _baseUnary,
        nodeUtil = _nodeUtil.exports;

    /* Node.js helper references. */
    var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

    /**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */
    var isTypedArray$4 = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

    var isTypedArray_1 = isTypedArray$4;

    var baseTimes = _baseTimes,
        isArguments$3 = isArguments_1,
        isArray$b = isArray_1,
        isBuffer$3 = isBuffer$4.exports,
        isIndex$3 = _isIndex,
        isTypedArray$3 = isTypedArray_1;

    /** Used for built-in method references. */
    var objectProto$a = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$8 = objectProto$a.hasOwnProperty;

    /**
     * Creates an array of the enumerable property names of the array-like `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @param {boolean} inherited Specify returning inherited property names.
     * @returns {Array} Returns the array of property names.
     */
    function arrayLikeKeys$2(value, inherited) {
      var isArr = isArray$b(value),
          isArg = !isArr && isArguments$3(value),
          isBuff = !isArr && !isArg && isBuffer$3(value),
          isType = !isArr && !isArg && !isBuff && isTypedArray$3(value),
          skipIndexes = isArr || isArg || isBuff || isType,
          result = skipIndexes ? baseTimes(value.length, String) : [],
          length = result.length;

      for (var key in value) {
        if ((inherited || hasOwnProperty$8.call(value, key)) &&
            !(skipIndexes && (
               // Safari 9 has enumerable `arguments.length` in strict mode.
               key == 'length' ||
               // Node.js 0.10 has enumerable non-index properties on buffers.
               (isBuff && (key == 'offset' || key == 'parent')) ||
               // PhantomJS 2 has enumerable non-index properties on typed arrays.
               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
               // Skip index properties.
               isIndex$3(key, length)
            ))) {
          result.push(key);
        }
      }
      return result;
    }

    var _arrayLikeKeys = arrayLikeKeys$2;

    /** Used for built-in method references. */

    var objectProto$9 = Object.prototype;

    /**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */
    function isPrototype$3(value) {
      var Ctor = value && value.constructor,
          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$9;

      return value === proto;
    }

    var _isPrototype = isPrototype$3;

    /**
     * Creates a unary function that invokes `func` with its argument transformed.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {Function} transform The argument transform.
     * @returns {Function} Returns the new function.
     */

    function overArg$2(func, transform) {
      return function(arg) {
        return func(transform(arg));
      };
    }

    var _overArg = overArg$2;

    var overArg$1 = _overArg;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeKeys$1 = overArg$1(Object.keys, Object);

    var _nativeKeys = nativeKeys$1;

    var isPrototype$2 = _isPrototype,
        nativeKeys = _nativeKeys;

    /** Used for built-in method references. */
    var objectProto$8 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$7 = objectProto$8.hasOwnProperty;

    /**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function baseKeys$1(object) {
      if (!isPrototype$2(object)) {
        return nativeKeys(object);
      }
      var result = [];
      for (var key in Object(object)) {
        if (hasOwnProperty$7.call(object, key) && key != 'constructor') {
          result.push(key);
        }
      }
      return result;
    }

    var _baseKeys = baseKeys$1;

    var isFunction$6 = isFunction_1,
        isLength$1 = isLength_1;

    /**
     * Checks if `value` is array-like. A value is considered array-like if it's
     * not a function and has a `value.length` that's an integer greater than or
     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
     * @example
     *
     * _.isArrayLike([1, 2, 3]);
     * // => true
     *
     * _.isArrayLike(document.body.children);
     * // => true
     *
     * _.isArrayLike('abc');
     * // => true
     *
     * _.isArrayLike(_.noop);
     * // => false
     */
    function isArrayLike$6(value) {
      return value != null && isLength$1(value.length) && !isFunction$6(value);
    }

    var isArrayLike_1 = isArrayLike$6;

    var arrayLikeKeys$1 = _arrayLikeKeys,
        baseKeys = _baseKeys,
        isArrayLike$5 = isArrayLike_1;

    /**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */
    function keys$4(object) {
      return isArrayLike$5(object) ? arrayLikeKeys$1(object) : baseKeys(object);
    }

    var keys_1 = keys$4;

    var baseFor$1 = _baseFor,
        keys$3 = keys_1;

    /**
     * The base implementation of `_.forOwn` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */
    function baseForOwn$4(object, iteratee) {
      return object && baseFor$1(object, iteratee, keys$3);
    }

    var _baseForOwn = baseForOwn$4;

    /**
     * Removes all key-value entries from the list cache.
     *
     * @private
     * @name clear
     * @memberOf ListCache
     */

    function listCacheClear$1() {
      this.__data__ = [];
      this.size = 0;
    }

    var _listCacheClear = listCacheClear$1;

    /**
     * Performs a
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * comparison between two values to determine if they are equivalent.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.eq(object, object);
     * // => true
     *
     * _.eq(object, other);
     * // => false
     *
     * _.eq('a', 'a');
     * // => true
     *
     * _.eq('a', Object('a'));
     * // => false
     *
     * _.eq(NaN, NaN);
     * // => true
     */

    function eq$5(value, other) {
      return value === other || (value !== value && other !== other);
    }

    var eq_1 = eq$5;

    var eq$4 = eq_1;

    /**
     * Gets the index at which the `key` is found in `array` of key-value pairs.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {*} key The key to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */
    function assocIndexOf$4(array, key) {
      var length = array.length;
      while (length--) {
        if (eq$4(array[length][0], key)) {
          return length;
        }
      }
      return -1;
    }

    var _assocIndexOf = assocIndexOf$4;

    var assocIndexOf$3 = _assocIndexOf;

    /** Used for built-in method references. */
    var arrayProto = Array.prototype;

    /** Built-in value references. */
    var splice$1 = arrayProto.splice;

    /**
     * Removes `key` and its value from the list cache.
     *
     * @private
     * @name delete
     * @memberOf ListCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function listCacheDelete$1(key) {
      var data = this.__data__,
          index = assocIndexOf$3(data, key);

      if (index < 0) {
        return false;
      }
      var lastIndex = data.length - 1;
      if (index == lastIndex) {
        data.pop();
      } else {
        splice$1.call(data, index, 1);
      }
      --this.size;
      return true;
    }

    var _listCacheDelete = listCacheDelete$1;

    var assocIndexOf$2 = _assocIndexOf;

    /**
     * Gets the list cache value for `key`.
     *
     * @private
     * @name get
     * @memberOf ListCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function listCacheGet$1(key) {
      var data = this.__data__,
          index = assocIndexOf$2(data, key);

      return index < 0 ? undefined : data[index][1];
    }

    var _listCacheGet = listCacheGet$1;

    var assocIndexOf$1 = _assocIndexOf;

    /**
     * Checks if a list cache value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf ListCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function listCacheHas$1(key) {
      return assocIndexOf$1(this.__data__, key) > -1;
    }

    var _listCacheHas = listCacheHas$1;

    var assocIndexOf = _assocIndexOf;

    /**
     * Sets the list cache `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf ListCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the list cache instance.
     */
    function listCacheSet$1(key, value) {
      var data = this.__data__,
          index = assocIndexOf(data, key);

      if (index < 0) {
        ++this.size;
        data.push([key, value]);
      } else {
        data[index][1] = value;
      }
      return this;
    }

    var _listCacheSet = listCacheSet$1;

    var listCacheClear = _listCacheClear,
        listCacheDelete = _listCacheDelete,
        listCacheGet = _listCacheGet,
        listCacheHas = _listCacheHas,
        listCacheSet = _listCacheSet;

    /**
     * Creates an list cache object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function ListCache$4(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    // Add methods to `ListCache`.
    ListCache$4.prototype.clear = listCacheClear;
    ListCache$4.prototype['delete'] = listCacheDelete;
    ListCache$4.prototype.get = listCacheGet;
    ListCache$4.prototype.has = listCacheHas;
    ListCache$4.prototype.set = listCacheSet;

    var _ListCache = ListCache$4;

    var ListCache$3 = _ListCache;

    /**
     * Removes all key-value entries from the stack.
     *
     * @private
     * @name clear
     * @memberOf Stack
     */
    function stackClear$1() {
      this.__data__ = new ListCache$3;
      this.size = 0;
    }

    var _stackClear = stackClear$1;

    /**
     * Removes `key` and its value from the stack.
     *
     * @private
     * @name delete
     * @memberOf Stack
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */

    function stackDelete$1(key) {
      var data = this.__data__,
          result = data['delete'](key);

      this.size = data.size;
      return result;
    }

    var _stackDelete = stackDelete$1;

    /**
     * Gets the stack value for `key`.
     *
     * @private
     * @name get
     * @memberOf Stack
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */

    function stackGet$1(key) {
      return this.__data__.get(key);
    }

    var _stackGet = stackGet$1;

    /**
     * Checks if a stack value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Stack
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */

    function stackHas$1(key) {
      return this.__data__.has(key);
    }

    var _stackHas = stackHas$1;

    var getNative$5 = _getNative,
        root$5 = _root;

    /* Built-in method references that are verified to be native. */
    var Map$4 = getNative$5(root$5, 'Map');

    var _Map = Map$4;

    var getNative$4 = _getNative;

    /* Built-in method references that are verified to be native. */
    var nativeCreate$4 = getNative$4(Object, 'create');

    var _nativeCreate = nativeCreate$4;

    var nativeCreate$3 = _nativeCreate;

    /**
     * Removes all key-value entries from the hash.
     *
     * @private
     * @name clear
     * @memberOf Hash
     */
    function hashClear$1() {
      this.__data__ = nativeCreate$3 ? nativeCreate$3(null) : {};
      this.size = 0;
    }

    var _hashClear = hashClear$1;

    /**
     * Removes `key` and its value from the hash.
     *
     * @private
     * @name delete
     * @memberOf Hash
     * @param {Object} hash The hash to modify.
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */

    function hashDelete$1(key) {
      var result = this.has(key) && delete this.__data__[key];
      this.size -= result ? 1 : 0;
      return result;
    }

    var _hashDelete = hashDelete$1;

    var nativeCreate$2 = _nativeCreate;

    /** Used to stand-in for `undefined` hash values. */
    var HASH_UNDEFINED$2 = '__lodash_hash_undefined__';

    /** Used for built-in method references. */
    var objectProto$7 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$6 = objectProto$7.hasOwnProperty;

    /**
     * Gets the hash value for `key`.
     *
     * @private
     * @name get
     * @memberOf Hash
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function hashGet$1(key) {
      var data = this.__data__;
      if (nativeCreate$2) {
        var result = data[key];
        return result === HASH_UNDEFINED$2 ? undefined : result;
      }
      return hasOwnProperty$6.call(data, key) ? data[key] : undefined;
    }

    var _hashGet = hashGet$1;

    var nativeCreate$1 = _nativeCreate;

    /** Used for built-in method references. */
    var objectProto$6 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$5 = objectProto$6.hasOwnProperty;

    /**
     * Checks if a hash value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Hash
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function hashHas$1(key) {
      var data = this.__data__;
      return nativeCreate$1 ? (data[key] !== undefined) : hasOwnProperty$5.call(data, key);
    }

    var _hashHas = hashHas$1;

    var nativeCreate = _nativeCreate;

    /** Used to stand-in for `undefined` hash values. */
    var HASH_UNDEFINED$1 = '__lodash_hash_undefined__';

    /**
     * Sets the hash `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Hash
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the hash instance.
     */
    function hashSet$1(key, value) {
      var data = this.__data__;
      this.size += this.has(key) ? 0 : 1;
      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;
      return this;
    }

    var _hashSet = hashSet$1;

    var hashClear = _hashClear,
        hashDelete = _hashDelete,
        hashGet = _hashGet,
        hashHas = _hashHas,
        hashSet = _hashSet;

    /**
     * Creates a hash object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function Hash$1(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    // Add methods to `Hash`.
    Hash$1.prototype.clear = hashClear;
    Hash$1.prototype['delete'] = hashDelete;
    Hash$1.prototype.get = hashGet;
    Hash$1.prototype.has = hashHas;
    Hash$1.prototype.set = hashSet;

    var _Hash = Hash$1;

    var Hash = _Hash,
        ListCache$2 = _ListCache,
        Map$3 = _Map;

    /**
     * Removes all key-value entries from the map.
     *
     * @private
     * @name clear
     * @memberOf MapCache
     */
    function mapCacheClear$1() {
      this.size = 0;
      this.__data__ = {
        'hash': new Hash,
        'map': new (Map$3 || ListCache$2),
        'string': new Hash
      };
    }

    var _mapCacheClear = mapCacheClear$1;

    /**
     * Checks if `value` is suitable for use as unique object key.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
     */

    function isKeyable$1(value) {
      var type = typeof value;
      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
        ? (value !== '__proto__')
        : (value === null);
    }

    var _isKeyable = isKeyable$1;

    var isKeyable = _isKeyable;

    /**
     * Gets the data for `map`.
     *
     * @private
     * @param {Object} map The map to query.
     * @param {string} key The reference key.
     * @returns {*} Returns the map data.
     */
    function getMapData$4(map, key) {
      var data = map.__data__;
      return isKeyable(key)
        ? data[typeof key == 'string' ? 'string' : 'hash']
        : data.map;
    }

    var _getMapData = getMapData$4;

    var getMapData$3 = _getMapData;

    /**
     * Removes `key` and its value from the map.
     *
     * @private
     * @name delete
     * @memberOf MapCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function mapCacheDelete$1(key) {
      var result = getMapData$3(this, key)['delete'](key);
      this.size -= result ? 1 : 0;
      return result;
    }

    var _mapCacheDelete = mapCacheDelete$1;

    var getMapData$2 = _getMapData;

    /**
     * Gets the map value for `key`.
     *
     * @private
     * @name get
     * @memberOf MapCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function mapCacheGet$1(key) {
      return getMapData$2(this, key).get(key);
    }

    var _mapCacheGet = mapCacheGet$1;

    var getMapData$1 = _getMapData;

    /**
     * Checks if a map value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf MapCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function mapCacheHas$1(key) {
      return getMapData$1(this, key).has(key);
    }

    var _mapCacheHas = mapCacheHas$1;

    var getMapData = _getMapData;

    /**
     * Sets the map `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf MapCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the map cache instance.
     */
    function mapCacheSet$1(key, value) {
      var data = getMapData(this, key),
          size = data.size;

      data.set(key, value);
      this.size += data.size == size ? 0 : 1;
      return this;
    }

    var _mapCacheSet = mapCacheSet$1;

    var mapCacheClear = _mapCacheClear,
        mapCacheDelete = _mapCacheDelete,
        mapCacheGet = _mapCacheGet,
        mapCacheHas = _mapCacheHas,
        mapCacheSet = _mapCacheSet;

    /**
     * Creates a map cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function MapCache$3(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    // Add methods to `MapCache`.
    MapCache$3.prototype.clear = mapCacheClear;
    MapCache$3.prototype['delete'] = mapCacheDelete;
    MapCache$3.prototype.get = mapCacheGet;
    MapCache$3.prototype.has = mapCacheHas;
    MapCache$3.prototype.set = mapCacheSet;

    var _MapCache = MapCache$3;

    var ListCache$1 = _ListCache,
        Map$2 = _Map,
        MapCache$2 = _MapCache;

    /** Used as the size to enable large array optimizations. */
    var LARGE_ARRAY_SIZE = 200;

    /**
     * Sets the stack `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Stack
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the stack cache instance.
     */
    function stackSet$1(key, value) {
      var data = this.__data__;
      if (data instanceof ListCache$1) {
        var pairs = data.__data__;
        if (!Map$2 || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
          pairs.push([key, value]);
          this.size = ++data.size;
          return this;
        }
        data = this.__data__ = new MapCache$2(pairs);
      }
      data.set(key, value);
      this.size = data.size;
      return this;
    }

    var _stackSet = stackSet$1;

    var ListCache = _ListCache,
        stackClear = _stackClear,
        stackDelete = _stackDelete,
        stackGet = _stackGet,
        stackHas = _stackHas,
        stackSet = _stackSet;

    /**
     * Creates a stack cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function Stack$3(entries) {
      var data = this.__data__ = new ListCache(entries);
      this.size = data.size;
    }

    // Add methods to `Stack`.
    Stack$3.prototype.clear = stackClear;
    Stack$3.prototype['delete'] = stackDelete;
    Stack$3.prototype.get = stackGet;
    Stack$3.prototype.has = stackHas;
    Stack$3.prototype.set = stackSet;

    var _Stack = Stack$3;

    /** Used to stand-in for `undefined` hash values. */

    var HASH_UNDEFINED = '__lodash_hash_undefined__';

    /**
     * Adds `value` to the array cache.
     *
     * @private
     * @name add
     * @memberOf SetCache
     * @alias push
     * @param {*} value The value to cache.
     * @returns {Object} Returns the cache instance.
     */
    function setCacheAdd$1(value) {
      this.__data__.set(value, HASH_UNDEFINED);
      return this;
    }

    var _setCacheAdd = setCacheAdd$1;

    /**
     * Checks if `value` is in the array cache.
     *
     * @private
     * @name has
     * @memberOf SetCache
     * @param {*} value The value to search for.
     * @returns {number} Returns `true` if `value` is found, else `false`.
     */

    function setCacheHas$1(value) {
      return this.__data__.has(value);
    }

    var _setCacheHas = setCacheHas$1;

    var MapCache$1 = _MapCache,
        setCacheAdd = _setCacheAdd,
        setCacheHas = _setCacheHas;

    /**
     *
     * Creates an array cache object to store unique values.
     *
     * @private
     * @constructor
     * @param {Array} [values] The values to cache.
     */
    function SetCache$1(values) {
      var index = -1,
          length = values == null ? 0 : values.length;

      this.__data__ = new MapCache$1;
      while (++index < length) {
        this.add(values[index]);
      }
    }

    // Add methods to `SetCache`.
    SetCache$1.prototype.add = SetCache$1.prototype.push = setCacheAdd;
    SetCache$1.prototype.has = setCacheHas;

    var _SetCache = SetCache$1;

    /**
     * A specialized version of `_.some` for arrays without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     */

    function arraySome$1(array, predicate) {
      var index = -1,
          length = array == null ? 0 : array.length;

      while (++index < length) {
        if (predicate(array[index], index, array)) {
          return true;
        }
      }
      return false;
    }

    var _arraySome = arraySome$1;

    /**
     * Checks if a `cache` value for `key` exists.
     *
     * @private
     * @param {Object} cache The cache to query.
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */

    function cacheHas$1(cache, key) {
      return cache.has(key);
    }

    var _cacheHas = cacheHas$1;

    var SetCache = _SetCache,
        arraySome = _arraySome,
        cacheHas = _cacheHas;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG$5 = 1,
        COMPARE_UNORDERED_FLAG$3 = 2;

    /**
     * A specialized version of `baseIsEqualDeep` for arrays with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Array} array The array to compare.
     * @param {Array} other The other array to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `array` and `other` objects.
     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
     */
    function equalArrays$2(array, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$5,
          arrLength = array.length,
          othLength = other.length;

      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
        return false;
      }
      // Check that cyclic values are equal.
      var arrStacked = stack.get(array);
      var othStacked = stack.get(other);
      if (arrStacked && othStacked) {
        return arrStacked == other && othStacked == array;
      }
      var index = -1,
          result = true,
          seen = (bitmask & COMPARE_UNORDERED_FLAG$3) ? new SetCache : undefined;

      stack.set(array, other);
      stack.set(other, array);

      // Ignore non-index properties.
      while (++index < arrLength) {
        var arrValue = array[index],
            othValue = other[index];

        if (customizer) {
          var compared = isPartial
            ? customizer(othValue, arrValue, index, other, array, stack)
            : customizer(arrValue, othValue, index, array, other, stack);
        }
        if (compared !== undefined) {
          if (compared) {
            continue;
          }
          result = false;
          break;
        }
        // Recursively compare arrays (susceptible to call stack limits).
        if (seen) {
          if (!arraySome(other, function(othValue, othIndex) {
                if (!cacheHas(seen, othIndex) &&
                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                  return seen.push(othIndex);
                }
              })) {
            result = false;
            break;
          }
        } else if (!(
              arrValue === othValue ||
                equalFunc(arrValue, othValue, bitmask, customizer, stack)
            )) {
          result = false;
          break;
        }
      }
      stack['delete'](array);
      stack['delete'](other);
      return result;
    }

    var _equalArrays = equalArrays$2;

    var root$4 = _root;

    /** Built-in value references. */
    var Uint8Array$3 = root$4.Uint8Array;

    var _Uint8Array = Uint8Array$3;

    /**
     * Converts `map` to its key-value pairs.
     *
     * @private
     * @param {Object} map The map to convert.
     * @returns {Array} Returns the key-value pairs.
     */

    function mapToArray$1(map) {
      var index = -1,
          result = Array(map.size);

      map.forEach(function(value, key) {
        result[++index] = [key, value];
      });
      return result;
    }

    var _mapToArray = mapToArray$1;

    /**
     * Converts `set` to an array of its values.
     *
     * @private
     * @param {Object} set The set to convert.
     * @returns {Array} Returns the values.
     */

    function setToArray$1(set) {
      var index = -1,
          result = Array(set.size);

      set.forEach(function(value) {
        result[++index] = value;
      });
      return result;
    }

    var _setToArray = setToArray$1;

    var Symbol$3 = _Symbol,
        Uint8Array$2 = _Uint8Array,
        eq$3 = eq_1,
        equalArrays$1 = _equalArrays,
        mapToArray = _mapToArray,
        setToArray = _setToArray;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG$4 = 1,
        COMPARE_UNORDERED_FLAG$2 = 2;

    /** `Object#toString` result references. */
    var boolTag = '[object Boolean]',
        dateTag = '[object Date]',
        errorTag = '[object Error]',
        mapTag$1 = '[object Map]',
        numberTag = '[object Number]',
        regexpTag = '[object RegExp]',
        setTag$1 = '[object Set]',
        stringTag = '[object String]',
        symbolTag$1 = '[object Symbol]';

    var arrayBufferTag = '[object ArrayBuffer]',
        dataViewTag$1 = '[object DataView]';

    /** Used to convert symbols to primitives and strings. */
    var symbolProto$1 = Symbol$3 ? Symbol$3.prototype : undefined,
        symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : undefined;

    /**
     * A specialized version of `baseIsEqualDeep` for comparing objects of
     * the same `toStringTag`.
     *
     * **Note:** This function only supports comparing values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {string} tag The `toStringTag` of the objects to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function equalByTag$1(object, other, tag, bitmask, customizer, equalFunc, stack) {
      switch (tag) {
        case dataViewTag$1:
          if ((object.byteLength != other.byteLength) ||
              (object.byteOffset != other.byteOffset)) {
            return false;
          }
          object = object.buffer;
          other = other.buffer;

        case arrayBufferTag:
          if ((object.byteLength != other.byteLength) ||
              !equalFunc(new Uint8Array$2(object), new Uint8Array$2(other))) {
            return false;
          }
          return true;

        case boolTag:
        case dateTag:
        case numberTag:
          // Coerce booleans to `1` or `0` and dates to milliseconds.
          // Invalid dates are coerced to `NaN`.
          return eq$3(+object, +other);

        case errorTag:
          return object.name == other.name && object.message == other.message;

        case regexpTag:
        case stringTag:
          // Coerce regexes to strings and treat strings, primitives and objects,
          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
          // for more details.
          return object == (other + '');

        case mapTag$1:
          var convert = mapToArray;

        case setTag$1:
          var isPartial = bitmask & COMPARE_PARTIAL_FLAG$4;
          convert || (convert = setToArray);

          if (object.size != other.size && !isPartial) {
            return false;
          }
          // Assume cyclic values are equal.
          var stacked = stack.get(object);
          if (stacked) {
            return stacked == other;
          }
          bitmask |= COMPARE_UNORDERED_FLAG$2;

          // Recursively compare objects (susceptible to call stack limits).
          stack.set(object, other);
          var result = equalArrays$1(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
          stack['delete'](object);
          return result;

        case symbolTag$1:
          if (symbolValueOf) {
            return symbolValueOf.call(object) == symbolValueOf.call(other);
          }
      }
      return false;
    }

    var _equalByTag = equalByTag$1;

    /**
     * Appends the elements of `values` to `array`.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {Array} values The values to append.
     * @returns {Array} Returns `array`.
     */

    function arrayPush$3(array, values) {
      var index = -1,
          length = values.length,
          offset = array.length;

      while (++index < length) {
        array[offset + index] = values[index];
      }
      return array;
    }

    var _arrayPush = arrayPush$3;

    var arrayPush$2 = _arrayPush,
        isArray$a = isArray_1;

    /**
     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
     * `keysFunc` and `symbolsFunc` to get the enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @param {Function} symbolsFunc The function to get the symbols of `object`.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function baseGetAllKeys$2(object, keysFunc, symbolsFunc) {
      var result = keysFunc(object);
      return isArray$a(object) ? result : arrayPush$2(result, symbolsFunc(object));
    }

    var _baseGetAllKeys = baseGetAllKeys$2;

    /**
     * A specialized version of `_.filter` for arrays without support for
     * iteratee shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     */

    function arrayFilter$1(array, predicate) {
      var index = -1,
          length = array == null ? 0 : array.length,
          resIndex = 0,
          result = [];

      while (++index < length) {
        var value = array[index];
        if (predicate(value, index, array)) {
          result[resIndex++] = value;
        }
      }
      return result;
    }

    var _arrayFilter = arrayFilter$1;

    /**
     * This method returns a new empty array.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Array} Returns the new empty array.
     * @example
     *
     * var arrays = _.times(2, _.stubArray);
     *
     * console.log(arrays);
     * // => [[], []]
     *
     * console.log(arrays[0] === arrays[1]);
     * // => false
     */

    function stubArray$2() {
      return [];
    }

    var stubArray_1 = stubArray$2;

    var arrayFilter = _arrayFilter,
        stubArray$1 = stubArray_1;

    /** Used for built-in method references. */
    var objectProto$5 = Object.prototype;

    /** Built-in value references. */
    var propertyIsEnumerable = objectProto$5.propertyIsEnumerable;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeGetSymbols$1 = Object.getOwnPropertySymbols;

    /**
     * Creates an array of the own enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */
    var getSymbols$2 = !nativeGetSymbols$1 ? stubArray$1 : function(object) {
      if (object == null) {
        return [];
      }
      object = Object(object);
      return arrayFilter(nativeGetSymbols$1(object), function(symbol) {
        return propertyIsEnumerable.call(object, symbol);
      });
    };

    var _getSymbols = getSymbols$2;

    var baseGetAllKeys$1 = _baseGetAllKeys,
        getSymbols$1 = _getSymbols,
        keys$2 = keys_1;

    /**
     * Creates an array of own enumerable property names and symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function getAllKeys$1(object) {
      return baseGetAllKeys$1(object, keys$2, getSymbols$1);
    }

    var _getAllKeys = getAllKeys$1;

    var getAllKeys = _getAllKeys;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG$3 = 1;

    /** Used for built-in method references. */
    var objectProto$4 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$4 = objectProto$4.hasOwnProperty;

    /**
     * A specialized version of `baseIsEqualDeep` for objects with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function equalObjects$1(object, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$3,
          objProps = getAllKeys(object),
          objLength = objProps.length,
          othProps = getAllKeys(other),
          othLength = othProps.length;

      if (objLength != othLength && !isPartial) {
        return false;
      }
      var index = objLength;
      while (index--) {
        var key = objProps[index];
        if (!(isPartial ? key in other : hasOwnProperty$4.call(other, key))) {
          return false;
        }
      }
      // Check that cyclic values are equal.
      var objStacked = stack.get(object);
      var othStacked = stack.get(other);
      if (objStacked && othStacked) {
        return objStacked == other && othStacked == object;
      }
      var result = true;
      stack.set(object, other);
      stack.set(other, object);

      var skipCtor = isPartial;
      while (++index < objLength) {
        key = objProps[index];
        var objValue = object[key],
            othValue = other[key];

        if (customizer) {
          var compared = isPartial
            ? customizer(othValue, objValue, key, other, object, stack)
            : customizer(objValue, othValue, key, object, other, stack);
        }
        // Recursively compare objects (susceptible to call stack limits).
        if (!(compared === undefined
              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
              : compared
            )) {
          result = false;
          break;
        }
        skipCtor || (skipCtor = key == 'constructor');
      }
      if (result && !skipCtor) {
        var objCtor = object.constructor,
            othCtor = other.constructor;

        // Non `Object` object instances with different constructors are not equal.
        if (objCtor != othCtor &&
            ('constructor' in object && 'constructor' in other) &&
            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
              typeof othCtor == 'function' && othCtor instanceof othCtor)) {
          result = false;
        }
      }
      stack['delete'](object);
      stack['delete'](other);
      return result;
    }

    var _equalObjects = equalObjects$1;

    var getNative$3 = _getNative,
        root$3 = _root;

    /* Built-in method references that are verified to be native. */
    var DataView$1 = getNative$3(root$3, 'DataView');

    var _DataView = DataView$1;

    var getNative$2 = _getNative,
        root$2 = _root;

    /* Built-in method references that are verified to be native. */
    var Promise$2 = getNative$2(root$2, 'Promise');

    var _Promise = Promise$2;

    var getNative$1 = _getNative,
        root$1 = _root;

    /* Built-in method references that are verified to be native. */
    var Set$2 = getNative$1(root$1, 'Set');

    var _Set = Set$2;

    var getNative = _getNative,
        root = _root;

    /* Built-in method references that are verified to be native. */
    var WeakMap$2 = getNative(root, 'WeakMap');

    var _WeakMap = WeakMap$2;

    var DataView = _DataView,
        Map$1 = _Map,
        Promise$1 = _Promise,
        Set$1 = _Set,
        WeakMap$1 = _WeakMap,
        baseGetTag$2 = _baseGetTag,
        toSource = _toSource;

    /** `Object#toString` result references. */
    var mapTag = '[object Map]',
        objectTag$2 = '[object Object]',
        promiseTag = '[object Promise]',
        setTag = '[object Set]',
        weakMapTag = '[object WeakMap]';

    var dataViewTag = '[object DataView]';

    /** Used to detect maps, sets, and weakmaps. */
    var dataViewCtorString = toSource(DataView),
        mapCtorString = toSource(Map$1),
        promiseCtorString = toSource(Promise$1),
        setCtorString = toSource(Set$1),
        weakMapCtorString = toSource(WeakMap$1);

    /**
     * Gets the `toStringTag` of `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    var getTag$1 = baseGetTag$2;

    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
    if ((DataView && getTag$1(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
        (Map$1 && getTag$1(new Map$1) != mapTag) ||
        (Promise$1 && getTag$1(Promise$1.resolve()) != promiseTag) ||
        (Set$1 && getTag$1(new Set$1) != setTag) ||
        (WeakMap$1 && getTag$1(new WeakMap$1) != weakMapTag)) {
      getTag$1 = function(value) {
        var result = baseGetTag$2(value),
            Ctor = result == objectTag$2 ? value.constructor : undefined,
            ctorString = Ctor ? toSource(Ctor) : '';

        if (ctorString) {
          switch (ctorString) {
            case dataViewCtorString: return dataViewTag;
            case mapCtorString: return mapTag;
            case promiseCtorString: return promiseTag;
            case setCtorString: return setTag;
            case weakMapCtorString: return weakMapTag;
          }
        }
        return result;
      };
    }

    var _getTag = getTag$1;

    var Stack$2 = _Stack,
        equalArrays = _equalArrays,
        equalByTag = _equalByTag,
        equalObjects = _equalObjects,
        getTag = _getTag,
        isArray$9 = isArray_1,
        isBuffer$2 = isBuffer$4.exports,
        isTypedArray$2 = isTypedArray_1;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG$2 = 1;

    /** `Object#toString` result references. */
    var argsTag = '[object Arguments]',
        arrayTag = '[object Array]',
        objectTag$1 = '[object Object]';

    /** Used for built-in method references. */
    var objectProto$3 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$3 = objectProto$3.hasOwnProperty;

    /**
     * A specialized version of `baseIsEqual` for arrays and objects which performs
     * deep comparisons and tracks traversed objects enabling objects with circular
     * references to be compared.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} [stack] Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function baseIsEqualDeep$1(object, other, bitmask, customizer, equalFunc, stack) {
      var objIsArr = isArray$9(object),
          othIsArr = isArray$9(other),
          objTag = objIsArr ? arrayTag : getTag(object),
          othTag = othIsArr ? arrayTag : getTag(other);

      objTag = objTag == argsTag ? objectTag$1 : objTag;
      othTag = othTag == argsTag ? objectTag$1 : othTag;

      var objIsObj = objTag == objectTag$1,
          othIsObj = othTag == objectTag$1,
          isSameTag = objTag == othTag;

      if (isSameTag && isBuffer$2(object)) {
        if (!isBuffer$2(other)) {
          return false;
        }
        objIsArr = true;
        objIsObj = false;
      }
      if (isSameTag && !objIsObj) {
        stack || (stack = new Stack$2);
        return (objIsArr || isTypedArray$2(object))
          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)
          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
      }
      if (!(bitmask & COMPARE_PARTIAL_FLAG$2)) {
        var objIsWrapped = objIsObj && hasOwnProperty$3.call(object, '__wrapped__'),
            othIsWrapped = othIsObj && hasOwnProperty$3.call(other, '__wrapped__');

        if (objIsWrapped || othIsWrapped) {
          var objUnwrapped = objIsWrapped ? object.value() : object,
              othUnwrapped = othIsWrapped ? other.value() : other;

          stack || (stack = new Stack$2);
          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
        }
      }
      if (!isSameTag) {
        return false;
      }
      stack || (stack = new Stack$2);
      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
    }

    var _baseIsEqualDeep = baseIsEqualDeep$1;

    var baseIsEqualDeep = _baseIsEqualDeep,
        isObjectLike$3 = isObjectLike_1;

    /**
     * The base implementation of `_.isEqual` which supports partial comparisons
     * and tracks traversed objects.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Unordered comparison
     *  2 - Partial comparison
     * @param {Function} [customizer] The function to customize comparisons.
     * @param {Object} [stack] Tracks traversed `value` and `other` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
    function baseIsEqual$2(value, other, bitmask, customizer, stack) {
      if (value === other) {
        return true;
      }
      if (value == null || other == null || (!isObjectLike$3(value) && !isObjectLike$3(other))) {
        return value !== value && other !== other;
      }
      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual$2, stack);
    }

    var _baseIsEqual = baseIsEqual$2;

    var Stack$1 = _Stack,
        baseIsEqual$1 = _baseIsEqual;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG$1 = 1,
        COMPARE_UNORDERED_FLAG$1 = 2;

    /**
     * The base implementation of `_.isMatch` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Array} matchData The property names, values, and compare flags to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     */
    function baseIsMatch$1(object, source, matchData, customizer) {
      var index = matchData.length,
          length = index,
          noCustomizer = !customizer;

      if (object == null) {
        return !length;
      }
      object = Object(object);
      while (index--) {
        var data = matchData[index];
        if ((noCustomizer && data[2])
              ? data[1] !== object[data[0]]
              : !(data[0] in object)
            ) {
          return false;
        }
      }
      while (++index < length) {
        data = matchData[index];
        var key = data[0],
            objValue = object[key],
            srcValue = data[1];

        if (noCustomizer && data[2]) {
          if (objValue === undefined && !(key in object)) {
            return false;
          }
        } else {
          var stack = new Stack$1;
          if (customizer) {
            var result = customizer(objValue, srcValue, key, object, source, stack);
          }
          if (!(result === undefined
                ? baseIsEqual$1(srcValue, objValue, COMPARE_PARTIAL_FLAG$1 | COMPARE_UNORDERED_FLAG$1, customizer, stack)
                : result
              )) {
            return false;
          }
        }
      }
      return true;
    }

    var _baseIsMatch = baseIsMatch$1;

    var isObject$9 = isObject_1;

    /**
     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` if suitable for strict
     *  equality comparisons, else `false`.
     */
    function isStrictComparable$2(value) {
      return value === value && !isObject$9(value);
    }

    var _isStrictComparable = isStrictComparable$2;

    var isStrictComparable$1 = _isStrictComparable,
        keys$1 = keys_1;

    /**
     * Gets the property names, values, and compare flags of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the match data of `object`.
     */
    function getMatchData$1(object) {
      var result = keys$1(object),
          length = result.length;

      while (length--) {
        var key = result[length],
            value = object[key];

        result[length] = [key, value, isStrictComparable$1(value)];
      }
      return result;
    }

    var _getMatchData = getMatchData$1;

    /**
     * A specialized version of `matchesProperty` for source values suitable
     * for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */

    function matchesStrictComparable$2(key, srcValue) {
      return function(object) {
        if (object == null) {
          return false;
        }
        return object[key] === srcValue &&
          (srcValue !== undefined || (key in Object(object)));
      };
    }

    var _matchesStrictComparable = matchesStrictComparable$2;

    var baseIsMatch = _baseIsMatch,
        getMatchData = _getMatchData,
        matchesStrictComparable$1 = _matchesStrictComparable;

    /**
     * The base implementation of `_.matches` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     */
    function baseMatches$1(source) {
      var matchData = getMatchData(source);
      if (matchData.length == 1 && matchData[0][2]) {
        return matchesStrictComparable$1(matchData[0][0], matchData[0][1]);
      }
      return function(object) {
        return object === source || baseIsMatch(object, source, matchData);
      };
    }

    var _baseMatches = baseMatches$1;

    var baseGetTag$1 = _baseGetTag,
        isObjectLike$2 = isObjectLike_1;

    /** `Object#toString` result references. */
    var symbolTag = '[object Symbol]';

    /**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */
    function isSymbol$4(value) {
      return typeof value == 'symbol' ||
        (isObjectLike$2(value) && baseGetTag$1(value) == symbolTag);
    }

    var isSymbol_1 = isSymbol$4;

    var isArray$8 = isArray_1,
        isSymbol$3 = isSymbol_1;

    /** Used to match property names within property paths. */
    var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        reIsPlainProp = /^\w*$/;

    /**
     * Checks if `value` is a property name and not a property path.
     *
     * @private
     * @param {*} value The value to check.
     * @param {Object} [object] The object to query keys on.
     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
     */
    function isKey$3(value, object) {
      if (isArray$8(value)) {
        return false;
      }
      var type = typeof value;
      if (type == 'number' || type == 'symbol' || type == 'boolean' ||
          value == null || isSymbol$3(value)) {
        return true;
      }
      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
        (object != null && value in Object(object));
    }

    var _isKey = isKey$3;

    var MapCache = _MapCache;

    /** Error message constants. */
    var FUNC_ERROR_TEXT = 'Expected a function';

    /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided, it determines the cache key for storing the result based on the
     * arguments provided to the memoized function. By default, the first argument
     * provided to the memoized function is used as the map cache key. The `func`
     * is invoked with the `this` binding of the memoized function.
     *
     * **Note:** The cache is exposed as the `cache` property on the memoized
     * function. Its creation may be customized by replacing the `_.memoize.Cache`
     * constructor with one whose instances implement the
     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
     * method interface of `clear`, `delete`, `get`, `has`, and `set`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] The function to resolve the cache key.
     * @returns {Function} Returns the new memoized function.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     * var other = { 'c': 3, 'd': 4 };
     *
     * var values = _.memoize(_.values);
     * values(object);
     * // => [1, 2]
     *
     * values(other);
     * // => [3, 4]
     *
     * object.a = 2;
     * values(object);
     * // => [1, 2]
     *
     * // Modify the result cache.
     * values.cache.set(object, ['a', 'b']);
     * values(object);
     * // => ['a', 'b']
     *
     * // Replace `_.memoize.Cache`.
     * _.memoize.Cache = WeakMap;
     */
    function memoize$1(func, resolver) {
      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      var memoized = function() {
        var args = arguments,
            key = resolver ? resolver.apply(this, args) : args[0],
            cache = memoized.cache;

        if (cache.has(key)) {
          return cache.get(key);
        }
        var result = func.apply(this, args);
        memoized.cache = cache.set(key, result) || cache;
        return result;
      };
      memoized.cache = new (memoize$1.Cache || MapCache);
      return memoized;
    }

    // Expose `MapCache`.
    memoize$1.Cache = MapCache;

    var memoize_1 = memoize$1;

    var memoize = memoize_1;

    /** Used as the maximum memoize cache size. */
    var MAX_MEMOIZE_SIZE = 500;

    /**
     * A specialized version of `_.memoize` which clears the memoized function's
     * cache when it exceeds `MAX_MEMOIZE_SIZE`.
     *
     * @private
     * @param {Function} func The function to have its output memoized.
     * @returns {Function} Returns the new memoized function.
     */
    function memoizeCapped$1(func) {
      var result = memoize(func, function(key) {
        if (cache.size === MAX_MEMOIZE_SIZE) {
          cache.clear();
        }
        return key;
      });

      var cache = result.cache;
      return result;
    }

    var _memoizeCapped = memoizeCapped$1;

    var memoizeCapped = _memoizeCapped;

    /** Used to match property names within property paths. */
    var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

    /** Used to match backslashes in property paths. */
    var reEscapeChar = /\\(\\)?/g;

    /**
     * Converts `string` to a property path array.
     *
     * @private
     * @param {string} string The string to convert.
     * @returns {Array} Returns the property path array.
     */
    var stringToPath$1 = memoizeCapped(function(string) {
      var result = [];
      if (string.charCodeAt(0) === 46 /* . */) {
        result.push('');
      }
      string.replace(rePropName, function(match, number, quote, subString) {
        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));
      });
      return result;
    });

    var _stringToPath = stringToPath$1;

    /**
     * A specialized version of `_.map` for arrays without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */

    function arrayMap$2(array, iteratee) {
      var index = -1,
          length = array == null ? 0 : array.length,
          result = Array(length);

      while (++index < length) {
        result[index] = iteratee(array[index], index, array);
      }
      return result;
    }

    var _arrayMap = arrayMap$2;

    var Symbol$2 = _Symbol,
        arrayMap$1 = _arrayMap,
        isArray$7 = isArray_1,
        isSymbol$2 = isSymbol_1;

    /** Used as references for various `Number` constants. */
    var INFINITY$2 = 1 / 0;

    /** Used to convert symbols to primitives and strings. */
    var symbolProto = Symbol$2 ? Symbol$2.prototype : undefined,
        symbolToString = symbolProto ? symbolProto.toString : undefined;

    /**
     * The base implementation of `_.toString` which doesn't convert nullish
     * values to empty strings.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {string} Returns the string.
     */
    function baseToString$1(value) {
      // Exit early for strings to avoid a performance hit in some environments.
      if (typeof value == 'string') {
        return value;
      }
      if (isArray$7(value)) {
        // Recursively convert values (susceptible to call stack limits).
        return arrayMap$1(value, baseToString$1) + '';
      }
      if (isSymbol$2(value)) {
        return symbolToString ? symbolToString.call(value) : '';
      }
      var result = (value + '');
      return (result == '0' && (1 / value) == -INFINITY$2) ? '-0' : result;
    }

    var _baseToString = baseToString$1;

    var baseToString = _baseToString;

    /**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */
    function toString$2(value) {
      return value == null ? '' : baseToString(value);
    }

    var toString_1 = toString$2;

    var isArray$6 = isArray_1,
        isKey$2 = _isKey,
        stringToPath = _stringToPath,
        toString$1 = toString_1;

    /**
     * Casts `value` to a path array if it's not one.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {Object} [object] The object to query keys on.
     * @returns {Array} Returns the cast property path array.
     */
    function castPath$4(value, object) {
      if (isArray$6(value)) {
        return value;
      }
      return isKey$2(value, object) ? [value] : stringToPath(toString$1(value));
    }

    var _castPath = castPath$4;

    var isSymbol$1 = isSymbol_1;

    /** Used as references for various `Number` constants. */
    var INFINITY$1 = 1 / 0;

    /**
     * Converts `value` to a string key if it's not a string or symbol.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {string|symbol} Returns the key.
     */
    function toKey$5(value) {
      if (typeof value == 'string' || isSymbol$1(value)) {
        return value;
      }
      var result = (value + '');
      return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;
    }

    var _toKey = toKey$5;

    var castPath$3 = _castPath,
        toKey$4 = _toKey;

    /**
     * The base implementation of `_.get` without support for default values.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @returns {*} Returns the resolved value.
     */
    function baseGet$3(object, path) {
      path = castPath$3(path, object);

      var index = 0,
          length = path.length;

      while (object != null && index < length) {
        object = object[toKey$4(path[index++])];
      }
      return (index && index == length) ? object : undefined;
    }

    var _baseGet = baseGet$3;

    var baseGet$2 = _baseGet;

    /**
     * Gets the value at `path` of `object`. If the resolved value is
     * `undefined`, the `defaultValue` is returned in its place.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.get(object, 'a[0].b.c');
     * // => 3
     *
     * _.get(object, ['a', '0', 'b', 'c']);
     * // => 3
     *
     * _.get(object, 'a.b.c', 'default');
     * // => 'default'
     */
    function get$1(object, path, defaultValue) {
      var result = object == null ? undefined : baseGet$2(object, path);
      return result === undefined ? defaultValue : result;
    }

    var get_1 = get$1;

    /**
     * The base implementation of `_.hasIn` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */

    function baseHasIn$1(object, key) {
      return object != null && key in Object(object);
    }

    var _baseHasIn = baseHasIn$1;

    var castPath$2 = _castPath,
        isArguments$2 = isArguments_1,
        isArray$5 = isArray_1,
        isIndex$2 = _isIndex,
        isLength = isLength_1,
        toKey$3 = _toKey;

    /**
     * Checks if `path` exists on `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @param {Function} hasFunc The function to check properties.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     */
    function hasPath$1(object, path, hasFunc) {
      path = castPath$2(path, object);

      var index = -1,
          length = path.length,
          result = false;

      while (++index < length) {
        var key = toKey$3(path[index]);
        if (!(result = object != null && hasFunc(object, key))) {
          break;
        }
        object = object[key];
      }
      if (result || ++index != length) {
        return result;
      }
      length = object == null ? 0 : object.length;
      return !!length && isLength(length) && isIndex$2(key, length) &&
        (isArray$5(object) || isArguments$2(object));
    }

    var _hasPath = hasPath$1;

    var baseHasIn = _baseHasIn,
        hasPath = _hasPath;

    /**
     * Checks if `path` is a direct or inherited property of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.hasIn(object, 'a');
     * // => true
     *
     * _.hasIn(object, 'a.b');
     * // => true
     *
     * _.hasIn(object, ['a', 'b']);
     * // => true
     *
     * _.hasIn(object, 'b');
     * // => false
     */
    function hasIn$2(object, path) {
      return object != null && hasPath(object, path, baseHasIn);
    }

    var hasIn_1 = hasIn$2;

    var baseIsEqual = _baseIsEqual,
        get = get_1,
        hasIn$1 = hasIn_1,
        isKey$1 = _isKey,
        isStrictComparable = _isStrictComparable,
        matchesStrictComparable = _matchesStrictComparable,
        toKey$2 = _toKey;

    /** Used to compose bitmasks for value comparisons. */
    var COMPARE_PARTIAL_FLAG = 1,
        COMPARE_UNORDERED_FLAG = 2;

    /**
     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
     *
     * @private
     * @param {string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */
    function baseMatchesProperty$1(path, srcValue) {
      if (isKey$1(path) && isStrictComparable(srcValue)) {
        return matchesStrictComparable(toKey$2(path), srcValue);
      }
      return function(object) {
        var objValue = get(object, path);
        return (objValue === undefined && objValue === srcValue)
          ? hasIn$1(object, path)
          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
      };
    }

    var _baseMatchesProperty = baseMatchesProperty$1;

    /**
     * This method returns the first argument it receives.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'a': 1 };
     *
     * console.log(_.identity(object) === object);
     * // => true
     */

    function identity$4(value) {
      return value;
    }

    var identity_1 = identity$4;

    /**
     * The base implementation of `_.property` without support for deep paths.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @returns {Function} Returns the new accessor function.
     */

    function baseProperty$1(key) {
      return function(object) {
        return object == null ? undefined : object[key];
      };
    }

    var _baseProperty = baseProperty$1;

    var baseGet$1 = _baseGet;

    /**
     * A specialized version of `baseProperty` which supports deep paths.
     *
     * @private
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     */
    function basePropertyDeep$1(path) {
      return function(object) {
        return baseGet$1(object, path);
      };
    }

    var _basePropertyDeep = basePropertyDeep$1;

    var baseProperty = _baseProperty,
        basePropertyDeep = _basePropertyDeep,
        isKey = _isKey,
        toKey$1 = _toKey;

    /**
     * Creates a function that returns the value at `path` of a given object.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': 2 } },
     *   { 'a': { 'b': 1 } }
     * ];
     *
     * _.map(objects, _.property('a.b'));
     * // => [2, 1]
     *
     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
     * // => [1, 2]
     */
    function property$1(path) {
      return isKey(path) ? baseProperty(toKey$1(path)) : basePropertyDeep(path);
    }

    var property_1 = property$1;

    var baseMatches = _baseMatches,
        baseMatchesProperty = _baseMatchesProperty,
        identity$3 = identity_1,
        isArray$4 = isArray_1,
        property = property_1;

    /**
     * The base implementation of `_.iteratee`.
     *
     * @private
     * @param {*} [value=_.identity] The value to convert to an iteratee.
     * @returns {Function} Returns the iteratee.
     */
    function baseIteratee$6(value) {
      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
      if (typeof value == 'function') {
        return value;
      }
      if (value == null) {
        return identity$3;
      }
      if (typeof value == 'object') {
        return isArray$4(value)
          ? baseMatchesProperty(value[0], value[1])
          : baseMatches(value);
      }
      return property(value);
    }

    var _baseIteratee = baseIteratee$6;

    var baseAssignValue$4 = _baseAssignValue,
        baseForOwn$3 = _baseForOwn,
        baseIteratee$5 = _baseIteratee;

    /**
     * Creates an object with the same keys as `object` and values generated
     * by running each own enumerable string keyed property of `object` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapKeys
     * @example
     *
     * var users = {
     *   'fred':    { 'user': 'fred',    'age': 40 },
     *   'pebbles': { 'user': 'pebbles', 'age': 1 }
     * };
     *
     * _.mapValues(users, function(o) { return o.age; });
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     *
     * // The `_.property` iteratee shorthand.
     * _.mapValues(users, 'age');
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     */
    function mapValues(object, iteratee) {
      var result = {};
      iteratee = baseIteratee$5(iteratee);

      baseForOwn$3(object, function(value, key, object) {
        baseAssignValue$4(result, key, iteratee(value, key, object));
      });
      return result;
    }

    var mapValues_1 = mapValues;

    var overArg = _overArg;

    /** Built-in value references. */
    var getPrototype$4 = overArg(Object.getPrototypeOf, Object);

    var _getPrototype = getPrototype$4;

    var baseGetTag = _baseGetTag,
        getPrototype$3 = _getPrototype,
        isObjectLike$1 = isObjectLike_1;

    /** `Object#toString` result references. */
    var objectTag = '[object Object]';

    /** Used for built-in method references. */
    var funcProto = Function.prototype,
        objectProto$2 = Object.prototype;

    /** Used to resolve the decompiled source of functions. */
    var funcToString = funcProto.toString;

    /** Used to check objects for own properties. */
    var hasOwnProperty$2 = objectProto$2.hasOwnProperty;

    /** Used to infer the `Object` constructor. */
    var objectCtorString = funcToString.call(Object);

    /**
     * Checks if `value` is a plain object, that is, an object created by the
     * `Object` constructor or one with a `[[Prototype]]` of `null`.
     *
     * @static
     * @memberOf _
     * @since 0.8.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * _.isPlainObject(new Foo);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     *
     * _.isPlainObject(Object.create(null));
     * // => true
     */
    function isPlainObject$3(value) {
      if (!isObjectLike$1(value) || baseGetTag(value) != objectTag) {
        return false;
      }
      var proto = getPrototype$3(value);
      if (proto === null) {
        return true;
      }
      var Ctor = hasOwnProperty$2.call(proto, 'constructor') && proto.constructor;
      return typeof Ctor == 'function' && Ctor instanceof Ctor &&
        funcToString.call(Ctor) == objectCtorString;
    }

    var isPlainObject_1 = isPlainObject$3;

    var baseIteratee$4 = _baseIteratee,
        isArrayLike$4 = isArrayLike_1,
        keys = keys_1;

    /**
     * Creates a `_.find` or `_.findLast` function.
     *
     * @private
     * @param {Function} findIndexFunc The function to find the collection index.
     * @returns {Function} Returns the new find function.
     */
    function createFind$1(findIndexFunc) {
      return function(collection, predicate, fromIndex) {
        var iterable = Object(collection);
        if (!isArrayLike$4(collection)) {
          var iteratee = baseIteratee$4(predicate);
          collection = keys(collection);
          predicate = function(key) { return iteratee(iterable[key], key, iterable); };
        }
        var index = findIndexFunc(collection, predicate, fromIndex);
        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;
      };
    }

    var _createFind = createFind$1;

    /**
     * The base implementation of `_.findIndex` and `_.findLastIndex` without
     * support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} predicate The function invoked per iteration.
     * @param {number} fromIndex The index to search from.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */

    function baseFindIndex$1(array, predicate, fromIndex, fromRight) {
      var length = array.length,
          index = fromIndex + (fromRight ? 1 : -1);

      while ((fromRight ? index-- : ++index < length)) {
        if (predicate(array[index], index, array)) {
          return index;
        }
      }
      return -1;
    }

    var _baseFindIndex = baseFindIndex$1;

    /** Used to match a single whitespace character. */

    var reWhitespace = /\s/;

    /**
     * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
     * character of `string`.
     *
     * @private
     * @param {string} string The string to inspect.
     * @returns {number} Returns the index of the last non-whitespace character.
     */
    function trimmedEndIndex$1(string) {
      var index = string.length;

      while (index-- && reWhitespace.test(string.charAt(index))) {}
      return index;
    }

    var _trimmedEndIndex = trimmedEndIndex$1;

    var trimmedEndIndex = _trimmedEndIndex;

    /** Used to match leading whitespace. */
    var reTrimStart = /^\s+/;

    /**
     * The base implementation of `_.trim`.
     *
     * @private
     * @param {string} string The string to trim.
     * @returns {string} Returns the trimmed string.
     */
    function baseTrim$1(string) {
      return string
        ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
        : string;
    }

    var _baseTrim = baseTrim$1;

    var baseTrim = _baseTrim,
        isObject$8 = isObject_1,
        isSymbol = isSymbol_1;

    /** Used as references for various `Number` constants. */
    var NAN = 0 / 0;

    /** Used to detect bad signed hexadecimal string values. */
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

    /** Used to detect binary string values. */
    var reIsBinary = /^0b[01]+$/i;

    /** Used to detect octal string values. */
    var reIsOctal = /^0o[0-7]+$/i;

    /** Built-in method references without a dependency on `root`. */
    var freeParseInt = parseInt;

    /**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */
    function toNumber$1(value) {
      if (typeof value == 'number') {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject$8(value)) {
        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
        value = isObject$8(other) ? (other + '') : other;
      }
      if (typeof value != 'string') {
        return value === 0 ? value : +value;
      }
      value = baseTrim(value);
      var isBinary = reIsBinary.test(value);
      return (isBinary || reIsOctal.test(value))
        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
        : (reIsBadHex.test(value) ? NAN : +value);
    }

    var toNumber_1 = toNumber$1;

    var toNumber = toNumber_1;

    /** Used as references for various `Number` constants. */
    var INFINITY = 1 / 0,
        MAX_INTEGER = 1.7976931348623157e+308;

    /**
     * Converts `value` to a finite number.
     *
     * @static
     * @memberOf _
     * @since 4.12.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted number.
     * @example
     *
     * _.toFinite(3.2);
     * // => 3.2
     *
     * _.toFinite(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toFinite(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toFinite('3.2');
     * // => 3.2
     */
    function toFinite$1(value) {
      if (!value) {
        return value === 0 ? value : 0;
      }
      value = toNumber(value);
      if (value === INFINITY || value === -INFINITY) {
        var sign = (value < 0 ? -1 : 1);
        return sign * MAX_INTEGER;
      }
      return value === value ? value : 0;
    }

    var toFinite_1 = toFinite$1;

    var toFinite = toFinite_1;

    /**
     * Converts `value` to an integer.
     *
     * **Note:** This method is loosely based on
     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toInteger(3.2);
     * // => 3
     *
     * _.toInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toInteger(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toInteger('3.2');
     * // => 3
     */
    function toInteger$1(value) {
      var result = toFinite(value),
          remainder = result % 1;

      return result === result ? (remainder ? result - remainder : result) : 0;
    }

    var toInteger_1 = toInteger$1;

    var baseFindIndex = _baseFindIndex,
        baseIteratee$3 = _baseIteratee,
        toInteger = toInteger_1;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeMax$1 = Math.max;

    /**
     * This method is like `_.find` except that it returns the index of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.findIndex(users, function(o) { return o.user == 'barney'; });
     * // => 0
     *
     * // The `_.matches` iteratee shorthand.
     * _.findIndex(users, { 'user': 'fred', 'active': false });
     * // => 1
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findIndex(users, ['active', false]);
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.findIndex(users, 'active');
     * // => 2
     */
    function findIndex$1(array, predicate, fromIndex) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return -1;
      }
      var index = fromIndex == null ? 0 : toInteger(fromIndex);
      if (index < 0) {
        index = nativeMax$1(length + index, 0);
      }
      return baseFindIndex(array, baseIteratee$3(predicate), index);
    }

    var findIndex_1 = findIndex$1;

    var createFind = _createFind,
        findIndex = findIndex_1;

    /**
     * Iterates over elements of `collection`, returning the first element
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': true },
     *   { 'user': 'fred',    'age': 40, 'active': false },
     *   { 'user': 'pebbles', 'age': 1,  'active': true }
     * ];
     *
     * _.find(users, function(o) { return o.age < 40; });
     * // => object for 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.find(users, { 'age': 1, 'active': true });
     * // => object for 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.find(users, ['active', false]);
     * // => object for 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.find(users, 'active');
     * // => object for 'barney'
     */
    var find = createFind(findIndex);

    var find_1 = find;

    var baseAssignValue$3 = _baseAssignValue,
        eq$2 = eq_1;

    /**
     * This function is like `assignValue` except that it doesn't assign
     * `undefined` values.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function assignMergeValue$2(object, key, value) {
      if ((value !== undefined && !eq$2(object[key], value)) ||
          (value === undefined && !(key in object))) {
        baseAssignValue$3(object, key, value);
      }
    }

    var _assignMergeValue = assignMergeValue$2;

    var _cloneBuffer = {exports: {}};

    (function (module, exports) {
    	var root = _root;

    	/** Detect free variable `exports`. */
    	var freeExports = exports && !exports.nodeType && exports;

    	/** Detect free variable `module`. */
    	var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

    	/** Detect the popular CommonJS extension `module.exports`. */
    	var moduleExports = freeModule && freeModule.exports === freeExports;

    	/** Built-in value references. */
    	var Buffer = moduleExports ? root.Buffer : undefined,
    	    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;

    	/**
    	 * Creates a clone of  `buffer`.
    	 *
    	 * @private
    	 * @param {Buffer} buffer The buffer to clone.
    	 * @param {boolean} [isDeep] Specify a deep clone.
    	 * @returns {Buffer} Returns the cloned buffer.
    	 */
    	function cloneBuffer(buffer, isDeep) {
    	  if (isDeep) {
    	    return buffer.slice();
    	  }
    	  var length = buffer.length,
    	      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

    	  buffer.copy(result);
    	  return result;
    	}

    	module.exports = cloneBuffer;
    } (_cloneBuffer, _cloneBuffer.exports));

    var Uint8Array$1 = _Uint8Array;

    /**
     * Creates a clone of `arrayBuffer`.
     *
     * @private
     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
     * @returns {ArrayBuffer} Returns the cloned array buffer.
     */
    function cloneArrayBuffer$1(arrayBuffer) {
      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
      new Uint8Array$1(result).set(new Uint8Array$1(arrayBuffer));
      return result;
    }

    var _cloneArrayBuffer = cloneArrayBuffer$1;

    var cloneArrayBuffer = _cloneArrayBuffer;

    /**
     * Creates a clone of `typedArray`.
     *
     * @private
     * @param {Object} typedArray The typed array to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned typed array.
     */
    function cloneTypedArray$1(typedArray, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
    }

    var _cloneTypedArray = cloneTypedArray$1;

    /**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */

    function copyArray$1(source, array) {
      var index = -1,
          length = source.length;

      array || (array = Array(length));
      while (++index < length) {
        array[index] = source[index];
      }
      return array;
    }

    var _copyArray = copyArray$1;

    var isObject$7 = isObject_1;

    /** Built-in value references. */
    var objectCreate = Object.create;

    /**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} proto The object to inherit from.
     * @returns {Object} Returns the new object.
     */
    var baseCreate$2 = (function() {
      function object() {}
      return function(proto) {
        if (!isObject$7(proto)) {
          return {};
        }
        if (objectCreate) {
          return objectCreate(proto);
        }
        object.prototype = proto;
        var result = new object;
        object.prototype = undefined;
        return result;
      };
    }());

    var _baseCreate = baseCreate$2;

    var baseCreate$1 = _baseCreate,
        getPrototype$2 = _getPrototype,
        isPrototype$1 = _isPrototype;

    /**
     * Initializes an object clone.
     *
     * @private
     * @param {Object} object The object to clone.
     * @returns {Object} Returns the initialized clone.
     */
    function initCloneObject$1(object) {
      return (typeof object.constructor == 'function' && !isPrototype$1(object))
        ? baseCreate$1(getPrototype$2(object))
        : {};
    }

    var _initCloneObject = initCloneObject$1;

    var isArrayLike$3 = isArrayLike_1,
        isObjectLike = isObjectLike_1;

    /**
     * This method is like `_.isArrayLike` except that it also checks if `value`
     * is an object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array-like object,
     *  else `false`.
     * @example
     *
     * _.isArrayLikeObject([1, 2, 3]);
     * // => true
     *
     * _.isArrayLikeObject(document.body.children);
     * // => true
     *
     * _.isArrayLikeObject('abc');
     * // => false
     *
     * _.isArrayLikeObject(_.noop);
     * // => false
     */
    function isArrayLikeObject$1(value) {
      return isObjectLike(value) && isArrayLike$3(value);
    }

    var isArrayLikeObject_1 = isArrayLikeObject$1;

    /**
     * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the property to get.
     * @returns {*} Returns the property value.
     */

    function safeGet$2(object, key) {
      if (key === 'constructor' && typeof object[key] === 'function') {
        return;
      }

      if (key == '__proto__') {
        return;
      }

      return object[key];
    }

    var _safeGet = safeGet$2;

    var baseAssignValue$2 = _baseAssignValue,
        eq$1 = eq_1;

    /** Used for built-in method references. */
    var objectProto$1 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$1 = objectProto$1.hasOwnProperty;

    /**
     * Assigns `value` to `key` of `object` if the existing value is not equivalent
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function assignValue$2(object, key, value) {
      var objValue = object[key];
      if (!(hasOwnProperty$1.call(object, key) && eq$1(objValue, value)) ||
          (value === undefined && !(key in object))) {
        baseAssignValue$2(object, key, value);
      }
    }

    var _assignValue = assignValue$2;

    var assignValue$1 = _assignValue,
        baseAssignValue$1 = _baseAssignValue;

    /**
     * Copies properties of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy properties from.
     * @param {Array} props The property identifiers to copy.
     * @param {Object} [object={}] The object to copy properties to.
     * @param {Function} [customizer] The function to customize copied values.
     * @returns {Object} Returns `object`.
     */
    function copyObject$2(source, props, object, customizer) {
      var isNew = !object;
      object || (object = {});

      var index = -1,
          length = props.length;

      while (++index < length) {
        var key = props[index];

        var newValue = customizer
          ? customizer(object[key], source[key], key, object, source)
          : undefined;

        if (newValue === undefined) {
          newValue = source[key];
        }
        if (isNew) {
          baseAssignValue$1(object, key, newValue);
        } else {
          assignValue$1(object, key, newValue);
        }
      }
      return object;
    }

    var _copyObject = copyObject$2;

    /**
     * This function is like
     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * except that it includes inherited enumerable properties.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */

    function nativeKeysIn$1(object) {
      var result = [];
      if (object != null) {
        for (var key in Object(object)) {
          result.push(key);
        }
      }
      return result;
    }

    var _nativeKeysIn = nativeKeysIn$1;

    var isObject$6 = isObject_1,
        isPrototype = _isPrototype,
        nativeKeysIn = _nativeKeysIn;

    /** Used for built-in method references. */
    var objectProto = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty = objectProto.hasOwnProperty;

    /**
     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function baseKeysIn$1(object) {
      if (!isObject$6(object)) {
        return nativeKeysIn(object);
      }
      var isProto = isPrototype(object),
          result = [];

      for (var key in object) {
        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
          result.push(key);
        }
      }
      return result;
    }

    var _baseKeysIn = baseKeysIn$1;

    var arrayLikeKeys = _arrayLikeKeys,
        baseKeysIn = _baseKeysIn,
        isArrayLike$2 = isArrayLike_1;

    /**
     * Creates an array of the own and inherited enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keysIn(new Foo);
     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
     */
    function keysIn$4(object) {
      return isArrayLike$2(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
    }

    var keysIn_1 = keysIn$4;

    var copyObject$1 = _copyObject,
        keysIn$3 = keysIn_1;

    /**
     * Converts `value` to a plain object flattening inherited enumerable string
     * keyed properties of `value` to own properties of the plain object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Object} Returns the converted plain object.
     * @example
     *
     * function Foo() {
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.assign({ 'a': 1 }, new Foo);
     * // => { 'a': 1, 'b': 2 }
     *
     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
     * // => { 'a': 1, 'b': 2, 'c': 3 }
     */
    function toPlainObject$1(value) {
      return copyObject$1(value, keysIn$3(value));
    }

    var toPlainObject_1 = toPlainObject$1;

    var assignMergeValue$1 = _assignMergeValue,
        cloneBuffer = _cloneBuffer.exports,
        cloneTypedArray = _cloneTypedArray,
        copyArray = _copyArray,
        initCloneObject = _initCloneObject,
        isArguments$1 = isArguments_1,
        isArray$3 = isArray_1,
        isArrayLikeObject = isArrayLikeObject_1,
        isBuffer$1 = isBuffer$4.exports,
        isFunction$5 = isFunction_1,
        isObject$5 = isObject_1,
        isPlainObject$2 = isPlainObject_1,
        isTypedArray$1 = isTypedArray_1,
        safeGet$1 = _safeGet,
        toPlainObject = toPlainObject_1;

    /**
     * A specialized version of `baseMerge` for arrays and objects which performs
     * deep merges and tracks traversed objects enabling objects with circular
     * references to be merged.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {string} key The key of the value to merge.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} mergeFunc The function to merge values.
     * @param {Function} [customizer] The function to customize assigned values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */
    function baseMergeDeep$1(object, source, key, srcIndex, mergeFunc, customizer, stack) {
      var objValue = safeGet$1(object, key),
          srcValue = safeGet$1(source, key),
          stacked = stack.get(srcValue);

      if (stacked) {
        assignMergeValue$1(object, key, stacked);
        return;
      }
      var newValue = customizer
        ? customizer(objValue, srcValue, (key + ''), object, source, stack)
        : undefined;

      var isCommon = newValue === undefined;

      if (isCommon) {
        var isArr = isArray$3(srcValue),
            isBuff = !isArr && isBuffer$1(srcValue),
            isTyped = !isArr && !isBuff && isTypedArray$1(srcValue);

        newValue = srcValue;
        if (isArr || isBuff || isTyped) {
          if (isArray$3(objValue)) {
            newValue = objValue;
          }
          else if (isArrayLikeObject(objValue)) {
            newValue = copyArray(objValue);
          }
          else if (isBuff) {
            isCommon = false;
            newValue = cloneBuffer(srcValue, true);
          }
          else if (isTyped) {
            isCommon = false;
            newValue = cloneTypedArray(srcValue, true);
          }
          else {
            newValue = [];
          }
        }
        else if (isPlainObject$2(srcValue) || isArguments$1(srcValue)) {
          newValue = objValue;
          if (isArguments$1(objValue)) {
            newValue = toPlainObject(objValue);
          }
          else if (!isObject$5(objValue) || isFunction$5(objValue)) {
            newValue = initCloneObject(srcValue);
          }
        }
        else {
          isCommon = false;
        }
      }
      if (isCommon) {
        // Recursively merge objects and arrays (susceptible to call stack limits).
        stack.set(srcValue, newValue);
        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
        stack['delete'](srcValue);
      }
      assignMergeValue$1(object, key, newValue);
    }

    var _baseMergeDeep = baseMergeDeep$1;

    var Stack = _Stack,
        assignMergeValue = _assignMergeValue,
        baseFor = _baseFor,
        baseMergeDeep = _baseMergeDeep,
        isObject$4 = isObject_1,
        keysIn$2 = keysIn_1,
        safeGet = _safeGet;

    /**
     * The base implementation of `_.merge` without support for multiple sources.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} [customizer] The function to customize merged values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */
    function baseMerge$1(object, source, srcIndex, customizer, stack) {
      if (object === source) {
        return;
      }
      baseFor(source, function(srcValue, key) {
        stack || (stack = new Stack);
        if (isObject$4(srcValue)) {
          baseMergeDeep(object, source, key, srcIndex, baseMerge$1, customizer, stack);
        }
        else {
          var newValue = customizer
            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
            : undefined;

          if (newValue === undefined) {
            newValue = srcValue;
          }
          assignMergeValue(object, key, newValue);
        }
      }, keysIn$2);
    }

    var _baseMerge = baseMerge$1;

    /**
     * A faster alternative to `Function#apply`, this function invokes `func`
     * with the `this` binding of `thisArg` and the arguments of `args`.
     *
     * @private
     * @param {Function} func The function to invoke.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {Array} args The arguments to invoke `func` with.
     * @returns {*} Returns the result of `func`.
     */

    function apply$1(func, thisArg, args) {
      switch (args.length) {
        case 0: return func.call(thisArg);
        case 1: return func.call(thisArg, args[0]);
        case 2: return func.call(thisArg, args[0], args[1]);
        case 3: return func.call(thisArg, args[0], args[1], args[2]);
      }
      return func.apply(thisArg, args);
    }

    var _apply = apply$1;

    var apply = _apply;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeMax = Math.max;

    /**
     * A specialized version of `baseRest` which transforms the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @param {Function} transform The rest array transform.
     * @returns {Function} Returns the new function.
     */
    function overRest$2(func, start, transform) {
      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
      return function() {
        var args = arguments,
            index = -1,
            length = nativeMax(args.length - start, 0),
            array = Array(length);

        while (++index < length) {
          array[index] = args[start + index];
        }
        index = -1;
        var otherArgs = Array(start + 1);
        while (++index < start) {
          otherArgs[index] = args[index];
        }
        otherArgs[start] = transform(array);
        return apply(func, this, otherArgs);
      };
    }

    var _overRest = overRest$2;

    /**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new constant function.
     * @example
     *
     * var objects = _.times(2, _.constant({ 'a': 1 }));
     *
     * console.log(objects);
     * // => [{ 'a': 1 }, { 'a': 1 }]
     *
     * console.log(objects[0] === objects[1]);
     * // => true
     */

    function constant$1(value) {
      return function() {
        return value;
      };
    }

    var constant_1 = constant$1;

    var constant = constant_1,
        defineProperty = _defineProperty,
        identity$2 = identity_1;

    /**
     * The base implementation of `setToString` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */
    var baseSetToString$1 = !defineProperty ? identity$2 : function(func, string) {
      return defineProperty(func, 'toString', {
        'configurable': true,
        'enumerable': false,
        'value': constant(string),
        'writable': true
      });
    };

    var _baseSetToString = baseSetToString$1;

    /** Used to detect hot functions by number of calls within a span of milliseconds. */

    var HOT_COUNT = 800,
        HOT_SPAN = 16;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeNow = Date.now;

    /**
     * Creates a function that'll short out and invoke `identity` instead
     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
     * milliseconds.
     *
     * @private
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new shortable function.
     */
    function shortOut$1(func) {
      var count = 0,
          lastCalled = 0;

      return function() {
        var stamp = nativeNow(),
            remaining = HOT_SPAN - (stamp - lastCalled);

        lastCalled = stamp;
        if (remaining > 0) {
          if (++count >= HOT_COUNT) {
            return arguments[0];
          }
        } else {
          count = 0;
        }
        return func.apply(undefined, arguments);
      };
    }

    var _shortOut = shortOut$1;

    var baseSetToString = _baseSetToString,
        shortOut = _shortOut;

    /**
     * Sets the `toString` method of `func` to return `string`.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */
    var setToString$2 = shortOut(baseSetToString);

    var _setToString = setToString$2;

    var identity$1 = identity_1,
        overRest$1 = _overRest,
        setToString$1 = _setToString;

    /**
     * The base implementation of `_.rest` which doesn't validate or coerce arguments.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     */
    function baseRest$1(func, start) {
      return setToString$1(overRest$1(func, start, identity$1), func + '');
    }

    var _baseRest = baseRest$1;

    var eq = eq_1,
        isArrayLike$1 = isArrayLike_1,
        isIndex$1 = _isIndex,
        isObject$3 = isObject_1;

    /**
     * Checks if the given arguments are from an iteratee call.
     *
     * @private
     * @param {*} value The potential iteratee value argument.
     * @param {*} index The potential iteratee index or key argument.
     * @param {*} object The potential iteratee object argument.
     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
     *  else `false`.
     */
    function isIterateeCall$1(value, index, object) {
      if (!isObject$3(object)) {
        return false;
      }
      var type = typeof index;
      if (type == 'number'
            ? (isArrayLike$1(object) && isIndex$1(index, object.length))
            : (type == 'string' && index in object)
          ) {
        return eq(object[index], value);
      }
      return false;
    }

    var _isIterateeCall = isIterateeCall$1;

    var baseRest = _baseRest,
        isIterateeCall = _isIterateeCall;

    /**
     * Creates a function like `_.assign`.
     *
     * @private
     * @param {Function} assigner The function to assign values.
     * @returns {Function} Returns the new assigner function.
     */
    function createAssigner$2(assigner) {
      return baseRest(function(object, sources) {
        var index = -1,
            length = sources.length,
            customizer = length > 1 ? sources[length - 1] : undefined,
            guard = length > 2 ? sources[2] : undefined;

        customizer = (assigner.length > 3 && typeof customizer == 'function')
          ? (length--, customizer)
          : undefined;

        if (guard && isIterateeCall(sources[0], sources[1], guard)) {
          customizer = length < 3 ? undefined : customizer;
          length = 1;
        }
        object = Object(object);
        while (++index < length) {
          var source = sources[index];
          if (source) {
            assigner(object, source, index, customizer);
          }
        }
        return object;
      });
    }

    var _createAssigner = createAssigner$2;

    var baseMerge = _baseMerge,
        createAssigner$1 = _createAssigner;

    /**
     * This method is like `_.assign` except that it recursively merges own and
     * inherited enumerable string keyed properties of source objects into the
     * destination object. Source properties that resolve to `undefined` are
     * skipped if a destination value exists. Array and plain object properties
     * are merged recursively. Other objects and value types are overridden by
     * assignment. Source objects are applied from left to right. Subsequent
     * sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {
     *   'a': [{ 'b': 2 }, { 'd': 4 }]
     * };
     *
     * var other = {
     *   'a': [{ 'c': 3 }, { 'e': 5 }]
     * };
     *
     * _.merge(object, other);
     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
     */
    var merge = createAssigner$1(function(object, source, srcIndex) {
      baseMerge(object, source, srcIndex);
    });

    var merge_1 = merge;

    /**
     * A specialized version of `_.forEach` for arrays without support for
     * iteratee shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns `array`.
     */

    function arrayEach$2(array, iteratee) {
      var index = -1,
          length = array == null ? 0 : array.length;

      while (++index < length) {
        if (iteratee(array[index], index, array) === false) {
          break;
        }
      }
      return array;
    }

    var _arrayEach = arrayEach$2;

    var arrayEach$1 = _arrayEach,
        baseCreate = _baseCreate,
        baseForOwn$2 = _baseForOwn,
        baseIteratee$2 = _baseIteratee,
        getPrototype$1 = _getPrototype,
        isArray$2 = isArray_1,
        isBuffer = isBuffer$4.exports,
        isFunction$4 = isFunction_1,
        isObject$2 = isObject_1,
        isTypedArray = isTypedArray_1;

    /**
     * An alternative to `_.reduce`; this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable string keyed properties thru `iteratee`, with each invocation
     * potentially mutating the `accumulator` object. If `accumulator` is not
     * provided, a new object with the same `[[Prototype]]` will be used. The
     * iteratee is invoked with four arguments: (accumulator, value, key, object).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * _.transform([2, 3, 4], function(result, n) {
     *   result.push(n *= n);
     *   return n % 2 == 0;
     * }, []);
     * // => [4, 9]
     *
     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] }
     */
    function transform(object, iteratee, accumulator) {
      var isArr = isArray$2(object),
          isArrLike = isArr || isBuffer(object) || isTypedArray(object);

      iteratee = baseIteratee$2(iteratee);
      if (accumulator == null) {
        var Ctor = object && object.constructor;
        if (isArrLike) {
          accumulator = isArr ? new Ctor : [];
        }
        else if (isObject$2(object)) {
          accumulator = isFunction$4(Ctor) ? baseCreate(getPrototype$1(object)) : {};
        }
        else {
          accumulator = {};
        }
      }
      (isArrLike ? arrayEach$1 : baseForOwn$2)(object, function(value, index, object) {
        return iteratee(accumulator, value, index, object);
      });
      return accumulator;
    }

    var transform_1 = transform;

    var baseAssignValue = _baseAssignValue,
        baseForOwn$1 = _baseForOwn,
        baseIteratee$1 = _baseIteratee;

    /**
     * The opposite of `_.mapValues`; this method creates an object with the
     * same values as `object` and keys generated by running each own enumerable
     * string keyed property of `object` thru `iteratee`. The iteratee is invoked
     * with three arguments: (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapValues
     * @example
     *
     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {
     *   return key + value;
     * });
     * // => { 'a1': 1, 'b2': 2 }
     */
    function mapKeys(object, iteratee) {
      var result = {};
      iteratee = baseIteratee$1(iteratee);

      baseForOwn$1(object, function(value, key, object) {
        baseAssignValue(result, iteratee(value, key, object), value);
      });
      return result;
    }

    var mapKeys_1 = mapKeys;

    var assignValue = _assignValue,
        castPath$1 = _castPath,
        isIndex = _isIndex,
        isObject$1 = isObject_1,
        toKey = _toKey;

    /**
     * The base implementation of `_.set`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */
    function baseSet$1(object, path, value, customizer) {
      if (!isObject$1(object)) {
        return object;
      }
      path = castPath$1(path, object);

      var index = -1,
          length = path.length,
          lastIndex = length - 1,
          nested = object;

      while (nested != null && ++index < length) {
        var key = toKey(path[index]),
            newValue = value;

        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {
          return object;
        }

        if (index != lastIndex) {
          var objValue = nested[key];
          newValue = customizer ? customizer(objValue, key, nested) : undefined;
          if (newValue === undefined) {
            newValue = isObject$1(objValue)
              ? objValue
              : (isIndex(path[index + 1]) ? [] : {});
          }
        }
        assignValue(nested, key, newValue);
        nested = nested[key];
      }
      return object;
    }

    var _baseSet = baseSet$1;

    var baseGet = _baseGet,
        baseSet = _baseSet,
        castPath = _castPath;

    /**
     * The base implementation of  `_.pickBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @param {Function} predicate The function invoked per property.
     * @returns {Object} Returns the new object.
     */
    function basePickBy$2(object, paths, predicate) {
      var index = -1,
          length = paths.length,
          result = {};

      while (++index < length) {
        var path = paths[index],
            value = baseGet(object, path);

        if (predicate(value, path)) {
          baseSet(result, castPath(path, object), value);
        }
      }
      return result;
    }

    var _basePickBy = basePickBy$2;

    var basePickBy$1 = _basePickBy,
        hasIn = hasIn_1;

    /**
     * The base implementation of `_.pick` without support for individual
     * property identifiers.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @returns {Object} Returns the new object.
     */
    function basePick$1(object, paths) {
      return basePickBy$1(object, paths, function(value, path) {
        return hasIn(object, path);
      });
    }

    var _basePick = basePick$1;

    var Symbol$1 = _Symbol,
        isArguments = isArguments_1,
        isArray$1 = isArray_1;

    /** Built-in value references. */
    var spreadableSymbol = Symbol$1 ? Symbol$1.isConcatSpreadable : undefined;

    /**
     * Checks if `value` is a flattenable `arguments` object or array.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
     */
    function isFlattenable$1(value) {
      return isArray$1(value) || isArguments(value) ||
        !!(spreadableSymbol && value && value[spreadableSymbol]);
    }

    var _isFlattenable = isFlattenable$1;

    var arrayPush$1 = _arrayPush,
        isFlattenable = _isFlattenable;

    /**
     * The base implementation of `_.flatten` with support for restricting flattening.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {number} depth The maximum recursion depth.
     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
     * @param {Array} [result=[]] The initial result value.
     * @returns {Array} Returns the new flattened array.
     */
    function baseFlatten$1(array, depth, predicate, isStrict, result) {
      var index = -1,
          length = array.length;

      predicate || (predicate = isFlattenable);
      result || (result = []);

      while (++index < length) {
        var value = array[index];
        if (depth > 0 && predicate(value)) {
          if (depth > 1) {
            // Recursively flatten arrays (susceptible to call stack limits).
            baseFlatten$1(value, depth - 1, predicate, isStrict, result);
          } else {
            arrayPush$1(result, value);
          }
        } else if (!isStrict) {
          result[result.length] = value;
        }
      }
      return result;
    }

    var _baseFlatten = baseFlatten$1;

    var baseFlatten = _baseFlatten;

    /**
     * Flattens `array` a single level deep.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flatten([1, [2, [3, [4]], 5]]);
     * // => [1, 2, [3, [4]], 5]
     */
    function flatten$1(array) {
      var length = array == null ? 0 : array.length;
      return length ? baseFlatten(array, 1) : [];
    }

    var flatten_1 = flatten$1;

    var flatten = flatten_1,
        overRest = _overRest,
        setToString = _setToString;

    /**
     * A specialized version of `baseRest` which flattens the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */
    function flatRest$1(func) {
      return setToString(overRest(func, undefined, flatten), func + '');
    }

    var _flatRest = flatRest$1;

    var basePick = _basePick,
        flatRest = _flatRest;

    /**
     * Creates an object composed of the picked `object` properties.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pick(object, ['a', 'c']);
     * // => { 'a': 1, 'c': 3 }
     */
    var pick = flatRest(function(object, paths) {
      return object == null ? {} : basePick(object, paths);
    });

    var pick_1 = pick;

    var arrayPush = _arrayPush,
        getPrototype = _getPrototype,
        getSymbols = _getSymbols,
        stubArray = stubArray_1;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeGetSymbols = Object.getOwnPropertySymbols;

    /**
     * Creates an array of the own and inherited enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */
    var getSymbolsIn$1 = !nativeGetSymbols ? stubArray : function(object) {
      var result = [];
      while (object) {
        arrayPush(result, getSymbols(object));
        object = getPrototype(object);
      }
      return result;
    };

    var _getSymbolsIn = getSymbolsIn$1;

    var baseGetAllKeys = _baseGetAllKeys,
        getSymbolsIn = _getSymbolsIn,
        keysIn$1 = keysIn_1;

    /**
     * Creates an array of own and inherited enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function getAllKeysIn$1(object) {
      return baseGetAllKeys(object, keysIn$1, getSymbolsIn);
    }

    var _getAllKeysIn = getAllKeysIn$1;

    var arrayMap = _arrayMap,
        baseIteratee = _baseIteratee,
        basePickBy = _basePickBy,
        getAllKeysIn = _getAllKeysIn;

    /**
     * Creates an object composed of the `object` properties `predicate` returns
     * truthy for. The predicate is invoked with two arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pickBy(object, _.isNumber);
     * // => { 'a': 1, 'c': 3 }
     */
    function pickBy(object, predicate) {
      if (object == null) {
        return {};
      }
      var props = arrayMap(getAllKeysIn(object), function(prop) {
        return [prop];
      });
      predicate = baseIteratee(predicate);
      return basePickBy(object, props, function(value, path) {
        return predicate(value, path[0]);
      });
    }

    var pickBy_1 = pickBy;

    var each = {exports: {}};

    var isArrayLike = isArrayLike_1;

    /**
     * Creates a `baseEach` or `baseEachRight` function.
     *
     * @private
     * @param {Function} eachFunc The function to iterate over a collection.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */
    function createBaseEach$1(eachFunc, fromRight) {
      return function(collection, iteratee) {
        if (collection == null) {
          return collection;
        }
        if (!isArrayLike(collection)) {
          return eachFunc(collection, iteratee);
        }
        var length = collection.length,
            index = fromRight ? length : -1,
            iterable = Object(collection);

        while ((fromRight ? index-- : ++index < length)) {
          if (iteratee(iterable[index], index, iterable) === false) {
            break;
          }
        }
        return collection;
      };
    }

    var _createBaseEach = createBaseEach$1;

    var baseForOwn = _baseForOwn,
        createBaseEach = _createBaseEach;

    /**
     * The base implementation of `_.forEach` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */
    var baseEach$1 = createBaseEach(baseForOwn);

    var _baseEach = baseEach$1;

    var identity = identity_1;

    /**
     * Casts `value` to `identity` if it's not a function.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Function} Returns cast function.
     */
    function castFunction$1(value) {
      return typeof value == 'function' ? value : identity;
    }

    var _castFunction = castFunction$1;

    var arrayEach = _arrayEach,
        baseEach = _baseEach,
        castFunction = _castFunction,
        isArray = isArray_1;

    /**
     * Iterates over elements of `collection` and invokes `iteratee` for each element.
     * The iteratee is invoked with three arguments: (value, index|key, collection).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * **Note:** As with other "Collections" methods, objects with a "length"
     * property are iterated like arrays. To avoid this behavior use `_.forIn`
     * or `_.forOwn` for object iteration.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias each
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEachRight
     * @example
     *
     * _.forEach([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `1` then `2`.
     *
     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */
    function forEach(collection, iteratee) {
      var func = isArray(collection) ? arrayEach : baseEach;
      return func(collection, castFunction(iteratee));
    }

    var forEach_1 = forEach;

    (function (module) {
    	module.exports = forEach_1;
    } (each));

    /**
     * Checks if `value` is `null` or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.
     * @example
     *
     * _.isNil(null);
     * // => true
     *
     * _.isNil(void 0);
     * // => true
     *
     * _.isNil(NaN);
     * // => false
     */

    function isNil(value) {
      return value == null;
    }

    var isNil_1 = isNil;

    var inflected = {exports: {}};

    var hasOwnProp = Object.prototype.hasOwnProperty;

    function hasProp$1(obj, key) {
      return hasOwnProp.call(obj, key);
    }

    var hasProp_1 = hasProp$1;

    var splice = Array.prototype.splice;

    function remove$7(arr, elem) {
      for (var i = arr.length - 1; i >= 0; i--) {
        if (arr[i] === elem) {
           splice.call(arr, i, 1);
        }
      }
    }

    var remove_1 = remove$7;

    function icPart$1(str) {
      return str.split('').map(function(c) { return '(?:' + [c.toUpperCase(), c.toLowerCase()].join('|') + ')'; }).join('')
    }

    var icPart_1 = icPart$1;

    var hasProp = hasProp_1;
    var remove$6  = remove_1;
    var icPart  = icPart_1;

    function Inflections$1() {
      this.plurals = [];
      this.singulars = [];
      this.uncountables = [];
      this.humans = [];
      this.acronyms = {};
      this.acronymRegex = /(?=a)b/;
    }

    Inflections$1.getInstance = function(locale) {
      var storage = typeof process !== 'undefined' ? process : commonjsGlobal;
      storage.__Inflector_Inflections = storage.__Inflector_Inflections || {};
      storage.__Inflector_Inflections[locale] = storage.__Inflector_Inflections[locale] || new Inflections$1();

      return storage.__Inflector_Inflections[locale];
    };

    Inflections$1.prototype.acronym = function(word) {
      this.acronyms[word.toLowerCase()] = word;

      var values = [];

      for (var key in this.acronyms) {
        if (hasProp(this.acronyms, key)) {
          values.push(this.acronyms[key]);
        }
      }

      this.acronymRegex = new RegExp(values.join('|'));
    };

    Inflections$1.prototype.plural = function(rule, replacement) {
      if (typeof rule === 'string') {
        remove$6(this.uncountables, rule);
      }

      remove$6(this.uncountables, replacement);
      this.plurals.unshift([rule, replacement]);
    };

    Inflections$1.prototype.singular = function(rule, replacement) {
      if (typeof rule === 'string') {
        remove$6(this.uncountables, rule);
      }

      remove$6(this.uncountables, replacement);
      this.singulars.unshift([rule, replacement]);
    };

    Inflections$1.prototype.irregular = function(singular, plural) {
      remove$6(this.uncountables, singular);
      remove$6(this.uncountables, plural);

      var s0 = singular[0];
      var sRest = singular.substr(1);

      var p0 = plural[0];
      var pRest = plural.substr(1);

      if (s0.toUpperCase() === p0.toUpperCase()) {
        this.plural(new RegExp('(' + s0 + ')' + sRest + '$', 'i'), '$1' + pRest);
        this.plural(new RegExp('(' + p0 + ')' + pRest + '$', 'i'), '$1' + pRest);

        this.singular(new RegExp('(' + s0 + ')' + sRest + '$', 'i'), '$1' + sRest);
        this.singular(new RegExp('(' + p0 + ')' + pRest + '$', 'i'), '$1' + sRest);
      } else {
        var sRestIC = icPart(sRest);
        var pRestIC = icPart(pRest);

        this.plural(new RegExp(s0.toUpperCase() + sRestIC + '$'), p0.toUpperCase() + pRest);
        this.plural(new RegExp(s0.toLowerCase() + sRestIC + '$'), p0.toLowerCase() + pRest);
        this.plural(new RegExp(p0.toUpperCase() + pRestIC + '$'), p0.toUpperCase() + pRest);
        this.plural(new RegExp(p0.toLowerCase() + pRestIC + '$'), p0.toLowerCase() + pRest);

        this.singular(new RegExp(s0.toUpperCase() + sRestIC + '$'), s0.toUpperCase() + sRest);
        this.singular(new RegExp(s0.toLowerCase() + sRestIC + '$'), s0.toLowerCase() + sRest);
        this.singular(new RegExp(p0.toUpperCase() + pRestIC + '$'), s0.toUpperCase() + sRest);
        this.singular(new RegExp(p0.toLowerCase() + pRestIC + '$'), s0.toLowerCase() + sRest);
      }
    };

    Inflections$1.prototype.uncountable = function() {
      var words = Array.prototype.slice.call(arguments, 0);
      this.uncountables = this.uncountables.concat(words);
    };

    Inflections$1.prototype.human = function(rule, replacement) {
      this.humans.unshift([rule, replacement]);
    };

    Inflections$1.prototype.clear = function(scope) {
      scope = scope || 'all';

      if (scope === 'all') {
        this.plurals = [];
        this.singulars = [];
        this.uncountables = [];
        this.humans = [];
      } else {
        this[scope] = [];
      }
    };

    var Inflections_1 = Inflections$1;

    var DEFAULT_APPROXIMATIONS = {
      'À': 'A',   'Á': 'A',   'Â': 'A',   'Ã': 'A',   'Ä': 'A',   'Å': 'A',   'Æ': 'AE',
      'Ç': 'C',   'È': 'E',   'É': 'E',   'Ê': 'E',   'Ë': 'E',   'Ì': 'I',   'Í': 'I',
      'Î': 'I',   'Ï': 'I',   'Ð': 'D',   'Ñ': 'N',   'Ò': 'O',   'Ó': 'O',   'Ô': 'O',
      'Õ': 'O',   'Ö': 'O',   '×': 'x',   'Ø': 'O',   'Ù': 'U',   'Ú': 'U',   'Û': 'U',
      'Ü': 'U',   'Ý': 'Y',   'Þ': 'Th',  'ß': 'ss',  'à': 'a',   'á': 'a',   'â': 'a',
      'ã': 'a',   'ä': 'a',   'å': 'a',   'æ': 'ae',  'ç': 'c',   'è': 'e',   'é': 'e',
      'ê': 'e',   'ë': 'e',   'ì': 'i',   'í': 'i',   'î': 'i',   'ï': 'i',   'ð': 'd',
      'ñ': 'n',   'ò': 'o',   'ó': 'o',   'ô': 'o',   'õ': 'o',   'ö': 'o',   'ø': 'o',
      'ù': 'u',   'ú': 'u',   'û': 'u',   'ü': 'u',   'ý': 'y',   'þ': 'th',  'ÿ': 'y',
      'Ā': 'A',   'ā': 'a',   'Ă': 'A',   'ă': 'a',   'Ą': 'A',   'ą': 'a',   'Ć': 'C',
      'ć': 'c',   'Ĉ': 'C',   'ĉ': 'c',   'Ċ': 'C',   'ċ': 'c',   'Č': 'C',   'č': 'c',
      'Ď': 'D',   'ď': 'd',   'Đ': 'D',   'đ': 'd',   'Ē': 'E',   'ē': 'e',   'Ĕ': 'E',
      'ĕ': 'e',   'Ė': 'E',   'ė': 'e',   'Ę': 'E',   'ę': 'e',   'Ě': 'E',   'ě': 'e',
      'Ĝ': 'G',   'ĝ': 'g',   'Ğ': 'G',   'ğ': 'g',   'Ġ': 'G',   'ġ': 'g',   'Ģ': 'G',
      'ģ': 'g',   'Ĥ': 'H',   'ĥ': 'h',   'Ħ': 'H',   'ħ': 'h',   'Ĩ': 'I',   'ĩ': 'i',
      'Ī': 'I',   'ī': 'i',   'Ĭ': 'I',   'ĭ': 'i',   'Į': 'I',   'į': 'i',   'İ': 'I',
      'ı': 'i',   'Ĳ': 'IJ',  'ĳ': 'ij',  'Ĵ': 'J',   'ĵ': 'j',   'Ķ': 'K',   'ķ': 'k',
      'ĸ': 'k',   'Ĺ': 'L',   'ĺ': 'l',   'Ļ': 'L',   'ļ': 'l',   'Ľ': 'L',   'ľ': 'l',
      'Ŀ': 'L',   'ŀ': 'l',   'Ł': 'L',   'ł': 'l',   'Ń': 'N',   'ń': 'n',   'Ņ': 'N',
      'ņ': 'n',   'Ň': 'N',   'ň': 'n',   'ŉ': '\'n', 'Ŋ': 'NG',  'ŋ': 'ng',
      'Ō': 'O',   'ō': 'o',   'Ŏ': 'O',   'ŏ': 'o',   'Ő': 'O',   'ő': 'o',   'Œ': 'OE',
      'œ': 'oe',  'Ŕ': 'R',   'ŕ': 'r',   'Ŗ': 'R',   'ŗ': 'r',   'Ř': 'R',   'ř': 'r',
      'Ś': 'S',   'ś': 's',   'Ŝ': 'S',   'ŝ': 's',   'Ş': 'S',   'ş': 's',   'Š': 'S',
      'š': 's',   'Ţ': 'T',   'ţ': 't',   'Ť': 'T',   'ť': 't',   'Ŧ': 'T',   'ŧ': 't',
      'Ũ': 'U',   'ũ': 'u',   'Ū': 'U',   'ū': 'u',   'Ŭ': 'U',   'ŭ': 'u',   'Ů': 'U',
      'ů': 'u',   'Ű': 'U',   'ű': 'u',   'Ų': 'U',   'ų': 'u',   'Ŵ': 'W',   'ŵ': 'w',
      'Ŷ': 'Y',   'ŷ': 'y',   'Ÿ': 'Y',   'Ź': 'Z',   'ź': 'z',   'Ż': 'Z',   'ż': 'z',
      'Ž': 'Z',   'ž': 'z'
    };

    var DEFAULT_REPLACEMENT_CHAR = '?';

    function Transliterator$1() {
      this.approximations = {};

      for (var c in DEFAULT_APPROXIMATIONS) {
        this.approximate(c, DEFAULT_APPROXIMATIONS[c]);
      }
    }

    Transliterator$1.getInstance = function(locale) {
      var storage = typeof process !== 'undefined' ? process : commonjsGlobal;
      storage.__Inflector_Transliterator = storage.__Inflector_Transliterator || {};
      storage.__Inflector_Transliterator[locale] = storage.__Inflector_Transliterator[locale] || new Transliterator$1();

      return storage.__Inflector_Transliterator[locale];
    };

    Transliterator$1.prototype.approximate = function(string, replacement) {
      this.approximations[string] = replacement;
    };

    Transliterator$1.prototype.transliterate = function(string, replacement) {
      var self = this;

      return string.replace(/[^\u0000-\u007f]/g, function(c) {
        return self.approximations[c] || replacement || DEFAULT_REPLACEMENT_CHAR;
      });
    };

    var Transliterator_1 = Transliterator$1;

    var Methods$1 = {
      pluralize: function(word, locale) {
        locale = locale || 'en';

        return this._applyInflections(word, this.inflections(locale).plurals);
      },

      singularize: function(word, locale) {
        locale = locale || 'en';

        return this._applyInflections(word, this.inflections(locale).singulars);
      },

      camelize: function(term, uppercaseFirstLetter) {
        if (uppercaseFirstLetter === null || uppercaseFirstLetter === undefined) {
          uppercaseFirstLetter = true;
        }

        var result = '' + term, self = this;

        if (uppercaseFirstLetter) {
          result = result.replace(/^[a-z\d]*/, function(a) {
            return self.inflections().acronyms[a] || self.capitalize(a);
          });
        } else {
          result = result.replace(new RegExp('^(?:' + this.inflections().acronymRegex.source + '(?=\\b|[A-Z_])|\\w)'), function(a) {
            return a.toLowerCase();
          });
        }

        result = result.replace(/(?:_|(\/))([a-z\d]*)/gi, function(match, a, b, idx, string) {
          a || (a = '');
          return '' + a + (self.inflections().acronyms[b] || self.capitalize(b));
        });

        return result;
      },

      underscore: function(camelCasedWord) {
        var result = '' + camelCasedWord;

        result = result.replace(new RegExp('(?:([A-Za-z\\d])|^)(' + this.inflections().acronymRegex.source + ')(?=\\b|[^a-z])', 'g'), function(match, $1, $2) {
          return '' + ($1 || '') + ($1 ? '_' : '') + $2.toLowerCase();
        });

        result = result.replace(/([A-Z\d]+)([A-Z][a-z])/g, '$1_$2');
        result = result.replace(/([a-z\d])([A-Z])/g, '$1_$2');
        result = result.replace(/-/g, '_');

        return result.toLowerCase();
      },

      humanize: function(lowerCaseAndUnderscoredWord, options) {
        var result = '' + lowerCaseAndUnderscoredWord;
        var humans = this.inflections().humans;
        var human, rule, replacement;
        var self = this;

        options = options || {};

        if (options.capitalize === null || options.capitalize === undefined) {
          options.capitalize = true;
        }

        for (var i = 0, ii = humans.length; i < ii; i++) {
          human = humans[i];
          rule = human[0];
          replacement = human[1];

          if (rule.test && rule.test(result) || result.indexOf(rule) > -1) {
            result = result.replace(rule, replacement);
            break;
          }
        }

        result = result.replace(/_id$/, '');
        result = result.replace(/_/g, ' ');

        result = result.replace(/([a-z\d]*)/gi, function(match) {
          return self.inflections().acronyms[match] || match.toLowerCase();
        });

        if (options.capitalize) {
          result = result.replace(/^\w/, function(match) {
            return match.toUpperCase();
          });
        }

        return result;
      },

      capitalize: function(str) {
        var result = str === null || str === undefined ? '' : String(str);
        return result.charAt(0).toUpperCase() + result.slice(1);
      },

      titleize: function(word) {
        return this.humanize(this.underscore(word)).replace(/(^|[\s¿\/]+)([a-z])/g, function(match, boundary, letter, idx, string) {
          return match.replace(letter, letter.toUpperCase());
        });
      },

      tableize: function(className) {
        return this.pluralize(this.underscore(className));
      },

      classify: function(tableName) {
        return this.camelize(this.singularize(tableName.replace(/.*\./g, '')));
      },

      dasherize: function(underscoredWord) {
        return underscoredWord.replace(/_/g, '-');
      },

      foreignKey: function(className, separateWithUnderscore) {
        if (separateWithUnderscore === null || separateWithUnderscore === undefined) {
          separateWithUnderscore = true;
        }

        return this.underscore(className) + (separateWithUnderscore ? '_id' : 'id');
      },

      ordinal: function(number) {
        var absNumber = Math.abs(Number(number));
        var mod100 = absNumber % 100;

        if (mod100 === 11 || mod100 === 12 || mod100 === 13) {
          return 'th';
        } else {
          switch (absNumber % 10) {
            case 1: return 'st';
            case 2: return 'nd';
            case 3: return 'rd';
            default: return 'th';
          }
        }
      },

      ordinalize: function(number) {
        return '' + number + this.ordinal(number);
      },

      transliterate: function(string, options) {
        options = options || {};

        var locale      = options.locale || 'en';
        var replacement = options.replacement || '?';

        return this.transliterations(locale).transliterate(string, replacement);
      },

      parameterize: function(string, options) {
        options = options || {};

        if (options.separator === undefined) {
          options.separator = '-';
        }

        if (options.separator === null) {
          options.separator = '';
        }

        // replace accented chars with their ascii equivalents
        var result = this.transliterate(string, options);

        result = result.replace(/[^a-z0-9\-_]+/ig, options.separator);

        if (options.separator.length) {
          var separatorRegex = new RegExp(options.separator);

          // no more than one of the separator in a row
          result = result.replace(new RegExp(separatorRegex.source + '{2,}'), options.separator);

          // remove leading/trailing separator
          result = result.replace(new RegExp('^' + separatorRegex.source + '|' + separatorRegex.source + '$', 'i'), '');
        }

        return result.toLowerCase();
      },

      _applyInflections: function(word, rules) {
        var result = '' + word, rule, regex, replacement;

        if (result.length === 0) {
          return result;
        } else {
          var match = result.toLowerCase().match(/\b\w+$/);

          if (match && this.inflections().uncountables.indexOf(match[0]) > -1) {
            return result;
          } else {
            for (var i = 0, ii = rules.length; i < ii; i++) {
              rule = rules[i];

              regex = rule[0];
              replacement = rule[1];

              if (result.match(regex)) {
                result = result.replace(regex, replacement);
                break;
              }
            }

            return result;
          }
        }
      }
    };

    var Methods_1 = Methods$1;

    function enDefaults(inflect) {
      inflect.plural(/$/, 's');
      inflect.plural(/s$/i, 's');
      inflect.plural(/^(ax|test)is$/i, '$1es');
      inflect.plural(/(octop|vir)us$/i, '$1i');
      inflect.plural(/(octop|vir)i$/i, '$1i');
      inflect.plural(/(alias|status)$/i, '$1es');
      inflect.plural(/(bu)s$/i, '$1ses');
      inflect.plural(/(buffal|tomat)o$/i, '$1oes');
      inflect.plural(/([ti])um$/i, '$1a');
      inflect.plural(/([ti])a$/i, '$1a');
      inflect.plural(/sis$/i, 'ses');
      inflect.plural(/(?:([^f])fe|([lr])f)$/i, '$1$2ves');
      inflect.plural(/(hive)$/i, '$1s');
      inflect.plural(/([^aeiouy]|qu)y$/i, '$1ies');
      inflect.plural(/(x|ch|ss|sh)$/i, '$1es');
      inflect.plural(/(matr|vert|ind)(?:ix|ex)$/i, '$1ices');
      inflect.plural(/^(m|l)ouse$/i, '$1ice');
      inflect.plural(/^(m|l)ice$/i, '$1ice');
      inflect.plural(/^(ox)$/i, '$1en');
      inflect.plural(/^(oxen)$/i, '$1');
      inflect.plural(/(quiz)$/i, '$1zes');

      inflect.singular(/s$/i, '');
      inflect.singular(/(ss)$/i, '$1');
      inflect.singular(/(n)ews$/i, '$1ews');
      inflect.singular(/([ti])a$/i, '$1um');
      inflect.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i, '$1sis');
      inflect.singular(/(^analy)(sis|ses)$/i, '$1sis');
      inflect.singular(/([^f])ves$/i, '$1fe');
      inflect.singular(/(hive)s$/i, '$1');
      inflect.singular(/(tive)s$/i, '$1');
      inflect.singular(/([lr])ves$/i, '$1f');
      inflect.singular(/([^aeiouy]|qu)ies$/i, '$1y');
      inflect.singular(/(s)eries$/i, '$1eries');
      inflect.singular(/(m)ovies$/i, '$1ovie');
      inflect.singular(/(x|ch|ss|sh)es$/i, '$1');
      inflect.singular(/^(m|l)ice$/i, '$1ouse');
      inflect.singular(/(bus)(es)?$/i, '$1');
      inflect.singular(/(o)es$/i, '$1');
      inflect.singular(/(shoe)s$/i, '$1');
      inflect.singular(/(cris|test)(is|es)$/i, '$1is');
      inflect.singular(/^(a)x[ie]s$/i, '$1xis');
      inflect.singular(/(octop|vir)(us|i)$/i, '$1us');
      inflect.singular(/(alias|status)(es)?$/i, '$1');
      inflect.singular(/^(ox)en/i, '$1');
      inflect.singular(/(vert|ind)ices$/i, '$1ex');
      inflect.singular(/(matr)ices$/i, '$1ix');
      inflect.singular(/(quiz)zes$/i, '$1');
      inflect.singular(/(database)s$/i, '$1');

      inflect.irregular('person', 'people');
      inflect.irregular('man', 'men');
      inflect.irregular('child', 'children');
      inflect.irregular('sex', 'sexes');
      inflect.irregular('move', 'moves');
      inflect.irregular('zombie', 'zombies');

      inflect.uncountable('equipment', 'information', 'rice', 'money', 'species', 'series', 'fish', 'sheep', 'jeans', 'police');
    }

    var defaults$1 = {
      en: enDefaults
    };

    var toString = Object.prototype.toString;

    function isFunc$1(obj) {
      return toString.call(obj) === '[object Function]';
    }

    var isFunc_1 = isFunc$1;

    var Inflections     = Inflections_1;
    var Transliterator  = Transliterator_1;
    var Methods         = Methods_1;
    var defaults        = defaults$1;
    var isFunc          = isFunc_1;

    var Inflector$3 = Methods;

    Inflector$3.inflections = function(locale, fn) {
      if (isFunc(locale)) {
        fn = locale;
        locale = null;
      }

      locale = locale || 'en';

      if (fn) {
        fn(Inflections.getInstance(locale));
      } else {
        return Inflections.getInstance(locale);
      }
    };

    Inflector$3.transliterations = function(locale, fn) {
      if (isFunc(locale)) {
        fn = locale;
        locale = null;
      }

      locale = locale || 'en';

      if (fn) {
        fn(Transliterator.getInstance(locale));
      } else {
        return Transliterator.getInstance(locale);
      }
    };

    for (var locale in defaults) {
      Inflector$3.inflections(locale, defaults[locale]);
    }

    var Inflector_1 = Inflector$3;

    (function (module) {

    	module.exports = Inflector_1;
    } (inflected));

    var Inflector$2 = inflected.exports;

    var inflector = {
      caserize: function (attribute, opts) {
        attribute = Inflector$2.underscore(attribute);

        switch (opts.keyForAttribute) {
          case 'dash-case':
          case 'lisp-case':
          case 'spinal-case':
          case 'kebab-case':
            return Inflector$2.dasherize(attribute);
          case 'underscore_case':
          case 'snake_case':
            return attribute;
          case 'CamelCase':
            return Inflector$2.camelize(attribute);
          case 'camelCase':
            return Inflector$2.camelize(attribute, false);
          default:
            return Inflector$2.dasherize(attribute);
        }
      },
      pluralize: function (type) {
        return Inflector$2.pluralize(type);
      }
    };

    var isPlainObject$1 = isPlainObject_1;
    var isFunction$3 = isFunction_1;
    var _find$1 = find_1;
    var _merge = merge_1;
    var _identity = identity_1;
    var _transform$1 = transform_1;
    var _mapValues$1 = mapValues_1;
    var _mapKeys = mapKeys_1;
    var _pick = pick_1;
    var _pickBy = pickBy_1;
    var _each = each.exports;
    var _isNil = isNil_1;
    var Inflector$1 = inflector;

    var serializerUtils = function (collectionName, record, payload, opts) {
      function isComplexType(obj) {
        return Array.isArray(obj) || isPlainObject$1(obj);
      }

      function keyForAttribute(attribute) {
        if (isPlainObject$1(attribute)) {
          return _transform$1(attribute, function (result, value, key) {
            if (isComplexType(value)) {
              result[keyForAttribute(key)] = keyForAttribute(value);
            } else {
              result[keyForAttribute(key)] = value;
            }
          });
        } else if (Array.isArray(attribute)) {
          return attribute.map(function (attr) {
            if (isComplexType(attr)) {
              return keyForAttribute(attr);
            } else {
              return attr;
            }
          });
        } else {
          if (isFunction$3(opts.keyForAttribute)) {
            return opts.keyForAttribute(attribute);
          } else {
            return Inflector$1.caserize(attribute, opts);
          }
        }
      }

      function getId() {
        return opts.id || 'id';
      }

      function getRef(current, item, opts) {
        if (isFunction$3(opts.ref)) {
          return opts.ref(current, item);
        } else if (opts.ref === true) {
          if (Array.isArray(item)) {
            return item.map(function (val) {
              return String(val);
            });
          } else if (item) {
            return String(item);
          }
        } else if (item && item[opts.ref]){
          return String(item[opts.ref]);
        }
      }

      function getType(str, attrVal) {
        var type;
        attrVal = attrVal || {};

        if (isFunction$3(opts.typeForAttribute)) {
          type = opts.typeForAttribute(str, attrVal);
        }

        // If the pluralize option is on, typeForAttribute returned undefined or wasn't used
        if ((opts.pluralizeType === undefined || opts.pluralizeType) && type === undefined) {
          type = Inflector$1.pluralize(str);
        }

        if (type === undefined) {
          type = str;
        }

        return type;
      }

      function getLinks(current, links, dest) {
        return _mapValues$1(links, function (value) {
          if (isFunction$3(value)) {
            return value(record, current, dest);
          } else {
            return value;
          }
        });
      }

      function getMeta(current, meta) {
        if (isFunction$3(meta)) {
            return meta(record);
        } else {
          return _mapValues$1(meta, function (value) {
            if (isFunction$3(value)) {
              return value(record, current);
            } else {
              return value;
            }
          });
        }
      }

      function pick(obj, attributes) {
        return _mapKeys(_pick(obj, attributes), function (value, key) {
          return keyForAttribute(key);
        });
      }

      function isCompoundDocumentIncluded(included, item) {
        return _find$1(payload.included, { id: item.id, type: item.type });
      }

      function pushToIncluded(dest, include) {
        var included = isCompoundDocumentIncluded(dest, include);
        if (included) {
          // Merge relationships
          included.relationships = _merge(included.relationships,
            _pickBy(include.relationships, _identity));

          // Merge attributes
          included.attributes = _merge(included.attributes,
            _pickBy(include.attributes, _identity));
        } else {
          if (!dest.included) { dest.included = []; }
          dest.included.push(include);
        }
      }

      this.serialize = function (dest, current, attribute, opts) {
        var that = this;
        var data = null;

        if (opts && opts.ref) {
          if (!dest.relationships) { dest.relationships = {}; }

          if (Array.isArray(current[attribute])) {
            data = current[attribute].map(function (item) {
              return that.serializeRef(item, current, attribute, opts);
            });
          } else {
            data = that.serializeRef(current[attribute], current, attribute,
              opts);
          }

          dest.relationships[keyForAttribute(attribute)] = {};
          if (!opts.ignoreRelationshipData) {
            dest.relationships[keyForAttribute(attribute)].data = data;
          }

          if (opts.relationshipLinks) {
            var links = getLinks(current[attribute], opts.relationshipLinks, dest);
            if (links.related) {
              dest.relationships[keyForAttribute(attribute)].links = links;
            }
          }

          if (opts.relationshipMeta) {
            dest.relationships[keyForAttribute(attribute)].meta =
              getMeta(current[attribute], opts.relationshipMeta);
          }
        } else {
          if (Array.isArray(current[attribute])) {
            if (current[attribute].length && isPlainObject$1(current[attribute][0])) {
              data = current[attribute].map(function (item) {
                return that.serializeNested(item, current, attribute, opts);
              });
            } else {
              data = current[attribute];
            }

            dest.attributes[keyForAttribute(attribute)] = data;
          } else if (isPlainObject$1(current[attribute])) {
            data = that.serializeNested(current[attribute], current, attribute, opts);
            dest.attributes[keyForAttribute(attribute)] = data;
          } else {
            dest.attributes[keyForAttribute(attribute)] = current[attribute];
          }
        }
      };

      this.serializeRef = function (dest, current, attribute, opts) {
        var that = this;
        var id = getRef(current, dest, opts);
        var type = getType(attribute, dest);

        var relationships = [];
        var includedAttrs = [];

        if (opts.attributes) {
          if (dest) {
            opts.attributes.forEach(function (attr) {
              if (opts[attr] && !dest[attr] && opts[attr].nullIfMissing) {
                dest[attr] = null;
              }
            });
          }
          relationships = opts.attributes.filter(function (attr) {
            return opts[attr];
          });

          includedAttrs = opts.attributes.filter(function (attr) {
            return !opts[attr];
          });
        }

        var included = { type: type, id: id };
        if (includedAttrs) { included.attributes = pick(dest, includedAttrs); }

        relationships.forEach(function (relationship) {
          if (dest && (isComplexType(dest[relationship]) || dest[relationship] === null)) {
            that.serialize(included, dest, relationship, opts[relationship]);
          }
        });

        if (includedAttrs.length &&
          (opts.included === undefined || opts.included)) {
          if (opts.includedLinks) {
            included.links = getLinks(dest, opts.includedLinks);
          }

          if (typeof id !== 'undefined') { pushToIncluded(payload, included); }
        }

        return typeof id !== 'undefined' ? { type: type, id: id } : null;
      };

      this.serializeNested = function (dest, current, attribute, opts) {
        var that = this;

        var embeds = [];
        var attributes = [];

        var ret = {};
        if (opts && opts.attributes) {
          embeds = opts.attributes.filter(function (attr) {
            return opts[attr];
          });

          attributes = opts.attributes.filter(function (attr) {
            return !opts[attr];
          });

          if (attributes) { ret.attributes = pick(dest, attributes); }

          embeds.forEach(function (embed) {
            if (isComplexType(dest[embed])) {
              that.serialize(ret, dest, embed, opts[embed]);
            }
          });
        } else {
          ret.attributes = dest;
        }

        return ret.attributes;
      };

      this.perform = function () {
        var that = this;

        if( record === null ){
            return null;
        }

        // If option is present, transform record
        if (opts && opts.transform) {
          record = opts.transform(record);
        }

        // Top-level data.
        var data = { type: getType(collectionName, record) };
        if (!_isNil(record[getId()])) { data.id = String(record[getId()]); }

        // Data links.
        if (opts.dataLinks) {
          data.links = getLinks(record, opts.dataLinks);
        }

        // Data meta
        if (opts.dataMeta) {
          data.meta = getMeta(record, opts.dataMeta);
        }

        _each(opts.attributes, function (attribute) {
          var splittedAttributes = attribute.split(':');

          if (opts[attribute] && !record[attribute] && opts[attribute].nullIfMissing) {
            record[attribute] = null;
          }

          if (splittedAttributes[0] in record) {
            if (!data.attributes) { data.attributes = {}; }

            var attributeMap = attribute;
            if (splittedAttributes.length > 1) {
              attribute = splittedAttributes[0];
              attributeMap = splittedAttributes[1];
            }

            that.serialize(data, record, attribute, opts[attributeMap]);
          }
        });

        return data;
      };
    };

    var isFunction$2 = isFunction_1;
    var _mapValues = mapValues_1;
    var SerializerUtils = serializerUtils;

    var serializer$1 = function (collectionName, records, opts) {
      this.serialize = function (records) {
        var that = this;
        var payload = {};

        function getLinks(links) {
          return _mapValues(links, function (value) {
            if (isFunction$2(value)) {
              return value(records);
            } else {
              return value;
            }
          });
        }

        function collection() {
          payload.data = [];

          records.forEach(function (record) {
            var serializerUtils = new SerializerUtils(that.collectionName, record,
              payload, that.opts);
            payload.data.push(serializerUtils.perform());
          });

          return payload;
        }

        function resource() {
          payload.data = new SerializerUtils(that.collectionName, records, payload,
            that.opts).perform(records);

          return payload;
        }

        if (that.opts.topLevelLinks) {
          payload.links = getLinks(that.opts.topLevelLinks);
        }

        if (that.opts.meta) {
          payload.meta = _mapValues(that.opts.meta, function (value) {
            if (isFunction$2(value)) {
              return value(records);
            } else {
              return value;
            }
          });
        }

        if (Array.isArray(records)) {
          return collection();
        } else {
          return resource();
        }
      };

      if (arguments.length === 3) {
        // legacy behavior
        this.collectionName = collectionName;
        this.opts = opts;
        return this.serialize(records);
      } else {
        // treat as a reusable serializer
        this.collectionName = collectionName;
        this.opts = records;
      }
    };

    var extend = {exports: {}};

    var copyObject = _copyObject,
        createAssigner = _createAssigner,
        keysIn = keysIn_1;

    /**
     * This method is like `_.assign` except that it iterates over own and
     * inherited source properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extend
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assign
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assignIn({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }
     */
    var assignIn = createAssigner(function(object, source) {
      copyObject(source, keysIn(source), object);
    });

    var assignIn_1 = assignIn;

    (function (module) {
    	module.exports = assignIn_1;
    } (extend));

    var isPlainObject = isPlainObject_1;
    var isFunction$1 = isFunction_1;
    var _find = find_1;
    var _extend = extend.exports;
    var _transform = transform_1;
    var Inflector = inflector;

    var deserializerUtils = function (jsonapi, data, opts) {

      function isComplexType(obj) {
        return Array.isArray(obj) || isPlainObject(obj);
      }

      function getValueForRelationship(relationshipData, included) {
        if (opts && relationshipData && opts[relationshipData.type]) {
          var valueForRelationshipFct = opts[relationshipData.type]
            .valueForRelationship;

          return valueForRelationshipFct(relationshipData, included);
        } else {
          return included;
        }
      }

      function findIncluded(relationshipData, ancestry) {
        return new Promise(function (resolve) {
          if (!jsonapi.included || !relationshipData) { resolve(null); }

          var included = _find(jsonapi.included, {
            id: relationshipData.id,
            type: relationshipData.type
          });

          if (included) {
            // To prevent circular references, check if the record type
            // has already been processed in this thread
            if (ancestry.indexOf(included.type) > -1) {
              return Promise
                .all([extractAttributes(included)])
                .then(function (results) {
                  var attributes = results[0];
                  var relationships = results[1];
                  resolve(_extend(attributes, relationships));
                });
            }

            return Promise
              .all([extractAttributes(included), extractRelationships(included, ancestry + ':' + included.type + included.id)])
              .then(function (results) {
                var attributes = results[0];
                var relationships = results[1];
                resolve(_extend(attributes, relationships));
              });
          } else {
            return resolve(null);
          }
        });
      }

      function keyForAttribute(attribute) {
        if (isPlainObject(attribute)) {
          return _transform(attribute, function (result, value, key) {
            if (isComplexType(value)) {
              result[keyForAttribute(key)] = keyForAttribute(value);
            } else {
              result[keyForAttribute(key)] = value;
            }
          });
        } else if (Array.isArray(attribute)) {
          return attribute.map(function (attr) {
            if (isComplexType(attr)) {
              return keyForAttribute(attr);
            } else {
              return attr;
            }
          });
        } else {
          if (isFunction$1(opts.keyForAttribute)) {
            return opts.keyForAttribute(attribute);
          } else {
            return Inflector.caserize(attribute, opts);
          }
        }
      }

      function extractAttributes(from) {
        var dest = keyForAttribute(from.attributes || {});
        if ('id' in from) { dest[opts.id || 'id'] = from.id; }

        if (opts.typeAsAttribute) {
          if ('type' in from) { dest.type = from.type; }
        }
        if ('meta' in from) { dest.meta = keyForAttribute(from.meta || {}); }

        return dest;
      }

      function extractRelationships(from, ancestry) {
        if (!from.relationships) { return; }

        var dest = {};

        return Promise
          .all(Object.keys(from.relationships).map(function (key) {
            var relationship = from.relationships[key];

            if (relationship.data === null) {
              dest[keyForAttribute(key)] = null;
            } else if (Array.isArray(relationship.data)) {
              return Promise
                .all(relationship.data.map(function (relationshipData) {
                  return extractIncludes(relationshipData, ancestry);
                }))
                .then(function (includes) {
                  if (includes) { dest[keyForAttribute(key)] = includes; }
                });
            } else {
              return extractIncludes(relationship.data, ancestry)
                .then(function (includes) {
                  if (includes) { dest[keyForAttribute(key)] = includes; }
                });
            }
          }))
          .then(function() {
            return dest;
          });
      }

      function extractIncludes(relationshipData, ancestry) {
        return findIncluded(relationshipData, ancestry)
          .then(function (included) {
            var valueForRelationship = getValueForRelationship(relationshipData,
              included);

            if (valueForRelationship && isFunction$1(valueForRelationship.then)) {
              return valueForRelationship.then(function (value) {
                return value;
              });
            } else {
              return valueForRelationship;
            }
          });
      }

      this.perform = function () {
        return Promise
          .all([extractAttributes(data), extractRelationships(data, data.type + data.id)])
          .then(function (results) {
            var attributes = results[0];
            var relationships = results[1];
            var record = _extend(attributes, relationships);

            // Links
            if (jsonapi.links) {
              record.links = jsonapi.links;
            }

            // If option is present, transform record
            if (opts && opts.transform) {
              record = opts.transform(record);
            }

            return record;
          });
      };
    };

    var isFunction = isFunction_1;
    var DeserializerUtils = deserializerUtils;

    var deserializer = function (opts) {
      if (!opts) { opts = {}; }

      this.deserialize = function (jsonapi, callback) {
        function collection() {
          return Promise
            .all(jsonapi.data.map(function (d) {
              return new DeserializerUtils(jsonapi, d, opts).perform();
            }))
            .then(function (result) {
              if (isFunction(callback)) {
                callback(null, result);
              }

              return result
            });
        }

        function resource() {
          return new DeserializerUtils(jsonapi, jsonapi.data, opts)
            .perform()
            .then(function (result) {
              if (isFunction(callback)) {
                callback(null, result);
              }

              return result
            });
        }

        if (Array.isArray(jsonapi.data)) {
          return collection();
        } else {
          return resource();
        }
      };
    };

    var errorUtils = function (errors) {
      var jsonapi = {
        errors: []
      };

      errors.forEach(function (error) {
        var opts = {};

        if (error.id) { opts.id = error.id; }
        if (error.status) { opts.status = error.status; }
        if (error.code) { opts.code = error.code; }
        if (error.title) { opts.title = error.title; }
        if (error.detail) { opts.detail = error.detail; }

        if (error.source) {
          opts.source = {};

          if (error.source.pointer) {
            opts.source.pointer =  error.source.pointer;
          }

          if (error.source.parameter) {
            opts.source.parameter =  error.source.parameter;
          }
        }

        if (error.links) {
          opts.links = { about: error.links.about };
        }

        if (error.meta) {
          opts.meta = error.meta;
        }

        jsonapi.errors.push(opts);
      });

      return jsonapi;
    };

    var ErrorUtils = errorUtils;

    var error$2 = function (opts) {
      if (!opts) { opts = []; }

      if (Array.isArray(opts)) {
        return new ErrorUtils(opts);
      } else {
        return new ErrorUtils([opts]);
      }
    };

    var jsonapiSerializer = {
      Serializer: serializer$1,
      Deserializer: deserializer,
      Error: error$2,
    };

    const TransformerService = 'FES.TransformerService';

    // organize-imports-ignore
    const { Deserializer } = jsonapiSerializer;
    /**
     * Deserializes json response. Combines relationships, includes into one data (transforms include key e.g. 'include-example' into camelCase e.g 'includeExample').
     */
    class DefaultJsonAPITransformerService {
        constructor(transformer = inject(TransformerService)) {
            this.transformer = transformer;
            this.deserializer = new Deserializer({
                keyForAttribute: 'camelCase',
            });
        }
        transform(data, token) {
            return ssrAwaiter(this.deserializer.deserialize(data)).pipe(cjs.switchMap((deserializedData) => this.transformer.transform(deserializedData, token)));
        }
        do(token) {
            return (source$) => source$.pipe(cjs.switchMap((data) => this.transform(data, token)));
        }
        serialize(data, token) {
            return this.transformer.transform(data, token).pipe(cjs.map((serialized) => ({
                data: {
                    ...serialized,
                },
            })));
        }
    }

    const JsonAPITransformerService = 'FES.DefaultJsonAPITransformerService';

    const coreProviders = [
        {
            provide: HttpHandler,
            useClass: DefaultHttpHandler,
        },
        {
            provide: HttpService,
            useClass: DefaultHttpService,
        },
        {
            provide: ContextService,
            useClass: DefaultContextService,
        },
        {
            provide: JsonAPITransformerService,
            useClass: DefaultJsonAPITransformerService,
        },
        {
            provide: TransformerService,
            useClass: DefaultTransformerService,
        },
        {
            provide: StorageService,
            useClass: DefaultStorageService,
        },
        {
            provide: ErrorService,
            useClass: DefaultErrorService,
        },
    ];

    const SSRAwaiterService = 'FES.SSRAwaiterService';

    const coreFeature = {
        providers: coreProviders,
    };

    class ObserveController {
        constructor(host) {
            this.host = host;
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            this.observablesMap = new Map();
            (this.host = host).addController(this);
        }
        get(property) {
            return cjs.defer(() => {
                if (!this.observablesMap.has(property)) {
                    this.observablesMap.set(property, new cjs.BehaviorSubject(this.host[property]));
                }
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                const subject$ = this.observablesMap.get(property);
                if (subject$.getValue() !== this.host[property]) {
                    subject$.next(this.host[property]);
                }
                return subject$;
            });
        }
        hostUpdated() {
            for (const [property, subject$] of this.observablesMap.entries()) {
                if (this.host[property] !== subject$.getValue()) {
                    subject$.next(this.host[property]);
                }
            }
        }
    }

    const throwSubjectError = (subject$) => {
        if (subject$ && !subject$.next) {
            throw `Invalid observe value: incorrect ${subject$} for observe decorator, please use rxjs subjects`;
        }
    };
    const getReactiveDescriptor = (proto, propertyKey) => {
        const ownDescriptor = Object.getOwnPropertyDescriptor(proto, propertyKey);
        if (!ownDescriptor) {
            throw `Invalid observed property name: incorrect ${propertyKey} for observe decorator, please use already created reactive property name as an element to observe`;
        }
        return ownDescriptor;
    };
    const legacyObserve = (proto, subjectKey, propertyKey) => {
        const reactiveDescriptor = getReactiveDescriptor(proto, propertyKey);
        const internalSubjectKey = Symbol(subjectKey);
        const propertyDescriptor = {
            ...reactiveDescriptor,
            set(newValue) {
                reactiveDescriptor.set?.call(this, newValue);
                if (this[internalSubjectKey]) {
                    this[internalSubjectKey].next(newValue);
                }
            },
        };
        const subjectDescriptor = {
            get() {
                return this[internalSubjectKey];
            },
            set(value$) {
                throwSubjectError(value$);
                const descriptor = {
                    value: value$,
                    enumerable: false,
                    configurable: true,
                };
                Object.defineProperty(this, internalSubjectKey, descriptor);
            },
            enumerable: false,
            configurable: true,
        };
        Object.defineProperty(proto, subjectKey, subjectDescriptor);
        Object.defineProperty(proto, propertyKey, propertyDescriptor);
    };
    const standardObserve = (context, subjectKey, propertyKey) => {
        return {
            ...context,
            initializer() {
                const subject$ = context.initializer?.call(this);
                throwSubjectError(subject$);
                subject$.next(this[propertyKey]);
                return subject$;
            },
            finisher(clazz) {
                const proto = clazz.prototype;
                const reactiveDescriptor = getReactiveDescriptor(proto, propertyKey);
                const propertyDescriptor = {
                    ...reactiveDescriptor,
                    set(newValue) {
                        reactiveDescriptor.set?.call(this, newValue);
                        if (this[subjectKey]) {
                            this[subjectKey].next(newValue);
                        }
                    },
                };
                Object.defineProperty(proto, propertyKey, propertyDescriptor);
            },
        };
    };
    /**
     * Marking a class property with `@observe` will generate a hidden Subject (BehaviorSubject by default), and modify the getters and setters
     *  of that property to update/take from the Subject.
     *
     * Example
     * export class Component extends LitElement {
     *  @property()
     *  prop = 'prop';
     *
     *  @observe()
     *  prop$ = new ReplaySubject();
     *
     *  @state()
     *  prop1 = 'prop1';
     *
     *  @observe()
     *  prop1$ = new BehaviorSubject(this.prop1);
     *
     *  @property()
     *  prop3 = 'prop3';
     *
     *  @observe()
     *  prop3$ = new Subject();
     * }
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function observe(property) {
        return (context, name) => {
            const isLegacy = (context, name) => {
                return name !== undefined;
            };
            const subjectKey = (isLegacy(context, name) ? name : context.key);
            const propertyKey = property ?? subjectKey.slice(0, -1);
            return isLegacy(context, name)
                ? legacyObserve(context, subjectKey, propertyKey)
                : standardObserve(context, subjectKey, propertyKey);
        };
    }

    class SubscribeController {
        constructor(host) {
            this.host = host;
            this.subscriptions = new cjs.Subscription();
            this.observables = new Map();
            // TODO: temporary solution should be solved with proper hook provided from lit
            this.context = resolve('FES.ContextService', null);
            (this.host = host).addController(this);
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            this.context?.rendered$?.subscribe?.(() => this.unsubscribe());
        }
        hostConnected() {
            for (const observable$ of this.observables.keys()) {
                this.subscribe(observable$);
            }
        }
        hostDisconnected() {
            this.unsubscribe();
        }
        add(observable$, key) {
            if (this.observables.has(key)) {
                return;
            }
            if (!cjs.isObservable(observable$)) {
                throw `Invalid SubscribeController value: incorrect ${observable$} for SubscribeController, use observable`;
            }
            this.observables.set(key, {
                observable$,
                subscription: null,
            });
        }
        subscribe(key) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const data = this.observables.get(key);
            if (data?.subscription) {
                return;
            }
            data.subscription = data.observable$.subscribe();
        }
        unsubscribe() {
            for (const observable$ of this.observables.values()) {
                if (observable$.subscription) {
                    observable$.subscription.unsubscribe();
                    observable$.subscription = null;
                }
            }
        }
    }

    const SUBSCRIBE_CONTROLLER = Symbol('subscribeController');
    function controllerCreation(target) {
        if (!target[SUBSCRIBE_CONTROLLER]) {
            const descriptor = {
                value: new SubscribeController(target),
                enumerable: false,
                configurable: true,
            };
            Object.defineProperty(target, SUBSCRIBE_CONTROLLER, descriptor);
        }
    }
    const legacySubscribe = (context, name) => {
        const constructor = context.constructor;
        const internalKey = Symbol(name);
        const willUpdate = context['willUpdate'];
        Object.defineProperty(context, name, {
            get: function () {
                return this[internalKey];
            },
            set: function (observable$) {
                if (!this[internalKey]) {
                    this[SUBSCRIBE_CONTROLLER].add(observable$, name);
                }
                this[internalKey] = observable$;
            },
            configurable: true,
        });
        context['willUpdate'] = function (props) {
            this[SUBSCRIBE_CONTROLLER].hostConnected();
            willUpdate.call(this, props);
        };
        constructor.addInitializer((instance) => {
            controllerCreation(instance);
        });
    };
    const standardSubscribe = (context, name) => {
        return {
            ...context,
            initializer() {
                const observable$ = context.initializer?.call(this);
                controllerCreation(this);
                this[SUBSCRIBE_CONTROLLER].add(observable$, name);
                return observable$;
            },
        };
    };
    /**
     * Marking a class property with `@subscribe` will create subscription of decorated observable on connectedCallback and unsubscribe
     * of that property on disconnectedCallback
     *
     * Example
     * export class Component extends LitElement {
     *  @subscribe()
     *  prop = from([1, 2, 3, 4]).pipe(// implementation //);
     * }
     *
     * NOTE: This decorator should be used only with LitElement (or mixing) and will not work properly, when used inside other classes
     * like controllers or services.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function subscribe() {
        return (context, name) => {
            const isLegacy = (context, name) => {
                return name !== undefined;
            };
            const propName = (isLegacy(context, name) ? name : context.key);
            return isLegacy(context, name)
                ? legacySubscribe(context, propName)
                : standardSubscribe(context, propName);
        };
    }

    /**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const {I:l$3}=L,t$2=o=>null===o||"object"!=typeof o&&"function"!=typeof o,n$6=(o,l)=>void 0===l?void 0!==(null==o?void 0:o._$litType$):(null==o?void 0:o._$litType$)===l,v=o=>null==o?void 0:o._$litDirective$,e$4=o=>void 0===o.strings,c$3=()=>document.createComment(""),r$2=(o,t,i)=>{var n;const d=o._$AA.parentNode,v=void 0===t?o._$AB:t._$AA;if(void 0===i){const t=d.insertBefore(c$3(),v),n=d.insertBefore(c$3(),v);i=new l$3(t,n,o,o.options);}else {const l=i._$AB.nextSibling,t=i._$AM,e=t!==o;if(e){let l;null===(n=i._$AQ)||void 0===n||n.call(i,o),i._$AM=o,void 0!==i._$AP&&(l=o._$AU)!==t._$AU&&i._$AP(l);}if(l!==v||e){let o=i._$AA;for(;o!==l;){const l=o.nextSibling;d.insertBefore(o,v),o=l;}}}return i},u$2=(o,l,t=o)=>(o._$AI(l,t),o),f$1={},s$3=(o,l=f$1)=>o._$AH=l,m$1=o=>o._$AH,p$1=o=>{var l;null===(l=o._$AP)||void 0===l||l.call(o,!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o;}};

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const s$2=(i,t)=>{var e,o;const r=i._$AN;if(void 0===r)return !1;for(const i of r)null===(o=(e=i)._$AO)||void 0===o||o.call(e,t,!1),s$2(i,t);return !0},o$5=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t;}while(0===(null==e?void 0:e.size))},r$1=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),l$2(t);}};function n$5(i){void 0!==this._$AN?(o$5(this),this._$AM=i,r$1(this)):this._$AM=i;}function h$2(i,t=!1,e=0){const r=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s$2(r[i],!1),o$5(r[i]);else null!=r&&(s$2(r,!1),o$5(r));else s$2(this,i);}const l$2=i=>{var t,s,o,r;i.type==t$3.CHILD&&(null!==(t=(o=i)._$AP)&&void 0!==t||(o._$AP=h$2),null!==(s=(r=i)._$AQ)&&void 0!==s||(r._$AQ=n$5));};class c$2 extends i$5{constructor(){super(...arguments),this._$AN=void 0;}_$AT(i,t,e){super._$AT(i,t,e),r$1(this),this.isConnected=i._$AU;}_$AO(i,t=!0){var e,r;i!==this.isConnected&&(this.isConnected=i,i?null===(e=this.reconnected)||void 0===e||e.call(this):null===(r=this.disconnected)||void 0===r||r.call(this)),t&&(s$2(this,i),o$5(this));}setValue(t){if(e$4(this._$Ct))this._$Ct._$AI(t,this);else {const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0);}}disconnected(){}reconnected(){}}

    class AsyncValueObservableStrategy {
        createSubscription(async, update) {
            return async.subscribe({
                next: update,
                error: (error) => {
                    throw error;
                },
            });
        }
        dispose(subscription) {
            subscription?.unsubscribe();
        }
    }

    class AsyncValuePromiseStrategy {
        createSubscription(async, update) {
            return async.then(update).catch((error) => {
                throw error;
            });
        }
        // eslint-disable-next-line @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars
        dispose(subscription) { }
    }

    const asyncValueObservableInstance = new AsyncValueObservableStrategy();
    const asyncValuePromiseInstance = new AsyncValuePromiseStrategy();
    class AsyncValueDirective extends c$2 {
        constructor(partInfo) {
            super(partInfo);
            this.object = null;
            this.strategy = null;
            this.subscription = null;
            this.ssrRendered = false;
            this.content = [null];
            // In the case of SSR rendering, we'd like to not render the fallback, and the markup should just be hydrated.
            // The async directive does not directly have access to the component except through the constructor, so we do the check here.
            this.ssrRendered = !!partInfo.options?.host?.shadowRoot && !o$8;
        }
        setValue(value) {
            try {
                super.setValue(value);
                this.content = [];
            }
            catch (e) {
                this.content[0] = value;
            }
        }
        render(object, template, fallback) {
            if (object && !this.object && this.isConnected) {
                this.subscribe(object, template, fallback);
            }
            if (object !== undefined && object !== this.object && this.isConnected) {
                this.dispose();
                this.render(object, template, fallback);
            }
            return this.content.length ? this.content : T;
        }
        async disconnected() {
            await 0;
            if (!this.isConnected) {
                this.dispose();
            }
        }
        reconnected() {
            if (this.object) {
                this.subscribe(this.object, this.template, this.fallback);
            }
        }
        subscribe(object, template, fallback) {
            if (fallback && !this.ssrRendered) {
                this.setValue(fallback());
            }
            this.object = object;
            this.template = template;
            this.fallback = fallback;
            this.strategy = this.select(object);
            this.subscription = this.strategy.createSubscription(object, (value) => {
                if (template) {
                    this.setValue(template(value));
                    return;
                }
                this.setValue(value);
            });
        }
        dispose() {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            this.strategy?.dispose(this.subscription);
            this.object = null;
            this.strategy = null;
            this.subscription = null;
            this.template = undefined;
            this.fallback = undefined;
            this.setValue(null);
        }
        select(object) {
            if (isPromise(object)) {
                return asyncValuePromiseInstance;
            }
            if (cjs.isObservable(object)) {
                return asyncValueObservableInstance;
            }
            throw `Invalid AsyncValueDirective: ${object} for AsyncValueDirective`;
        }
    }
    /**
     * The asyncValue directive subscribes to an Observable or Promise and returns the latest value it has emitted.
     * When the component gets destroyed, the asyncValue directive unsubscribes automatically to avoid potential memory leaks.
     * When the reference of the expression changes, the asyncValue directive automatically unsubscribes from the old Observable or Promise and subscribes to the new one.
     * When second and third params defined asyncValue directive renders them as templates.
     *
     * Example
     * export class Component extends LitElement {
     *  prop$ = new BehaviorSubject('value');
     *
     *  render(): TemplateResult {
     *    return html`
     *      asyncValue(this.prop$)
     *      asyncValue(
     *        this.prop$,
     *        (value) => html`<div class="callback">${value}</div>`,
     *        () => html`<div class="fallback"></div>`
     *      )
     *    `;
     *  }
     * }
     */
    const asyncValue = e$7(AsyncValueDirective);

    const AppRef = 'FES.AppRef';
    function isAppPluginBeforeApply(plugin) {
        return (typeof plugin.beforeApply ===
            'function');
    }
    function isAppPluginAfterApply(plugin) {
        return (typeof plugin.afterApply === 'function');
    }

    var DesignTokenGlobal;
    (function (DesignTokenGlobal) {
        DesignTokenGlobal["Global"] = "global";
    })(DesignTokenGlobal || (DesignTokenGlobal = {}));
    const ThemePluginName = 'core$theme';
    /**
     * Resolves components styles from theme options.
     * Adds design tokens and global styles to the root component of into body inside style tag.
     * Resolves icons from theme options.
     * Changes static method by token {@link IconHookToken} for custom core implementation.
     */
    class ThemePlugin {
        constructor(themes) {
            this.themes = themes;
            this.breakpoints = {};
            this.breakpointsOrder = [];
            this.icons = Object.create(null);
            this.cssVarPrefix = '--oryx';
            this.mediaMapper = {
                ["mode" /* ThemeDefaultMedia.Mode */]: {
                    dark: 'prefers-color-scheme: dark',
                },
                ["screen" /* ThemeDefaultMedia.Screen */]: {
                    min: 'min-width',
                    max: 'max-width',
                },
            };
            this.propertiesCollector(themes);
        }
        getName() {
            return ThemePluginName;
        }
        beforeApply(app) {
            this.app = app;
        }
        getIconsList() {
            return this.icons;
        }
        async apply() {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain
            const componentOptions = this.app?.findPlugin(ComponentsPlugin).options;
            const isIconExtended = componentOptions[HOOKS_KEY]?.[IconHookToken];
            if (Object.keys(this.icons).length && !isIconExtended) {
                componentOptions[HOOKS_KEY] = {
                    ...(componentOptions[HOOKS_KEY] ?? {}),
                    [IconHookToken]: iconHook,
                };
            }
            if (typeof componentOptions.root === 'string' && document.body) {
                const styles = document.createElement('style');
                const streamStyles = await this.setStyles(':root');
                styles.innerHTML = streamStyles.styles;
                document.body.prepend(styles);
            }
        }
        normalizeStyles(styles) {
            if (this.isThemeCollection(styles)) {
                return this.generateBreakpoints(styles);
            }
            return this.normalizer(styles);
        }
        async resolve(componentDef) {
            const { name, stylesheets = [] } = componentDef;
            const implementations = [];
            const componentPlugin = this.app?.findPlugin(ComponentsPlugin);
            for (const styles of stylesheets) {
                if (!styles.theme) {
                    implementations.push(this.loadThemeImplFn(styles.rules));
                    continue;
                }
                const component = this.themes.find((theme) => styles?.theme === theme.name);
                if (!component) {
                    continue;
                }
                implementations.push(this.loadThemeImplFn(styles.rules));
            }
            if (componentPlugin?.rootSelector === name) {
                implementations.unshift(this.setStyles());
            }
            const themes = await Promise.all(implementations);
            return themes.length ? themes : null;
        }
        async getIcon(icon) {
            const iconImpl = this.icons?.[icon];
            if (!iconImpl) {
                return;
            }
            return await this.loadThemeImplFn(iconImpl);
        }
        getIconTemplate(icon) {
            return this.icons?.[icon];
        }
        getBreakpoints() {
            return this.breakpoints;
        }
        /**
         * Interpolates value from {@link mediaMapper} by value path.
         * Value path should be separated by a dot. (e.g. `mode.dark`)
         */
        generateMedia(value) {
            const path = value.split('.');
            const isScreen = path[0] === "screen" /* ThemeDefaultMedia.Screen */;
            const mediaKey = getPropByPath(this.mediaMapper, isScreen ? "screen" /* ThemeDefaultMedia.Screen */ : value);
            const media = (expression) => `@media ${expression}`;
            if (isScreen && this.breakpoints) {
                const dimension = this.breakpoints[path[1]];
                let expression = dimension?.min?.toString()
                    ? `(${mediaKey.min}: ${dimension?.min}px)`
                    : '';
                expression +=
                    dimension?.min?.toString() && dimension?.max?.toString() ? ' and ' : '';
                expression += dimension?.max?.toString()
                    ? `(${mediaKey.max}: ${dimension?.max}px)`
                    : '';
                return media(expression);
            }
            return media(`(${mediaKey})`);
        }
        async setStyles(root = ':host') {
            let stream = '';
            const designTokensMapper = {};
            const replaced = [...this.themes];
            const isTokens = (arg) => !!arg.tokens;
            const generateCssVarKey = (currentKey, parentKey) => (parentKey ? `${parentKey}-${currentKey}` : currentKey);
            for (let i = 0; i < replaced.length; i++) {
                const theme = replaced[i];
                if (!isTokens(theme)) {
                    const { designTokens } = theme;
                    const tokensArr = await this.loadThemeImplFn(designTokens);
                    if (!tokensArr) {
                        continue;
                    }
                    this.sortByBreakpoints(tokensArr);
                    for (let i = 0; i < tokensArr.length; i++) {
                        replaced.push({ tokens: { ...tokensArr[i] } });
                    }
                    continue;
                }
                const { tokens } = theme;
                let tokenMedia = "global" /* DesignTokenGlobal.Global */;
                if (tokens?.media) {
                    for (const key in tokens.media) {
                        tokenMedia = `${key}.${tokens.media[key]}`;
                    }
                    delete tokens.media;
                }
                designTokensMapper[tokenMedia] = {
                    ...designTokensMapper[tokenMedia],
                };
                const tokensArr = Object.entries(tokens);
                for (let i = 0; i < tokensArr.length; i++) {
                    const [key, token, parentKey] = tokensArr[i];
                    if (typeof token === 'string') {
                        const tokenKey = `${this.cssVarPrefix}-${generateCssVarKey(key, parentKey)}`;
                        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                        designTokensMapper[tokenMedia][tokenKey] = token;
                        continue;
                    }
                    for (const subKey in token) {
                        tokensArr.push([
                            subKey,
                            token[subKey],
                            generateCssVarKey(key, parentKey),
                        ]);
                    }
                }
            }
            for (const media in designTokensMapper) {
                const tokensList = designTokensMapper[media];
                let start = '';
                let end = '}';
                if (media !== "global" /* DesignTokenGlobal.Global */) {
                    end += '}';
                    start += ` ${this.generateMedia(media)} {`;
                }
                start += ` ${root} {`;
                for (const key in tokensList) {
                    start += `${key}: ${tokensList[key]};`;
                }
                stream += `${start}${end}`;
            }
            return {
                styles: stream,
            };
        }
        generateBreakpoints(styles) {
            let stylesStream = '';
            this.sortByBreakpoints(styles);
            const stringifiedStyles = (styles) => this.normalizer(styles).reduce((acc, style) => `${acc} ${style.toString()}`, '');
            for (const style of styles) {
                if (!this.isMediaStyles(style)) {
                    stylesStream += ` ${stringifiedStyles(style)}`;
                    continue;
                }
                let media = '';
                for (const key in style.media) {
                    media = `${key}.${style.media[key]}`;
                }
                stylesStream += ` ${this.generateMedia(media)} {${stringifiedStyles(style.css)}}`;
            }
            return [r$5(stylesStream)];
        }
        propertiesCollector(themes) {
            for (const { breakpoints, icons } of themes) {
                const sortableBP = Object.fromEntries(Object.entries(breakpoints ?? {}).sort(([, a], [, b]) => a.min - b.min));
                this.breakpoints = {
                    ...this.breakpoints,
                    ...sortableBP,
                };
                this.icons = {
                    ...this.icons,
                    ...icons,
                };
            }
            this.breakpointsOrder = Object.keys(this.breakpoints);
        }
        isThemeCollection(styles) {
            return Array.isArray(styles) && styles.some(this.isMediaStyles);
        }
        isMediaStyles(styles) {
            return !(styles instanceof o$c) && typeof styles !== 'string';
        }
        sortByBreakpoints(styles) {
            styles.sort((a, b) => this.breakpointsOrder.indexOf(a.media?.screen ?? '') -
                this.breakpointsOrder.indexOf(b.media?.screen ?? ''));
        }
        normalizer(theme) {
            if (typeof theme === 'string') {
                return [r$5(theme)];
            }
            return Array.isArray(theme) ? theme : [theme];
        }
        loadThemeImplFn(impl) {
            try {
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                const value = impl();
                return (isPromise(value) ? value : impl);
            }
            catch {
                return impl;
            }
        }
    }

    var ThemeStrategies;
    (function (ThemeStrategies) {
        ThemeStrategies["Replace"] = "replace";
        ThemeStrategies["ReplaceAll"] = "replace-all";
    })(ThemeStrategies || (ThemeStrategies = {}));
    var ThemeDefaultMedia;
    (function (ThemeDefaultMedia) {
        ThemeDefaultMedia["Screen"] = "screen";
        ThemeDefaultMedia["Mode"] = "mode";
    })(ThemeDefaultMedia || (ThemeDefaultMedia = {}));

    /**
     * Used for observing shadow DOM content.
     */
    function observableShadow(componentType) {
        return class ObservableShadowElement extends componentType {
            constructor() {
                super(...arguments);
                this._attachedShadow = new PromiseSubject();
            }
            whenShadowAttached() {
                return this._attachedShadow.asPromise();
            }
            attachShadow(...args) {
                const shadowRoot = super.attachShadow(...args);
                this._attachedShadow.resolve(shadowRoot);
                return shadowRoot;
            }
        };
    }
    function isObservableShadowElement(element) {
        return (typeof element.whenShadowAttached ===
            'function');
    }

    const ComponentsPluginName = 'core$components';
    /**
     *  Registers, loads and defines components. Observes nodes (including shadowDOM).
     *  Defines components in lazy-load and preload modes, depends on options {@link ComponentsPluginOptions}.
     *  Redefines component static method by {@link HOOKS_KEY}.
     *  Applies theme styles for component definition.
     */
    class ComponentsPlugin {
        constructor(componentsInfo, options) {
            this.options = options;
            this.componentDefMap = new Map();
            this.logger = this.options?.logger ?? console;
            this.componentMap = new Map();
            this.observer = new MutationObserver(this.handleMutations.bind(this));
            this.implMetaPreload = {};
            this.implMetaInDom = { foundInDom: true };
            this.implMetaProgrammatic = {
                programmaticLoad: true,
            };
            this.rootSelector = '';
            this.registerComponents(componentsInfo);
        }
        getName() {
            return ComponentsPluginName;
        }
        async apply(app) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            this.theme = app.findPlugin(ThemePlugin);
            this.rootSelector =
                typeof this.options.root === 'string'
                    ? this.options.root
                    : this.processDef(this.options.root).name;
            if (this.options.preload) {
                await this.preloadComponents();
                return;
            }
            const rootElement = document.querySelector?.(this.rootSelector);
            if (!rootElement) {
                throw new ComponentsPluginError(`Cannot find root element by selector '${this.rootSelector}'!`);
            }
            await this.preloadComponents();
            this.observe(rootElement);
        }
        destroy() {
            this.observer.disconnect();
        }
        registerComponents(componentsInfo) {
            componentsInfo.flat().forEach((info) => {
                const def = this.processDef(info);
                this.componentDefMap.set(def.name, def);
            });
        }
        async loadComponent(name) {
            return this.loadAndDefineComponent(name, this.implMetaProgrammatic);
        }
        observe(element) {
            this.observer.observe(element, {
                subtree: true,
                childList: true,
                attributes: false,
                characterData: false,
            });
            // Start first check immediately
            this.checkNode(element);
        }
        handleMutations(mutations) {
            this.checkNodes(mutations.map((m) => Array.from(m.addedNodes)).flat());
        }
        checkNodes(nodes) {
            nodes.forEach((node) => this.checkNode(node));
        }
        checkNode(node) {
            if (isNodeElement(node)) {
                const tag = this.processName(node.nodeName);
                if (node.shadowRoot) {
                    this.observe(node.shadowRoot);
                }
                else if (isObservableShadowElement(node)) {
                    this.observeShadow(node);
                }
                else {
                    this.tryLoadAndDefineComponent(tag, this.implMetaInDom).then(() => {
                        customElements.upgrade(node);
                        this.maybeObserveShadow(node);
                    });
                }
            }
            this.checkNodes(Array.from(node.childNodes));
        }
        maybeObserveShadow(element) {
            if (isObservableShadowElement(element)) {
                this.observeShadow(element);
            }
        }
        observeShadow(element) {
            element.whenShadowAttached().then((shadowRoot) => this.observe(shadowRoot));
        }
        async preloadComponents() {
            const preloaded = await Promise.all(Array.from(this.componentDefMap.values()).map((def) => this.maybeLoadComponentImplStrategy(def, this.implMetaPreload)));
            preloaded.filter(isDefined).map((def) => this.useComponent(def.name));
        }
        async tryLoadAndDefineComponent(name, meta) {
            try {
                return await this.loadAndDefineComponent(name, meta);
            }
            catch {
                // That's okay, we tried
                return;
            }
        }
        async loadAndDefineComponent(name, meta) {
            const def = this.findComponentDefBy(name);
            const observableType = await this.loadComponentDef(def, meta);
            // If component not yet loaded - skip definition
            if (!observableType) {
                return;
            }
            this.useComponent(name, true);
            return observableType;
        }
        useComponent(name, noWarn = false) {
            const existingType = customElements.get(name);
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const { observableType, componentType } = this.componentMap.get(name);
            if (existingType) {
                if (!noWarn) {
                    this.logger.warn(`Component '${name}' already defined as '${existingType.name}', skipping definition of '${componentType.name}'!`);
                }
                return;
            }
            if (componentType[HOOKS_KEY] && this.options[HOOKS_KEY]) {
                for (const [token, methodName] of Object.entries(componentType[HOOKS_KEY])) {
                    const newHook = this.options[HOOKS_KEY][token];
                    if (methodName && newHook) {
                        componentType[methodName] = newHook;
                    }
                }
            }
            this.applyThemes(name);
            customElements.define(name, observableType, this.options.elementOptions);
        }
        /**
         * Checks if component has a strategy and loads it. Mostly used for preloading the component.
         */
        async maybeLoadComponentImplStrategy(def, meta) {
            if (!isComponentImplStrategy(def.impl) && !this.options.preload) {
                return;
            }
            const componentDef = await this.loadComponentDef(def, meta);
            return componentDef ? def : undefined;
        }
        async loadComponentDef(def, meta) {
            if (this.componentMap.has(def.name)) {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                return this.componentMap.get(def.name).observableType;
            }
            const [componentType, themes] = await Promise.all([
                this.loadComponentImpl(def, meta),
                this.theme.resolve(def),
            ]);
            if (!componentType) {
                return;
            }
            const observableType = observableShadow(componentType);
            this.componentMap.set(def.name, { observableType, themes, componentType });
            return observableType;
        }
        applyThemes(name) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const { componentType, themes } = this.componentMap.get(name);
            if (!themes) {
                return;
            }
            const base = componentType.styles ?? [];
            const bases = Array.isArray(base) ? base : [base];
            const isThemeData = (theme) => !!theme.styles;
            const stylesheet = themes
                .filter((theme) => !isThemeData(theme))
                .flat();
            let innerTheme = [...bases, ...this.theme.normalizeStyles(stylesheet)];
            for (const theme of themes) {
                if (!isThemeData(theme)) {
                    continue;
                }
                const { styles, strategy } = theme;
                if (strategy === "replace-all" /* ThemeStrategies.ReplaceAll */) {
                    innerTheme = this.theme.normalizeStyles(styles);
                    continue;
                }
                if (strategy === "replace" /* ThemeStrategies.Replace */) {
                    innerTheme = [...bases, ...this.theme.normalizeStyles(styles)];
                    continue;
                }
                innerTheme = [...innerTheme, ...this.theme.normalizeStyles(styles)];
            }
            componentType.styles = innerTheme;
            // eslint-disable-next-line no-prototype-builtins
            if (componentType.hasOwnProperty('finalized')) {
                componentType.elementStyles = componentType.finalizeStyles?.(componentType.styles);
            }
        }
        async loadComponentImpl(def, meta) {
            const impl = def.impl;
            if (isComponentImplStrategy(impl)) {
                return await impl.load(def, meta);
            }
            else {
                return await this.loadComponentImplFn(impl);
            }
        }
        loadComponentImplFn(impl) {
            try {
                // Try to call as a function
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                return impl();
            }
            catch {
                // Otherwise use as a type
                return impl;
            }
        }
        findComponentDefBy(name) {
            if (!this.componentDefMap.has(name)) {
                throw new ComponentsPluginError(`Component '${name}' is not registered!`);
            }
            // ComponentDef is checked above
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return this.componentDefMap.get(name);
        }
        processDef(info) {
            const def = typeof info === 'function' ? info() : info;
            return { ...def, name: this.processName(def.name) };
        }
        processName(name) {
            return name.toLowerCase();
        }
    }
    class ComponentsPluginError extends Error {
        constructor(msg) {
            super(`ComponentsAppPlugin: ${msg}`);
        }
    }
    function isComponentImplStrategy(impl) {
        return typeof impl === 'object';
    }

    function componentDef(def) {
        return (overrides) => ({
            ...def,
            ...overrides,
        });
    }

    const InjectionPluginName = 'core$injection';
    /**
     * Plugin for creating injectors and adding providers to them.
     */
    class InjectionPlugin {
        constructor(providers, options) {
            this.providers = providers;
            this.options = options;
        }
        getName() {
            return InjectionPluginName;
        }
        beforeApply(app) {
            this.createInjector(app);
        }
        apply() {
            // Injector created in AppPluginBeforeApply
        }
        provide(provider) {
            this.getInjector().provide(provider);
        }
        getInjector() {
            // Injector is created before anyone can call this method
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return this.injector;
        }
        createInjector(app) {
            this.injector = createInjector({
                ...this.options,
                providers: [...this.providers, { provide: AppRef, useValue: app }],
            });
        }
        destroy() {
            this.injector = undefined;
            destroyInjector(this.options?.context ?? '');
        }
    }

    /**
     * Indicates when application is ready. Registers plugins.
     */
    class SimpleApp {
        constructor() {
            this.plugins = [];
            this.readyPromise = new PromiseSubject();
        }
        whenReady() {
            return this.readyPromise.asPromise();
        }
        findPlugin(nameOrType) {
            const pluginByNameOrType = typeof nameOrType === 'string'
                ? (plugin) => plugin.getName() === nameOrType
                : (plugin) => plugin instanceof nameOrType;
            return this.plugins.find(pluginByNameOrType);
        }
        requirePlugin(nameOrType) {
            const maybePlugin = this.findPlugin(nameOrType);
            if (!maybePlugin) {
                throw new Error(`SimpleApp: Missing required plugin '${nameOrType}'!`);
            }
            return maybePlugin;
        }
        registerPlugin(plugin) {
            this.plugins.push(plugin);
        }
        markReady() {
            this.readyPromise.resolve(this);
        }
        destroy() {
            this.plugins.forEach((plugin) => {
                plugin.destroy?.(this);
            });
            this.plugins.length = 0;
        }
    }

    /**
     * Creates application. Plugins can be added with chaining.
     */
    class SimpleAppBuilder {
        constructor() {
            this.plugins = [];
        }
        with(plugin) {
            this.plugins.push(plugin);
            return this;
        }
        async create() {
            const app = this.createApp();
            await this.forEveryPlugin((plugin) => {
                app.registerPlugin(plugin);
                if (isAppPluginBeforeApply(plugin)) {
                    return plugin.beforeApply(app);
                }
            });
            await this.forEveryPlugin((plugin) => {
                return plugin.apply(app);
            });
            await this.forEveryPlugin((plugin) => {
                if (isAppPluginAfterApply(plugin)) {
                    return plugin.afterApply(app);
                }
            });
            app.markReady();
            return app;
        }
        createApp() {
            return new SimpleApp();
        }
        async forEveryPlugin(runner) {
            await Promise.all(this.plugins.map(runner));
        }
    }

    /**
     * Creates application with additional modular methods.
     */
    class ModularAppBuilder extends SimpleAppBuilder {
        constructor() {
            super(...arguments);
            this.componentsInfo = [];
            this.providers = [];
            this.themes = [];
        }
        withOptions(options) {
            this.options = {
                injector: {
                    ...this.options?.injector,
                    ...options.injector,
                },
                components: {
                    ...this.options?.components,
                    ...options.components,
                },
            };
            return this;
        }
        withComponents(componentsInfo) {
            this.componentsInfo.push(...componentsInfo);
            return this;
        }
        withProviders(providers) {
            this.providers.push(...providers);
            return this;
        }
        withFeature(feature) {
            const features = Array.isArray(feature) ? feature : [feature];
            for (const feat of features) {
                if (feat.providers) {
                    this.withProviders(feat.providers);
                }
                if (feat.components) {
                    this.withComponents(feat.components);
                }
                if (feat.options) {
                    this.withOptions(feat.options);
                }
                if (feat.plugins) {
                    feat.plugins.forEach((plugin) => this.with(plugin));
                }
            }
            return this;
        }
        withTheme(theme) {
            this.themes.push(...(Array.isArray(theme) ? theme : [theme]));
            return this;
        }
        async create() {
            if (this.providers.length) {
                this.plugins.unshift(new InjectionPlugin(this.providers, this.options?.injector));
            }
            if (this.themes.length) {
                this.plugins.unshift(new ThemePlugin(this.themes));
            }
            if (this.componentsInfo.length) {
                this.plugins.unshift(new ComponentsPlugin(this.componentsInfo, this.options?.components));
            }
            return super.create();
        }
    }

    var ExecPluginRuntime;
    (function (ExecPluginRuntime) {
        ExecPluginRuntime[ExecPluginRuntime["beforeApply"] = 0] = "beforeApply";
        ExecPluginRuntime[ExecPluginRuntime["afterApply"] = 1] = "afterApply";
    })(ExecPluginRuntime || (ExecPluginRuntime = {}));

    function appBuilder() {
        return new ModularAppBuilder();
    }

    const iconHook = (type, spriteUrl = '') => {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        const themePlugin = resolve(AppRef).findPlugin(ThemePlugin);
        const icon$ = ssrAwaiter(themePlugin.getIcon(type));
        return y `
    ${asyncValue(icon$, (res) => res
        ? y `${o$7(`<svg viewBox="0 0 24 24">${res}</svg>`)}`
        : x `
            <svg viewBox="0 0 24 24">
              <use href="${spriteUrl}" />
            </svg>
          `)}
  `;
    };

    const SsrOptions = 'FES.SsrOptions';

    const rootAppComponent = componentDef({
        name: 'root-app',
        impl: () => Promise.resolve().then(() => rootApp_component).then((m) => m.RootAppComponent),
    });

    const components$9 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        rootAppComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    function hasLift(source) {
        return isFunction$9(source === null || source === void 0 ? void 0 : source.lift);
    }
    function operate(init) {
        return function (source) {
            if (hasLift(source)) {
                return source.lift(function (liftedSource) {
                    try {
                        return init(liftedSource, this);
                    }
                    catch (err) {
                        this.error(err);
                    }
                });
            }
            throw new TypeError('Unable to lift unknown Observable type');
        };
    }

    function catchError(selector) {
        return operate(function (source, subscriber) {
            var innerSub = null;
            var syncUnsub = false;
            var handledResult;
            innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, function (err) {
                handledResult = innerFrom(selector(err, catchError(selector)(source)));
                if (innerSub) {
                    innerSub.unsubscribe();
                    innerSub = null;
                    handledResult.subscribe(subscriber);
                }
                else {
                    syncUnsub = true;
                }
            }));
            if (syncUnsub) {
                innerSub.unsubscribe();
                innerSub = null;
                handledResult.subscribe(subscriber);
            }
        });
    }

    function map(project, thisArg) {
        return operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(createOperatorSubscriber(subscriber, function (value) {
                subscriber.next(project.call(thisArg, value, index++));
            }));
        });
    }

    function filter$4(predicate, thisArg) {
        return operate(function (source, subscriber) {
            var index = 0;
            source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));
        });
    }

    const ComponentMapping = 'FES.ComponentMapping*';
    const ContentBackendUrl = 'FES.ContentBackendUrl';

    class DefaultExperienceService {
        constructor(contentBackendUrl = inject(ContentBackendUrl), http = inject(HttpService)) {
            this.contentBackendUrl = contentBackendUrl;
            this.http = http;
            this.dataRoutes = {};
            this.dataComponent = {};
            this.dataContent = {};
            this.dataOptions = {};
        }
        processComponent(component) {
            const components = component?.components || [];
            if (component?.id) {
                if (!this.dataComponent[component.id]) {
                    this.dataComponent[component.id] = new cjs.ReplaySubject(1);
                }
                this.dataComponent[component.id].next(component);
            }
            components.forEach((component) => {
                this.processComponent(component);
            });
        }
        reloadComponent(uid) {
            const componentsUrl = `${this.contentBackendUrl}/components/${encodeURIComponent(uid)}`;
            this.http
                .get(componentsUrl)
                .pipe(map((component) => {
                this.dataComponent[uid].next(component);
                this.processComponent(component);
                return component;
            }), catchError(() => {
                this.dataComponent[uid].next({ id: uid, type: '', components: [] });
                return cjs.of({});
            }))
                .subscribe();
        }
        reloadComponentByRoute(route) {
            const componentsUrl = `${this.contentBackendUrl}/components/?meta.route=${encodeURIComponent(route)}`;
            this.http
                .get(componentsUrl)
                .pipe(cjs.tap((components) => {
                if (!components || !components.length) {
                    return;
                }
                const component = components[0];
                const componentId = component.id;
                this.dataRoutes[route].next(componentId);
                if (!this.dataComponent[componentId]) {
                    this.dataComponent[componentId] = new cjs.ReplaySubject(1);
                }
                this.dataComponent[componentId].next(component);
                this.processComponent(component);
            }))
                .subscribe();
        }
        reloadContent(uid) {
            this.getComponent({ uid: uid })
                .pipe(cjs.take(1))
                .subscribe((component) => {
                const content = component?.content ?? {};
                this.dataContent[uid].next(content);
            });
        }
        reloadOptions(uid) {
            this.getComponent({ uid: uid })
                .pipe(cjs.take(1))
                .subscribe((component) => {
                const options = component?.options ?? {};
                this.dataOptions[uid].next(options);
            });
        }
        getComponent({ uid, route }) {
            if (uid) {
                if (!this.dataComponent[uid]) {
                    this.dataComponent[uid] = new cjs.ReplaySubject(1);
                    this.reloadComponent(uid);
                }
                return this.dataComponent[uid];
            }
            if (route) {
                return this.getComponentByRoute(route);
            }
            throw new Error('Invalid qualifier for getComponent');
        }
        getComponentByRoute(route) {
            if (!this.dataRoutes[route]) {
                this.dataRoutes[route] = new cjs.ReplaySubject(1);
                this.reloadComponentByRoute(route);
            }
            return this.dataRoutes[route].pipe(cjs.switchMap((uid) => {
                if (!this.dataComponent[uid]) {
                    this.dataComponent[uid] = new cjs.ReplaySubject(1);
                }
                return this.dataComponent[uid];
            }));
        }
        getContent({ uid }) {
            if (!this.dataContent[uid]) {
                this.dataContent[uid] = new cjs.ReplaySubject(1);
                this.reloadContent(uid);
            }
            return this.dataContent[uid];
        }
        getOptions({ uid }) {
            if (!this.dataOptions[uid]) {
                this.dataOptions[uid] = new cjs.ReplaySubject(1);
                this.reloadOptions(uid);
            }
            return this.dataOptions[uid];
        }
    }

    const ExperienceService = 'FES.ExperienceService';

    const BreakpointService = 'FES.BreakpointService';

    class DefaultBreakpointService {
        constructor(app = inject(AppRef)) {
            this.app = app;
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            this.themePlugin = this.app.findPlugin(ThemePlugin);
        }
        getMediaQuery(breakpoint) {
            if (breakpoint === this.getSmallest()) {
                return;
            }
            return this.themePlugin.generateMedia(`${"screen" /* ThemeDefaultMedia.Screen */}.${breakpoint}`);
        }
        getSmallest() {
            return Object.keys(this.getBreakpoints())[0];
        }
        getBreakpoints() {
            return this.themePlugin.getBreakpoints();
        }
    }

    var CompositionLayout;
    (function (CompositionLayout) {
        CompositionLayout["Column"] = "column";
        CompositionLayout["Carousel"] = "carousel";
        CompositionLayout["Grid"] = "grid";
    })(CompositionLayout || (CompositionLayout = {}));
    var LayoutAlign;
    (function (LayoutAlign) {
        LayoutAlign["Start"] = "start";
        LayoutAlign["Stretch"] = "stretch";
        LayoutAlign["End"] = "end";
    })(LayoutAlign || (LayoutAlign = {}));

    class DefaultLayoutBuilder {
        constructor(breakpointService = inject(BreakpointService)) {
            this.breakpointService = breakpointService;
        }
        collectStyles(components) {
            const perBreakpoint = {};
            const add = (id, breakpoint, rules) => {
                if (!rules || rules === '')
                    return;
                if (!perBreakpoint[breakpoint]) {
                    perBreakpoint[breakpoint] = '';
                }
                perBreakpoint[breakpoint] += `[uid="${id}"]{${rules}}`;
            };
            components.forEach((component) => {
                component.options?.data?.rules?.forEach((rule) => {
                    const styles = this.getLayoutStyles(rule);
                    const breakpoint = rule.breakpoint ?? this.breakpointService.getSmallest();
                    add(component.id, breakpoint, styles);
                });
            });
            return Object.keys(perBreakpoint)
                .map((key) => {
                const query = this.breakpointService.getMediaQuery(key);
                const stylesForBreakpoint = perBreakpoint[key];
                if (query) {
                    return `${query}{${stylesForBreakpoint}}\n`;
                }
                else {
                    return `${stylesForBreakpoint}\n`;
                }
            })
                .join('');
        }
        getLayoutClasses(data) {
            const ruleSets = [];
            data?.rules?.forEach((rule) => {
                ruleSets.push(...this.getClasses(rule));
            });
            if (ruleSets.length === 0) {
                return;
            }
            return ruleSets.join(' ');
        }
        getLayoutStyles(data) {
            const styles = this.getStyleProperties(data).join('');
            return styles === '' ? undefined : styles;
        }
        /**
         * Populates an array of classes based on the layout properties provided
         * in the data.
         */
        getClasses(ruleSet) {
            const classes = [];
            if (!ruleSet) {
                return classes;
            }
            const add = (className, required = false) => {
                const breakpoint = ruleSet.breakpoint ?? this.breakpointService.getSmallest();
                if (required)
                    classes.push(`${breakpoint}-${className}`);
            };
            add('container', ruleSet.container);
            add('jumbotron', ruleSet.jumbotron);
            add('layout-carousel', ruleSet.layout === CompositionLayout.Carousel);
            add('layout-column', ruleSet.layout === CompositionLayout.Column);
            add('layout-grid', ruleSet.layout === CompositionLayout.Grid);
            add('sticky', ruleSet.position === 'sticky');
            add('has-margin', !!ruleSet.margin);
            add('has-padding', !!ruleSet.padding);
            return classes;
        }
        /**
         * Style properties are dynamically build and can be used for both
         * compositions and components.
         */
        getStyleProperties(data) {
            const styles = [];
            if (!data) {
                return styles;
            }
            const add = (style, value) => {
                if (value)
                    styles.push(`${style}:${value};`);
            };
            if (data.gap) {
                add('--oryx-layout-gap', data.gap);
            }
            if (data.columnCount) {
                add('--oryx-layout-item-count', data.columnCount.toString());
            }
            if (data.span) {
                add('--oryx-layout-span', data.span.toString());
            }
            add('align-items', data.align);
            add('--oryx-layout-margin', this.getRuleValue(data.margin));
            add('--oryx-layout-padding', this.getRuleValue(data.padding));
            add('--oryx-layout-height', this.getRuleValue(data.height));
            add('top', this.getRuleValue(data.top));
            add('bottom', this.getRuleValue(data.bottom));
            add('border-radius', this.getRuleValue(data.radius));
            add('border', data.border);
            add('background', data.background);
            if (data.width) {
                // width is explicitly set to accommodate flex box systems
                add('--oryx-layout-item-width', this.getRuleValue(data.width));
                add('flex', `0 0 ${this.getRuleValue(data.width)}`);
            }
            return styles;
        }
        /**
         * Validates the given value and adds a `px` unit if no
         * unit was given.
         *
         * Returns undefined when there's no value provided.
         */
        getRuleValue(value) {
            if (!value) {
                return;
            }
            if (!isNaN(+value)) {
                value += 'px';
            }
            return value;
        }
    }

    const LayoutBuilder = 'FES.LayoutBuilder';

    const RouterService = 'FES.RouterService';
    var RouterEventType;
    (function (RouterEventType) {
        RouterEventType[RouterEventType["NavigationEnd"] = 0] = "NavigationEnd";
    })(RouterEventType || (RouterEventType = {}));

    const REQUEST_MESSAGE_TYPE = 'sf-preview-request';
    const POST_MESSAGE_TYPE = 'experience-builder-preview';
    class PreviewExperienceService extends DefaultExperienceService {
        constructor(routerService = inject(RouterService)) {
            super();
            this.routerService = routerService;
            this.experiencePreviewEvent$ = typeof window !== 'undefined'
                ? cjs.fromEvent(window, 'message').pipe(cjs.filter((e) => e.data?.type === POST_MESSAGE_TYPE), cjs.share())
                : cjs.EMPTY;
            this.structureDataEvent$ = this.experiencePreviewEvent$.pipe(cjs.filter((e) => e.data?.structure), cjs.map((data) => data.data.structure));
            this.contentDataEvent$ = this.experiencePreviewEvent$.pipe(cjs.filter((e) => e.data?.content), cjs.map((data) => data.data.content));
            this.optionsDataEvent$ = this.experiencePreviewEvent$.pipe(cjs.filter((e) => e.data?.options), cjs.map((data) => data.data.options));
            this.routeDataEvent$ = this.experiencePreviewEvent$.pipe(cjs.filter((e) => e.data?.route), cjs.map((data) => data.data.route));
            this.interactionDataEvent$ = this.experiencePreviewEvent$.pipe(cjs.filter((e) => e.data?.interaction), cjs.map((data) => data.data.interaction));
            this.structureDataEvent$.subscribe((structure) => {
                if (!this.dataComponent[structure.id]) {
                    this.dataComponent[structure.id] = new cjs.ReplaySubject(1);
                }
                this.dataComponent[structure.id].next(structure);
                if (Array.isArray(structure.components)) {
                    structure.components.forEach((item) => {
                        if (item.id) {
                            if (!this.dataComponent[item.id]) {
                                this.dataComponent[item.id] = new cjs.ReplaySubject(1);
                            }
                            this.dataComponent[item.id].next(item);
                        }
                    });
                    this.processComponent(structure);
                }
            });
            this.contentDataEvent$.subscribe((content) => {
                if (!content?.id) {
                    return;
                }
                if (!this.dataContent[content.id]) {
                    this.dataContent[content.id] = new cjs.ReplaySubject(1);
                }
                this.dataContent[content.id].next(content);
            });
            this.optionsDataEvent$.subscribe((options) => {
                if (!options?.id) {
                    return;
                }
                if (!this.dataOptions[options.id]) {
                    this.dataOptions[options.id] = new cjs.ReplaySubject(1);
                }
                this.dataOptions[options.id].next(options);
            });
            this.routeDataEvent$.subscribe((route) => {
                this.routerService.go(route);
            });
            this.routerService
                .getEvents(0 /* RouterEventType.NavigationEnd */)
                .subscribe((event) => {
                this.routeChangeHandler(event.route);
            });
        }
        sendPostMessage(message) {
            if (typeof window !== 'undefined' && window.parent) {
                window.parent.postMessage(message, '*');
            }
        }
        reloadComponent(id) {
            this.sendPostMessage({
                type: REQUEST_MESSAGE_TYPE,
                structure: id,
            });
        }
        reloadContent(id) {
            this.sendPostMessage({
                type: REQUEST_MESSAGE_TYPE,
                content: id,
            });
        }
        reloadOptions(id) {
            this.sendPostMessage({
                type: REQUEST_MESSAGE_TYPE,
                options: id,
            });
        }
        routeChangeHandler(route) {
            this.sendPostMessage({
                type: REQUEST_MESSAGE_TYPE,
                route,
            });
        }
        getRouteData() {
            return this.routeDataEvent$;
        }
        getInteractionData() {
            return this.interactionDataEvent$;
        }
    }

    /**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const l$1=l=>null!=l?l:b;

    const componentsProvider$8 = {
        provide: ComponentMapping,
        useValue: {
            ['experience-composition']: {
                template: (uid, layoutClasses) => y `<experience-composition
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></experience-composition>`,
            },
        },
    };

    const ComponentsRegistryService = 'FES.ComponentsRegistry';

    class DefaultComponentsRegistryService {
        constructor(registeredComponents = inject(ComponentMapping), appRef = inject(AppRef)) {
            this.appRef = appRef;
            this.componentsPlugin = this.appRef.requirePlugin(ComponentsPlugin);
            this.componentMapping = registeredComponents.reduce((acc, components) => ({ ...acc, ...components }), {});
        }
        resolveTag(type) {
            return this.componentMapping?.[type]?.tag ?? type;
        }
        resolveTemplate(type, uid, styleClasses) {
            const component = this.componentMapping?.[type];
            if (!component) {
                return undefined;
            }
            return component.template
                ? component.template(uid, styleClasses)
                : n$7 `<${o$6(component.tag ?? type)} uid=${uid} class=${styleClasses}></${o$6(component.tag ?? type)}>`;
        }
        async hydrateOnDemand(element) {
            if (!element.hasAttribute('hydratable')) {
                return;
            }
            if (!customElements.get(element.localName)) {
                await this.componentsPlugin.loadComponent(element.localName);
                customElements.upgrade(element);
            }
            element[HYDRATE_ON_DEMAND]?.();
        }
    }

    const experienceProviders = [
        componentsProvider$8,
        {
            provide: ContentBackendUrl,
            useValue: {"SCOS_BASE_URL":"https://glue.de.faas-suite-prod.cloud.spryker.toys","FES_CONTENT_BACKEND_URL":"http://localhost:3013","STORE":"DE","BASE_URL":"/","MODE":"production","DEV":false,"PROD":true}?.FES_CONTENT_BACKEND_URL || '',
        },
        {
            provide: ExperienceService,
            useClass: DefaultExperienceService,
        },
        {
            provide: BreakpointService,
            useClass: DefaultBreakpointService,
        },
        {
            provide: LayoutBuilder,
            useClass: DefaultLayoutBuilder,
        },
        {
            provide: ComponentsRegistryService,
            useClass: DefaultComponentsRegistryService,
        },
    ];
    const experiencePreviewProviders = [
        {
            provide: ExperienceService,
            useClass: PreviewExperienceService,
        },
        {
            provide: SsrOptions,
            useValue: {
                initialNavigation: true,
            },
        },
    ];

    class ContentController {
        constructor(host) {
            this.host = host;
            this.experienceContent = resolve(ExperienceService, null);
            // TODO: fix property assigning outside of constructor, it doesn't work in the storybook now
            this.observe = new ObserveController(host);
        }
        getContent() {
            return this.observe.get('content').pipe(cjs.switchMap((content) => {
                if (content !== undefined) {
                    return cjs.of(content);
                }
                return this.observe
                    .get('uid')
                    .pipe(cjs.switchMap((uid) => uid && this.experienceContent
                    ? this.experienceContent
                        .getContent({ uid })
                        .pipe(cjs.map((component) => component?.data))
                    : cjs.of(undefined)));
            }));
        }
        getOptions() {
            return this.observe.get('options').pipe(cjs.switchMap((options) => {
                if (options !== undefined) {
                    return cjs.of(options);
                }
                return this.observe
                    .get('uid')
                    .pipe(cjs.switchMap((uid) => uid && this.experienceContent
                    ? this.experienceContent
                        .getOptions({ uid })
                        .pipe(cjs.map((component) => component?.data ?? {}))
                    : cjs.of({})));
            }));
        }
    }

    const experienceCompositionComponent = componentDef({
        name: 'experience-composition',
        impl: () => Promise.resolve().then(() => experienceComposition_component).then((m) => m.ExperienceCompositionComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$5).then((m) => m.layoutScreenStyles),
            },
        ],
    });
    const experiencePreviewCompositionComponent = componentDef({
        name: 'experience-composition',
        impl: () => Promise.resolve().then(() => experienceCompositionPreview_component).then((m) => m.ExperienceCompositionPreviewComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$5).then((m) => m.layoutScreenStyles),
            },
        ],
    });

    const experienceComponents = [experienceCompositionComponent];
    const experienceFeature = {
        providers: experienceProviders,
        components: experienceComponents,
    };
    const experiencePreviewFeature = {
        providers: experiencePreviewProviders,
        components: [experiencePreviewCompositionComponent],
    };

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const i$4=(i,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i);}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this));},finisher(n){n.createProperty(e.key,i);}};function e$3(e){return (n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i);})(e,n,t):i$4(e,n)}

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function t$1(t){return e$3({...t,state:!0})}

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const o$4=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:"method",placement:"prototype",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n);}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n);}};

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var l;const n$4=null!=(null===(l=globalThis.HTMLSlotElement)||void 0===l?void 0:l.prototype.assignedElements)?(o,l)=>o.assignedElements(l):(o,l)=>o.assignedNodes(l).filter((o=>o.nodeType===Node.ELEMENT_NODE));function e$2(l){const{slot:e,selector:t}=null!=l?l:{};return o$4({descriptor:o=>({get(){var o;const r="slot"+(e?`[name=${e}]`:":not([name])"),s=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),i=null!=s?n$4(s,l):[];return t?i.filter((o=>o.matches(t))):i},enumerable:!0,configurable:!0})})}

    const ComponentMixin = () => {
        class Component extends s$5 {
        }
        __decorate([
            e$3(),
            __metadata("design:type", String)
        ], Component.prototype, "uid", void 0);
        __decorate([
            e$3({ type: Object, reflect: true }),
            __metadata("design:type", Object)
        ], Component.prototype, "content", void 0);
        __decorate([
            e$3({ type: Object, reflect: true }),
            __metadata("design:type", Object)
        ], Component.prototype, "options", void 0);
        return Component;
    };

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const{R:i$3,D:a,V:s$1,I:c$1,F:d}=L,f=(e,t,r={})=>{if(void 0!==t._$litPart$)throw Error("container already contains a live render");let n,o;const l=[],i=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,null,!1);let a;for(;null!==(a=i.nextNode());){const t=a.data;if(t.startsWith("lit-part")){if(0===l.length&&void 0!==n)throw Error("there must be only one root part per container");o=p(e,a,l,r),null!=n||(n=o);}else if(t.startsWith("lit-node"))h$1(a,l,r);else if(t.startsWith("/lit-part")){if(1===l.length&&o!==n)throw Error("internal error");o=u$1(a,o,l);}}console.assert(void 0!==n,"there should be exactly one root part in a render container"),t._$litPart$=n;},p=(t,r,l,d)=>{let f,p;if(0===l.length)p=new c$1(r,null,void 0,d),f=t;else {const e=l[l.length-1];if("template-instance"===e.type)p=new c$1(r,null,e.instance,d),e.instance.u.push(p),f=e.result.values[e.instancePartIndex++],e.templatePartIndex++;else if("iterable"===e.type){p=new c$1(r,null,e.part,d);const t=e.iterator.next();if(t.done)throw f=void 0,e.done=!0,Error("Unhandled shorter than expected iterable");f=t.value,e.part._$AH.push(p);}else p=new c$1(r,null,e.part,d);}if(f=s$1(p,f),f===T)l.push({part:p,type:"leaf"});else if(t$2(f))l.push({part:p,type:"leaf"}),p._$AH=f;else if(n$6(f)){const e="lit-part "+m(f);if(r.data!==e)throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part");{const e=c$1.prototype._$AC(f),t=new i$3(e,p);l.push({type:"template-instance",instance:t,part:p,templatePartIndex:0,instancePartIndex:0,result:f}),p._$AH=t;}}else a(f)?(l.push({part:p,type:"iterable",value:f,iterator:f[Symbol.iterator](),done:!1}),p._$AH=[]):(l.push({part:p,type:"leaf"}),p._$AH=null==f?"":f);return p},u$1=(e,t,r)=>{if(void 0===t)throw Error("unbalanced part marker");t._$AB=e;const n=r.pop();if("iterable"===n.type&&!n.iterator.next().done)throw Error("unexpected longer than expected iterable");if(r.length>0)return r[r.length-1].part},h$1=(e,t,n)=>{var o;const i=/lit-node (\d+)/.exec(e.data),a=parseInt(i[1]),c=null!==(o=e.previousElementSibling)&&void 0!==o?o:e.parentElement;if(null===c)throw Error("could not find node for attribute parts");c.removeAttribute("defer-hydration");const f=t[t.length-1];if("template-instance"!==f.type)throw Error("internal error");{const e=f.instance;for(;;){const t=e._$AD.parts[f.templatePartIndex];if(void 0===t||t.type!==t$3.ATTRIBUTE&&t.type!==t$3.ELEMENT||t.index!==a)break;if(t.type===t$3.ATTRIBUTE){const o=new t.ctor(c,t.name,t.strings,f.instance,n),i=e$4(o)?f.result.values[f.instancePartIndex]:f.result.values,a=!(o.type===t$3.EVENT||o.type===t$3.PROPERTY);o._$AI(i,o,f.instancePartIndex,a),f.instancePartIndex+=t.strings.length-1,e.u.push(o);}else {const t=new d(c,f.instance,n);s$1(t,f.result.values[f.instancePartIndex++]),e.u.push(t);}f.templatePartIndex++;}}},m=e=>{const t=new Uint32Array(2).fill(5381);for(const r of e.strings)for(let e=0;e<r.length;e++)t[e%2]=33*t[e%2]^r.charCodeAt(e);return btoa(String.fromCharCode(...new Uint8Array(t.buffer)))};

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    globalThis.litElementHydrateSupport=({LitElement:s})=>{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(s),"observedAttributes").get;Object.defineProperty(s,"observedAttributes",{get(){return [...e.call(this),"defer-hydration"]}});const h=s.prototype.attributeChangedCallback;s.prototype.attributeChangedCallback=function(t,i,s){"defer-hydration"===t&&null===s&&n.call(this),h.call(this,t,i,s);};const n=s.prototype.connectedCallback;s.prototype.connectedCallback=function(){this.hasAttribute("defer-hydration")||n.call(this);};const o=s.prototype.createRenderRoot;s.prototype.createRenderRoot=function(){return this.shadowRoot?(this._$AG=!0,this.shadowRoot):o.call(this)};const r=Object.getPrototypeOf(s.prototype).update;s.prototype.update=function(s){const e=this.render();r.call(this,s),this._$AG?(this._$AG=!1,f(e,this.renderRoot,this.renderOptions)):W(e,this.renderRoot,this.renderOptions);};};

    const CURRENT_PAGE = 'currentPage';
    const PREVIOUS_PAGE = 'previousPage';
    class DefaultRouterService {
        constructor() {
            this.router$ = new cjs.BehaviorSubject(window.location.pathname);
            this.params$ = new cjs.ReplaySubject(1);
            this.urlSearchParams$ = new cjs.BehaviorSubject(this.getURLSearchParams());
            this.routerEvents$ = new cjs.Subject();
            this.storedRoute$ = new cjs.BehaviorSubject('');
            this.storageService = inject(StorageService);
        }
        go(route, extras) {
            if (this.router$.value === route &&
                JSON.stringify(this.urlSearchParams$.value) ===
                    JSON.stringify(extras?.queryParams ?? {})) {
                return;
            }
            this.router$.next(route);
            this.urlSearchParams$.next(extras?.queryParams ?? this.getURLSearchParams() ?? {});
            this.routerEvents$.next({ route, type: 0 /* RouterEventType.NavigationEnd */ });
        }
        navigate(route) {
            window.history.pushState({}, '', route);
            this.go(route);
        }
        back() {
            window.history.back();
        }
        getEvents(type) {
            return this.routerEvents$.pipe(filter$4((event) => event.type === type));
        }
        previousRoute() {
            return this.storageService.get(PREVIOUS_PAGE, "session" /* StorageType.SESSION */);
        }
        currentRoute() {
            return this.router$.pipe(cjs.withLatestFrom(this.storedRoute$), cjs.map(([route, currentPage]) => {
                if (currentPage) {
                    this.storageService.set(PREVIOUS_PAGE, currentPage, "session" /* StorageType.SESSION */);
                }
                this.storeRoute(route);
                return route;
            }));
        }
        currentParams() {
            return this.params$;
        }
        acceptParams(params) {
            this.params$.next(params);
        }
        currentQuery() {
            return this.urlSearchParams$.asObservable();
        }
        getUrl(route, extras) {
            const queryParams = this.createUrlParams(extras?.queryParams);
            return `${route}${queryParams ? `?${queryParams}` : ''}`;
        }
        activatedRouter() {
            return cjs.combineLatest([this.currentRoute(), this.currentQuery()]).pipe(cjs.map(([route, queryParams]) => {
                return {
                    route,
                    extras: {
                        queryParams,
                    },
                };
            }));
        }
        createUrlParams(params) {
            if (!params) {
                return;
            }
            const encodedParams = Object.fromEntries(Object.entries(params).map(([k, v]) => [k, encodeURIComponent(v ?? '')]));
            return new URLSearchParams(encodedParams);
        }
        storeRoute(value) {
            this.storageService.set(CURRENT_PAGE, value, "session" /* StorageType.SESSION */);
            this.storedRoute$.next(value);
        }
        getURLSearchParams() {
            return Object.fromEntries(new URLSearchParams(decodeURIComponent(window.location?.search)).entries());
        }
    }

    const applicationProviders = [
        {
            provide: RouterService,
            useClass: DefaultRouterService,
        },
    ];

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t=new WeakMap,i$2=i=>{if((t=>void 0!==t.pattern)(i))return i.pattern;let s=t.get(i);return void 0===s&&t.set(i,s=new URLPattern({pathname:i.path})),s};class s{constructor(t,i,s){this.routes=[],this.o=[],this.t={},this.i=t=>{if(t.routes===this)return;const i=t.routes;this.o.push(i),i.l=this,t.stopImmediatePropagation(),t.onDisconnect=()=>{var t;null===(t=this.o)||void 0===t||t.splice(this.o.indexOf(i)>>>0,1);};const s=o$3(this.t);void 0!==s&&i.goto(s);},(this.h=t).addController(this),this.routes=[...i],this.fallback=null==s?void 0:s.fallback;}link(t){var i,s;if(null==t?void 0:t.startsWith("/"))return t;if(null==t?void 0:t.startsWith("."))throw Error("Not implemented");return null!=t||(t=this.u),(null!==(s=null===(i=this.l)||void 0===i?void 0:i.link())&&void 0!==s?s:"")+t}async goto(t){var s;let n;if(0===this.routes.length&&void 0===this.fallback)n=t,this.u="",this.t={0:n};else {const h=this.v(t);if(void 0===h)throw Error("No route found for "+t);const e=i$2(h).exec({pathname:t}),r=null!==(s=null==e?void 0:e.pathname.groups)&&void 0!==s?s:{};if(n=o$3(r),"function"==typeof h.enter&&!1===await h.enter(r))return;this.p=h,this.t=r,this.u=void 0===n?t:t.substring(0,t.length-n.length);}if(void 0!==n)for(const t of this.o)t.goto(n);this.h.requestUpdate();}outlet(){var t,i;return null===(i=null===(t=this.p)||void 0===t?void 0:t.render)||void 0===i?void 0:i.call(t,this.t)}get params(){return this.t}v(t){const s=this.routes.find((s=>i$2(s).test({pathname:t})));return s||void 0===this.fallback?s:this.fallback?{...this.fallback,path:"/*"}:void 0}hostConnected(){this.h.addEventListener(n$3.eventName,this.i);const t=new n$3(this);this.h.dispatchEvent(t),this._=t.onDisconnect;}hostDisconnected(){var t;null===(t=this._)||void 0===t||t.call(this),this.l=void 0;}}const o$3=t=>{let i;for(const s of Object.keys(t))/\d+/.test(s)&&(void 0===i||s>i)&&(i=s);return i&&t[i]};class n$3 extends Event{constructor(t){super(n$3.eventName,{bubbles:!0,composed:!0,cancelable:!1}),this.routes=t;}}n$3.eventName="lit-routes-connected";

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const o$2=location.origin||location.protocol+"//"+location.host;class i$1 extends s{constructor(){super(...arguments),this.m=t=>{const i=0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey;if(t.defaultPrevented||i)return;const s=t.composedPath().find((t=>"A"===t.tagName));if(void 0===s||""!==s.target||s.hasAttribute("download")||"external"===s.getAttribute("rel"))return;const n=s.href;if(""===n||n.startsWith("mailto:"))return;const e=window.location;s.origin===o$2&&(t.preventDefault(),n!==e.href&&(window.history.pushState({},"",n),this.goto(s.pathname)));},this.R=t=>{this.goto(window.location.pathname);};}hostConnected(){super.hostConnected(),window.addEventListener("click",this.m),window.addEventListener("popstate",this.R),this.goto(window.location.pathname);}hostDisconnected(){super.hostDisconnected(),window.removeEventListener("click",this.m),window.removeEventListener("popstate",this.R);}}

    class DefaultRouter extends i$1 {
        constructor(host, routes) {
            super(host, routes);
            this.routerService = resolve(RouterService);
            this.ssrAwaiter = resolve(SSRAwaiterService, null);
            this.ssrOptions = resolve(SsrOptions, {});
            this.ssrRendered = false;
            this.host = host;
            this.ssrRendered =
                !o$8  ;
            this.routerService
                .currentRoute()
                .pipe(this.ssrRendered ? cjs.skip(1) : cjs.identity, cjs.tap(async (route) => {
                if (route && route !== '') {
                    const resolve = this.ssrAwaiter?.getAwaiter();
                    await this._goto(route);
                    this.routerService.acceptParams(this.params);
                    resolve?.();
                }
            }))
                .subscribe();
        }
        async _goto(pathname) {
            this.currentPath = window.location?.pathname;
            this.urlSearchParams = Object.fromEntries(new URLSearchParams(decodeURIComponent(window.location?.search)).entries());
            // As part of the lazy hydration strategy, everything should not be hydrated by default
            // If the host component is SSR rendered, hydrating it wipes everything
            // So none of the previously SSRed sub components will remain
            // This should only happen when someone actually clicks on a link; not during page load
            if (this.ssrRendered &&
                this.host._$needsHydration) {
                return;
            }
            await super.goto(pathname);
        }
        async goto(pathname) {
            await this._goto(pathname);
            this.routerService.go(pathname, {
                queryParams: this.urlSearchParams,
            });
        }
        outlet() {
            const result = y `<outlet>${super.outlet()}</outlet>`;
            return result;
        }
    }

    // src/path-to-regex-modified.ts
    var regexIdentifierStart = /[$_\p{ID_Start}]/u;
    var regexIdentifierPart = /[$_\u200C\u200D\p{ID_Continue}]/u;
    function isASCII(str, extended) {
      return (extended ? /^[\x00-\xFF]*$/ : /^[\x00-\x7F]*$/).test(str);
    }
    function lexer(str, lenient = false) {
      const tokens = [];
      let i = 0;
      while (i < str.length) {
        const char = str[i];
        const ErrorOrInvalid = function(msg) {
          if (!lenient)
            throw new TypeError(msg);
          tokens.push({ type: "INVALID_CHAR", index: i, value: str[i++] });
        };
        if (char === "*") {
          tokens.push({ type: "ASTERISK", index: i, value: str[i++] });
          continue;
        }
        if (char === "+" || char === "?") {
          tokens.push({ type: "MODIFIER", index: i, value: str[i++] });
          continue;
        }
        if (char === "\\") {
          tokens.push({ type: "ESCAPED_CHAR", index: i++, value: str[i++] });
          continue;
        }
        if (char === "{") {
          tokens.push({ type: "OPEN", index: i, value: str[i++] });
          continue;
        }
        if (char === "}") {
          tokens.push({ type: "CLOSE", index: i, value: str[i++] });
          continue;
        }
        if (char === ":") {
          let name = "";
          let j = i + 1;
          while (j < str.length) {
            const code = str.substr(j, 1);
            if (j === i + 1 && regexIdentifierStart.test(code) || j !== i + 1 && regexIdentifierPart.test(code)) {
              name += str[j++];
              continue;
            }
            break;
          }
          if (!name) {
            ErrorOrInvalid(`Missing parameter name at ${i}`);
            continue;
          }
          tokens.push({ type: "NAME", index: i, value: name });
          i = j;
          continue;
        }
        if (char === "(") {
          let count = 1;
          let pattern = "";
          let j = i + 1;
          let error = false;
          if (str[j] === "?") {
            ErrorOrInvalid(`Pattern cannot start with "?" at ${j}`);
            continue;
          }
          while (j < str.length) {
            if (!isASCII(str[j], false)) {
              ErrorOrInvalid(`Invalid character '${str[j]}' at ${j}.`);
              error = true;
              break;
            }
            if (str[j] === "\\") {
              pattern += str[j++] + str[j++];
              continue;
            }
            if (str[j] === ")") {
              count--;
              if (count === 0) {
                j++;
                break;
              }
            } else if (str[j] === "(") {
              count++;
              if (str[j + 1] !== "?") {
                ErrorOrInvalid(`Capturing groups are not allowed at ${j}`);
                error = true;
                break;
              }
            }
            pattern += str[j++];
          }
          if (error) {
            continue;
          }
          if (count) {
            ErrorOrInvalid(`Unbalanced pattern at ${i}`);
            continue;
          }
          if (!pattern) {
            ErrorOrInvalid(`Missing pattern at ${i}`);
            continue;
          }
          tokens.push({ type: "PATTERN", index: i, value: pattern });
          i = j;
          continue;
        }
        tokens.push({ type: "CHAR", index: i, value: str[i++] });
      }
      tokens.push({ type: "END", index: i, value: "" });
      return tokens;
    }
    function parse(str, options = {}) {
      const tokens = lexer(str);
      const { prefixes = "./" } = options;
      const defaultPattern = `[^${escapeString(options.delimiter || "/#?")}]+?`;
      const result = [];
      let key = 0;
      let i = 0;
      let path = "";
      let nameSet = /* @__PURE__ */ new Set();
      const tryConsume = (type) => {
        if (i < tokens.length && tokens[i].type === type)
          return tokens[i++].value;
      };
      const tryConsumeModifier = () => {
        const r = tryConsume("MODIFIER");
        if (r) {
          return r;
        }
        return tryConsume("ASTERISK");
      };
      const mustConsume = (type) => {
        const value = tryConsume(type);
        if (value !== void 0)
          return value;
        const { type: nextType, index } = tokens[i];
        throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);
      };
      const consumeText = () => {
        let result2 = "";
        let value;
        while (value = tryConsume("CHAR") || tryConsume("ESCAPED_CHAR")) {
          result2 += value;
        }
        return result2;
      };
      const DefaultEncodePart = (value) => {
        return value;
      };
      const encodePart = options.encodePart || DefaultEncodePart;
      while (i < tokens.length) {
        const char = tryConsume("CHAR");
        const name = tryConsume("NAME");
        let pattern = tryConsume("PATTERN");
        if (!name && !pattern && tryConsume("ASTERISK")) {
          pattern = ".*";
        }
        if (name || pattern) {
          let prefix = char || "";
          if (prefixes.indexOf(prefix) === -1) {
            path += prefix;
            prefix = "";
          }
          if (path) {
            result.push(encodePart(path));
            path = "";
          }
          const finalName = name || key++;
          if (nameSet.has(finalName)) {
            throw new TypeError(`Duplicate name '${finalName}'.`);
          }
          nameSet.add(finalName);
          result.push({
            name: finalName,
            prefix: encodePart(prefix),
            suffix: "",
            pattern: pattern || defaultPattern,
            modifier: tryConsumeModifier() || ""
          });
          continue;
        }
        const value = char || tryConsume("ESCAPED_CHAR");
        if (value) {
          path += value;
          continue;
        }
        const open = tryConsume("OPEN");
        if (open) {
          const prefix = consumeText();
          const name2 = tryConsume("NAME") || "";
          let pattern2 = tryConsume("PATTERN") || "";
          if (!name2 && !pattern2 && tryConsume("ASTERISK")) {
            pattern2 = ".*";
          }
          const suffix = consumeText();
          mustConsume("CLOSE");
          const modifier = tryConsumeModifier() || "";
          if (!name2 && !pattern2 && !modifier) {
            path += prefix;
            continue;
          }
          if (!name2 && !pattern2 && !prefix) {
            continue;
          }
          if (path) {
            result.push(encodePart(path));
            path = "";
          }
          result.push({
            name: name2 || (pattern2 ? key++ : ""),
            pattern: name2 && !pattern2 ? defaultPattern : pattern2,
            prefix: encodePart(prefix),
            suffix: encodePart(suffix),
            modifier
          });
          continue;
        }
        if (path) {
          result.push(encodePart(path));
          path = "";
        }
        mustConsume("END");
      }
      return result;
    }
    function escapeString(str) {
      return str.replace(/([.+*?^${}()[\]|/\\])/g, "\\$1");
    }
    function flags(options) {
      return options && options.sensitive ? "u" : "ui";
    }
    function regexpToRegexp(path, keys) {
      if (!keys)
        return path;
      const groupsRegex = /\((?:\?<(.*?)>)?(?!\?)/g;
      let index = 0;
      let execResult = groupsRegex.exec(path.source);
      while (execResult) {
        keys.push({
          name: execResult[1] || index++,
          prefix: "",
          suffix: "",
          modifier: "",
          pattern: ""
        });
        execResult = groupsRegex.exec(path.source);
      }
      return path;
    }
    function arrayToRegexp(paths, keys, options) {
      const parts = paths.map((path) => pathToRegexp(path, keys, options).source);
      return new RegExp(`(?:${parts.join("|")})`, flags(options));
    }
    function stringToRegexp(path, keys, options) {
      return tokensToRegexp(parse(path, options), keys, options);
    }
    function tokensToRegexp(tokens, keys, options = {}) {
      const {
        strict = false,
        start = true,
        end = true,
        encode = (x) => x
      } = options;
      const endsWith = `[${escapeString(options.endsWith || "")}]|$`;
      const delimiter = `[${escapeString(options.delimiter || "/#?")}]`;
      let route = start ? "^" : "";
      for (const token of tokens) {
        if (typeof token === "string") {
          route += escapeString(encode(token));
        } else {
          const prefix = escapeString(encode(token.prefix));
          const suffix = escapeString(encode(token.suffix));
          if (token.pattern) {
            if (keys)
              keys.push(token);
            if (prefix || suffix) {
              if (token.modifier === "+" || token.modifier === "*") {
                const mod = token.modifier === "*" ? "?" : "";
                route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;
              } else {
                route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;
              }
            } else {
              if (token.modifier === "+" || token.modifier === "*") {
                route += `((?:${token.pattern})${token.modifier})`;
              } else {
                route += `(${token.pattern})${token.modifier}`;
              }
            }
          } else {
            route += `(?:${prefix}${suffix})${token.modifier}`;
          }
        }
      }
      if (end) {
        if (!strict)
          route += `${delimiter}?`;
        route += !options.endsWith ? "$" : `(?=${endsWith})`;
      } else {
        const endToken = tokens[tokens.length - 1];
        const isEndDelimited = typeof endToken === "string" ? delimiter.indexOf(endToken[endToken.length - 1]) > -1 : endToken === void 0;
        if (!strict) {
          route += `(?:${delimiter}(?=${endsWith}))?`;
        }
        if (!isEndDelimited) {
          route += `(?=${delimiter}|${endsWith})`;
        }
      }
      return new RegExp(route, flags(options));
    }
    function pathToRegexp(path, keys, options) {
      if (path instanceof RegExp)
        return regexpToRegexp(path, keys);
      if (Array.isArray(path))
        return arrayToRegexp(path, keys, options);
      return stringToRegexp(path, keys, options);
    }

    // src/url-utils.ts
    var DEFAULT_OPTIONS$2 = {
      delimiter: "",
      prefixes: "",
      sensitive: true,
      strict: true
    };
    var HOSTNAME_OPTIONS = {
      delimiter: ".",
      prefixes: "",
      sensitive: true,
      strict: true
    };
    var PATHNAME_OPTIONS = {
      delimiter: "/",
      prefixes: "/",
      sensitive: true,
      strict: true
    };
    function isAbsolutePathname(pathname, isPattern) {
      if (!pathname.length) {
        return false;
      }
      if (pathname[0] === "/") {
        return true;
      }
      if (!isPattern) {
        return false;
      }
      if (pathname.length < 2) {
        return false;
      }
      if ((pathname[0] == "\\" || pathname[0] == "{") && pathname[1] == "/") {
        return true;
      }
      return false;
    }
    function maybeStripPrefix(value, prefix) {
      if (value.startsWith(prefix)) {
        return value.substring(prefix.length, value.length);
      }
      return value;
    }
    function maybeStripSuffix(value, suffix) {
      if (value.endsWith(suffix)) {
        return value.substr(0, value.length - suffix.length);
      }
      return value;
    }
    function treatAsIPv6Hostname(value) {
      if (!value || value.length < 2) {
        return false;
      }
      if (value[0] === "[") {
        return true;
      }
      if ((value[0] === "\\" || value[0] === "{") && value[1] === "[") {
        return true;
      }
      return false;
    }
    var SPECIAL_SCHEMES = [
      "ftp",
      "file",
      "http",
      "https",
      "ws",
      "wss"
    ];
    function isSpecialScheme(protocol_regexp) {
      if (!protocol_regexp) {
        return true;
      }
      for (const scheme of SPECIAL_SCHEMES) {
        if (protocol_regexp.test(scheme)) {
          return true;
        }
      }
      return false;
    }
    function canonicalizeHash(hash, isPattern) {
      hash = maybeStripPrefix(hash, "#");
      if (isPattern || hash === "") {
        return hash;
      }
      const url = new URL("https://example.com");
      url.hash = hash;
      return url.hash ? url.hash.substring(1, url.hash.length) : "";
    }
    function canonicalizeSearch(search, isPattern) {
      search = maybeStripPrefix(search, "?");
      if (isPattern || search === "") {
        return search;
      }
      const url = new URL("https://example.com");
      url.search = search;
      return url.search ? url.search.substring(1, url.search.length) : "";
    }
    function canonicalizeHostname(hostname, isPattern) {
      if (isPattern || hostname === "") {
        return hostname;
      }
      if (treatAsIPv6Hostname(hostname)) {
        return ipv6HostnameEncodeCallback(hostname);
      } else {
        return hostnameEncodeCallback(hostname);
      }
    }
    function canonicalizePassword(password, isPattern) {
      if (isPattern || password === "") {
        return password;
      }
      const url = new URL("https://example.com");
      url.password = password;
      return url.password;
    }
    function canonicalizeUsername(username, isPattern) {
      if (isPattern || username === "") {
        return username;
      }
      const url = new URL("https://example.com");
      url.username = username;
      return url.username;
    }
    function canonicalizePathname(pathname, protocol, isPattern) {
      if (isPattern || pathname === "") {
        return pathname;
      }
      if (protocol && !SPECIAL_SCHEMES.includes(protocol)) {
        const url = new URL(`${protocol}:${pathname}`);
        return url.pathname;
      }
      const leadingSlash = pathname[0] == "/";
      pathname = new URL(!leadingSlash ? "/-" + pathname : pathname, "https://example.com").pathname;
      if (!leadingSlash) {
        pathname = pathname.substring(2, pathname.length);
      }
      return pathname;
    }
    function canonicalizePort(port, protocol, isPattern) {
      if (defaultPortForProtocol(protocol) === port) {
        port = "";
      }
      if (isPattern || port === "") {
        return port;
      }
      return portEncodeCallback(port);
    }
    function canonicalizeProtocol(protocol, isPattern) {
      protocol = maybeStripSuffix(protocol, ":");
      if (isPattern || protocol === "") {
        return protocol;
      }
      return protocolEncodeCallback(protocol);
    }
    function defaultPortForProtocol(protocol) {
      switch (protocol) {
        case "ws":
        case "http":
          return "80";
        case "wws":
        case "https":
          return "443";
        case "ftp":
          return "21";
        default:
          return "";
      }
    }
    function protocolEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      if (/^[-+.A-Za-z0-9]*$/.test(input))
        return input.toLowerCase();
      throw new TypeError(`Invalid protocol '${input}'.`);
    }
    function usernameEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL("https://example.com");
      url.username = input;
      return url.username;
    }
    function passwordEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL("https://example.com");
      url.password = input;
      return url.password;
    }
    function hostnameEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      if (/[\t\n\r #%/:<>?@[\]^\\|]/g.test(input)) {
        throw new TypeError(`Invalid hostname '${input}'`);
      }
      const url = new URL("https://example.com");
      url.hostname = input;
      return url.hostname;
    }
    function ipv6HostnameEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      if (/[^0-9a-fA-F[\]:]/g.test(input)) {
        throw new TypeError(`Invalid IPv6 hostname '${input}'`);
      }
      return input.toLowerCase();
    }
    function portEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      if (/^[0-9]*$/.test(input) && parseInt(input) <= 65535) {
        return input;
      }
      throw new TypeError(`Invalid port '${input}'.`);
    }
    function standardURLPathnameEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL("https://example.com");
      url.pathname = input[0] !== "/" ? "/-" + input : input;
      if (input[0] !== "/") {
        return url.pathname.substring(2, url.pathname.length);
      }
      return url.pathname;
    }
    function pathURLPathnameEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL(`data:${input}`);
      return url.pathname;
    }
    function searchEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL("https://example.com");
      url.search = input;
      return url.search.substring(1, url.search.length);
    }
    function hashEncodeCallback(input) {
      if (input === "") {
        return input;
      }
      const url = new URL("https://example.com");
      url.hash = input;
      return url.hash.substring(1, url.hash.length);
    }

    // src/url-pattern-parser.ts
    var Parser$2 = class {
      constructor(input) {
        this.tokenList = [];
        this.internalResult = {};
        this.tokenIndex = 0;
        this.tokenIncrement = 1;
        this.componentStart = 0;
        this.state = 0 /* INIT */;
        this.groupDepth = 0;
        this.hostnameIPv6BracketDepth = 0;
        this.shouldTreatAsStandardURL = false;
        this.input = input;
      }
      get result() {
        return this.internalResult;
      }
      parse() {
        this.tokenList = lexer(this.input, true);
        for (; this.tokenIndex < this.tokenList.length; this.tokenIndex += this.tokenIncrement) {
          this.tokenIncrement = 1;
          if (this.tokenList[this.tokenIndex].type === "END") {
            if (this.state === 0 /* INIT */) {
              this.rewind();
              if (this.isHashPrefix()) {
                this.changeState(9 /* HASH */, 1);
              } else if (this.isSearchPrefix()) {
                this.changeState(8 /* SEARCH */, 1);
                this.internalResult.hash = "";
              } else {
                this.changeState(7 /* PATHNAME */, 0);
                this.internalResult.search = "";
                this.internalResult.hash = "";
              }
              continue;
            } else if (this.state === 2 /* AUTHORITY */) {
              this.rewindAndSetState(5 /* HOSTNAME */);
              continue;
            }
            this.changeState(10 /* DONE */, 0);
            break;
          }
          if (this.groupDepth > 0) {
            if (this.isGroupClose()) {
              this.groupDepth -= 1;
            } else {
              continue;
            }
          }
          if (this.isGroupOpen()) {
            this.groupDepth += 1;
            continue;
          }
          switch (this.state) {
            case 0 /* INIT */:
              if (this.isProtocolSuffix()) {
                this.internalResult.username = "";
                this.internalResult.password = "";
                this.internalResult.hostname = "";
                this.internalResult.port = "";
                this.internalResult.pathname = "";
                this.internalResult.search = "";
                this.internalResult.hash = "";
                this.rewindAndSetState(1 /* PROTOCOL */);
              }
              break;
            case 1 /* PROTOCOL */:
              if (this.isProtocolSuffix()) {
                this.computeShouldTreatAsStandardURL();
                let nextState = 7 /* PATHNAME */;
                let skip = 1;
                if (this.shouldTreatAsStandardURL) {
                  this.internalResult.pathname = "/";
                }
                if (this.nextIsAuthoritySlashes()) {
                  nextState = 2 /* AUTHORITY */;
                  skip = 3;
                } else if (this.shouldTreatAsStandardURL) {
                  nextState = 2 /* AUTHORITY */;
                }
                this.changeState(nextState, skip);
              }
              break;
            case 2 /* AUTHORITY */:
              if (this.isIdentityTerminator()) {
                this.rewindAndSetState(3 /* USERNAME */);
              } else if (this.isPathnameStart() || this.isSearchPrefix() || this.isHashPrefix()) {
                this.rewindAndSetState(5 /* HOSTNAME */);
              }
              break;
            case 3 /* USERNAME */:
              if (this.isPasswordPrefix()) {
                this.changeState(4 /* PASSWORD */, 1);
              } else if (this.isIdentityTerminator()) {
                this.changeState(5 /* HOSTNAME */, 1);
              }
              break;
            case 4 /* PASSWORD */:
              if (this.isIdentityTerminator()) {
                this.changeState(5 /* HOSTNAME */, 1);
              }
              break;
            case 5 /* HOSTNAME */:
              if (this.isIPv6Open()) {
                this.hostnameIPv6BracketDepth += 1;
              } else if (this.isIPv6Close()) {
                this.hostnameIPv6BracketDepth -= 1;
              }
              if (this.isPortPrefix() && !this.hostnameIPv6BracketDepth) {
                this.changeState(6 /* PORT */, 1);
              } else if (this.isPathnameStart()) {
                this.changeState(7 /* PATHNAME */, 0);
              } else if (this.isSearchPrefix()) {
                this.changeState(8 /* SEARCH */, 1);
              } else if (this.isHashPrefix()) {
                this.changeState(9 /* HASH */, 1);
              }
              break;
            case 6 /* PORT */:
              if (this.isPathnameStart()) {
                this.changeState(7 /* PATHNAME */, 0);
              } else if (this.isSearchPrefix()) {
                this.changeState(8 /* SEARCH */, 1);
              } else if (this.isHashPrefix()) {
                this.changeState(9 /* HASH */, 1);
              }
              break;
            case 7 /* PATHNAME */:
              if (this.isSearchPrefix()) {
                this.changeState(8 /* SEARCH */, 1);
              } else if (this.isHashPrefix()) {
                this.changeState(9 /* HASH */, 1);
              }
              break;
            case 8 /* SEARCH */:
              if (this.isHashPrefix()) {
                this.changeState(9 /* HASH */, 1);
              }
              break;
          }
        }
      }
      changeState(newState, skip) {
        switch (this.state) {
          case 0 /* INIT */:
            break;
          case 1 /* PROTOCOL */:
            this.internalResult.protocol = this.makeComponentString();
            break;
          case 2 /* AUTHORITY */:
            break;
          case 3 /* USERNAME */:
            this.internalResult.username = this.makeComponentString();
            break;
          case 4 /* PASSWORD */:
            this.internalResult.password = this.makeComponentString();
            break;
          case 5 /* HOSTNAME */:
            this.internalResult.hostname = this.makeComponentString();
            break;
          case 6 /* PORT */:
            this.internalResult.port = this.makeComponentString();
            break;
          case 7 /* PATHNAME */:
            this.internalResult.pathname = this.makeComponentString();
            break;
          case 8 /* SEARCH */:
            this.internalResult.search = this.makeComponentString();
            break;
          case 9 /* HASH */:
            this.internalResult.hash = this.makeComponentString();
            break;
        }
        this.changeStateWithoutSettingComponent(newState, skip);
      }
      changeStateWithoutSettingComponent(newState, skip) {
        this.state = newState;
        this.componentStart = this.tokenIndex + skip;
        this.tokenIndex += skip;
        this.tokenIncrement = 0;
      }
      rewind() {
        this.tokenIndex = this.componentStart;
        this.tokenIncrement = 0;
      }
      rewindAndSetState(newState) {
        this.rewind();
        this.state = newState;
      }
      safeToken(index) {
        if (index < 0) {
          index = this.tokenList.length - index;
        }
        if (index < this.tokenList.length) {
          return this.tokenList[index];
        }
        return this.tokenList[this.tokenList.length - 1];
      }
      isNonSpecialPatternChar(index, value) {
        const token = this.safeToken(index);
        return token.value === value && (token.type === "CHAR" || token.type === "ESCAPED_CHAR" || token.type === "INVALID_CHAR");
      }
      isProtocolSuffix() {
        return this.isNonSpecialPatternChar(this.tokenIndex, ":");
      }
      nextIsAuthoritySlashes() {
        return this.isNonSpecialPatternChar(this.tokenIndex + 1, "/") && this.isNonSpecialPatternChar(this.tokenIndex + 2, "/");
      }
      isIdentityTerminator() {
        return this.isNonSpecialPatternChar(this.tokenIndex, "@");
      }
      isPasswordPrefix() {
        return this.isNonSpecialPatternChar(this.tokenIndex, ":");
      }
      isPortPrefix() {
        return this.isNonSpecialPatternChar(this.tokenIndex, ":");
      }
      isPathnameStart() {
        return this.isNonSpecialPatternChar(this.tokenIndex, "/");
      }
      isSearchPrefix() {
        if (this.isNonSpecialPatternChar(this.tokenIndex, "?")) {
          return true;
        }
        if (this.tokenList[this.tokenIndex].value !== "?") {
          return false;
        }
        const previousToken = this.safeToken(this.tokenIndex - 1);
        return previousToken.type !== "NAME" && previousToken.type !== "PATTERN" && previousToken.type !== "CLOSE" && previousToken.type !== "ASTERISK";
      }
      isHashPrefix() {
        return this.isNonSpecialPatternChar(this.tokenIndex, "#");
      }
      isGroupOpen() {
        return this.tokenList[this.tokenIndex].type == "OPEN";
      }
      isGroupClose() {
        return this.tokenList[this.tokenIndex].type == "CLOSE";
      }
      isIPv6Open() {
        return this.isNonSpecialPatternChar(this.tokenIndex, "[");
      }
      isIPv6Close() {
        return this.isNonSpecialPatternChar(this.tokenIndex, "]");
      }
      makeComponentString() {
        const token = this.tokenList[this.tokenIndex];
        const componentCharStart = this.safeToken(this.componentStart).index;
        return this.input.substring(componentCharStart, token.index);
      }
      computeShouldTreatAsStandardURL() {
        const options = {};
        Object.assign(options, DEFAULT_OPTIONS$2);
        options.encodePart = protocolEncodeCallback;
        const regexp = pathToRegexp(this.makeComponentString(), void 0, options);
        this.shouldTreatAsStandardURL = isSpecialScheme(regexp);
      }
    };

    // src/url-pattern.ts
    var COMPONENTS = [
      "protocol",
      "username",
      "password",
      "hostname",
      "port",
      "pathname",
      "search",
      "hash"
    ];
    var DEFAULT_PATTERN = "*";
    function extractValues(url, baseURL) {
      if (typeof url !== "string") {
        throw new TypeError(`parameter 1 is not of type 'string'.`);
      }
      const o = new URL(url, baseURL);
      return {
        protocol: o.protocol.substring(0, o.protocol.length - 1),
        username: o.username,
        password: o.password,
        hostname: o.hostname,
        port: o.port,
        pathname: o.pathname,
        search: o.search != "" ? o.search.substring(1, o.search.length) : void 0,
        hash: o.hash != "" ? o.hash.substring(1, o.hash.length) : void 0
      };
    }
    function applyInit(o, init, isPattern) {
      let baseURL;
      if (typeof init.baseURL === "string") {
        try {
          baseURL = new URL(init.baseURL);
          o.protocol = baseURL.protocol ? baseURL.protocol.substring(0, baseURL.protocol.length - 1) : "";
          o.username = baseURL.username;
          o.password = baseURL.password;
          o.hostname = baseURL.hostname;
          o.port = baseURL.port;
          o.pathname = baseURL.pathname;
          o.search = baseURL.search ? baseURL.search.substring(1, baseURL.search.length) : "";
          o.hash = baseURL.hash ? baseURL.hash.substring(1, baseURL.hash.length) : "";
        } catch {
          throw new TypeError(`invalid baseURL '${init.baseURL}'.`);
        }
      }
      if (typeof init.protocol === "string") {
        o.protocol = canonicalizeProtocol(init.protocol, isPattern);
      }
      if (typeof init.username === "string") {
        o.username = canonicalizeUsername(init.username, isPattern);
      }
      if (typeof init.password === "string") {
        o.password = canonicalizePassword(init.password, isPattern);
      }
      if (typeof init.hostname === "string") {
        o.hostname = canonicalizeHostname(init.hostname, isPattern);
      }
      if (typeof init.port === "string") {
        o.port = canonicalizePort(init.port, o.protocol, isPattern);
      }
      if (typeof init.pathname === "string") {
        o.pathname = init.pathname;
        if (baseURL && !isAbsolutePathname(o.pathname, isPattern)) {
          const slashIndex = baseURL.pathname.lastIndexOf("/");
          if (slashIndex >= 0) {
            o.pathname = baseURL.pathname.substring(0, slashIndex + 1) + o.pathname;
          }
        }
        o.pathname = canonicalizePathname(o.pathname, o.protocol, isPattern);
      }
      if (typeof init.search === "string") {
        o.search = canonicalizeSearch(init.search, isPattern);
      }
      if (typeof init.hash === "string") {
        o.hash = canonicalizeHash(init.hash, isPattern);
      }
      return o;
    }
    function escapePatternString(value) {
      return value.replace(/([+*?:{}()\\])/g, "\\$1");
    }
    function escapeRegexpString(value) {
      return value.replace(/([.+*?^${}()[\]|/\\])/g, "\\$1");
    }
    function tokensToPattern(tokens, options) {
      const wildcardPattern = ".*";
      const segmentWildcardPattern = `[^${escapeRegexpString(options.delimiter || "/#?")}]+?`;
      const regexIdentifierPart2 = /[$_\u200C\u200D\p{ID_Continue}]/u;
      let result = "";
      for (let i = 0; i < tokens.length; ++i) {
        const token = tokens[i];
        const lastToken = i > 0 ? tokens[i - 1] : null;
        const nextToken = i < tokens.length - 1 ? tokens[i + 1] : null;
        if (typeof token === "string") {
          result += escapePatternString(token);
          continue;
        }
        if (token.pattern === "") {
          if (token.modifier === "") {
            result += escapePatternString(token.prefix);
            continue;
          }
          result += `{${escapePatternString(token.prefix)}}${token.modifier}`;
          continue;
        }
        const customName = typeof token.name !== "number";
        const optionsPrefixes = options.prefixes !== void 0 ? options.prefixes : "./";
        let needsGrouping = token.suffix !== "" || token.prefix !== "" && (token.prefix.length !== 1 || !optionsPrefixes.includes(token.prefix));
        if (!needsGrouping && customName && token.pattern === segmentWildcardPattern && token.modifier === "" && nextToken && !nextToken.prefix && !nextToken.suffix) {
          if (typeof nextToken === "string") {
            const code = nextToken.length > 0 ? nextToken[0] : "";
            needsGrouping = regexIdentifierPart2.test(code);
          } else {
            needsGrouping = typeof nextToken.name === "number";
          }
        }
        if (!needsGrouping && token.prefix === "" && lastToken && typeof lastToken === "string" && lastToken.length > 0) {
          const code = lastToken[lastToken.length - 1];
          needsGrouping = optionsPrefixes.includes(code);
        }
        if (needsGrouping) {
          result += "{";
        }
        result += escapePatternString(token.prefix);
        if (customName) {
          result += `:${token.name}`;
        }
        if (token.pattern === wildcardPattern) {
          if (!customName && (!lastToken || typeof lastToken === "string" || lastToken.modifier || needsGrouping || token.prefix !== "")) {
            result += "*";
          } else {
            result += `(${wildcardPattern})`;
          }
        } else if (token.pattern === segmentWildcardPattern) {
          if (!customName) {
            result += `(${segmentWildcardPattern})`;
          }
        } else {
          result += `(${token.pattern})`;
        }
        if (token.pattern === segmentWildcardPattern && customName && token.suffix !== "") {
          if (regexIdentifierPart2.test(token.suffix[0])) {
            result += "\\";
          }
        }
        result += escapePatternString(token.suffix);
        if (needsGrouping) {
          result += "}";
        }
        result += token.modifier;
      }
      return result;
    }
    var URLPattern$1 = class {
      constructor(init = {}, baseURL) {
        this.regexp = {};
        this.keys = {};
        this.component_pattern = {};
        try {
          if (typeof init === "string") {
            const parser = new Parser$2(init);
            parser.parse();
            init = parser.result;
            if (baseURL) {
              if (typeof baseURL === "string") {
                init.baseURL = baseURL;
              } else {
                throw new TypeError(`'baseURL' parameter is not of type 'string'.`);
              }
            } else if (typeof init.protocol !== "string") {
              throw new TypeError(`A base URL must be provided for a relative constructor string.`);
            }
          } else if (baseURL) {
            throw new TypeError(`parameter 1 is not of type 'string'.`);
          }
          if (!init || typeof init !== "object") {
            throw new TypeError(`parameter 1 is not of type 'string' and cannot convert to dictionary.`);
          }
          const defaults = {
            pathname: DEFAULT_PATTERN,
            protocol: DEFAULT_PATTERN,
            username: DEFAULT_PATTERN,
            password: DEFAULT_PATTERN,
            hostname: DEFAULT_PATTERN,
            port: DEFAULT_PATTERN,
            search: DEFAULT_PATTERN,
            hash: DEFAULT_PATTERN
          };
          this.pattern = applyInit(defaults, init, true);
          if (defaultPortForProtocol(this.pattern.protocol) === this.pattern.port) {
            this.pattern.port = "";
          }
          let component;
          for (component of COMPONENTS) {
            if (!(component in this.pattern))
              continue;
            const options = {};
            const pattern = this.pattern[component];
            this.keys[component] = [];
            switch (component) {
              case "protocol":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = protocolEncodeCallback;
                break;
              case "username":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = usernameEncodeCallback;
                break;
              case "password":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = passwordEncodeCallback;
                break;
              case "hostname":
                Object.assign(options, HOSTNAME_OPTIONS);
                if (treatAsIPv6Hostname(pattern)) {
                  options.encodePart = ipv6HostnameEncodeCallback;
                } else {
                  options.encodePart = hostnameEncodeCallback;
                }
                break;
              case "port":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = portEncodeCallback;
                break;
              case "pathname":
                if (isSpecialScheme(this.regexp.protocol)) {
                  Object.assign(options, PATHNAME_OPTIONS);
                  options.encodePart = standardURLPathnameEncodeCallback;
                } else {
                  Object.assign(options, DEFAULT_OPTIONS$2);
                  options.encodePart = pathURLPathnameEncodeCallback;
                }
                break;
              case "search":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = searchEncodeCallback;
                break;
              case "hash":
                Object.assign(options, DEFAULT_OPTIONS$2);
                options.encodePart = hashEncodeCallback;
                break;
            }
            try {
              const tokens = parse(pattern, options);
              this.regexp[component] = tokensToRegexp(tokens, this.keys[component], options);
              this.component_pattern[component] = tokensToPattern(tokens, options);
            } catch {
              throw new TypeError(`invalid ${component} pattern '${this.pattern[component]}'.`);
            }
          }
        } catch (err) {
          throw new TypeError(`Failed to construct 'URLPattern': ${err.message}`);
        }
      }
      test(input = {}, baseURL) {
        let values = {
          pathname: "",
          protocol: "",
          username: "",
          password: "",
          hostname: "",
          port: "",
          search: "",
          hash: ""
        };
        if (typeof input !== "string" && baseURL) {
          throw new TypeError(`parameter 1 is not of type 'string'.`);
        }
        if (typeof input === "undefined") {
          return false;
        }
        try {
          if (typeof input === "object") {
            values = applyInit(values, input, false);
          } else {
            values = applyInit(values, extractValues(input, baseURL), false);
          }
        } catch (err) {
          return false;
        }
        let component;
        for (component in this.pattern) {
          if (!this.regexp[component].exec(values[component])) {
            return false;
          }
        }
        return true;
      }
      exec(input = {}, baseURL) {
        let values = {
          pathname: "",
          protocol: "",
          username: "",
          password: "",
          hostname: "",
          port: "",
          search: "",
          hash: ""
        };
        if (typeof input !== "string" && baseURL) {
          throw new TypeError(`parameter 1 is not of type 'string'.`);
        }
        if (typeof input === "undefined") {
          return;
        }
        try {
          if (typeof input === "object") {
            values = applyInit(values, input, false);
          } else {
            values = applyInit(values, extractValues(input, baseURL), false);
          }
        } catch (err) {
          return null;
        }
        let result = {};
        if (baseURL) {
          result.inputs = [input, baseURL];
        } else {
          result.inputs = [input];
        }
        let component;
        for (component in this.pattern) {
          let match = this.regexp[component].exec(values[component]);
          if (!match) {
            return null;
          }
          let groups = {};
          for (let [i, key] of this.keys[component].entries()) {
            if (typeof key.name === "string" || typeof key.name === "number") {
              let value = match[i + 1];
              groups[key.name] = value;
            }
          }
          result[component] = {
            input: values[component] || "",
            groups
          };
        }
        return result;
      }
      get protocol() {
        return this.component_pattern.protocol;
      }
      get username() {
        return this.component_pattern.username;
      }
      get password() {
        return this.component_pattern.password;
      }
      get hostname() {
        return this.component_pattern.hostname;
      }
      get port() {
        return this.component_pattern.port;
      }
      get pathname() {
        return this.component_pattern.pathname;
      }
      get search() {
        return this.component_pattern.search;
      }
      get hash() {
        return this.component_pattern.hash;
      }
    };

    // src/patch-global.mts
    if (!globalThis.URLPattern) {
      globalThis.URLPattern = URLPattern$1;
    }

    const routes = [
        {
            pattern: new URLPattern({ pathname: '/{index.html}?' }),
            render: () => y `<experience-composition route="/"></experience-composition>`,
            name: 'Home',
        },
        {
            path: '/product/:sku',
            render: () => y `<experience-composition
      route="/product/:sku"
    ></experience-composition>`,
            name: 'Product test',
        },
        {
            path: '/category/:id',
            render: () => y `<experience-composition
      route="/category/:id"
    ></experience-composition>`,
            name: 'Category test',
        },
        {
            path: '/:page',
            render: ({ page }) => y `<experience-composition
      route="/${page}"
    ></experience-composition>`,
            name: 'Page',
        },
        {
            path: '/checkout',
            render: () => y `<experience-composition
      route="/checkout"
    ></experience-composition>`,
            name: 'Checkout',
        },
        {
            path: '/*',
            render: () => y `<h1>Error 404</h1>
        <p>Page not found</p>`,
            name: '404',
        },
    ];

    const applicationComponents = Object.values(components$9);
    const applicationFeature = {
        providers: applicationProviders,
        components: applicationComponents,
        plugins: [] ,
        options: {
            components: {
                preload: o$8,
                root: rootAppComponent,
            },
        },
    };

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const r={boundAttributeSuffix:L.P,marker:L.A,markerMatch:L.M,HTML_RESULT:L.C,getTemplateHtml:L.L,overrideDirectiveResolve:(t,e)=>class extends t{_$AS(t,r){return e(this,r)}},setDirectiveClass(t,e){t._$litDirective$=e;},getAttributePartCommittedValue:(t,r,i)=>{let a=T;return t.j=t=>a=t,t._$AI(r,t,i),a},connectedDisconnectable:t=>({...t,_$AU:!0}),resolveDirective:L.V,AttributePart:L.H,PropertyPart:L.B,BooleanAttributePart:L.N,EventPart:L.U,ElementPart:L.F};

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const replacements = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        // Note &apos; was not defined in the HTML4 spec, and is not supported by very
        // old browsers like IE8, so a codepoint entity is used instead.
        "'": '&#39;',
    };
    /**
     * Replaces characters which have special meaning in HTML (&<>"') with escaped
     * HTML entities ("&amp;", "&lt;", etc.).
     */
    const escapeHtml = (str) => str.replace(/[&<>"']/g, (char) => replacements[char]);

    /// <reference lib="dom" />
    const getElementRenderer = ({ elementRenderers }, tagName, ceClass = customElements.get(tagName), attributes = new Map()) => {
        if (ceClass === undefined) {
            console.warn(`Custom element ${tagName} was not registered.`);
            return new FallbackRenderer(tagName);
        }
        // TODO(kschaaf): Should we implement a caching scheme, e.g. keyed off of
        // ceClass's base class to prevent O(n) lookups for every element (probably
        // not a concern for the small number of element renderers we'd expect)? Doing
        // so would preclude having cross-cutting renderers to e.g. no-op render all
        // custom elements with a `client-only` attribute, so punting for now.
        for (const renderer of elementRenderers) {
            if (renderer.matchesClass(ceClass, tagName, attributes)) {
                return new renderer(tagName);
            }
        }
        return new FallbackRenderer(tagName);
    };
    /**
     * An object that renders elements of a certain type.
     */
    class ElementRenderer {
        constructor(tagName) {
            this.tagName = tagName;
        }
        /**
         * Should be implemented to return true when the given custom element class
         * and/or tagName should be handled by this renderer.
         *
         * @param ceClass - Custom Element class
         * @param tagName - Tag name of custom element instance
         * @param attributes - Map of attribute key/value pairs
         * @returns
         */
        static matchesClass(_ceClass, _tagName, _attributes) {
            return false;
        }
        /**
         * Handles setting a property.
         *
         * Default implementation sets the property on the renderer's element instance.
         *
         * @param name Name of the property
         * @param value Value of the property
         */
        setProperty(name, value) {
            if (this.element !== undefined) {
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                this.element[name] = value;
            }
        }
        /**
         * Handles setting an attribute on an element.
         *
         * Default implementation calls `setAttribute` on the renderer's element
         * instance, and calls the abstract `attributeChangedCallback` on the
         * renderer.
         *
         * @param name Name of the attribute
         * @param value Value of the attribute
         */
        setAttribute(name, value) {
            if (this.element !== undefined) {
                const old = this.element.getAttribute(name);
                this.element.setAttribute(name, value);
                this.attributeChangedCallback(name, old, value);
            }
        }
        /**
         * Render an element's attributes.
         *
         * Default implementation serializes all attributes on the element instance.
         */
        *renderAttributes() {
            if (this.element !== undefined) {
                const { attributes } = this.element;
                for (let i = 0, name, value; i < attributes.length && ({ name, value } = attributes[i]); i++) {
                    if (value === '' || value === undefined || value === null) {
                        yield ` ${name}`;
                    }
                    else {
                        yield ` ${name}="${escapeHtml(value)}"`;
                    }
                }
            }
        }
    }
    /**
     * An ElementRenderer used as a fallback in the case where a custom element is
     * either unregistered or has no other matching renderer.
     */
    class FallbackRenderer extends ElementRenderer {
        constructor() {
            super(...arguments);
            this._attributes = {};
        }
        setAttribute(name, value) {
            this._attributes[name] = value;
        }
        *renderAttributes() {
            for (const [name, value] of Object.entries(this._attributes)) {
                if (value === '' || value === undefined || value === null) {
                    yield ` ${name}`;
                }
                else {
                    yield ` ${name}="${escapeHtml(value)}"`;
                }
            }
        }
        connectedCallback() { }
        attributeChangedCallback() { }
        *renderLight() { }
        *renderShadow() { }
    }

    var lib = {};

    var unicode$3 = {};

    const UNDEFINED_CODE_POINTS = [
        0xfffe,
        0xffff,
        0x1fffe,
        0x1ffff,
        0x2fffe,
        0x2ffff,
        0x3fffe,
        0x3ffff,
        0x4fffe,
        0x4ffff,
        0x5fffe,
        0x5ffff,
        0x6fffe,
        0x6ffff,
        0x7fffe,
        0x7ffff,
        0x8fffe,
        0x8ffff,
        0x9fffe,
        0x9ffff,
        0xafffe,
        0xaffff,
        0xbfffe,
        0xbffff,
        0xcfffe,
        0xcffff,
        0xdfffe,
        0xdffff,
        0xefffe,
        0xeffff,
        0xffffe,
        0xfffff,
        0x10fffe,
        0x10ffff
    ];

    unicode$3.REPLACEMENT_CHARACTER = '\uFFFD';

    unicode$3.CODE_POINTS = {
        EOF: -1,
        NULL: 0x00,
        TABULATION: 0x09,
        CARRIAGE_RETURN: 0x0d,
        LINE_FEED: 0x0a,
        FORM_FEED: 0x0c,
        SPACE: 0x20,
        EXCLAMATION_MARK: 0x21,
        QUOTATION_MARK: 0x22,
        NUMBER_SIGN: 0x23,
        AMPERSAND: 0x26,
        APOSTROPHE: 0x27,
        HYPHEN_MINUS: 0x2d,
        SOLIDUS: 0x2f,
        DIGIT_0: 0x30,
        DIGIT_9: 0x39,
        SEMICOLON: 0x3b,
        LESS_THAN_SIGN: 0x3c,
        EQUALS_SIGN: 0x3d,
        GREATER_THAN_SIGN: 0x3e,
        QUESTION_MARK: 0x3f,
        LATIN_CAPITAL_A: 0x41,
        LATIN_CAPITAL_F: 0x46,
        LATIN_CAPITAL_X: 0x58,
        LATIN_CAPITAL_Z: 0x5a,
        RIGHT_SQUARE_BRACKET: 0x5d,
        GRAVE_ACCENT: 0x60,
        LATIN_SMALL_A: 0x61,
        LATIN_SMALL_F: 0x66,
        LATIN_SMALL_X: 0x78,
        LATIN_SMALL_Z: 0x7a,
        REPLACEMENT_CHARACTER: 0xfffd
    };

    unicode$3.CODE_POINT_SEQUENCES = {
        DASH_DASH_STRING: [0x2d, 0x2d], //--
        DOCTYPE_STRING: [0x44, 0x4f, 0x43, 0x54, 0x59, 0x50, 0x45], //DOCTYPE
        CDATA_START_STRING: [0x5b, 0x43, 0x44, 0x41, 0x54, 0x41, 0x5b], //[CDATA[
        SCRIPT_STRING: [0x73, 0x63, 0x72, 0x69, 0x70, 0x74], //script
        PUBLIC_STRING: [0x50, 0x55, 0x42, 0x4c, 0x49, 0x43], //PUBLIC
        SYSTEM_STRING: [0x53, 0x59, 0x53, 0x54, 0x45, 0x4d] //SYSTEM
    };

    //Surrogates
    unicode$3.isSurrogate = function(cp) {
        return cp >= 0xd800 && cp <= 0xdfff;
    };

    unicode$3.isSurrogatePair = function(cp) {
        return cp >= 0xdc00 && cp <= 0xdfff;
    };

    unicode$3.getSurrogatePairCodePoint = function(cp1, cp2) {
        return (cp1 - 0xd800) * 0x400 + 0x2400 + cp2;
    };

    //NOTE: excluding NULL and ASCII whitespace
    unicode$3.isControlCodePoint = function(cp) {
        return (
            (cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||
            (cp >= 0x7f && cp <= 0x9f)
        );
    };

    unicode$3.isUndefinedCodePoint = function(cp) {
        return (cp >= 0xfdd0 && cp <= 0xfdef) || UNDEFINED_CODE_POINTS.indexOf(cp) > -1;
    };

    var errorCodes = {
        controlCharacterInInputStream: 'control-character-in-input-stream',
        noncharacterInInputStream: 'noncharacter-in-input-stream',
        surrogateInInputStream: 'surrogate-in-input-stream',
        nonVoidHtmlElementStartTagWithTrailingSolidus: 'non-void-html-element-start-tag-with-trailing-solidus',
        endTagWithAttributes: 'end-tag-with-attributes',
        endTagWithTrailingSolidus: 'end-tag-with-trailing-solidus',
        unexpectedSolidusInTag: 'unexpected-solidus-in-tag',
        unexpectedNullCharacter: 'unexpected-null-character',
        unexpectedQuestionMarkInsteadOfTagName: 'unexpected-question-mark-instead-of-tag-name',
        invalidFirstCharacterOfTagName: 'invalid-first-character-of-tag-name',
        unexpectedEqualsSignBeforeAttributeName: 'unexpected-equals-sign-before-attribute-name',
        missingEndTagName: 'missing-end-tag-name',
        unexpectedCharacterInAttributeName: 'unexpected-character-in-attribute-name',
        unknownNamedCharacterReference: 'unknown-named-character-reference',
        missingSemicolonAfterCharacterReference: 'missing-semicolon-after-character-reference',
        unexpectedCharacterAfterDoctypeSystemIdentifier: 'unexpected-character-after-doctype-system-identifier',
        unexpectedCharacterInUnquotedAttributeValue: 'unexpected-character-in-unquoted-attribute-value',
        eofBeforeTagName: 'eof-before-tag-name',
        eofInTag: 'eof-in-tag',
        missingAttributeValue: 'missing-attribute-value',
        missingWhitespaceBetweenAttributes: 'missing-whitespace-between-attributes',
        missingWhitespaceAfterDoctypePublicKeyword: 'missing-whitespace-after-doctype-public-keyword',
        missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:
            'missing-whitespace-between-doctype-public-and-system-identifiers',
        missingWhitespaceAfterDoctypeSystemKeyword: 'missing-whitespace-after-doctype-system-keyword',
        missingQuoteBeforeDoctypePublicIdentifier: 'missing-quote-before-doctype-public-identifier',
        missingQuoteBeforeDoctypeSystemIdentifier: 'missing-quote-before-doctype-system-identifier',
        missingDoctypePublicIdentifier: 'missing-doctype-public-identifier',
        missingDoctypeSystemIdentifier: 'missing-doctype-system-identifier',
        abruptDoctypePublicIdentifier: 'abrupt-doctype-public-identifier',
        abruptDoctypeSystemIdentifier: 'abrupt-doctype-system-identifier',
        cdataInHtmlContent: 'cdata-in-html-content',
        incorrectlyOpenedComment: 'incorrectly-opened-comment',
        eofInScriptHtmlCommentLikeText: 'eof-in-script-html-comment-like-text',
        eofInDoctype: 'eof-in-doctype',
        nestedComment: 'nested-comment',
        abruptClosingOfEmptyComment: 'abrupt-closing-of-empty-comment',
        eofInComment: 'eof-in-comment',
        incorrectlyClosedComment: 'incorrectly-closed-comment',
        eofInCdata: 'eof-in-cdata',
        absenceOfDigitsInNumericCharacterReference: 'absence-of-digits-in-numeric-character-reference',
        nullCharacterReference: 'null-character-reference',
        surrogateCharacterReference: 'surrogate-character-reference',
        characterReferenceOutsideUnicodeRange: 'character-reference-outside-unicode-range',
        controlCharacterReference: 'control-character-reference',
        noncharacterCharacterReference: 'noncharacter-character-reference',
        missingWhitespaceBeforeDoctypeName: 'missing-whitespace-before-doctype-name',
        missingDoctypeName: 'missing-doctype-name',
        invalidCharacterSequenceAfterDoctypeName: 'invalid-character-sequence-after-doctype-name',
        duplicateAttribute: 'duplicate-attribute',
        nonConformingDoctype: 'non-conforming-doctype',
        missingDoctype: 'missing-doctype',
        misplacedDoctype: 'misplaced-doctype',
        endTagWithoutMatchingOpenElement: 'end-tag-without-matching-open-element',
        closingOfElementWithOpenChildElements: 'closing-of-element-with-open-child-elements',
        disallowedContentInNoscriptInHead: 'disallowed-content-in-noscript-in-head',
        openElementsLeftAfterEof: 'open-elements-left-after-eof',
        abandonedHeadElementChild: 'abandoned-head-element-child',
        misplacedStartTagForHeadElement: 'misplaced-start-tag-for-head-element',
        nestedNoscriptInHead: 'nested-noscript-in-head',
        eofInElementThatCanContainOnlyText: 'eof-in-element-that-can-contain-only-text'
    };

    const unicode$2 = unicode$3;
    const ERR$2 = errorCodes;

    //Aliases
    const $$7 = unicode$2.CODE_POINTS;

    //Const
    const DEFAULT_BUFFER_WATERLINE = 1 << 16;

    //Preprocessor
    //NOTE: HTML input preprocessing
    //(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)
    class Preprocessor$1 {
        constructor() {
            this.html = null;

            this.pos = -1;
            this.lastGapPos = -1;
            this.lastCharPos = -1;

            this.gapStack = [];

            this.skipNextNewLine = false;

            this.lastChunkWritten = false;
            this.endOfChunkHit = false;
            this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;
        }

        _err() {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        }

        _addGap() {
            this.gapStack.push(this.lastGapPos);
            this.lastGapPos = this.pos;
        }

        _processSurrogate(cp) {
            //NOTE: try to peek a surrogate pair
            if (this.pos !== this.lastCharPos) {
                const nextCp = this.html.charCodeAt(this.pos + 1);

                if (unicode$2.isSurrogatePair(nextCp)) {
                    //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.
                    this.pos++;

                    //NOTE: add gap that should be avoided during retreat
                    this._addGap();

                    return unicode$2.getSurrogatePairCodePoint(cp, nextCp);
                }
            }

            //NOTE: we are at the end of a chunk, therefore we can't infer surrogate pair yet.
            else if (!this.lastChunkWritten) {
                this.endOfChunkHit = true;
                return $$7.EOF;
            }

            //NOTE: isolated surrogate
            this._err(ERR$2.surrogateInInputStream);

            return cp;
        }

        dropParsedChunk() {
            if (this.pos > this.bufferWaterline) {
                this.lastCharPos -= this.pos;
                this.html = this.html.substring(this.pos);
                this.pos = 0;
                this.lastGapPos = -1;
                this.gapStack = [];
            }
        }

        write(chunk, isLastChunk) {
            if (this.html) {
                this.html += chunk;
            } else {
                this.html = chunk;
            }

            this.lastCharPos = this.html.length - 1;
            this.endOfChunkHit = false;
            this.lastChunkWritten = isLastChunk;
        }

        insertHtmlAtCurrentPos(chunk) {
            this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1, this.html.length);

            this.lastCharPos = this.html.length - 1;
            this.endOfChunkHit = false;
        }

        advance() {
            this.pos++;

            if (this.pos > this.lastCharPos) {
                this.endOfChunkHit = !this.lastChunkWritten;
                return $$7.EOF;
            }

            let cp = this.html.charCodeAt(this.pos);

            //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character
            //must be ignored.
            if (this.skipNextNewLine && cp === $$7.LINE_FEED) {
                this.skipNextNewLine = false;
                this._addGap();
                return this.advance();
            }

            //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters
            if (cp === $$7.CARRIAGE_RETURN) {
                this.skipNextNewLine = true;
                return $$7.LINE_FEED;
            }

            this.skipNextNewLine = false;

            if (unicode$2.isSurrogate(cp)) {
                cp = this._processSurrogate(cp);
            }

            //OPTIMIZATION: first check if code point is in the common allowed
            //range (ASCII alphanumeric, whitespaces, big chunk of BMP)
            //before going into detailed performance cost validation.
            const isCommonValidRange =
                (cp > 0x1f && cp < 0x7f) || cp === $$7.LINE_FEED || cp === $$7.CARRIAGE_RETURN || (cp > 0x9f && cp < 0xfdd0);

            if (!isCommonValidRange) {
                this._checkForProblematicCharacters(cp);
            }

            return cp;
        }

        _checkForProblematicCharacters(cp) {
            if (unicode$2.isControlCodePoint(cp)) {
                this._err(ERR$2.controlCharacterInInputStream);
            } else if (unicode$2.isUndefinedCodePoint(cp)) {
                this._err(ERR$2.noncharacterInInputStream);
            }
        }

        retreat() {
            if (this.pos === this.lastGapPos) {
                this.lastGapPos = this.gapStack.pop();
                this.pos--;
            }

            this.pos--;
        }
    }

    var preprocessor = Preprocessor$1;

    //NOTE: this file contains auto-generated array mapped radix tree that is used for the named entity references consumption
    //(details: https://github.com/inikulin/parse5/tree/master/scripts/generate-named-entity-data/README.md)
    var namedEntityData = new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4000,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,10000,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13000,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204]);

    const Preprocessor = preprocessor;
    const unicode$1 = unicode$3;
    const neTree = namedEntityData;
    const ERR$1 = errorCodes;

    //Aliases
    const $$6 = unicode$1.CODE_POINTS;
    const $$ = unicode$1.CODE_POINT_SEQUENCES;

    //C1 Unicode control character reference replacements
    const C1_CONTROLS_REFERENCE_REPLACEMENTS = {
        0x80: 0x20ac,
        0x82: 0x201a,
        0x83: 0x0192,
        0x84: 0x201e,
        0x85: 0x2026,
        0x86: 0x2020,
        0x87: 0x2021,
        0x88: 0x02c6,
        0x89: 0x2030,
        0x8a: 0x0160,
        0x8b: 0x2039,
        0x8c: 0x0152,
        0x8e: 0x017d,
        0x91: 0x2018,
        0x92: 0x2019,
        0x93: 0x201c,
        0x94: 0x201d,
        0x95: 0x2022,
        0x96: 0x2013,
        0x97: 0x2014,
        0x98: 0x02dc,
        0x99: 0x2122,
        0x9a: 0x0161,
        0x9b: 0x203a,
        0x9c: 0x0153,
        0x9e: 0x017e,
        0x9f: 0x0178
    };

    // Named entity tree flags
    const HAS_DATA_FLAG = 1 << 0;
    const DATA_DUPLET_FLAG = 1 << 1;
    const HAS_BRANCHES_FLAG = 1 << 2;
    const MAX_BRANCH_MARKER_VALUE = HAS_DATA_FLAG | DATA_DUPLET_FLAG | HAS_BRANCHES_FLAG;

    //States
    const DATA_STATE = 'DATA_STATE';
    const RCDATA_STATE = 'RCDATA_STATE';
    const RAWTEXT_STATE = 'RAWTEXT_STATE';
    const SCRIPT_DATA_STATE = 'SCRIPT_DATA_STATE';
    const PLAINTEXT_STATE = 'PLAINTEXT_STATE';
    const TAG_OPEN_STATE = 'TAG_OPEN_STATE';
    const END_TAG_OPEN_STATE = 'END_TAG_OPEN_STATE';
    const TAG_NAME_STATE = 'TAG_NAME_STATE';
    const RCDATA_LESS_THAN_SIGN_STATE = 'RCDATA_LESS_THAN_SIGN_STATE';
    const RCDATA_END_TAG_OPEN_STATE = 'RCDATA_END_TAG_OPEN_STATE';
    const RCDATA_END_TAG_NAME_STATE = 'RCDATA_END_TAG_NAME_STATE';
    const RAWTEXT_LESS_THAN_SIGN_STATE = 'RAWTEXT_LESS_THAN_SIGN_STATE';
    const RAWTEXT_END_TAG_OPEN_STATE = 'RAWTEXT_END_TAG_OPEN_STATE';
    const RAWTEXT_END_TAG_NAME_STATE = 'RAWTEXT_END_TAG_NAME_STATE';
    const SCRIPT_DATA_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_LESS_THAN_SIGN_STATE';
    const SCRIPT_DATA_END_TAG_OPEN_STATE = 'SCRIPT_DATA_END_TAG_OPEN_STATE';
    const SCRIPT_DATA_END_TAG_NAME_STATE = 'SCRIPT_DATA_END_TAG_NAME_STATE';
    const SCRIPT_DATA_ESCAPE_START_STATE = 'SCRIPT_DATA_ESCAPE_START_STATE';
    const SCRIPT_DATA_ESCAPE_START_DASH_STATE = 'SCRIPT_DATA_ESCAPE_START_DASH_STATE';
    const SCRIPT_DATA_ESCAPED_STATE = 'SCRIPT_DATA_ESCAPED_STATE';
    const SCRIPT_DATA_ESCAPED_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_STATE';
    const SCRIPT_DATA_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_DASH_STATE';
    const SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE';
    const SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE';
    const SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPED_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE';
    const SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE';
    const BEFORE_ATTRIBUTE_NAME_STATE = 'BEFORE_ATTRIBUTE_NAME_STATE';
    const ATTRIBUTE_NAME_STATE = 'ATTRIBUTE_NAME_STATE';
    const AFTER_ATTRIBUTE_NAME_STATE = 'AFTER_ATTRIBUTE_NAME_STATE';
    const BEFORE_ATTRIBUTE_VALUE_STATE = 'BEFORE_ATTRIBUTE_VALUE_STATE';
    const ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE';
    const ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE';
    const ATTRIBUTE_VALUE_UNQUOTED_STATE = 'ATTRIBUTE_VALUE_UNQUOTED_STATE';
    const AFTER_ATTRIBUTE_VALUE_QUOTED_STATE = 'AFTER_ATTRIBUTE_VALUE_QUOTED_STATE';
    const SELF_CLOSING_START_TAG_STATE = 'SELF_CLOSING_START_TAG_STATE';
    const BOGUS_COMMENT_STATE = 'BOGUS_COMMENT_STATE';
    const MARKUP_DECLARATION_OPEN_STATE = 'MARKUP_DECLARATION_OPEN_STATE';
    const COMMENT_START_STATE = 'COMMENT_START_STATE';
    const COMMENT_START_DASH_STATE = 'COMMENT_START_DASH_STATE';
    const COMMENT_STATE = 'COMMENT_STATE';
    const COMMENT_LESS_THAN_SIGN_STATE = 'COMMENT_LESS_THAN_SIGN_STATE';
    const COMMENT_LESS_THAN_SIGN_BANG_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_STATE';
    const COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE';
    const COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE';
    const COMMENT_END_DASH_STATE = 'COMMENT_END_DASH_STATE';
    const COMMENT_END_STATE = 'COMMENT_END_STATE';
    const COMMENT_END_BANG_STATE = 'COMMENT_END_BANG_STATE';
    const DOCTYPE_STATE = 'DOCTYPE_STATE';
    const BEFORE_DOCTYPE_NAME_STATE = 'BEFORE_DOCTYPE_NAME_STATE';
    const DOCTYPE_NAME_STATE = 'DOCTYPE_NAME_STATE';
    const AFTER_DOCTYPE_NAME_STATE = 'AFTER_DOCTYPE_NAME_STATE';
    const AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE = 'AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE';
    const BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE';
    const DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE';
    const DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE';
    const AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE';
    const BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE = 'BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE';
    const AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE = 'AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE';
    const BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE';
    const DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE';
    const DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE';
    const AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE';
    const BOGUS_DOCTYPE_STATE = 'BOGUS_DOCTYPE_STATE';
    const CDATA_SECTION_STATE = 'CDATA_SECTION_STATE';
    const CDATA_SECTION_BRACKET_STATE = 'CDATA_SECTION_BRACKET_STATE';
    const CDATA_SECTION_END_STATE = 'CDATA_SECTION_END_STATE';
    const CHARACTER_REFERENCE_STATE = 'CHARACTER_REFERENCE_STATE';
    const NAMED_CHARACTER_REFERENCE_STATE = 'NAMED_CHARACTER_REFERENCE_STATE';
    const AMBIGUOUS_AMPERSAND_STATE = 'AMBIGUOS_AMPERSAND_STATE';
    const NUMERIC_CHARACTER_REFERENCE_STATE = 'NUMERIC_CHARACTER_REFERENCE_STATE';
    const HEXADEMICAL_CHARACTER_REFERENCE_START_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_START_STATE';
    const DECIMAL_CHARACTER_REFERENCE_START_STATE = 'DECIMAL_CHARACTER_REFERENCE_START_STATE';
    const HEXADEMICAL_CHARACTER_REFERENCE_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_STATE';
    const DECIMAL_CHARACTER_REFERENCE_STATE = 'DECIMAL_CHARACTER_REFERENCE_STATE';
    const NUMERIC_CHARACTER_REFERENCE_END_STATE = 'NUMERIC_CHARACTER_REFERENCE_END_STATE';

    //Utils

    //OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline
    //this functions if they will be situated in another module due to context switch.
    //Always perform inlining check before modifying this functions ('node --trace-inlining').
    function isWhitespace(cp) {
        return cp === $$6.SPACE || cp === $$6.LINE_FEED || cp === $$6.TABULATION || cp === $$6.FORM_FEED;
    }

    function isAsciiDigit(cp) {
        return cp >= $$6.DIGIT_0 && cp <= $$6.DIGIT_9;
    }

    function isAsciiUpper(cp) {
        return cp >= $$6.LATIN_CAPITAL_A && cp <= $$6.LATIN_CAPITAL_Z;
    }

    function isAsciiLower(cp) {
        return cp >= $$6.LATIN_SMALL_A && cp <= $$6.LATIN_SMALL_Z;
    }

    function isAsciiLetter(cp) {
        return isAsciiLower(cp) || isAsciiUpper(cp);
    }

    function isAsciiAlphaNumeric(cp) {
        return isAsciiLetter(cp) || isAsciiDigit(cp);
    }

    function isAsciiUpperHexDigit(cp) {
        return cp >= $$6.LATIN_CAPITAL_A && cp <= $$6.LATIN_CAPITAL_F;
    }

    function isAsciiLowerHexDigit(cp) {
        return cp >= $$6.LATIN_SMALL_A && cp <= $$6.LATIN_SMALL_F;
    }

    function isAsciiHexDigit(cp) {
        return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);
    }

    function toAsciiLowerCodePoint(cp) {
        return cp + 0x0020;
    }

    //NOTE: String.fromCharCode() function can handle only characters from BMP subset.
    //So, we need to workaround this manually.
    //(see: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/fromCharCode#Getting_it_to_work_with_higher_values)
    function toChar(cp) {
        if (cp <= 0xffff) {
            return String.fromCharCode(cp);
        }

        cp -= 0x10000;
        return String.fromCharCode(((cp >>> 10) & 0x3ff) | 0xd800) + String.fromCharCode(0xdc00 | (cp & 0x3ff));
    }

    function toAsciiLowerChar(cp) {
        return String.fromCharCode(toAsciiLowerCodePoint(cp));
    }

    function findNamedEntityTreeBranch(nodeIx, cp) {
        const branchCount = neTree[++nodeIx];
        let lo = ++nodeIx;
        let hi = lo + branchCount - 1;

        while (lo <= hi) {
            const mid = (lo + hi) >>> 1;
            const midCp = neTree[mid];

            if (midCp < cp) {
                lo = mid + 1;
            } else if (midCp > cp) {
                hi = mid - 1;
            } else {
                return neTree[mid + branchCount];
            }
        }

        return -1;
    }

    //Tokenizer
    class Tokenizer$4 {
        constructor() {
            this.preprocessor = new Preprocessor();

            this.tokenQueue = [];

            this.allowCDATA = false;

            this.state = DATA_STATE;
            this.returnState = '';

            this.charRefCode = -1;
            this.tempBuff = [];
            this.lastStartTagName = '';

            this.consumedAfterSnapshot = -1;
            this.active = false;

            this.currentCharacterToken = null;
            this.currentToken = null;
            this.currentAttr = null;
        }

        //Errors
        _err() {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        }

        _errOnNextCodePoint(err) {
            this._consume();
            this._err(err);
            this._unconsume();
        }

        //API
        getNextToken() {
            while (!this.tokenQueue.length && this.active) {
                this.consumedAfterSnapshot = 0;

                const cp = this._consume();

                if (!this._ensureHibernation()) {
                    this[this.state](cp);
                }
            }

            return this.tokenQueue.shift();
        }

        write(chunk, isLastChunk) {
            this.active = true;
            this.preprocessor.write(chunk, isLastChunk);
        }

        insertHtmlAtCurrentPos(chunk) {
            this.active = true;
            this.preprocessor.insertHtmlAtCurrentPos(chunk);
        }

        //Hibernation
        _ensureHibernation() {
            if (this.preprocessor.endOfChunkHit) {
                for (; this.consumedAfterSnapshot > 0; this.consumedAfterSnapshot--) {
                    this.preprocessor.retreat();
                }

                this.active = false;
                this.tokenQueue.push({ type: Tokenizer$4.HIBERNATION_TOKEN });

                return true;
            }

            return false;
        }

        //Consumption
        _consume() {
            this.consumedAfterSnapshot++;
            return this.preprocessor.advance();
        }

        _unconsume() {
            this.consumedAfterSnapshot--;
            this.preprocessor.retreat();
        }

        _reconsumeInState(state) {
            this.state = state;
            this._unconsume();
        }

        _consumeSequenceIfMatch(pattern, startCp, caseSensitive) {
            let consumedCount = 0;
            let isMatch = true;
            const patternLength = pattern.length;
            let patternPos = 0;
            let cp = startCp;
            let patternCp = void 0;

            for (; patternPos < patternLength; patternPos++) {
                if (patternPos > 0) {
                    cp = this._consume();
                    consumedCount++;
                }

                if (cp === $$6.EOF) {
                    isMatch = false;
                    break;
                }

                patternCp = pattern[patternPos];

                if (cp !== patternCp && (caseSensitive || cp !== toAsciiLowerCodePoint(patternCp))) {
                    isMatch = false;
                    break;
                }
            }

            if (!isMatch) {
                while (consumedCount--) {
                    this._unconsume();
                }
            }

            return isMatch;
        }

        //Temp buffer
        _isTempBufferEqualToScriptString() {
            if (this.tempBuff.length !== $$.SCRIPT_STRING.length) {
                return false;
            }

            for (let i = 0; i < this.tempBuff.length; i++) {
                if (this.tempBuff[i] !== $$.SCRIPT_STRING[i]) {
                    return false;
                }
            }

            return true;
        }

        //Token creation
        _createStartTagToken() {
            this.currentToken = {
                type: Tokenizer$4.START_TAG_TOKEN,
                tagName: '',
                selfClosing: false,
                ackSelfClosing: false,
                attrs: []
            };
        }

        _createEndTagToken() {
            this.currentToken = {
                type: Tokenizer$4.END_TAG_TOKEN,
                tagName: '',
                selfClosing: false,
                attrs: []
            };
        }

        _createCommentToken() {
            this.currentToken = {
                type: Tokenizer$4.COMMENT_TOKEN,
                data: ''
            };
        }

        _createDoctypeToken(initialName) {
            this.currentToken = {
                type: Tokenizer$4.DOCTYPE_TOKEN,
                name: initialName,
                forceQuirks: false,
                publicId: null,
                systemId: null
            };
        }

        _createCharacterToken(type, ch) {
            this.currentCharacterToken = {
                type: type,
                chars: ch
            };
        }

        _createEOFToken() {
            this.currentToken = { type: Tokenizer$4.EOF_TOKEN };
        }

        //Tag attributes
        _createAttr(attrNameFirstCh) {
            this.currentAttr = {
                name: attrNameFirstCh,
                value: ''
            };
        }

        _leaveAttrName(toState) {
            if (Tokenizer$4.getTokenAttr(this.currentToken, this.currentAttr.name) === null) {
                this.currentToken.attrs.push(this.currentAttr);
            } else {
                this._err(ERR$1.duplicateAttribute);
            }

            this.state = toState;
        }

        _leaveAttrValue(toState) {
            this.state = toState;
        }

        //Token emission
        _emitCurrentToken() {
            this._emitCurrentCharacterToken();

            const ct = this.currentToken;

            this.currentToken = null;

            //NOTE: store emited start tag's tagName to determine is the following end tag token is appropriate.
            if (ct.type === Tokenizer$4.START_TAG_TOKEN) {
                this.lastStartTagName = ct.tagName;
            } else if (ct.type === Tokenizer$4.END_TAG_TOKEN) {
                if (ct.attrs.length > 0) {
                    this._err(ERR$1.endTagWithAttributes);
                }

                if (ct.selfClosing) {
                    this._err(ERR$1.endTagWithTrailingSolidus);
                }
            }

            this.tokenQueue.push(ct);
        }

        _emitCurrentCharacterToken() {
            if (this.currentCharacterToken) {
                this.tokenQueue.push(this.currentCharacterToken);
                this.currentCharacterToken = null;
            }
        }

        _emitEOFToken() {
            this._createEOFToken();
            this._emitCurrentToken();
        }

        //Characters emission

        //OPTIMIZATION: specification uses only one type of character tokens (one token per character).
        //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.
        //If we have a sequence of characters that belong to the same group, parser can process it
        //as a single solid character token.
        //So, there are 3 types of character tokens in parse5:
        //1)NULL_CHARACTER_TOKEN - \u0000-character sequences (e.g. '\u0000\u0000\u0000')
        //2)WHITESPACE_CHARACTER_TOKEN - any whitespace/new-line character sequences (e.g. '\n  \r\t   \f')
        //3)CHARACTER_TOKEN - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')
        _appendCharToCurrentCharacterToken(type, ch) {
            if (this.currentCharacterToken && this.currentCharacterToken.type !== type) {
                this._emitCurrentCharacterToken();
            }

            if (this.currentCharacterToken) {
                this.currentCharacterToken.chars += ch;
            } else {
                this._createCharacterToken(type, ch);
            }
        }

        _emitCodePoint(cp) {
            let type = Tokenizer$4.CHARACTER_TOKEN;

            if (isWhitespace(cp)) {
                type = Tokenizer$4.WHITESPACE_CHARACTER_TOKEN;
            } else if (cp === $$6.NULL) {
                type = Tokenizer$4.NULL_CHARACTER_TOKEN;
            }

            this._appendCharToCurrentCharacterToken(type, toChar(cp));
        }

        _emitSeveralCodePoints(codePoints) {
            for (let i = 0; i < codePoints.length; i++) {
                this._emitCodePoint(codePoints[i]);
            }
        }

        //NOTE: used then we emit character explicitly. This is always a non-whitespace and a non-null character.
        //So we can avoid additional checks here.
        _emitChars(ch) {
            this._appendCharToCurrentCharacterToken(Tokenizer$4.CHARACTER_TOKEN, ch);
        }

        // Character reference helpers
        _matchNamedCharacterReference(startCp) {
            let result = null;
            let excess = 1;
            let i = findNamedEntityTreeBranch(0, startCp);

            this.tempBuff.push(startCp);

            while (i > -1) {
                const current = neTree[i];
                const inNode = current < MAX_BRANCH_MARKER_VALUE;
                const nodeWithData = inNode && current & HAS_DATA_FLAG;

                if (nodeWithData) {
                    //NOTE: we use greedy search, so we continue lookup at this point
                    result = current & DATA_DUPLET_FLAG ? [neTree[++i], neTree[++i]] : [neTree[++i]];
                    excess = 0;
                }

                const cp = this._consume();

                this.tempBuff.push(cp);
                excess++;

                if (cp === $$6.EOF) {
                    break;
                }

                if (inNode) {
                    i = current & HAS_BRANCHES_FLAG ? findNamedEntityTreeBranch(i, cp) : -1;
                } else {
                    i = cp === current ? ++i : -1;
                }
            }

            while (excess--) {
                this.tempBuff.pop();
                this._unconsume();
            }

            return result;
        }

        _isCharacterReferenceInAttribute() {
            return (
                this.returnState === ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE ||
                this.returnState === ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE ||
                this.returnState === ATTRIBUTE_VALUE_UNQUOTED_STATE
            );
        }

        _isCharacterReferenceAttributeQuirk(withSemicolon) {
            if (!withSemicolon && this._isCharacterReferenceInAttribute()) {
                const nextCp = this._consume();

                this._unconsume();

                return nextCp === $$6.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);
            }

            return false;
        }

        _flushCodePointsConsumedAsCharacterReference() {
            if (this._isCharacterReferenceInAttribute()) {
                for (let i = 0; i < this.tempBuff.length; i++) {
                    this.currentAttr.value += toChar(this.tempBuff[i]);
                }
            } else {
                this._emitSeveralCodePoints(this.tempBuff);
            }

            this.tempBuff = [];
        }

        // State machine

        // Data state
        //------------------------------------------------------------------
        [DATA_STATE](cp) {
            this.preprocessor.dropParsedChunk();

            if (cp === $$6.LESS_THAN_SIGN) {
                this.state = TAG_OPEN_STATE;
            } else if (cp === $$6.AMPERSAND) {
                this.returnState = DATA_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitCodePoint(cp);
            } else if (cp === $$6.EOF) {
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        //  RCDATA state
        //------------------------------------------------------------------
        [RCDATA_STATE](cp) {
            this.preprocessor.dropParsedChunk();

            if (cp === $$6.AMPERSAND) {
                this.returnState = RCDATA_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = RCDATA_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // RAWTEXT state
        //------------------------------------------------------------------
        [RAWTEXT_STATE](cp) {
            this.preprocessor.dropParsedChunk();

            if (cp === $$6.LESS_THAN_SIGN) {
                this.state = RAWTEXT_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // Script data state
        //------------------------------------------------------------------
        [SCRIPT_DATA_STATE](cp) {
            this.preprocessor.dropParsedChunk();

            if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // PLAINTEXT state
        //------------------------------------------------------------------
        [PLAINTEXT_STATE](cp) {
            this.preprocessor.dropParsedChunk();

            if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // Tag open state
        //------------------------------------------------------------------
        [TAG_OPEN_STATE](cp) {
            if (cp === $$6.EXCLAMATION_MARK) {
                this.state = MARKUP_DECLARATION_OPEN_STATE;
            } else if (cp === $$6.SOLIDUS) {
                this.state = END_TAG_OPEN_STATE;
            } else if (isAsciiLetter(cp)) {
                this._createStartTagToken();
                this._reconsumeInState(TAG_NAME_STATE);
            } else if (cp === $$6.QUESTION_MARK) {
                this._err(ERR$1.unexpectedQuestionMarkInsteadOfTagName);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofBeforeTagName);
                this._emitChars('<');
                this._emitEOFToken();
            } else {
                this._err(ERR$1.invalidFirstCharacterOfTagName);
                this._emitChars('<');
                this._reconsumeInState(DATA_STATE);
            }
        }

        // End tag open state
        //------------------------------------------------------------------
        [END_TAG_OPEN_STATE](cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(TAG_NAME_STATE);
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingEndTagName);
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofBeforeTagName);
                this._emitChars('</');
                this._emitEOFToken();
            } else {
                this._err(ERR$1.invalidFirstCharacterOfTagName);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            }
        }

        // Tag name state
        //------------------------------------------------------------------
        [TAG_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_ATTRIBUTE_NAME_STATE;
            } else if (cp === $$6.SOLIDUS) {
                this.state = SELF_CLOSING_START_TAG_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.tagName += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this.currentToken.tagName += toChar(cp);
            }
        }

        // RCDATA less-than sign state
        //------------------------------------------------------------------
        [RCDATA_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.SOLIDUS) {
                this.tempBuff = [];
                this.state = RCDATA_END_TAG_OPEN_STATE;
            } else {
                this._emitChars('<');
                this._reconsumeInState(RCDATA_STATE);
            }
        }

        // RCDATA end tag open state
        //------------------------------------------------------------------
        [RCDATA_END_TAG_OPEN_STATE](cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(RCDATA_END_TAG_NAME_STATE);
            } else {
                this._emitChars('</');
                this._reconsumeInState(RCDATA_STATE);
            }
        }

        // RCDATA end tag name state
        //------------------------------------------------------------------
        [RCDATA_END_TAG_NAME_STATE](cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            } else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            } else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }

                    if (cp === $$6.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }

                    if (cp === $$6.GREATER_THAN_SIGN) {
                        this.state = DATA_STATE;
                        this._emitCurrentToken();
                        return;
                    }
                }

                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(RCDATA_STATE);
            }
        }

        // RAWTEXT less-than sign state
        //------------------------------------------------------------------
        [RAWTEXT_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.SOLIDUS) {
                this.tempBuff = [];
                this.state = RAWTEXT_END_TAG_OPEN_STATE;
            } else {
                this._emitChars('<');
                this._reconsumeInState(RAWTEXT_STATE);
            }
        }

        // RAWTEXT end tag open state
        //------------------------------------------------------------------
        [RAWTEXT_END_TAG_OPEN_STATE](cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(RAWTEXT_END_TAG_NAME_STATE);
            } else {
                this._emitChars('</');
                this._reconsumeInState(RAWTEXT_STATE);
            }
        }

        // RAWTEXT end tag name state
        //------------------------------------------------------------------
        [RAWTEXT_END_TAG_NAME_STATE](cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            } else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            } else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }

                    if (cp === $$6.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }

                    if (cp === $$6.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }

                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(RAWTEXT_STATE);
            }
        }

        // Script data less-than sign state
        //------------------------------------------------------------------
        [SCRIPT_DATA_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_END_TAG_OPEN_STATE;
            } else if (cp === $$6.EXCLAMATION_MARK) {
                this.state = SCRIPT_DATA_ESCAPE_START_STATE;
                this._emitChars('<!');
            } else {
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        }

        // Script data end tag open state
        //------------------------------------------------------------------
        [SCRIPT_DATA_END_TAG_OPEN_STATE](cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(SCRIPT_DATA_END_TAG_NAME_STATE);
            } else {
                this._emitChars('</');
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        }

        // Script data end tag name state
        //------------------------------------------------------------------
        [SCRIPT_DATA_END_TAG_NAME_STATE](cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            } else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            } else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    } else if (cp === $$6.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    } else if (cp === $$6.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }

                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        }

        // Script data escape start state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPE_START_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPE_START_DASH_STATE;
                this._emitChars('-');
            } else {
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        }

        // Script data escape start dash state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPE_START_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            } else {
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        }

        // Script data escaped state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_STATE;
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // Script data escaped dash state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        }

        // Script data escaped dash dash state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_DASH_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = SCRIPT_DATA_STATE;
                this._emitChars('>');
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        }

        // Script data escaped less-than sign state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE;
            } else if (isAsciiLetter(cp)) {
                this.tempBuff = [];
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE);
            } else {
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        }

        // Script data escaped end tag open state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE](cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE);
            } else {
                this._emitChars('</');
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        }

        // Script data escaped end tag name state
        //------------------------------------------------------------------
        [SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE](cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            } else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            } else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }

                    if (cp === $$6.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }

                    if (cp === $$6.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }

                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        }

        // Script data double escape start state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE](cp) {
            if (isWhitespace(cp) || cp === $$6.SOLIDUS || cp === $$6.GREATER_THAN_SIGN) {
                this.state = this._isTempBufferEqualToScriptString()
                    ? SCRIPT_DATA_DOUBLE_ESCAPED_STATE
                    : SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            } else if (isAsciiUpper(cp)) {
                this.tempBuff.push(toAsciiLowerCodePoint(cp));
                this._emitCodePoint(cp);
            } else if (isAsciiLower(cp)) {
                this.tempBuff.push(cp);
                this._emitCodePoint(cp);
            } else {
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        }

        // Script data double escaped state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPED_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE;
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // Script data double escaped dash state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        }

        // Script data double escaped dash dash state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this._emitChars('-');
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = SCRIPT_DATA_STATE;
                this._emitChars('>');
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitChars(unicode$1.REPLACEMENT_CHARACTER);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            } else {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        }

        // Script data double escaped less-than sign state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE;
                this._emitChars('/');
            } else {
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);
            }
        }

        // Script data double escape end state
        //------------------------------------------------------------------
        [SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE](cp) {
            if (isWhitespace(cp) || cp === $$6.SOLIDUS || cp === $$6.GREATER_THAN_SIGN) {
                this.state = this._isTempBufferEqualToScriptString()
                    ? SCRIPT_DATA_ESCAPED_STATE
                    : SCRIPT_DATA_DOUBLE_ESCAPED_STATE;

                this._emitCodePoint(cp);
            } else if (isAsciiUpper(cp)) {
                this.tempBuff.push(toAsciiLowerCodePoint(cp));
                this._emitCodePoint(cp);
            } else if (isAsciiLower(cp)) {
                this.tempBuff.push(cp);
                this._emitCodePoint(cp);
            } else {
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);
            }
        }

        // Before attribute name state
        //------------------------------------------------------------------
        [BEFORE_ATTRIBUTE_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.SOLIDUS || cp === $$6.GREATER_THAN_SIGN || cp === $$6.EOF) {
                this._reconsumeInState(AFTER_ATTRIBUTE_NAME_STATE);
            } else if (cp === $$6.EQUALS_SIGN) {
                this._err(ERR$1.unexpectedEqualsSignBeforeAttributeName);
                this._createAttr('=');
                this.state = ATTRIBUTE_NAME_STATE;
            } else {
                this._createAttr('');
                this._reconsumeInState(ATTRIBUTE_NAME_STATE);
            }
        }

        // Attribute name state
        //------------------------------------------------------------------
        [ATTRIBUTE_NAME_STATE](cp) {
            if (isWhitespace(cp) || cp === $$6.SOLIDUS || cp === $$6.GREATER_THAN_SIGN || cp === $$6.EOF) {
                this._leaveAttrName(AFTER_ATTRIBUTE_NAME_STATE);
                this._unconsume();
            } else if (cp === $$6.EQUALS_SIGN) {
                this._leaveAttrName(BEFORE_ATTRIBUTE_VALUE_STATE);
            } else if (isAsciiUpper(cp)) {
                this.currentAttr.name += toAsciiLowerChar(cp);
            } else if (cp === $$6.QUOTATION_MARK || cp === $$6.APOSTROPHE || cp === $$6.LESS_THAN_SIGN) {
                this._err(ERR$1.unexpectedCharacterInAttributeName);
                this.currentAttr.name += toChar(cp);
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentAttr.name += unicode$1.REPLACEMENT_CHARACTER;
            } else {
                this.currentAttr.name += toChar(cp);
            }
        }

        // After attribute name state
        //------------------------------------------------------------------
        [AFTER_ATTRIBUTE_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.SOLIDUS) {
                this.state = SELF_CLOSING_START_TAG_STATE;
            } else if (cp === $$6.EQUALS_SIGN) {
                this.state = BEFORE_ATTRIBUTE_VALUE_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this._createAttr('');
                this._reconsumeInState(ATTRIBUTE_NAME_STATE);
            }
        }

        // Before attribute value state
        //------------------------------------------------------------------
        [BEFORE_ATTRIBUTE_VALUE_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.QUOTATION_MARK) {
                this.state = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this.state = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingAttributeValue);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else {
                this._reconsumeInState(ATTRIBUTE_VALUE_UNQUOTED_STATE);
            }
        }

        // Attribute value (double-quoted) state
        //------------------------------------------------------------------
        [ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE](cp) {
            if (cp === $$6.QUOTATION_MARK) {
                this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;
            } else if (cp === $$6.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentAttr.value += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this.currentAttr.value += toChar(cp);
            }
        }

        // Attribute value (single-quoted) state
        //------------------------------------------------------------------
        [ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE](cp) {
            if (cp === $$6.APOSTROPHE) {
                this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;
            } else if (cp === $$6.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentAttr.value += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this.currentAttr.value += toChar(cp);
            }
        }

        // Attribute value (unquoted) state
        //------------------------------------------------------------------
        [ATTRIBUTE_VALUE_UNQUOTED_STATE](cp) {
            if (isWhitespace(cp)) {
                this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);
            } else if (cp === $$6.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_UNQUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._leaveAttrValue(DATA_STATE);
                this._emitCurrentToken();
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentAttr.value += unicode$1.REPLACEMENT_CHARACTER;
            } else if (
                cp === $$6.QUOTATION_MARK ||
                cp === $$6.APOSTROPHE ||
                cp === $$6.LESS_THAN_SIGN ||
                cp === $$6.EQUALS_SIGN ||
                cp === $$6.GRAVE_ACCENT
            ) {
                this._err(ERR$1.unexpectedCharacterInUnquotedAttributeValue);
                this.currentAttr.value += toChar(cp);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this.currentAttr.value += toChar(cp);
            }
        }

        // After attribute value (quoted) state
        //------------------------------------------------------------------
        [AFTER_ATTRIBUTE_VALUE_QUOTED_STATE](cp) {
            if (isWhitespace(cp)) {
                this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);
            } else if (cp === $$6.SOLIDUS) {
                this._leaveAttrValue(SELF_CLOSING_START_TAG_STATE);
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._leaveAttrValue(DATA_STATE);
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingWhitespaceBetweenAttributes);
                this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);
            }
        }

        // Self-closing start tag state
        //------------------------------------------------------------------
        [SELF_CLOSING_START_TAG_STATE](cp) {
            if (cp === $$6.GREATER_THAN_SIGN) {
                this.currentToken.selfClosing = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInTag);
                this._emitEOFToken();
            } else {
                this._err(ERR$1.unexpectedSolidusInTag);
                this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);
            }
        }

        // Bogus comment state
        //------------------------------------------------------------------
        [BOGUS_COMMENT_STATE](cp) {
            if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._emitCurrentToken();
                this._emitEOFToken();
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.data += unicode$1.REPLACEMENT_CHARACTER;
            } else {
                this.currentToken.data += toChar(cp);
            }
        }

        // Markup declaration open state
        //------------------------------------------------------------------
        [MARKUP_DECLARATION_OPEN_STATE](cp) {
            if (this._consumeSequenceIfMatch($$.DASH_DASH_STRING, cp, true)) {
                this._createCommentToken();
                this.state = COMMENT_START_STATE;
            } else if (this._consumeSequenceIfMatch($$.DOCTYPE_STRING, cp, false)) {
                this.state = DOCTYPE_STATE;
            } else if (this._consumeSequenceIfMatch($$.CDATA_START_STRING, cp, true)) {
                if (this.allowCDATA) {
                    this.state = CDATA_SECTION_STATE;
                } else {
                    this._err(ERR$1.cdataInHtmlContent);
                    this._createCommentToken();
                    this.currentToken.data = '[CDATA[';
                    this.state = BOGUS_COMMENT_STATE;
                }
            }

            //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup
            //results are no longer valid and we will need to start over.
            else if (!this._ensureHibernation()) {
                this._err(ERR$1.incorrectlyOpenedComment);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            }
        }

        // Comment start state
        //------------------------------------------------------------------
        [COMMENT_START_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_START_DASH_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptClosingOfEmptyComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else {
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment start dash state
        //------------------------------------------------------------------
        [COMMENT_START_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_END_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptClosingOfEmptyComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.data += '-';
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment state
        //------------------------------------------------------------------
        [COMMENT_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_END_DASH_STATE;
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.currentToken.data += '<';
                this.state = COMMENT_LESS_THAN_SIGN_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.data += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.data += toChar(cp);
            }
        }

        // Comment less-than sign state
        //------------------------------------------------------------------
        [COMMENT_LESS_THAN_SIGN_STATE](cp) {
            if (cp === $$6.EXCLAMATION_MARK) {
                this.currentToken.data += '!';
                this.state = COMMENT_LESS_THAN_SIGN_BANG_STATE;
            } else if (cp === $$6.LESS_THAN_SIGN) {
                this.currentToken.data += '!';
            } else {
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment less-than sign bang state
        //------------------------------------------------------------------
        [COMMENT_LESS_THAN_SIGN_BANG_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE;
            } else {
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment less-than sign bang dash state
        //------------------------------------------------------------------
        [COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE;
            } else {
                this._reconsumeInState(COMMENT_END_DASH_STATE);
            }
        }

        // Comment less-than sign bang dash dash state
        //------------------------------------------------------------------
        [COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE](cp) {
            if (cp !== $$6.GREATER_THAN_SIGN && cp !== $$6.EOF) {
                this._err(ERR$1.nestedComment);
            }

            this._reconsumeInState(COMMENT_END_STATE);
        }

        // Comment end dash state
        //------------------------------------------------------------------
        [COMMENT_END_DASH_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.state = COMMENT_END_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.data += '-';
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment end state
        //------------------------------------------------------------------
        [COMMENT_END_STATE](cp) {
            if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EXCLAMATION_MARK) {
                this.state = COMMENT_END_BANG_STATE;
            } else if (cp === $$6.HYPHEN_MINUS) {
                this.currentToken.data += '-';
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.data += '--';
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // Comment end bang state
        //------------------------------------------------------------------
        [COMMENT_END_BANG_STATE](cp) {
            if (cp === $$6.HYPHEN_MINUS) {
                this.currentToken.data += '--!';
                this.state = COMMENT_END_DASH_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.incorrectlyClosedComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.data += '--!';
                this._reconsumeInState(COMMENT_STATE);
            }
        }

        // DOCTYPE state
        //------------------------------------------------------------------
        [DOCTYPE_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_NAME_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingWhitespaceBeforeDoctypeName);
                this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);
            }
        }

        // Before DOCTYPE name state
        //------------------------------------------------------------------
        [BEFORE_DOCTYPE_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (isAsciiUpper(cp)) {
                this._createDoctypeToken(toAsciiLowerChar(cp));
                this.state = DOCTYPE_NAME_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this._createDoctypeToken(unicode$1.REPLACEMENT_CHARACTER);
                this.state = DOCTYPE_NAME_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingDoctypeName);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._createDoctypeToken(toChar(cp));
                this.state = DOCTYPE_NAME_STATE;
            }
        }

        // DOCTYPE name state
        //------------------------------------------------------------------
        [DOCTYPE_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = AFTER_DOCTYPE_NAME_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (isAsciiUpper(cp)) {
                this.currentToken.name += toAsciiLowerChar(cp);
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.name += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.name += toChar(cp);
            }
        }

        // After DOCTYPE name state
        //------------------------------------------------------------------
        [AFTER_DOCTYPE_NAME_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else if (this._consumeSequenceIfMatch($$.PUBLIC_STRING, cp, false)) {
                this.state = AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE;
            } else if (this._consumeSequenceIfMatch($$.SYSTEM_STRING, cp, false)) {
                this.state = AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE;
            }
            //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup
            //results are no longer valid and we will need to start over.
            else if (!this._ensureHibernation()) {
                this._err(ERR$1.invalidCharacterSequenceAfterDoctypeName);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // After DOCTYPE public keyword state
        //------------------------------------------------------------------
        [AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            } else if (cp === $$6.QUOTATION_MARK) {
                this._err(ERR$1.missingWhitespaceAfterDoctypePublicKeyword);
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this._err(ERR$1.missingWhitespaceAfterDoctypePublicKeyword);
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // Before DOCTYPE public identifier state
        //------------------------------------------------------------------
        [BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.QUOTATION_MARK) {
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // DOCTYPE public identifier (double-quoted) state
        //------------------------------------------------------------------
        [DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {
            if (cp === $$6.QUOTATION_MARK) {
                this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.publicId += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.publicId += toChar(cp);
            }
        }

        // DOCTYPE public identifier (single-quoted) state
        //------------------------------------------------------------------
        [DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {
            if (cp === $$6.APOSTROPHE) {
                this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.publicId += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.publicId += toChar(cp);
            }
        }

        // After DOCTYPE public identifier state
        //------------------------------------------------------------------
        [AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.QUOTATION_MARK) {
                this._err(ERR$1.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this._err(ERR$1.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // Between DOCTYPE public and system identifiers state
        //------------------------------------------------------------------
        [BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.QUOTATION_MARK) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // After DOCTYPE system keyword state
        //------------------------------------------------------------------
        [AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE](cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            } else if (cp === $$6.QUOTATION_MARK) {
                this._err(ERR$1.missingWhitespaceAfterDoctypeSystemKeyword);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this._err(ERR$1.missingWhitespaceAfterDoctypeSystemKeyword);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // Before DOCTYPE system identifier state
        //------------------------------------------------------------------
        [BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.QUOTATION_MARK) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            } else if (cp === $$6.APOSTROPHE) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.missingDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // DOCTYPE system identifier (double-quoted) state
        //------------------------------------------------------------------
        [DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {
            if (cp === $$6.QUOTATION_MARK) {
                this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.systemId += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.systemId += toChar(cp);
            }
        }

        // DOCTYPE system identifier (single-quoted) state
        //------------------------------------------------------------------
        [DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {
            if (cp === $$6.APOSTROPHE) {
                this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
                this.currentToken.systemId += unicode$1.REPLACEMENT_CHARACTER;
            } else if (cp === $$6.GREATER_THAN_SIGN) {
                this._err(ERR$1.abruptDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this.currentToken.systemId += toChar(cp);
            }
        }

        // After DOCTYPE system identifier state
        //------------------------------------------------------------------
        [AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {
            if (isWhitespace(cp)) {
                return;
            }

            if (cp === $$6.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            } else {
                this._err(ERR$1.unexpectedCharacterAfterDoctypeSystemIdentifier);
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        }

        // Bogus DOCTYPE state
        //------------------------------------------------------------------
        [BOGUS_DOCTYPE_STATE](cp) {
            if (cp === $$6.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            } else if (cp === $$6.NULL) {
                this._err(ERR$1.unexpectedNullCharacter);
            } else if (cp === $$6.EOF) {
                this._emitCurrentToken();
                this._emitEOFToken();
            }
        }

        // CDATA section state
        //------------------------------------------------------------------
        [CDATA_SECTION_STATE](cp) {
            if (cp === $$6.RIGHT_SQUARE_BRACKET) {
                this.state = CDATA_SECTION_BRACKET_STATE;
            } else if (cp === $$6.EOF) {
                this._err(ERR$1.eofInCdata);
                this._emitEOFToken();
            } else {
                this._emitCodePoint(cp);
            }
        }

        // CDATA section bracket state
        //------------------------------------------------------------------
        [CDATA_SECTION_BRACKET_STATE](cp) {
            if (cp === $$6.RIGHT_SQUARE_BRACKET) {
                this.state = CDATA_SECTION_END_STATE;
            } else {
                this._emitChars(']');
                this._reconsumeInState(CDATA_SECTION_STATE);
            }
        }

        // CDATA section end state
        //------------------------------------------------------------------
        [CDATA_SECTION_END_STATE](cp) {
            if (cp === $$6.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
            } else if (cp === $$6.RIGHT_SQUARE_BRACKET) {
                this._emitChars(']');
            } else {
                this._emitChars(']]');
                this._reconsumeInState(CDATA_SECTION_STATE);
            }
        }

        // Character reference state
        //------------------------------------------------------------------
        [CHARACTER_REFERENCE_STATE](cp) {
            this.tempBuff = [$$6.AMPERSAND];

            if (cp === $$6.NUMBER_SIGN) {
                this.tempBuff.push(cp);
                this.state = NUMERIC_CHARACTER_REFERENCE_STATE;
            } else if (isAsciiAlphaNumeric(cp)) {
                this._reconsumeInState(NAMED_CHARACTER_REFERENCE_STATE);
            } else {
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        }

        // Named character reference state
        //------------------------------------------------------------------
        [NAMED_CHARACTER_REFERENCE_STATE](cp) {
            const matchResult = this._matchNamedCharacterReference(cp);

            //NOTE: matching can be abrupted by hibernation. In that case match
            //results are no longer valid and we will need to start over.
            if (this._ensureHibernation()) {
                this.tempBuff = [$$6.AMPERSAND];
            } else if (matchResult) {
                const withSemicolon = this.tempBuff[this.tempBuff.length - 1] === $$6.SEMICOLON;

                if (!this._isCharacterReferenceAttributeQuirk(withSemicolon)) {
                    if (!withSemicolon) {
                        this._errOnNextCodePoint(ERR$1.missingSemicolonAfterCharacterReference);
                    }

                    this.tempBuff = matchResult;
                }

                this._flushCodePointsConsumedAsCharacterReference();
                this.state = this.returnState;
            } else {
                this._flushCodePointsConsumedAsCharacterReference();
                this.state = AMBIGUOUS_AMPERSAND_STATE;
            }
        }

        // Ambiguos ampersand state
        //------------------------------------------------------------------
        [AMBIGUOUS_AMPERSAND_STATE](cp) {
            if (isAsciiAlphaNumeric(cp)) {
                if (this._isCharacterReferenceInAttribute()) {
                    this.currentAttr.value += toChar(cp);
                } else {
                    this._emitCodePoint(cp);
                }
            } else {
                if (cp === $$6.SEMICOLON) {
                    this._err(ERR$1.unknownNamedCharacterReference);
                }

                this._reconsumeInState(this.returnState);
            }
        }

        // Numeric character reference state
        //------------------------------------------------------------------
        [NUMERIC_CHARACTER_REFERENCE_STATE](cp) {
            this.charRefCode = 0;

            if (cp === $$6.LATIN_SMALL_X || cp === $$6.LATIN_CAPITAL_X) {
                this.tempBuff.push(cp);
                this.state = HEXADEMICAL_CHARACTER_REFERENCE_START_STATE;
            } else {
                this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_START_STATE);
            }
        }

        // Hexademical character reference start state
        //------------------------------------------------------------------
        [HEXADEMICAL_CHARACTER_REFERENCE_START_STATE](cp) {
            if (isAsciiHexDigit(cp)) {
                this._reconsumeInState(HEXADEMICAL_CHARACTER_REFERENCE_STATE);
            } else {
                this._err(ERR$1.absenceOfDigitsInNumericCharacterReference);
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        }

        // Decimal character reference start state
        //------------------------------------------------------------------
        [DECIMAL_CHARACTER_REFERENCE_START_STATE](cp) {
            if (isAsciiDigit(cp)) {
                this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_STATE);
            } else {
                this._err(ERR$1.absenceOfDigitsInNumericCharacterReference);
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        }

        // Hexademical character reference state
        //------------------------------------------------------------------
        [HEXADEMICAL_CHARACTER_REFERENCE_STATE](cp) {
            if (isAsciiUpperHexDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x37;
            } else if (isAsciiLowerHexDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x57;
            } else if (isAsciiDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x30;
            } else if (cp === $$6.SEMICOLON) {
                this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;
            } else {
                this._err(ERR$1.missingSemicolonAfterCharacterReference);
                this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);
            }
        }

        // Decimal character reference state
        //------------------------------------------------------------------
        [DECIMAL_CHARACTER_REFERENCE_STATE](cp) {
            if (isAsciiDigit(cp)) {
                this.charRefCode = this.charRefCode * 10 + cp - 0x30;
            } else if (cp === $$6.SEMICOLON) {
                this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;
            } else {
                this._err(ERR$1.missingSemicolonAfterCharacterReference);
                this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);
            }
        }

        // Numeric character reference end state
        //------------------------------------------------------------------
        [NUMERIC_CHARACTER_REFERENCE_END_STATE]() {
            if (this.charRefCode === $$6.NULL) {
                this._err(ERR$1.nullCharacterReference);
                this.charRefCode = $$6.REPLACEMENT_CHARACTER;
            } else if (this.charRefCode > 0x10ffff) {
                this._err(ERR$1.characterReferenceOutsideUnicodeRange);
                this.charRefCode = $$6.REPLACEMENT_CHARACTER;
            } else if (unicode$1.isSurrogate(this.charRefCode)) {
                this._err(ERR$1.surrogateCharacterReference);
                this.charRefCode = $$6.REPLACEMENT_CHARACTER;
            } else if (unicode$1.isUndefinedCodePoint(this.charRefCode)) {
                this._err(ERR$1.noncharacterCharacterReference);
            } else if (unicode$1.isControlCodePoint(this.charRefCode) || this.charRefCode === $$6.CARRIAGE_RETURN) {
                this._err(ERR$1.controlCharacterReference);

                const replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS[this.charRefCode];

                if (replacement) {
                    this.charRefCode = replacement;
                }
            }

            this.tempBuff = [this.charRefCode];

            this._flushCodePointsConsumedAsCharacterReference();
            this._reconsumeInState(this.returnState);
        }
    }

    //Token types
    Tokenizer$4.CHARACTER_TOKEN = 'CHARACTER_TOKEN';
    Tokenizer$4.NULL_CHARACTER_TOKEN = 'NULL_CHARACTER_TOKEN';
    Tokenizer$4.WHITESPACE_CHARACTER_TOKEN = 'WHITESPACE_CHARACTER_TOKEN';
    Tokenizer$4.START_TAG_TOKEN = 'START_TAG_TOKEN';
    Tokenizer$4.END_TAG_TOKEN = 'END_TAG_TOKEN';
    Tokenizer$4.COMMENT_TOKEN = 'COMMENT_TOKEN';
    Tokenizer$4.DOCTYPE_TOKEN = 'DOCTYPE_TOKEN';
    Tokenizer$4.EOF_TOKEN = 'EOF_TOKEN';
    Tokenizer$4.HIBERNATION_TOKEN = 'HIBERNATION_TOKEN';

    //Tokenizer initial states for different modes
    Tokenizer$4.MODE = {
        DATA: DATA_STATE,
        RCDATA: RCDATA_STATE,
        RAWTEXT: RAWTEXT_STATE,
        SCRIPT_DATA: SCRIPT_DATA_STATE,
        PLAINTEXT: PLAINTEXT_STATE
    };

    //Static
    Tokenizer$4.getTokenAttr = function(token, attrName) {
        for (let i = token.attrs.length - 1; i >= 0; i--) {
            if (token.attrs[i].name === attrName) {
                return token.attrs[i].value;
            }
        }

        return null;
    };

    var tokenizer = Tokenizer$4;

    var html = {};

    const NS$4 = (html.NAMESPACES = {
        HTML: 'http://www.w3.org/1999/xhtml',
        MATHML: 'http://www.w3.org/1998/Math/MathML',
        SVG: 'http://www.w3.org/2000/svg',
        XLINK: 'http://www.w3.org/1999/xlink',
        XML: 'http://www.w3.org/XML/1998/namespace',
        XMLNS: 'http://www.w3.org/2000/xmlns/'
    });

    html.ATTRS = {
        TYPE: 'type',
        ACTION: 'action',
        ENCODING: 'encoding',
        PROMPT: 'prompt',
        NAME: 'name',
        COLOR: 'color',
        FACE: 'face',
        SIZE: 'size'
    };

    html.DOCUMENT_MODE = {
        NO_QUIRKS: 'no-quirks',
        QUIRKS: 'quirks',
        LIMITED_QUIRKS: 'limited-quirks'
    };

    const $$5 = (html.TAG_NAMES = {
        A: 'a',
        ADDRESS: 'address',
        ANNOTATION_XML: 'annotation-xml',
        APPLET: 'applet',
        AREA: 'area',
        ARTICLE: 'article',
        ASIDE: 'aside',

        B: 'b',
        BASE: 'base',
        BASEFONT: 'basefont',
        BGSOUND: 'bgsound',
        BIG: 'big',
        BLOCKQUOTE: 'blockquote',
        BODY: 'body',
        BR: 'br',
        BUTTON: 'button',

        CAPTION: 'caption',
        CENTER: 'center',
        CODE: 'code',
        COL: 'col',
        COLGROUP: 'colgroup',

        DD: 'dd',
        DESC: 'desc',
        DETAILS: 'details',
        DIALOG: 'dialog',
        DIR: 'dir',
        DIV: 'div',
        DL: 'dl',
        DT: 'dt',

        EM: 'em',
        EMBED: 'embed',

        FIELDSET: 'fieldset',
        FIGCAPTION: 'figcaption',
        FIGURE: 'figure',
        FONT: 'font',
        FOOTER: 'footer',
        FOREIGN_OBJECT: 'foreignObject',
        FORM: 'form',
        FRAME: 'frame',
        FRAMESET: 'frameset',

        H1: 'h1',
        H2: 'h2',
        H3: 'h3',
        H4: 'h4',
        H5: 'h5',
        H6: 'h6',
        HEAD: 'head',
        HEADER: 'header',
        HGROUP: 'hgroup',
        HR: 'hr',
        HTML: 'html',

        I: 'i',
        IMG: 'img',
        IMAGE: 'image',
        INPUT: 'input',
        IFRAME: 'iframe',

        KEYGEN: 'keygen',

        LABEL: 'label',
        LI: 'li',
        LINK: 'link',
        LISTING: 'listing',

        MAIN: 'main',
        MALIGNMARK: 'malignmark',
        MARQUEE: 'marquee',
        MATH: 'math',
        MENU: 'menu',
        META: 'meta',
        MGLYPH: 'mglyph',
        MI: 'mi',
        MO: 'mo',
        MN: 'mn',
        MS: 'ms',
        MTEXT: 'mtext',

        NAV: 'nav',
        NOBR: 'nobr',
        NOFRAMES: 'noframes',
        NOEMBED: 'noembed',
        NOSCRIPT: 'noscript',

        OBJECT: 'object',
        OL: 'ol',
        OPTGROUP: 'optgroup',
        OPTION: 'option',

        P: 'p',
        PARAM: 'param',
        PLAINTEXT: 'plaintext',
        PRE: 'pre',

        RB: 'rb',
        RP: 'rp',
        RT: 'rt',
        RTC: 'rtc',
        RUBY: 'ruby',

        S: 's',
        SCRIPT: 'script',
        SECTION: 'section',
        SELECT: 'select',
        SOURCE: 'source',
        SMALL: 'small',
        SPAN: 'span',
        STRIKE: 'strike',
        STRONG: 'strong',
        STYLE: 'style',
        SUB: 'sub',
        SUMMARY: 'summary',
        SUP: 'sup',

        TABLE: 'table',
        TBODY: 'tbody',
        TEMPLATE: 'template',
        TEXTAREA: 'textarea',
        TFOOT: 'tfoot',
        TD: 'td',
        TH: 'th',
        THEAD: 'thead',
        TITLE: 'title',
        TR: 'tr',
        TRACK: 'track',
        TT: 'tt',

        U: 'u',
        UL: 'ul',

        SVG: 'svg',

        VAR: 'var',

        WBR: 'wbr',

        XMP: 'xmp'
    });

    html.SPECIAL_ELEMENTS = {
        [NS$4.HTML]: {
            [$$5.ADDRESS]: true,
            [$$5.APPLET]: true,
            [$$5.AREA]: true,
            [$$5.ARTICLE]: true,
            [$$5.ASIDE]: true,
            [$$5.BASE]: true,
            [$$5.BASEFONT]: true,
            [$$5.BGSOUND]: true,
            [$$5.BLOCKQUOTE]: true,
            [$$5.BODY]: true,
            [$$5.BR]: true,
            [$$5.BUTTON]: true,
            [$$5.CAPTION]: true,
            [$$5.CENTER]: true,
            [$$5.COL]: true,
            [$$5.COLGROUP]: true,
            [$$5.DD]: true,
            [$$5.DETAILS]: true,
            [$$5.DIR]: true,
            [$$5.DIV]: true,
            [$$5.DL]: true,
            [$$5.DT]: true,
            [$$5.EMBED]: true,
            [$$5.FIELDSET]: true,
            [$$5.FIGCAPTION]: true,
            [$$5.FIGURE]: true,
            [$$5.FOOTER]: true,
            [$$5.FORM]: true,
            [$$5.FRAME]: true,
            [$$5.FRAMESET]: true,
            [$$5.H1]: true,
            [$$5.H2]: true,
            [$$5.H3]: true,
            [$$5.H4]: true,
            [$$5.H5]: true,
            [$$5.H6]: true,
            [$$5.HEAD]: true,
            [$$5.HEADER]: true,
            [$$5.HGROUP]: true,
            [$$5.HR]: true,
            [$$5.HTML]: true,
            [$$5.IFRAME]: true,
            [$$5.IMG]: true,
            [$$5.INPUT]: true,
            [$$5.LI]: true,
            [$$5.LINK]: true,
            [$$5.LISTING]: true,
            [$$5.MAIN]: true,
            [$$5.MARQUEE]: true,
            [$$5.MENU]: true,
            [$$5.META]: true,
            [$$5.NAV]: true,
            [$$5.NOEMBED]: true,
            [$$5.NOFRAMES]: true,
            [$$5.NOSCRIPT]: true,
            [$$5.OBJECT]: true,
            [$$5.OL]: true,
            [$$5.P]: true,
            [$$5.PARAM]: true,
            [$$5.PLAINTEXT]: true,
            [$$5.PRE]: true,
            [$$5.SCRIPT]: true,
            [$$5.SECTION]: true,
            [$$5.SELECT]: true,
            [$$5.SOURCE]: true,
            [$$5.STYLE]: true,
            [$$5.SUMMARY]: true,
            [$$5.TABLE]: true,
            [$$5.TBODY]: true,
            [$$5.TD]: true,
            [$$5.TEMPLATE]: true,
            [$$5.TEXTAREA]: true,
            [$$5.TFOOT]: true,
            [$$5.TH]: true,
            [$$5.THEAD]: true,
            [$$5.TITLE]: true,
            [$$5.TR]: true,
            [$$5.TRACK]: true,
            [$$5.UL]: true,
            [$$5.WBR]: true,
            [$$5.XMP]: true
        },
        [NS$4.MATHML]: {
            [$$5.MI]: true,
            [$$5.MO]: true,
            [$$5.MN]: true,
            [$$5.MS]: true,
            [$$5.MTEXT]: true,
            [$$5.ANNOTATION_XML]: true
        },
        [NS$4.SVG]: {
            [$$5.TITLE]: true,
            [$$5.FOREIGN_OBJECT]: true,
            [$$5.DESC]: true
        }
    };

    const HTML$4 = html;

    //Aliases
    const $$4 = HTML$4.TAG_NAMES;
    const NS$3 = HTML$4.NAMESPACES;

    //Element utils

    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function isImpliedEndTagRequired(tn) {
        switch (tn.length) {
            case 1:
                return tn === $$4.P;

            case 2:
                return tn === $$4.RB || tn === $$4.RP || tn === $$4.RT || tn === $$4.DD || tn === $$4.DT || tn === $$4.LI;

            case 3:
                return tn === $$4.RTC;

            case 6:
                return tn === $$4.OPTION;

            case 8:
                return tn === $$4.OPTGROUP;
        }

        return false;
    }

    function isImpliedEndTagRequiredThoroughly(tn) {
        switch (tn.length) {
            case 1:
                return tn === $$4.P;

            case 2:
                return (
                    tn === $$4.RB ||
                    tn === $$4.RP ||
                    tn === $$4.RT ||
                    tn === $$4.DD ||
                    tn === $$4.DT ||
                    tn === $$4.LI ||
                    tn === $$4.TD ||
                    tn === $$4.TH ||
                    tn === $$4.TR
                );

            case 3:
                return tn === $$4.RTC;

            case 5:
                return tn === $$4.TBODY || tn === $$4.TFOOT || tn === $$4.THEAD;

            case 6:
                return tn === $$4.OPTION;

            case 7:
                return tn === $$4.CAPTION;

            case 8:
                return tn === $$4.OPTGROUP || tn === $$4.COLGROUP;
        }

        return false;
    }

    function isScopingElement(tn, ns) {
        switch (tn.length) {
            case 2:
                if (tn === $$4.TD || tn === $$4.TH) {
                    return ns === NS$3.HTML;
                } else if (tn === $$4.MI || tn === $$4.MO || tn === $$4.MN || tn === $$4.MS) {
                    return ns === NS$3.MATHML;
                }

                break;

            case 4:
                if (tn === $$4.HTML) {
                    return ns === NS$3.HTML;
                } else if (tn === $$4.DESC) {
                    return ns === NS$3.SVG;
                }

                break;

            case 5:
                if (tn === $$4.TABLE) {
                    return ns === NS$3.HTML;
                } else if (tn === $$4.MTEXT) {
                    return ns === NS$3.MATHML;
                } else if (tn === $$4.TITLE) {
                    return ns === NS$3.SVG;
                }

                break;

            case 6:
                return (tn === $$4.APPLET || tn === $$4.OBJECT) && ns === NS$3.HTML;

            case 7:
                return (tn === $$4.CAPTION || tn === $$4.MARQUEE) && ns === NS$3.HTML;

            case 8:
                return tn === $$4.TEMPLATE && ns === NS$3.HTML;

            case 13:
                return tn === $$4.FOREIGN_OBJECT && ns === NS$3.SVG;

            case 14:
                return tn === $$4.ANNOTATION_XML && ns === NS$3.MATHML;
        }

        return false;
    }

    //Stack of open elements
    class OpenElementStack$1 {
        constructor(document, treeAdapter) {
            this.stackTop = -1;
            this.items = [];
            this.current = document;
            this.currentTagName = null;
            this.currentTmplContent = null;
            this.tmplCount = 0;
            this.treeAdapter = treeAdapter;
        }

        //Index of element
        _indexOf(element) {
            let idx = -1;

            for (let i = this.stackTop; i >= 0; i--) {
                if (this.items[i] === element) {
                    idx = i;
                    break;
                }
            }
            return idx;
        }

        //Update current element
        _isInTemplate() {
            return this.currentTagName === $$4.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS$3.HTML;
        }

        _updateCurrentElement() {
            this.current = this.items[this.stackTop];
            this.currentTagName = this.current && this.treeAdapter.getTagName(this.current);

            this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;
        }

        //Mutations
        push(element) {
            this.items[++this.stackTop] = element;
            this._updateCurrentElement();

            if (this._isInTemplate()) {
                this.tmplCount++;
            }
        }

        pop() {
            this.stackTop--;

            if (this.tmplCount > 0 && this._isInTemplate()) {
                this.tmplCount--;
            }

            this._updateCurrentElement();
        }

        replace(oldElement, newElement) {
            const idx = this._indexOf(oldElement);

            this.items[idx] = newElement;

            if (idx === this.stackTop) {
                this._updateCurrentElement();
            }
        }

        insertAfter(referenceElement, newElement) {
            const insertionIdx = this._indexOf(referenceElement) + 1;

            this.items.splice(insertionIdx, 0, newElement);

            if (insertionIdx === ++this.stackTop) {
                this._updateCurrentElement();
            }
        }

        popUntilTagNamePopped(tagName) {
            while (this.stackTop > -1) {
                const tn = this.currentTagName;
                const ns = this.treeAdapter.getNamespaceURI(this.current);

                this.pop();

                if (tn === tagName && ns === NS$3.HTML) {
                    break;
                }
            }
        }

        popUntilElementPopped(element) {
            while (this.stackTop > -1) {
                const poppedElement = this.current;

                this.pop();

                if (poppedElement === element) {
                    break;
                }
            }
        }

        popUntilNumberedHeaderPopped() {
            while (this.stackTop > -1) {
                const tn = this.currentTagName;
                const ns = this.treeAdapter.getNamespaceURI(this.current);

                this.pop();

                if (
                    tn === $$4.H1 ||
                    tn === $$4.H2 ||
                    tn === $$4.H3 ||
                    tn === $$4.H4 ||
                    tn === $$4.H5 ||
                    (tn === $$4.H6 && ns === NS$3.HTML)
                ) {
                    break;
                }
            }
        }

        popUntilTableCellPopped() {
            while (this.stackTop > -1) {
                const tn = this.currentTagName;
                const ns = this.treeAdapter.getNamespaceURI(this.current);

                this.pop();

                if (tn === $$4.TD || (tn === $$4.TH && ns === NS$3.HTML)) {
                    break;
                }
            }
        }

        popAllUpToHtmlElement() {
            //NOTE: here we assume that root <html> element is always first in the open element stack, so
            //we perform this fast stack clean up.
            this.stackTop = 0;
            this._updateCurrentElement();
        }

        clearBackToTableContext() {
            while (
                (this.currentTagName !== $$4.TABLE && this.currentTagName !== $$4.TEMPLATE && this.currentTagName !== $$4.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$3.HTML
            ) {
                this.pop();
            }
        }

        clearBackToTableBodyContext() {
            while (
                (this.currentTagName !== $$4.TBODY &&
                    this.currentTagName !== $$4.TFOOT &&
                    this.currentTagName !== $$4.THEAD &&
                    this.currentTagName !== $$4.TEMPLATE &&
                    this.currentTagName !== $$4.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$3.HTML
            ) {
                this.pop();
            }
        }

        clearBackToTableRowContext() {
            while (
                (this.currentTagName !== $$4.TR && this.currentTagName !== $$4.TEMPLATE && this.currentTagName !== $$4.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$3.HTML
            ) {
                this.pop();
            }
        }

        remove(element) {
            for (let i = this.stackTop; i >= 0; i--) {
                if (this.items[i] === element) {
                    this.items.splice(i, 1);
                    this.stackTop--;
                    this._updateCurrentElement();
                    break;
                }
            }
        }

        //Search
        tryPeekProperlyNestedBodyElement() {
            //Properly nested <body> element (should be second element in stack).
            const element = this.items[1];

            return element && this.treeAdapter.getTagName(element) === $$4.BODY ? element : null;
        }

        contains(element) {
            return this._indexOf(element) > -1;
        }

        getCommonAncestor(element) {
            let elementIdx = this._indexOf(element);

            return --elementIdx >= 0 ? this.items[elementIdx] : null;
        }

        isRootHtmlElementCurrent() {
            return this.stackTop === 0 && this.currentTagName === $$4.HTML;
        }

        //Element in scope
        hasInScope(tagName) {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (tn === tagName && ns === NS$3.HTML) {
                    return true;
                }

                if (isScopingElement(tn, ns)) {
                    return false;
                }
            }

            return true;
        }

        hasNumberedHeaderInScope() {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (
                    (tn === $$4.H1 || tn === $$4.H2 || tn === $$4.H3 || tn === $$4.H4 || tn === $$4.H5 || tn === $$4.H6) &&
                    ns === NS$3.HTML
                ) {
                    return true;
                }

                if (isScopingElement(tn, ns)) {
                    return false;
                }
            }

            return true;
        }

        hasInListItemScope(tagName) {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (tn === tagName && ns === NS$3.HTML) {
                    return true;
                }

                if (((tn === $$4.UL || tn === $$4.OL) && ns === NS$3.HTML) || isScopingElement(tn, ns)) {
                    return false;
                }
            }

            return true;
        }

        hasInButtonScope(tagName) {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (tn === tagName && ns === NS$3.HTML) {
                    return true;
                }

                if ((tn === $$4.BUTTON && ns === NS$3.HTML) || isScopingElement(tn, ns)) {
                    return false;
                }
            }

            return true;
        }

        hasInTableScope(tagName) {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (ns !== NS$3.HTML) {
                    continue;
                }

                if (tn === tagName) {
                    return true;
                }

                if (tn === $$4.TABLE || tn === $$4.TEMPLATE || tn === $$4.HTML) {
                    return false;
                }
            }

            return true;
        }

        hasTableBodyContextInTableScope() {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (ns !== NS$3.HTML) {
                    continue;
                }

                if (tn === $$4.TBODY || tn === $$4.THEAD || tn === $$4.TFOOT) {
                    return true;
                }

                if (tn === $$4.TABLE || tn === $$4.HTML) {
                    return false;
                }
            }

            return true;
        }

        hasInSelectScope(tagName) {
            for (let i = this.stackTop; i >= 0; i--) {
                const tn = this.treeAdapter.getTagName(this.items[i]);
                const ns = this.treeAdapter.getNamespaceURI(this.items[i]);

                if (ns !== NS$3.HTML) {
                    continue;
                }

                if (tn === tagName) {
                    return true;
                }

                if (tn !== $$4.OPTION && tn !== $$4.OPTGROUP) {
                    return false;
                }
            }

            return true;
        }

        //Implied end tags
        generateImpliedEndTags() {
            while (isImpliedEndTagRequired(this.currentTagName)) {
                this.pop();
            }
        }

        generateImpliedEndTagsThoroughly() {
            while (isImpliedEndTagRequiredThoroughly(this.currentTagName)) {
                this.pop();
            }
        }

        generateImpliedEndTagsWithExclusion(exclusionTagName) {
            while (isImpliedEndTagRequired(this.currentTagName) && this.currentTagName !== exclusionTagName) {
                this.pop();
            }
        }
    }

    var openElementStack = OpenElementStack$1;

    //Const
    const NOAH_ARK_CAPACITY = 3;

    //List of formatting elements
    class FormattingElementList$1 {
        constructor(treeAdapter) {
            this.length = 0;
            this.entries = [];
            this.treeAdapter = treeAdapter;
            this.bookmark = null;
        }

        //Noah Ark's condition
        //OPTIMIZATION: at first we try to find possible candidates for exclusion using
        //lightweight heuristics without thorough attributes check.
        _getNoahArkConditionCandidates(newElement) {
            const candidates = [];

            if (this.length >= NOAH_ARK_CAPACITY) {
                const neAttrsLength = this.treeAdapter.getAttrList(newElement).length;
                const neTagName = this.treeAdapter.getTagName(newElement);
                const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);

                for (let i = this.length - 1; i >= 0; i--) {
                    const entry = this.entries[i];

                    if (entry.type === FormattingElementList$1.MARKER_ENTRY) {
                        break;
                    }

                    const element = entry.element;
                    const elementAttrs = this.treeAdapter.getAttrList(element);

                    const isCandidate =
                        this.treeAdapter.getTagName(element) === neTagName &&
                        this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &&
                        elementAttrs.length === neAttrsLength;

                    if (isCandidate) {
                        candidates.push({ idx: i, attrs: elementAttrs });
                    }
                }
            }

            return candidates.length < NOAH_ARK_CAPACITY ? [] : candidates;
        }

        _ensureNoahArkCondition(newElement) {
            const candidates = this._getNoahArkConditionCandidates(newElement);
            let cLength = candidates.length;

            if (cLength) {
                const neAttrs = this.treeAdapter.getAttrList(newElement);
                const neAttrsLength = neAttrs.length;
                const neAttrsMap = Object.create(null);

                //NOTE: build attrs map for the new element so we can perform fast lookups
                for (let i = 0; i < neAttrsLength; i++) {
                    const neAttr = neAttrs[i];

                    neAttrsMap[neAttr.name] = neAttr.value;
                }

                for (let i = 0; i < neAttrsLength; i++) {
                    for (let j = 0; j < cLength; j++) {
                        const cAttr = candidates[j].attrs[i];

                        if (neAttrsMap[cAttr.name] !== cAttr.value) {
                            candidates.splice(j, 1);
                            cLength--;
                        }

                        if (candidates.length < NOAH_ARK_CAPACITY) {
                            return;
                        }
                    }
                }

                //NOTE: remove bottommost candidates until Noah's Ark condition will not be met
                for (let i = cLength - 1; i >= NOAH_ARK_CAPACITY - 1; i--) {
                    this.entries.splice(candidates[i].idx, 1);
                    this.length--;
                }
            }
        }

        //Mutations
        insertMarker() {
            this.entries.push({ type: FormattingElementList$1.MARKER_ENTRY });
            this.length++;
        }

        pushElement(element, token) {
            this._ensureNoahArkCondition(element);

            this.entries.push({
                type: FormattingElementList$1.ELEMENT_ENTRY,
                element: element,
                token: token
            });

            this.length++;
        }

        insertElementAfterBookmark(element, token) {
            let bookmarkIdx = this.length - 1;

            for (; bookmarkIdx >= 0; bookmarkIdx--) {
                if (this.entries[bookmarkIdx] === this.bookmark) {
                    break;
                }
            }

            this.entries.splice(bookmarkIdx + 1, 0, {
                type: FormattingElementList$1.ELEMENT_ENTRY,
                element: element,
                token: token
            });

            this.length++;
        }

        removeEntry(entry) {
            for (let i = this.length - 1; i >= 0; i--) {
                if (this.entries[i] === entry) {
                    this.entries.splice(i, 1);
                    this.length--;
                    break;
                }
            }
        }

        clearToLastMarker() {
            while (this.length) {
                const entry = this.entries.pop();

                this.length--;

                if (entry.type === FormattingElementList$1.MARKER_ENTRY) {
                    break;
                }
            }
        }

        //Search
        getElementEntryInScopeWithTagName(tagName) {
            for (let i = this.length - 1; i >= 0; i--) {
                const entry = this.entries[i];

                if (entry.type === FormattingElementList$1.MARKER_ENTRY) {
                    return null;
                }

                if (this.treeAdapter.getTagName(entry.element) === tagName) {
                    return entry;
                }
            }

            return null;
        }

        getElementEntry(element) {
            for (let i = this.length - 1; i >= 0; i--) {
                const entry = this.entries[i];

                if (entry.type === FormattingElementList$1.ELEMENT_ENTRY && entry.element === element) {
                    return entry;
                }
            }

            return null;
        }
    }

    //Entry types
    FormattingElementList$1.MARKER_ENTRY = 'MARKER_ENTRY';
    FormattingElementList$1.ELEMENT_ENTRY = 'ELEMENT_ENTRY';

    var formattingElementList = FormattingElementList$1;

    class Mixin$9 {
        constructor(host) {
            const originalMethods = {};
            const overriddenMethods = this._getOverriddenMethods(this, originalMethods);

            for (const key of Object.keys(overriddenMethods)) {
                if (typeof overriddenMethods[key] === 'function') {
                    originalMethods[key] = host[key];
                    host[key] = overriddenMethods[key];
                }
            }
        }

        _getOverriddenMethods() {
            throw new Error('Not implemented');
        }
    }

    Mixin$9.install = function(host, Ctor, opts) {
        if (!host.__mixins) {
            host.__mixins = [];
        }

        for (let i = 0; i < host.__mixins.length; i++) {
            if (host.__mixins[i].constructor === Ctor) {
                return host.__mixins[i];
            }
        }

        const mixin = new Ctor(host, opts);

        host.__mixins.push(mixin);

        return mixin;
    };

    var mixin = Mixin$9;

    const Mixin$8 = mixin;

    class PositionTrackingPreprocessorMixin$2 extends Mixin$8 {
        constructor(preprocessor) {
            super(preprocessor);

            this.preprocessor = preprocessor;
            this.isEol = false;
            this.lineStartPos = 0;
            this.droppedBufferSize = 0;

            this.offset = 0;
            this.col = 0;
            this.line = 1;
        }

        _getOverriddenMethods(mxn, orig) {
            return {
                advance() {
                    const pos = this.pos + 1;
                    const ch = this.html[pos];

                    //NOTE: LF should be in the last column of the line
                    if (mxn.isEol) {
                        mxn.isEol = false;
                        mxn.line++;
                        mxn.lineStartPos = pos;
                    }

                    if (ch === '\n' || (ch === '\r' && this.html[pos + 1] !== '\n')) {
                        mxn.isEol = true;
                    }

                    mxn.col = pos - mxn.lineStartPos + 1;
                    mxn.offset = mxn.droppedBufferSize + pos;

                    return orig.advance.call(this);
                },

                retreat() {
                    orig.retreat.call(this);

                    mxn.isEol = false;
                    mxn.col = this.pos - mxn.lineStartPos + 1;
                },

                dropParsedChunk() {
                    const prevPos = this.pos;

                    orig.dropParsedChunk.call(this);

                    const reduction = prevPos - this.pos;

                    mxn.lineStartPos -= reduction;
                    mxn.droppedBufferSize += reduction;
                    mxn.offset = mxn.droppedBufferSize + this.pos;
                }
            };
        }
    }

    var preprocessorMixin$1 = PositionTrackingPreprocessorMixin$2;

    const Mixin$7 = mixin;
    const Tokenizer$3 = tokenizer;
    const PositionTrackingPreprocessorMixin$1 = preprocessorMixin$1;

    class LocationInfoTokenizerMixin$2 extends Mixin$7 {
        constructor(tokenizer) {
            super(tokenizer);

            this.tokenizer = tokenizer;
            this.posTracker = Mixin$7.install(tokenizer.preprocessor, PositionTrackingPreprocessorMixin$1);
            this.currentAttrLocation = null;
            this.ctLoc = null;
        }

        _getCurrentLocation() {
            return {
                startLine: this.posTracker.line,
                startCol: this.posTracker.col,
                startOffset: this.posTracker.offset,
                endLine: -1,
                endCol: -1,
                endOffset: -1
            };
        }

        _attachCurrentAttrLocationInfo() {
            this.currentAttrLocation.endLine = this.posTracker.line;
            this.currentAttrLocation.endCol = this.posTracker.col;
            this.currentAttrLocation.endOffset = this.posTracker.offset;

            const currentToken = this.tokenizer.currentToken;
            const currentAttr = this.tokenizer.currentAttr;

            if (!currentToken.location.attrs) {
                currentToken.location.attrs = Object.create(null);
            }

            currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;
        }

        _getOverriddenMethods(mxn, orig) {
            const methods = {
                _createStartTagToken() {
                    orig._createStartTagToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },

                _createEndTagToken() {
                    orig._createEndTagToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },

                _createCommentToken() {
                    orig._createCommentToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },

                _createDoctypeToken(initialName) {
                    orig._createDoctypeToken.call(this, initialName);
                    this.currentToken.location = mxn.ctLoc;
                },

                _createCharacterToken(type, ch) {
                    orig._createCharacterToken.call(this, type, ch);
                    this.currentCharacterToken.location = mxn.ctLoc;
                },

                _createEOFToken() {
                    orig._createEOFToken.call(this);
                    this.currentToken.location = mxn._getCurrentLocation();
                },

                _createAttr(attrNameFirstCh) {
                    orig._createAttr.call(this, attrNameFirstCh);
                    mxn.currentAttrLocation = mxn._getCurrentLocation();
                },

                _leaveAttrName(toState) {
                    orig._leaveAttrName.call(this, toState);
                    mxn._attachCurrentAttrLocationInfo();
                },

                _leaveAttrValue(toState) {
                    orig._leaveAttrValue.call(this, toState);
                    mxn._attachCurrentAttrLocationInfo();
                },

                _emitCurrentToken() {
                    const ctLoc = this.currentToken.location;

                    //NOTE: if we have pending character token make it's end location equal to the
                    //current token's start location.
                    if (this.currentCharacterToken) {
                        this.currentCharacterToken.location.endLine = ctLoc.startLine;
                        this.currentCharacterToken.location.endCol = ctLoc.startCol;
                        this.currentCharacterToken.location.endOffset = ctLoc.startOffset;
                    }

                    if (this.currentToken.type === Tokenizer$3.EOF_TOKEN) {
                        ctLoc.endLine = ctLoc.startLine;
                        ctLoc.endCol = ctLoc.startCol;
                        ctLoc.endOffset = ctLoc.startOffset;
                    } else {
                        ctLoc.endLine = mxn.posTracker.line;
                        ctLoc.endCol = mxn.posTracker.col + 1;
                        ctLoc.endOffset = mxn.posTracker.offset + 1;
                    }

                    orig._emitCurrentToken.call(this);
                },

                _emitCurrentCharacterToken() {
                    const ctLoc = this.currentCharacterToken && this.currentCharacterToken.location;

                    //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),
                    //then set it's location at the current preprocessor position.
                    //We don't need to increment preprocessor position, since character token
                    //emission is always forced by the start of the next character token here.
                    //So, we already have advanced position.
                    if (ctLoc && ctLoc.endOffset === -1) {
                        ctLoc.endLine = mxn.posTracker.line;
                        ctLoc.endCol = mxn.posTracker.col;
                        ctLoc.endOffset = mxn.posTracker.offset;
                    }

                    orig._emitCurrentCharacterToken.call(this);
                }
            };

            //NOTE: patch initial states for each mode to obtain token start position
            Object.keys(Tokenizer$3.MODE).forEach(modeName => {
                const state = Tokenizer$3.MODE[modeName];

                methods[state] = function(cp) {
                    mxn.ctLoc = mxn._getCurrentLocation();
                    orig[state].call(this, cp);
                };
            });

            return methods;
        }
    }

    var tokenizerMixin$1 = LocationInfoTokenizerMixin$2;

    const Mixin$6 = mixin;

    class LocationInfoOpenElementStackMixin$1 extends Mixin$6 {
        constructor(stack, opts) {
            super(stack);

            this.onItemPop = opts.onItemPop;
        }

        _getOverriddenMethods(mxn, orig) {
            return {
                pop() {
                    mxn.onItemPop(this.current);
                    orig.pop.call(this);
                },

                popAllUpToHtmlElement() {
                    for (let i = this.stackTop; i > 0; i--) {
                        mxn.onItemPop(this.items[i]);
                    }

                    orig.popAllUpToHtmlElement.call(this);
                },

                remove(element) {
                    mxn.onItemPop(this.current);
                    orig.remove.call(this, element);
                }
            };
        }
    }

    var openElementStackMixin = LocationInfoOpenElementStackMixin$1;

    const Mixin$5 = mixin;
    const Tokenizer$2 = tokenizer;
    const LocationInfoTokenizerMixin$1 = tokenizerMixin$1;
    const LocationInfoOpenElementStackMixin = openElementStackMixin;
    const HTML$3 = html;

    //Aliases
    const $$3 = HTML$3.TAG_NAMES;

    class LocationInfoParserMixin$1 extends Mixin$5 {
        constructor(parser) {
            super(parser);

            this.parser = parser;
            this.treeAdapter = this.parser.treeAdapter;
            this.posTracker = null;
            this.lastStartTagToken = null;
            this.lastFosterParentingLocation = null;
            this.currentToken = null;
        }

        _setStartLocation(element) {
            let loc = null;

            if (this.lastStartTagToken) {
                loc = Object.assign({}, this.lastStartTagToken.location);
                loc.startTag = this.lastStartTagToken.location;
            }

            this.treeAdapter.setNodeSourceCodeLocation(element, loc);
        }

        _setEndLocation(element, closingToken) {
            const loc = this.treeAdapter.getNodeSourceCodeLocation(element);

            if (loc) {
                if (closingToken.location) {
                    const ctLoc = closingToken.location;
                    const tn = this.treeAdapter.getTagName(element);

                    // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing
                    // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.
                    const isClosingEndTag = closingToken.type === Tokenizer$2.END_TAG_TOKEN && tn === closingToken.tagName;
                    const endLoc = {};
                    if (isClosingEndTag) {
                        endLoc.endTag = Object.assign({}, ctLoc);
                        endLoc.endLine = ctLoc.endLine;
                        endLoc.endCol = ctLoc.endCol;
                        endLoc.endOffset = ctLoc.endOffset;
                    } else {
                        endLoc.endLine = ctLoc.startLine;
                        endLoc.endCol = ctLoc.startCol;
                        endLoc.endOffset = ctLoc.startOffset;
                    }

                    this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);
                }
            }
        }

        _getOverriddenMethods(mxn, orig) {
            return {
                _bootstrap(document, fragmentContext) {
                    orig._bootstrap.call(this, document, fragmentContext);

                    mxn.lastStartTagToken = null;
                    mxn.lastFosterParentingLocation = null;
                    mxn.currentToken = null;

                    const tokenizerMixin = Mixin$5.install(this.tokenizer, LocationInfoTokenizerMixin$1);

                    mxn.posTracker = tokenizerMixin.posTracker;

                    Mixin$5.install(this.openElements, LocationInfoOpenElementStackMixin, {
                        onItemPop: function(element) {
                            mxn._setEndLocation(element, mxn.currentToken);
                        }
                    });
                },

                _runParsingLoop(scriptHandler) {
                    orig._runParsingLoop.call(this, scriptHandler);

                    // NOTE: generate location info for elements
                    // that remains on open element stack
                    for (let i = this.openElements.stackTop; i >= 0; i--) {
                        mxn._setEndLocation(this.openElements.items[i], mxn.currentToken);
                    }
                },

                //Token processing
                _processTokenInForeignContent(token) {
                    mxn.currentToken = token;
                    orig._processTokenInForeignContent.call(this, token);
                },

                _processToken(token) {
                    mxn.currentToken = token;
                    orig._processToken.call(this, token);

                    //NOTE: <body> and <html> are never popped from the stack, so we need to updated
                    //their end location explicitly.
                    const requireExplicitUpdate =
                        token.type === Tokenizer$2.END_TAG_TOKEN &&
                        (token.tagName === $$3.HTML || (token.tagName === $$3.BODY && this.openElements.hasInScope($$3.BODY)));

                    if (requireExplicitUpdate) {
                        for (let i = this.openElements.stackTop; i >= 0; i--) {
                            const element = this.openElements.items[i];

                            if (this.treeAdapter.getTagName(element) === token.tagName) {
                                mxn._setEndLocation(element, token);
                                break;
                            }
                        }
                    }
                },

                //Doctype
                _setDocumentType(token) {
                    orig._setDocumentType.call(this, token);

                    const documentChildren = this.treeAdapter.getChildNodes(this.document);
                    const cnLength = documentChildren.length;

                    for (let i = 0; i < cnLength; i++) {
                        const node = documentChildren[i];

                        if (this.treeAdapter.isDocumentTypeNode(node)) {
                            this.treeAdapter.setNodeSourceCodeLocation(node, token.location);
                            break;
                        }
                    }
                },

                //Elements
                _attachElementToTree(element) {
                    //NOTE: _attachElementToTree is called from _appendElement, _insertElement and _insertTemplate methods.
                    //So we will use token location stored in this methods for the element.
                    mxn._setStartLocation(element);
                    mxn.lastStartTagToken = null;
                    orig._attachElementToTree.call(this, element);
                },

                _appendElement(token, namespaceURI) {
                    mxn.lastStartTagToken = token;
                    orig._appendElement.call(this, token, namespaceURI);
                },

                _insertElement(token, namespaceURI) {
                    mxn.lastStartTagToken = token;
                    orig._insertElement.call(this, token, namespaceURI);
                },

                _insertTemplate(token) {
                    mxn.lastStartTagToken = token;
                    orig._insertTemplate.call(this, token);

                    const tmplContent = this.treeAdapter.getTemplateContent(this.openElements.current);

                    this.treeAdapter.setNodeSourceCodeLocation(tmplContent, null);
                },

                _insertFakeRootElement() {
                    orig._insertFakeRootElement.call(this);
                    this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current, null);
                },

                //Comments
                _appendCommentNode(token, parent) {
                    orig._appendCommentNode.call(this, token, parent);

                    const children = this.treeAdapter.getChildNodes(parent);
                    const commentNode = children[children.length - 1];

                    this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);
                },

                //Text
                _findFosterParentingLocation() {
                    //NOTE: store last foster parenting location, so we will be able to find inserted text
                    //in case of foster parenting
                    mxn.lastFosterParentingLocation = orig._findFosterParentingLocation.call(this);

                    return mxn.lastFosterParentingLocation;
                },

                _insertCharacters(token) {
                    orig._insertCharacters.call(this, token);

                    const hasFosterParent = this._shouldFosterParentOnInsertion();

                    const parent =
                        (hasFosterParent && mxn.lastFosterParentingLocation.parent) ||
                        this.openElements.currentTmplContent ||
                        this.openElements.current;

                    const siblings = this.treeAdapter.getChildNodes(parent);

                    const textNodeIdx =
                        hasFosterParent && mxn.lastFosterParentingLocation.beforeElement
                            ? siblings.indexOf(mxn.lastFosterParentingLocation.beforeElement) - 1
                            : siblings.length - 1;

                    const textNode = siblings[textNodeIdx];

                    //NOTE: if we have location assigned by another token, then just update end position
                    const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);

                    if (tnLoc) {
                        const { endLine, endCol, endOffset } = token.location;
                        this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });
                    } else {
                        this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);
                    }
                }
            };
        }
    }

    var parserMixin$1 = LocationInfoParserMixin$1;

    const Mixin$4 = mixin;

    class ErrorReportingMixinBase$3 extends Mixin$4 {
        constructor(host, opts) {
            super(host);

            this.posTracker = null;
            this.onParseError = opts.onParseError;
        }

        _setErrorLocation(err) {
            err.startLine = err.endLine = this.posTracker.line;
            err.startCol = err.endCol = this.posTracker.col;
            err.startOffset = err.endOffset = this.posTracker.offset;
        }

        _reportError(code) {
            const err = {
                code: code,
                startLine: -1,
                startCol: -1,
                startOffset: -1,
                endLine: -1,
                endCol: -1,
                endOffset: -1
            };

            this._setErrorLocation(err);
            this.onParseError(err);
        }

        _getOverriddenMethods(mxn) {
            return {
                _err(code) {
                    mxn._reportError(code);
                }
            };
        }
    }

    var mixinBase = ErrorReportingMixinBase$3;

    const ErrorReportingMixinBase$2 = mixinBase;
    const PositionTrackingPreprocessorMixin = preprocessorMixin$1;
    const Mixin$3 = mixin;

    class ErrorReportingPreprocessorMixin$1 extends ErrorReportingMixinBase$2 {
        constructor(preprocessor, opts) {
            super(preprocessor, opts);

            this.posTracker = Mixin$3.install(preprocessor, PositionTrackingPreprocessorMixin);
            this.lastErrOffset = -1;
        }

        _reportError(code) {
            //NOTE: avoid reporting error twice on advance/retreat
            if (this.lastErrOffset !== this.posTracker.offset) {
                this.lastErrOffset = this.posTracker.offset;
                super._reportError(code);
            }
        }
    }

    var preprocessorMixin = ErrorReportingPreprocessorMixin$1;

    const ErrorReportingMixinBase$1 = mixinBase;
    const ErrorReportingPreprocessorMixin = preprocessorMixin;
    const Mixin$2 = mixin;

    class ErrorReportingTokenizerMixin$1 extends ErrorReportingMixinBase$1 {
        constructor(tokenizer, opts) {
            super(tokenizer, opts);

            const preprocessorMixin = Mixin$2.install(tokenizer.preprocessor, ErrorReportingPreprocessorMixin, opts);

            this.posTracker = preprocessorMixin.posTracker;
        }
    }

    var tokenizerMixin = ErrorReportingTokenizerMixin$1;

    const ErrorReportingMixinBase = mixinBase;
    const ErrorReportingTokenizerMixin = tokenizerMixin;
    const LocationInfoTokenizerMixin = tokenizerMixin$1;
    const Mixin$1 = mixin;

    class ErrorReportingParserMixin$1 extends ErrorReportingMixinBase {
        constructor(parser, opts) {
            super(parser, opts);

            this.opts = opts;
            this.ctLoc = null;
            this.locBeforeToken = false;
        }

        _setErrorLocation(err) {
            if (this.ctLoc) {
                err.startLine = this.ctLoc.startLine;
                err.startCol = this.ctLoc.startCol;
                err.startOffset = this.ctLoc.startOffset;

                err.endLine = this.locBeforeToken ? this.ctLoc.startLine : this.ctLoc.endLine;
                err.endCol = this.locBeforeToken ? this.ctLoc.startCol : this.ctLoc.endCol;
                err.endOffset = this.locBeforeToken ? this.ctLoc.startOffset : this.ctLoc.endOffset;
            }
        }

        _getOverriddenMethods(mxn, orig) {
            return {
                _bootstrap(document, fragmentContext) {
                    orig._bootstrap.call(this, document, fragmentContext);

                    Mixin$1.install(this.tokenizer, ErrorReportingTokenizerMixin, mxn.opts);
                    Mixin$1.install(this.tokenizer, LocationInfoTokenizerMixin);
                },

                _processInputToken(token) {
                    mxn.ctLoc = token.location;

                    orig._processInputToken.call(this, token);
                },

                _err(code, options) {
                    mxn.locBeforeToken = options && options.beforeToken;
                    mxn._reportError(code);
                }
            };
        }
    }

    var parserMixin = ErrorReportingParserMixin$1;

    var _default = {};

    const { DOCUMENT_MODE: DOCUMENT_MODE$1 } = html;

    //Node construction
    _default.createDocument = function() {
        return {
            nodeName: '#document',
            mode: DOCUMENT_MODE$1.NO_QUIRKS,
            childNodes: []
        };
    };

    _default.createDocumentFragment = function() {
        return {
            nodeName: '#document-fragment',
            childNodes: []
        };
    };

    _default.createElement = function(tagName, namespaceURI, attrs) {
        return {
            nodeName: tagName,
            tagName: tagName,
            attrs: attrs,
            namespaceURI: namespaceURI,
            childNodes: [],
            parentNode: null
        };
    };

    _default.createCommentNode = function(data) {
        return {
            nodeName: '#comment',
            data: data,
            parentNode: null
        };
    };

    const createTextNode = function(value) {
        return {
            nodeName: '#text',
            value: value,
            parentNode: null
        };
    };

    //Tree mutation
    const appendChild = (_default.appendChild = function(parentNode, newNode) {
        parentNode.childNodes.push(newNode);
        newNode.parentNode = parentNode;
    });

    const insertBefore = (_default.insertBefore = function(parentNode, newNode, referenceNode) {
        const insertionIdx = parentNode.childNodes.indexOf(referenceNode);

        parentNode.childNodes.splice(insertionIdx, 0, newNode);
        newNode.parentNode = parentNode;
    });

    _default.setTemplateContent = function(templateElement, contentElement) {
        templateElement.content = contentElement;
    };

    _default.getTemplateContent = function(templateElement) {
        return templateElement.content;
    };

    _default.setDocumentType = function(document, name, publicId, systemId) {
        let doctypeNode = null;

        for (let i = 0; i < document.childNodes.length; i++) {
            if (document.childNodes[i].nodeName === '#documentType') {
                doctypeNode = document.childNodes[i];
                break;
            }
        }

        if (doctypeNode) {
            doctypeNode.name = name;
            doctypeNode.publicId = publicId;
            doctypeNode.systemId = systemId;
        } else {
            appendChild(document, {
                nodeName: '#documentType',
                name: name,
                publicId: publicId,
                systemId: systemId
            });
        }
    };

    _default.setDocumentMode = function(document, mode) {
        document.mode = mode;
    };

    _default.getDocumentMode = function(document) {
        return document.mode;
    };

    _default.detachNode = function(node) {
        if (node.parentNode) {
            const idx = node.parentNode.childNodes.indexOf(node);

            node.parentNode.childNodes.splice(idx, 1);
            node.parentNode = null;
        }
    };

    _default.insertText = function(parentNode, text) {
        if (parentNode.childNodes.length) {
            const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];

            if (prevNode.nodeName === '#text') {
                prevNode.value += text;
                return;
            }
        }

        appendChild(parentNode, createTextNode(text));
    };

    _default.insertTextBefore = function(parentNode, text, referenceNode) {
        const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];

        if (prevNode && prevNode.nodeName === '#text') {
            prevNode.value += text;
        } else {
            insertBefore(parentNode, createTextNode(text), referenceNode);
        }
    };

    _default.adoptAttributes = function(recipient, attrs) {
        const recipientAttrsMap = [];

        for (let i = 0; i < recipient.attrs.length; i++) {
            recipientAttrsMap.push(recipient.attrs[i].name);
        }

        for (let j = 0; j < attrs.length; j++) {
            if (recipientAttrsMap.indexOf(attrs[j].name) === -1) {
                recipient.attrs.push(attrs[j]);
            }
        }
    };

    //Tree traversing
    _default.getFirstChild = function(node) {
        return node.childNodes[0];
    };

    _default.getChildNodes = function(node) {
        return node.childNodes;
    };

    _default.getParentNode = function(node) {
        return node.parentNode;
    };

    _default.getAttrList = function(element) {
        return element.attrs;
    };

    //Node data
    _default.getTagName = function(element) {
        return element.tagName;
    };

    _default.getNamespaceURI = function(element) {
        return element.namespaceURI;
    };

    _default.getTextNodeContent = function(textNode) {
        return textNode.value;
    };

    _default.getCommentNodeContent = function(commentNode) {
        return commentNode.data;
    };

    _default.getDocumentTypeNodeName = function(doctypeNode) {
        return doctypeNode.name;
    };

    _default.getDocumentTypeNodePublicId = function(doctypeNode) {
        return doctypeNode.publicId;
    };

    _default.getDocumentTypeNodeSystemId = function(doctypeNode) {
        return doctypeNode.systemId;
    };

    //Node types
    _default.isTextNode = function(node) {
        return node.nodeName === '#text';
    };

    _default.isCommentNode = function(node) {
        return node.nodeName === '#comment';
    };

    _default.isDocumentTypeNode = function(node) {
        return node.nodeName === '#documentType';
    };

    _default.isElementNode = function(node) {
        return !!node.tagName;
    };

    // Source code location
    _default.setNodeSourceCodeLocation = function(node, location) {
        node.sourceCodeLocation = location;
    };

    _default.getNodeSourceCodeLocation = function(node) {
        return node.sourceCodeLocation;
    };

    _default.updateNodeSourceCodeLocation = function(node, endLocation) {
        node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);
    };

    var mergeOptions$2 = function mergeOptions(defaults, options) {
        options = options || Object.create(null);

        return [defaults, options].reduce((merged, optObj) => {
            Object.keys(optObj).forEach(key => {
                merged[key] = optObj[key];
            });

            return merged;
        }, Object.create(null));
    };

    var doctype$2 = {};

    const { DOCUMENT_MODE } = html;

    //Const
    const VALID_DOCTYPE_NAME = 'html';
    const VALID_SYSTEM_ID = 'about:legacy-compat';
    const QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';

    const QUIRKS_MODE_PUBLIC_ID_PREFIXES = [
        '+//silmaril//dtd html pro v0r11 19970101//',
        '-//as//dtd html 3.0 aswedit + extensions//',
        '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',
        '-//ietf//dtd html 2.0 level 1//',
        '-//ietf//dtd html 2.0 level 2//',
        '-//ietf//dtd html 2.0 strict level 1//',
        '-//ietf//dtd html 2.0 strict level 2//',
        '-//ietf//dtd html 2.0 strict//',
        '-//ietf//dtd html 2.0//',
        '-//ietf//dtd html 2.1e//',
        '-//ietf//dtd html 3.0//',
        '-//ietf//dtd html 3.2 final//',
        '-//ietf//dtd html 3.2//',
        '-//ietf//dtd html 3//',
        '-//ietf//dtd html level 0//',
        '-//ietf//dtd html level 1//',
        '-//ietf//dtd html level 2//',
        '-//ietf//dtd html level 3//',
        '-//ietf//dtd html strict level 0//',
        '-//ietf//dtd html strict level 1//',
        '-//ietf//dtd html strict level 2//',
        '-//ietf//dtd html strict level 3//',
        '-//ietf//dtd html strict//',
        '-//ietf//dtd html//',
        '-//metrius//dtd metrius presentational//',
        '-//microsoft//dtd internet explorer 2.0 html strict//',
        '-//microsoft//dtd internet explorer 2.0 html//',
        '-//microsoft//dtd internet explorer 2.0 tables//',
        '-//microsoft//dtd internet explorer 3.0 html strict//',
        '-//microsoft//dtd internet explorer 3.0 html//',
        '-//microsoft//dtd internet explorer 3.0 tables//',
        '-//netscape comm. corp.//dtd html//',
        '-//netscape comm. corp.//dtd strict html//',
        "-//o'reilly and associates//dtd html 2.0//",
        "-//o'reilly and associates//dtd html extended 1.0//",
        "-//o'reilly and associates//dtd html extended relaxed 1.0//",
        '-//sq//dtd html 2.0 hotmetal + extensions//',
        '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',
        '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',
        '-//spyglass//dtd html 2.0 extended//',
        '-//sun microsystems corp.//dtd hotjava html//',
        '-//sun microsystems corp.//dtd hotjava strict html//',
        '-//w3c//dtd html 3 1995-03-24//',
        '-//w3c//dtd html 3.2 draft//',
        '-//w3c//dtd html 3.2 final//',
        '-//w3c//dtd html 3.2//',
        '-//w3c//dtd html 3.2s draft//',
        '-//w3c//dtd html 4.0 frameset//',
        '-//w3c//dtd html 4.0 transitional//',
        '-//w3c//dtd html experimental 19960712//',
        '-//w3c//dtd html experimental 970421//',
        '-//w3c//dtd w3 html//',
        '-//w3o//dtd w3 html 3.0//',
        '-//webtechs//dtd mozilla html 2.0//',
        '-//webtechs//dtd mozilla html//'
    ];

    const QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat([
        '-//w3c//dtd html 4.01 frameset//',
        '-//w3c//dtd html 4.01 transitional//'
    ]);

    const QUIRKS_MODE_PUBLIC_IDS = ['-//w3o//dtd w3 html strict 3.0//en//', '-/w3c/dtd html 4.0 transitional/en', 'html'];
    const LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];

    const LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat([
        '-//w3c//dtd html 4.01 frameset//',
        '-//w3c//dtd html 4.01 transitional//'
    ]);

    //Utils
    function enquoteDoctypeId(id) {
        const quote = id.indexOf('"') !== -1 ? "'" : '"';

        return quote + id + quote;
    }

    function hasPrefix(publicId, prefixes) {
        for (let i = 0; i < prefixes.length; i++) {
            if (publicId.indexOf(prefixes[i]) === 0) {
                return true;
            }
        }

        return false;
    }

    //API
    doctype$2.isConforming = function(token) {
        return (
            token.name === VALID_DOCTYPE_NAME &&
            token.publicId === null &&
            (token.systemId === null || token.systemId === VALID_SYSTEM_ID)
        );
    };

    doctype$2.getDocumentMode = function(token) {
        if (token.name !== VALID_DOCTYPE_NAME) {
            return DOCUMENT_MODE.QUIRKS;
        }

        const systemId = token.systemId;

        if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {
            return DOCUMENT_MODE.QUIRKS;
        }

        let publicId = token.publicId;

        if (publicId !== null) {
            publicId = publicId.toLowerCase();

            if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1) {
                return DOCUMENT_MODE.QUIRKS;
            }

            let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;

            if (hasPrefix(publicId, prefixes)) {
                return DOCUMENT_MODE.QUIRKS;
            }

            prefixes =
                systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;

            if (hasPrefix(publicId, prefixes)) {
                return DOCUMENT_MODE.LIMITED_QUIRKS;
            }
        }

        return DOCUMENT_MODE.NO_QUIRKS;
    };

    doctype$2.serializeContent = function(name, publicId, systemId) {
        let str = '!DOCTYPE ';

        if (name) {
            str += name;
        }

        if (publicId) {
            str += ' PUBLIC ' + enquoteDoctypeId(publicId);
        } else if (systemId) {
            str += ' SYSTEM';
        }

        if (systemId !== null) {
            str += ' ' + enquoteDoctypeId(systemId);
        }

        return str;
    };

    var foreignContent$1 = {};

    const Tokenizer$1 = tokenizer;
    const HTML$2 = html;

    //Aliases
    const $$2 = HTML$2.TAG_NAMES;
    const NS$2 = HTML$2.NAMESPACES;
    const ATTRS$1 = HTML$2.ATTRS;

    //MIME types
    const MIME_TYPES = {
        TEXT_HTML: 'text/html',
        APPLICATION_XML: 'application/xhtml+xml'
    };

    //Attributes
    const DEFINITION_URL_ATTR = 'definitionurl';
    const ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';
    const SVG_ATTRS_ADJUSTMENT_MAP = {
        attributename: 'attributeName',
        attributetype: 'attributeType',
        basefrequency: 'baseFrequency',
        baseprofile: 'baseProfile',
        calcmode: 'calcMode',
        clippathunits: 'clipPathUnits',
        diffuseconstant: 'diffuseConstant',
        edgemode: 'edgeMode',
        filterunits: 'filterUnits',
        glyphref: 'glyphRef',
        gradienttransform: 'gradientTransform',
        gradientunits: 'gradientUnits',
        kernelmatrix: 'kernelMatrix',
        kernelunitlength: 'kernelUnitLength',
        keypoints: 'keyPoints',
        keysplines: 'keySplines',
        keytimes: 'keyTimes',
        lengthadjust: 'lengthAdjust',
        limitingconeangle: 'limitingConeAngle',
        markerheight: 'markerHeight',
        markerunits: 'markerUnits',
        markerwidth: 'markerWidth',
        maskcontentunits: 'maskContentUnits',
        maskunits: 'maskUnits',
        numoctaves: 'numOctaves',
        pathlength: 'pathLength',
        patterncontentunits: 'patternContentUnits',
        patterntransform: 'patternTransform',
        patternunits: 'patternUnits',
        pointsatx: 'pointsAtX',
        pointsaty: 'pointsAtY',
        pointsatz: 'pointsAtZ',
        preservealpha: 'preserveAlpha',
        preserveaspectratio: 'preserveAspectRatio',
        primitiveunits: 'primitiveUnits',
        refx: 'refX',
        refy: 'refY',
        repeatcount: 'repeatCount',
        repeatdur: 'repeatDur',
        requiredextensions: 'requiredExtensions',
        requiredfeatures: 'requiredFeatures',
        specularconstant: 'specularConstant',
        specularexponent: 'specularExponent',
        spreadmethod: 'spreadMethod',
        startoffset: 'startOffset',
        stddeviation: 'stdDeviation',
        stitchtiles: 'stitchTiles',
        surfacescale: 'surfaceScale',
        systemlanguage: 'systemLanguage',
        tablevalues: 'tableValues',
        targetx: 'targetX',
        targety: 'targetY',
        textlength: 'textLength',
        viewbox: 'viewBox',
        viewtarget: 'viewTarget',
        xchannelselector: 'xChannelSelector',
        ychannelselector: 'yChannelSelector',
        zoomandpan: 'zoomAndPan'
    };

    const XML_ATTRS_ADJUSTMENT_MAP = {
        'xlink:actuate': { prefix: 'xlink', name: 'actuate', namespace: NS$2.XLINK },
        'xlink:arcrole': { prefix: 'xlink', name: 'arcrole', namespace: NS$2.XLINK },
        'xlink:href': { prefix: 'xlink', name: 'href', namespace: NS$2.XLINK },
        'xlink:role': { prefix: 'xlink', name: 'role', namespace: NS$2.XLINK },
        'xlink:show': { prefix: 'xlink', name: 'show', namespace: NS$2.XLINK },
        'xlink:title': { prefix: 'xlink', name: 'title', namespace: NS$2.XLINK },
        'xlink:type': { prefix: 'xlink', name: 'type', namespace: NS$2.XLINK },
        'xml:base': { prefix: 'xml', name: 'base', namespace: NS$2.XML },
        'xml:lang': { prefix: 'xml', name: 'lang', namespace: NS$2.XML },
        'xml:space': { prefix: 'xml', name: 'space', namespace: NS$2.XML },
        xmlns: { prefix: '', name: 'xmlns', namespace: NS$2.XMLNS },
        'xmlns:xlink': { prefix: 'xmlns', name: 'xlink', namespace: NS$2.XMLNS }
    };

    //SVG tag names adjustment map
    const SVG_TAG_NAMES_ADJUSTMENT_MAP = (foreignContent$1.SVG_TAG_NAMES_ADJUSTMENT_MAP = {
        altglyph: 'altGlyph',
        altglyphdef: 'altGlyphDef',
        altglyphitem: 'altGlyphItem',
        animatecolor: 'animateColor',
        animatemotion: 'animateMotion',
        animatetransform: 'animateTransform',
        clippath: 'clipPath',
        feblend: 'feBlend',
        fecolormatrix: 'feColorMatrix',
        fecomponenttransfer: 'feComponentTransfer',
        fecomposite: 'feComposite',
        feconvolvematrix: 'feConvolveMatrix',
        fediffuselighting: 'feDiffuseLighting',
        fedisplacementmap: 'feDisplacementMap',
        fedistantlight: 'feDistantLight',
        feflood: 'feFlood',
        fefunca: 'feFuncA',
        fefuncb: 'feFuncB',
        fefuncg: 'feFuncG',
        fefuncr: 'feFuncR',
        fegaussianblur: 'feGaussianBlur',
        feimage: 'feImage',
        femerge: 'feMerge',
        femergenode: 'feMergeNode',
        femorphology: 'feMorphology',
        feoffset: 'feOffset',
        fepointlight: 'fePointLight',
        fespecularlighting: 'feSpecularLighting',
        fespotlight: 'feSpotLight',
        fetile: 'feTile',
        feturbulence: 'feTurbulence',
        foreignobject: 'foreignObject',
        glyphref: 'glyphRef',
        lineargradient: 'linearGradient',
        radialgradient: 'radialGradient',
        textpath: 'textPath'
    });

    //Tags that causes exit from foreign content
    const EXITS_FOREIGN_CONTENT = {
        [$$2.B]: true,
        [$$2.BIG]: true,
        [$$2.BLOCKQUOTE]: true,
        [$$2.BODY]: true,
        [$$2.BR]: true,
        [$$2.CENTER]: true,
        [$$2.CODE]: true,
        [$$2.DD]: true,
        [$$2.DIV]: true,
        [$$2.DL]: true,
        [$$2.DT]: true,
        [$$2.EM]: true,
        [$$2.EMBED]: true,
        [$$2.H1]: true,
        [$$2.H2]: true,
        [$$2.H3]: true,
        [$$2.H4]: true,
        [$$2.H5]: true,
        [$$2.H6]: true,
        [$$2.HEAD]: true,
        [$$2.HR]: true,
        [$$2.I]: true,
        [$$2.IMG]: true,
        [$$2.LI]: true,
        [$$2.LISTING]: true,
        [$$2.MENU]: true,
        [$$2.META]: true,
        [$$2.NOBR]: true,
        [$$2.OL]: true,
        [$$2.P]: true,
        [$$2.PRE]: true,
        [$$2.RUBY]: true,
        [$$2.S]: true,
        [$$2.SMALL]: true,
        [$$2.SPAN]: true,
        [$$2.STRONG]: true,
        [$$2.STRIKE]: true,
        [$$2.SUB]: true,
        [$$2.SUP]: true,
        [$$2.TABLE]: true,
        [$$2.TT]: true,
        [$$2.U]: true,
        [$$2.UL]: true,
        [$$2.VAR]: true
    };

    //Check exit from foreign content
    foreignContent$1.causesExit = function(startTagToken) {
        const tn = startTagToken.tagName;
        const isFontWithAttrs =
            tn === $$2.FONT &&
            (Tokenizer$1.getTokenAttr(startTagToken, ATTRS$1.COLOR) !== null ||
                Tokenizer$1.getTokenAttr(startTagToken, ATTRS$1.SIZE) !== null ||
                Tokenizer$1.getTokenAttr(startTagToken, ATTRS$1.FACE) !== null);

        return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];
    };

    //Token adjustments
    foreignContent$1.adjustTokenMathMLAttrs = function(token) {
        for (let i = 0; i < token.attrs.length; i++) {
            if (token.attrs[i].name === DEFINITION_URL_ATTR) {
                token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
                break;
            }
        }
    };

    foreignContent$1.adjustTokenSVGAttrs = function(token) {
        for (let i = 0; i < token.attrs.length; i++) {
            const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

            if (adjustedAttrName) {
                token.attrs[i].name = adjustedAttrName;
            }
        }
    };

    foreignContent$1.adjustTokenXMLAttrs = function(token) {
        for (let i = 0; i < token.attrs.length; i++) {
            const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

            if (adjustedAttrEntry) {
                token.attrs[i].prefix = adjustedAttrEntry.prefix;
                token.attrs[i].name = adjustedAttrEntry.name;
                token.attrs[i].namespace = adjustedAttrEntry.namespace;
            }
        }
    };

    foreignContent$1.adjustTokenSVGTagName = function(token) {
        const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];

        if (adjustedTagName) {
            token.tagName = adjustedTagName;
        }
    };

    //Integration points
    function isMathMLTextIntegrationPoint(tn, ns) {
        return ns === NS$2.MATHML && (tn === $$2.MI || tn === $$2.MO || tn === $$2.MN || tn === $$2.MS || tn === $$2.MTEXT);
    }

    function isHtmlIntegrationPoint(tn, ns, attrs) {
        if (ns === NS$2.MATHML && tn === $$2.ANNOTATION_XML) {
            for (let i = 0; i < attrs.length; i++) {
                if (attrs[i].name === ATTRS$1.ENCODING) {
                    const value = attrs[i].value.toLowerCase();

                    return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;
                }
            }
        }

        return ns === NS$2.SVG && (tn === $$2.FOREIGN_OBJECT || tn === $$2.DESC || tn === $$2.TITLE);
    }

    foreignContent$1.isIntegrationPoint = function(tn, ns, attrs, foreignNS) {
        if ((!foreignNS || foreignNS === NS$2.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {
            return true;
        }

        if ((!foreignNS || foreignNS === NS$2.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {
            return true;
        }

        return false;
    };

    const Tokenizer = tokenizer;
    const OpenElementStack = openElementStack;
    const FormattingElementList = formattingElementList;
    const LocationInfoParserMixin = parserMixin$1;
    const ErrorReportingParserMixin = parserMixin;
    const Mixin = mixin;
    const defaultTreeAdapter$1 = _default;
    const mergeOptions$1 = mergeOptions$2;
    const doctype$1 = doctype$2;
    const foreignContent = foreignContent$1;
    const ERR = errorCodes;
    const unicode = unicode$3;
    const HTML$1 = html;

    //Aliases
    const $$1 = HTML$1.TAG_NAMES;
    const NS$1 = HTML$1.NAMESPACES;
    const ATTRS = HTML$1.ATTRS;

    const DEFAULT_OPTIONS$1 = {
        scriptingEnabled: true,
        sourceCodeLocationInfo: false,
        onParseError: null,
        treeAdapter: defaultTreeAdapter$1
    };

    //Misc constants
    const HIDDEN_INPUT_TYPE = 'hidden';

    //Adoption agency loops iteration count
    const AA_OUTER_LOOP_ITER = 8;
    const AA_INNER_LOOP_ITER = 3;

    //Insertion modes
    const INITIAL_MODE = 'INITIAL_MODE';
    const BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';
    const BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';
    const IN_HEAD_MODE = 'IN_HEAD_MODE';
    const IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';
    const AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';
    const IN_BODY_MODE = 'IN_BODY_MODE';
    const TEXT_MODE = 'TEXT_MODE';
    const IN_TABLE_MODE = 'IN_TABLE_MODE';
    const IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';
    const IN_CAPTION_MODE = 'IN_CAPTION_MODE';
    const IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';
    const IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';
    const IN_ROW_MODE = 'IN_ROW_MODE';
    const IN_CELL_MODE = 'IN_CELL_MODE';
    const IN_SELECT_MODE = 'IN_SELECT_MODE';
    const IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';
    const IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';
    const AFTER_BODY_MODE = 'AFTER_BODY_MODE';
    const IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';
    const AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';
    const AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';
    const AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';

    //Insertion mode reset map
    const INSERTION_MODE_RESET_MAP = {
        [$$1.TR]: IN_ROW_MODE,
        [$$1.TBODY]: IN_TABLE_BODY_MODE,
        [$$1.THEAD]: IN_TABLE_BODY_MODE,
        [$$1.TFOOT]: IN_TABLE_BODY_MODE,
        [$$1.CAPTION]: IN_CAPTION_MODE,
        [$$1.COLGROUP]: IN_COLUMN_GROUP_MODE,
        [$$1.TABLE]: IN_TABLE_MODE,
        [$$1.BODY]: IN_BODY_MODE,
        [$$1.FRAMESET]: IN_FRAMESET_MODE
    };

    //Template insertion mode switch map
    const TEMPLATE_INSERTION_MODE_SWITCH_MAP = {
        [$$1.CAPTION]: IN_TABLE_MODE,
        [$$1.COLGROUP]: IN_TABLE_MODE,
        [$$1.TBODY]: IN_TABLE_MODE,
        [$$1.TFOOT]: IN_TABLE_MODE,
        [$$1.THEAD]: IN_TABLE_MODE,
        [$$1.COL]: IN_COLUMN_GROUP_MODE,
        [$$1.TR]: IN_TABLE_BODY_MODE,
        [$$1.TD]: IN_ROW_MODE,
        [$$1.TH]: IN_ROW_MODE
    };

    //Token handlers map for insertion modes
    const TOKEN_HANDLERS = {
        [INITIAL_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenInInitialMode,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInInitialMode,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: doctypeInInitialMode,
            [Tokenizer.START_TAG_TOKEN]: tokenInInitialMode,
            [Tokenizer.END_TAG_TOKEN]: tokenInInitialMode,
            [Tokenizer.EOF_TOKEN]: tokenInInitialMode
        },
        [BEFORE_HTML_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHtml,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHtml,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagBeforeHtml,
            [Tokenizer.END_TAG_TOKEN]: endTagBeforeHtml,
            [Tokenizer.EOF_TOKEN]: tokenBeforeHtml
        },
        [BEFORE_HEAD_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHead,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHead,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,
            [Tokenizer.START_TAG_TOKEN]: startTagBeforeHead,
            [Tokenizer.END_TAG_TOKEN]: endTagBeforeHead,
            [Tokenizer.EOF_TOKEN]: tokenBeforeHead
        },
        [IN_HEAD_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenInHead,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHead,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,
            [Tokenizer.START_TAG_TOKEN]: startTagInHead,
            [Tokenizer.END_TAG_TOKEN]: endTagInHead,
            [Tokenizer.EOF_TOKEN]: tokenInHead
        },
        [IN_HEAD_NO_SCRIPT_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenInHeadNoScript,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHeadNoScript,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,
            [Tokenizer.START_TAG_TOKEN]: startTagInHeadNoScript,
            [Tokenizer.END_TAG_TOKEN]: endTagInHeadNoScript,
            [Tokenizer.EOF_TOKEN]: tokenInHeadNoScript
        },
        [AFTER_HEAD_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenAfterHead,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterHead,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,
            [Tokenizer.START_TAG_TOKEN]: startTagAfterHead,
            [Tokenizer.END_TAG_TOKEN]: endTagAfterHead,
            [Tokenizer.EOF_TOKEN]: tokenAfterHead
        },
        [IN_BODY_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInBody,
            [Tokenizer.END_TAG_TOKEN]: endTagInBody,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [TEXT_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.NULL_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: ignoreToken,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: ignoreToken,
            [Tokenizer.END_TAG_TOKEN]: endTagInText,
            [Tokenizer.EOF_TOKEN]: eofInText
        },
        [IN_TABLE_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInTable,
            [Tokenizer.END_TAG_TOKEN]: endTagInTable,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_TABLE_TEXT_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInTableText,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInTableText,
            [Tokenizer.COMMENT_TOKEN]: tokenInTableText,
            [Tokenizer.DOCTYPE_TOKEN]: tokenInTableText,
            [Tokenizer.START_TAG_TOKEN]: tokenInTableText,
            [Tokenizer.END_TAG_TOKEN]: tokenInTableText,
            [Tokenizer.EOF_TOKEN]: tokenInTableText
        },
        [IN_CAPTION_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInCaption,
            [Tokenizer.END_TAG_TOKEN]: endTagInCaption,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_COLUMN_GROUP_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenInColumnGroup,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInColumnGroup,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInColumnGroup,
            [Tokenizer.END_TAG_TOKEN]: endTagInColumnGroup,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_TABLE_BODY_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInTableBody,
            [Tokenizer.END_TAG_TOKEN]: endTagInTableBody,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_ROW_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInRow,
            [Tokenizer.END_TAG_TOKEN]: endTagInRow,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_CELL_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInCell,
            [Tokenizer.END_TAG_TOKEN]: endTagInCell,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_SELECT_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInSelect,
            [Tokenizer.END_TAG_TOKEN]: endTagInSelect,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_SELECT_IN_TABLE_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInSelectInTable,
            [Tokenizer.END_TAG_TOKEN]: endTagInSelectInTable,
            [Tokenizer.EOF_TOKEN]: eofInBody
        },
        [IN_TEMPLATE_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: characterInBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInTemplate,
            [Tokenizer.END_TAG_TOKEN]: endTagInTemplate,
            [Tokenizer.EOF_TOKEN]: eofInTemplate
        },
        [AFTER_BODY_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenAfterBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterBody,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendCommentToRootHtmlElement,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagAfterBody,
            [Tokenizer.END_TAG_TOKEN]: endTagAfterBody,
            [Tokenizer.EOF_TOKEN]: stopParsing
        },
        [IN_FRAMESET_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagInFrameset,
            [Tokenizer.END_TAG_TOKEN]: endTagInFrameset,
            [Tokenizer.EOF_TOKEN]: stopParsing
        },
        [AFTER_FRAMESET_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,
            [Tokenizer.COMMENT_TOKEN]: appendComment,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagAfterFrameset,
            [Tokenizer.END_TAG_TOKEN]: endTagAfterFrameset,
            [Tokenizer.EOF_TOKEN]: stopParsing
        },
        [AFTER_AFTER_BODY_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: tokenAfterAfterBody,
            [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterAfterBody,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterBody,
            [Tokenizer.END_TAG_TOKEN]: tokenAfterAfterBody,
            [Tokenizer.EOF_TOKEN]: stopParsing
        },
        [AFTER_AFTER_FRAMESET_MODE]: {
            [Tokenizer.CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,
            [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,
            [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,
            [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,
            [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterFrameset,
            [Tokenizer.END_TAG_TOKEN]: ignoreToken,
            [Tokenizer.EOF_TOKEN]: stopParsing
        }
    };

    //Parser
    class Parser$1 {
        constructor(options) {
            this.options = mergeOptions$1(DEFAULT_OPTIONS$1, options);

            this.treeAdapter = this.options.treeAdapter;
            this.pendingScript = null;

            if (this.options.sourceCodeLocationInfo) {
                Mixin.install(this, LocationInfoParserMixin);
            }

            if (this.options.onParseError) {
                Mixin.install(this, ErrorReportingParserMixin, { onParseError: this.options.onParseError });
            }
        }

        // API
        parse(html) {
            const document = this.treeAdapter.createDocument();

            this._bootstrap(document, null);
            this.tokenizer.write(html, true);
            this._runParsingLoop(null);

            return document;
        }

        parseFragment(html, fragmentContext) {
            //NOTE: use <template> element as a fragment context if context element was not provided,
            //so we will parse in "forgiving" manner
            if (!fragmentContext) {
                fragmentContext = this.treeAdapter.createElement($$1.TEMPLATE, NS$1.HTML, []);
            }

            //NOTE: create fake element which will be used as 'document' for fragment parsing.
            //This is important for jsdom there 'document' can't be recreated, therefore
            //fragment parsing causes messing of the main `document`.
            const documentMock = this.treeAdapter.createElement('documentmock', NS$1.HTML, []);

            this._bootstrap(documentMock, fragmentContext);

            if (this.treeAdapter.getTagName(fragmentContext) === $$1.TEMPLATE) {
                this._pushTmplInsertionMode(IN_TEMPLATE_MODE);
            }

            this._initTokenizerForFragmentParsing();
            this._insertFakeRootElement();
            this._resetInsertionMode();
            this._findFormInFragmentContext();
            this.tokenizer.write(html, true);
            this._runParsingLoop(null);

            const rootElement = this.treeAdapter.getFirstChild(documentMock);
            const fragment = this.treeAdapter.createDocumentFragment();

            this._adoptNodes(rootElement, fragment);

            return fragment;
        }

        //Bootstrap parser
        _bootstrap(document, fragmentContext) {
            this.tokenizer = new Tokenizer(this.options);

            this.stopped = false;

            this.insertionMode = INITIAL_MODE;
            this.originalInsertionMode = '';

            this.document = document;
            this.fragmentContext = fragmentContext;

            this.headElement = null;
            this.formElement = null;

            this.openElements = new OpenElementStack(this.document, this.treeAdapter);
            this.activeFormattingElements = new FormattingElementList(this.treeAdapter);

            this.tmplInsertionModeStack = [];
            this.tmplInsertionModeStackTop = -1;
            this.currentTmplInsertionMode = null;

            this.pendingCharacterTokens = [];
            this.hasNonWhitespacePendingCharacterToken = false;

            this.framesetOk = true;
            this.skipNextNewLine = false;
            this.fosterParentingEnabled = false;
        }

        //Errors
        _err() {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        }

        //Parsing loop
        _runParsingLoop(scriptHandler) {
            while (!this.stopped) {
                this._setupTokenizerCDATAMode();

                const token = this.tokenizer.getNextToken();

                if (token.type === Tokenizer.HIBERNATION_TOKEN) {
                    break;
                }

                if (this.skipNextNewLine) {
                    this.skipNextNewLine = false;

                    if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\n') {
                        if (token.chars.length === 1) {
                            continue;
                        }

                        token.chars = token.chars.substr(1);
                    }
                }

                this._processInputToken(token);

                if (scriptHandler && this.pendingScript) {
                    break;
                }
            }
        }

        runParsingLoopForCurrentChunk(writeCallback, scriptHandler) {
            this._runParsingLoop(scriptHandler);

            if (scriptHandler && this.pendingScript) {
                const script = this.pendingScript;

                this.pendingScript = null;

                scriptHandler(script);

                return;
            }

            if (writeCallback) {
                writeCallback();
            }
        }

        //Text parsing
        _setupTokenizerCDATAMode() {
            const current = this._getAdjustedCurrentElement();

            this.tokenizer.allowCDATA =
                current &&
                current !== this.document &&
                this.treeAdapter.getNamespaceURI(current) !== NS$1.HTML &&
                !this._isIntegrationPoint(current);
        }

        _switchToTextParsing(currentToken, nextTokenizerState) {
            this._insertElement(currentToken, NS$1.HTML);
            this.tokenizer.state = nextTokenizerState;
            this.originalInsertionMode = this.insertionMode;
            this.insertionMode = TEXT_MODE;
        }

        switchToPlaintextParsing() {
            this.insertionMode = TEXT_MODE;
            this.originalInsertionMode = IN_BODY_MODE;
            this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
        }

        //Fragment parsing
        _getAdjustedCurrentElement() {
            return this.openElements.stackTop === 0 && this.fragmentContext
                ? this.fragmentContext
                : this.openElements.current;
        }

        _findFormInFragmentContext() {
            let node = this.fragmentContext;

            do {
                if (this.treeAdapter.getTagName(node) === $$1.FORM) {
                    this.formElement = node;
                    break;
                }

                node = this.treeAdapter.getParentNode(node);
            } while (node);
        }

        _initTokenizerForFragmentParsing() {
            if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS$1.HTML) {
                const tn = this.treeAdapter.getTagName(this.fragmentContext);

                if (tn === $$1.TITLE || tn === $$1.TEXTAREA) {
                    this.tokenizer.state = Tokenizer.MODE.RCDATA;
                } else if (
                    tn === $$1.STYLE ||
                    tn === $$1.XMP ||
                    tn === $$1.IFRAME ||
                    tn === $$1.NOEMBED ||
                    tn === $$1.NOFRAMES ||
                    tn === $$1.NOSCRIPT
                ) {
                    this.tokenizer.state = Tokenizer.MODE.RAWTEXT;
                } else if (tn === $$1.SCRIPT) {
                    this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;
                } else if (tn === $$1.PLAINTEXT) {
                    this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
                }
            }
        }

        //Tree mutation
        _setDocumentType(token) {
            const name = token.name || '';
            const publicId = token.publicId || '';
            const systemId = token.systemId || '';

            this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);
        }

        _attachElementToTree(element) {
            if (this._shouldFosterParentOnInsertion()) {
                this._fosterParentElement(element);
            } else {
                const parent = this.openElements.currentTmplContent || this.openElements.current;

                this.treeAdapter.appendChild(parent, element);
            }
        }

        _appendElement(token, namespaceURI) {
            const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

            this._attachElementToTree(element);
        }

        _insertElement(token, namespaceURI) {
            const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

            this._attachElementToTree(element);
            this.openElements.push(element);
        }

        _insertFakeElement(tagName) {
            const element = this.treeAdapter.createElement(tagName, NS$1.HTML, []);

            this._attachElementToTree(element);
            this.openElements.push(element);
        }

        _insertTemplate(token) {
            const tmpl = this.treeAdapter.createElement(token.tagName, NS$1.HTML, token.attrs);
            const content = this.treeAdapter.createDocumentFragment();

            this.treeAdapter.setTemplateContent(tmpl, content);
            this._attachElementToTree(tmpl);
            this.openElements.push(tmpl);
        }

        _insertFakeRootElement() {
            const element = this.treeAdapter.createElement($$1.HTML, NS$1.HTML, []);

            this.treeAdapter.appendChild(this.openElements.current, element);
            this.openElements.push(element);
        }

        _appendCommentNode(token, parent) {
            const commentNode = this.treeAdapter.createCommentNode(token.data);

            this.treeAdapter.appendChild(parent, commentNode);
        }

        _insertCharacters(token) {
            if (this._shouldFosterParentOnInsertion()) {
                this._fosterParentText(token.chars);
            } else {
                const parent = this.openElements.currentTmplContent || this.openElements.current;

                this.treeAdapter.insertText(parent, token.chars);
            }
        }

        _adoptNodes(donor, recipient) {
            for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {
                this.treeAdapter.detachNode(child);
                this.treeAdapter.appendChild(recipient, child);
            }
        }

        //Token processing
        _shouldProcessTokenInForeignContent(token) {
            const current = this._getAdjustedCurrentElement();

            if (!current || current === this.document) {
                return false;
            }

            const ns = this.treeAdapter.getNamespaceURI(current);

            if (ns === NS$1.HTML) {
                return false;
            }

            if (
                this.treeAdapter.getTagName(current) === $$1.ANNOTATION_XML &&
                ns === NS$1.MATHML &&
                token.type === Tokenizer.START_TAG_TOKEN &&
                token.tagName === $$1.SVG
            ) {
                return false;
            }

            const isCharacterToken =
                token.type === Tokenizer.CHARACTER_TOKEN ||
                token.type === Tokenizer.NULL_CHARACTER_TOKEN ||
                token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN;

            const isMathMLTextStartTag =
                token.type === Tokenizer.START_TAG_TOKEN && token.tagName !== $$1.MGLYPH && token.tagName !== $$1.MALIGNMARK;

            if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS$1.MATHML)) {
                return false;
            }

            if (
                (token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &&
                this._isIntegrationPoint(current, NS$1.HTML)
            ) {
                return false;
            }

            return token.type !== Tokenizer.EOF_TOKEN;
        }

        _processToken(token) {
            TOKEN_HANDLERS[this.insertionMode][token.type](this, token);
        }

        _processTokenInBodyMode(token) {
            TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);
        }

        _processTokenInForeignContent(token) {
            if (token.type === Tokenizer.CHARACTER_TOKEN) {
                characterInForeignContent(this, token);
            } else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN) {
                nullCharacterInForeignContent(this, token);
            } else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN) {
                insertCharacters(this, token);
            } else if (token.type === Tokenizer.COMMENT_TOKEN) {
                appendComment(this, token);
            } else if (token.type === Tokenizer.START_TAG_TOKEN) {
                startTagInForeignContent(this, token);
            } else if (token.type === Tokenizer.END_TAG_TOKEN) {
                endTagInForeignContent(this, token);
            }
        }

        _processInputToken(token) {
            if (this._shouldProcessTokenInForeignContent(token)) {
                this._processTokenInForeignContent(token);
            } else {
                this._processToken(token);
            }

            if (token.type === Tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {
                this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);
            }
        }

        //Integration points
        _isIntegrationPoint(element, foreignNS) {
            const tn = this.treeAdapter.getTagName(element);
            const ns = this.treeAdapter.getNamespaceURI(element);
            const attrs = this.treeAdapter.getAttrList(element);

            return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);
        }

        //Active formatting elements reconstruction
        _reconstructActiveFormattingElements() {
            const listLength = this.activeFormattingElements.length;

            if (listLength) {
                let unopenIdx = listLength;
                let entry = null;

                do {
                    unopenIdx--;
                    entry = this.activeFormattingElements.entries[unopenIdx];

                    if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {
                        unopenIdx++;
                        break;
                    }
                } while (unopenIdx > 0);

                for (let i = unopenIdx; i < listLength; i++) {
                    entry = this.activeFormattingElements.entries[i];
                    this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));
                    entry.element = this.openElements.current;
                }
            }
        }

        //Close elements
        _closeTableCell() {
            this.openElements.generateImpliedEndTags();
            this.openElements.popUntilTableCellPopped();
            this.activeFormattingElements.clearToLastMarker();
            this.insertionMode = IN_ROW_MODE;
        }

        _closePElement() {
            this.openElements.generateImpliedEndTagsWithExclusion($$1.P);
            this.openElements.popUntilTagNamePopped($$1.P);
        }

        //Insertion modes
        _resetInsertionMode() {
            for (let i = this.openElements.stackTop, last = false; i >= 0; i--) {
                let element = this.openElements.items[i];

                if (i === 0) {
                    last = true;

                    if (this.fragmentContext) {
                        element = this.fragmentContext;
                    }
                }

                const tn = this.treeAdapter.getTagName(element);
                const newInsertionMode = INSERTION_MODE_RESET_MAP[tn];

                if (newInsertionMode) {
                    this.insertionMode = newInsertionMode;
                    break;
                } else if (!last && (tn === $$1.TD || tn === $$1.TH)) {
                    this.insertionMode = IN_CELL_MODE;
                    break;
                } else if (!last && tn === $$1.HEAD) {
                    this.insertionMode = IN_HEAD_MODE;
                    break;
                } else if (tn === $$1.SELECT) {
                    this._resetInsertionModeForSelect(i);
                    break;
                } else if (tn === $$1.TEMPLATE) {
                    this.insertionMode = this.currentTmplInsertionMode;
                    break;
                } else if (tn === $$1.HTML) {
                    this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;
                    break;
                } else if (last) {
                    this.insertionMode = IN_BODY_MODE;
                    break;
                }
            }
        }

        _resetInsertionModeForSelect(selectIdx) {
            if (selectIdx > 0) {
                for (let i = selectIdx - 1; i > 0; i--) {
                    const ancestor = this.openElements.items[i];
                    const tn = this.treeAdapter.getTagName(ancestor);

                    if (tn === $$1.TEMPLATE) {
                        break;
                    } else if (tn === $$1.TABLE) {
                        this.insertionMode = IN_SELECT_IN_TABLE_MODE;
                        return;
                    }
                }
            }

            this.insertionMode = IN_SELECT_MODE;
        }

        _pushTmplInsertionMode(mode) {
            this.tmplInsertionModeStack.push(mode);
            this.tmplInsertionModeStackTop++;
            this.currentTmplInsertionMode = mode;
        }

        _popTmplInsertionMode() {
            this.tmplInsertionModeStack.pop();
            this.tmplInsertionModeStackTop--;
            this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];
        }

        //Foster parenting
        _isElementCausesFosterParenting(element) {
            const tn = this.treeAdapter.getTagName(element);

            return tn === $$1.TABLE || tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD || tn === $$1.TR;
        }

        _shouldFosterParentOnInsertion() {
            return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);
        }

        _findFosterParentingLocation() {
            const location = {
                parent: null,
                beforeElement: null
            };

            for (let i = this.openElements.stackTop; i >= 0; i--) {
                const openElement = this.openElements.items[i];
                const tn = this.treeAdapter.getTagName(openElement);
                const ns = this.treeAdapter.getNamespaceURI(openElement);

                if (tn === $$1.TEMPLATE && ns === NS$1.HTML) {
                    location.parent = this.treeAdapter.getTemplateContent(openElement);
                    break;
                } else if (tn === $$1.TABLE) {
                    location.parent = this.treeAdapter.getParentNode(openElement);

                    if (location.parent) {
                        location.beforeElement = openElement;
                    } else {
                        location.parent = this.openElements.items[i - 1];
                    }

                    break;
                }
            }

            if (!location.parent) {
                location.parent = this.openElements.items[0];
            }

            return location;
        }

        _fosterParentElement(element) {
            const location = this._findFosterParentingLocation();

            if (location.beforeElement) {
                this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);
            } else {
                this.treeAdapter.appendChild(location.parent, element);
            }
        }

        _fosterParentText(chars) {
            const location = this._findFosterParentingLocation();

            if (location.beforeElement) {
                this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);
            } else {
                this.treeAdapter.insertText(location.parent, chars);
            }
        }

        //Special elements
        _isSpecialElement(element) {
            const tn = this.treeAdapter.getTagName(element);
            const ns = this.treeAdapter.getNamespaceURI(element);

            return HTML$1.SPECIAL_ELEMENTS[ns][tn];
        }
    }

    var parser = Parser$1;

    //Adoption agency algorithm
    //(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)
    //------------------------------------------------------------------

    //Steps 5-8 of the algorithm
    function aaObtainFormattingElementEntry(p, token) {
        let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);

        if (formattingElementEntry) {
            if (!p.openElements.contains(formattingElementEntry.element)) {
                p.activeFormattingElements.removeEntry(formattingElementEntry);
                formattingElementEntry = null;
            } else if (!p.openElements.hasInScope(token.tagName)) {
                formattingElementEntry = null;
            }
        } else {
            genericEndTagInBody(p, token);
        }

        return formattingElementEntry;
    }

    //Steps 9 and 10 of the algorithm
    function aaObtainFurthestBlock(p, formattingElementEntry) {
        let furthestBlock = null;

        for (let i = p.openElements.stackTop; i >= 0; i--) {
            const element = p.openElements.items[i];

            if (element === formattingElementEntry.element) {
                break;
            }

            if (p._isSpecialElement(element)) {
                furthestBlock = element;
            }
        }

        if (!furthestBlock) {
            p.openElements.popUntilElementPopped(formattingElementEntry.element);
            p.activeFormattingElements.removeEntry(formattingElementEntry);
        }

        return furthestBlock;
    }

    //Step 13 of the algorithm
    function aaInnerLoop(p, furthestBlock, formattingElement) {
        let lastElement = furthestBlock;
        let nextElement = p.openElements.getCommonAncestor(furthestBlock);

        for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {
            //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)
            nextElement = p.openElements.getCommonAncestor(element);

            const elementEntry = p.activeFormattingElements.getElementEntry(element);
            const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;
            const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;

            if (shouldRemoveFromOpenElements) {
                if (counterOverflow) {
                    p.activeFormattingElements.removeEntry(elementEntry);
                }

                p.openElements.remove(element);
            } else {
                element = aaRecreateElementFromEntry(p, elementEntry);

                if (lastElement === furthestBlock) {
                    p.activeFormattingElements.bookmark = elementEntry;
                }

                p.treeAdapter.detachNode(lastElement);
                p.treeAdapter.appendChild(element, lastElement);
                lastElement = element;
            }
        }

        return lastElement;
    }

    //Step 13.7 of the algorithm
    function aaRecreateElementFromEntry(p, elementEntry) {
        const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);
        const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);

        p.openElements.replace(elementEntry.element, newElement);
        elementEntry.element = newElement;

        return newElement;
    }

    //Step 14 of the algorithm
    function aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {
        if (p._isElementCausesFosterParenting(commonAncestor)) {
            p._fosterParentElement(lastElement);
        } else {
            const tn = p.treeAdapter.getTagName(commonAncestor);
            const ns = p.treeAdapter.getNamespaceURI(commonAncestor);

            if (tn === $$1.TEMPLATE && ns === NS$1.HTML) {
                commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);
            }

            p.treeAdapter.appendChild(commonAncestor, lastElement);
        }
    }

    //Steps 15-19 of the algorithm
    function aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {
        const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);
        const token = formattingElementEntry.token;
        const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);

        p._adoptNodes(furthestBlock, newElement);
        p.treeAdapter.appendChild(furthestBlock, newElement);

        p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);
        p.activeFormattingElements.removeEntry(formattingElementEntry);

        p.openElements.remove(formattingElementEntry.element);
        p.openElements.insertAfter(furthestBlock, newElement);
    }

    //Algorithm entry point
    function callAdoptionAgency(p, token) {
        let formattingElementEntry;

        for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {
            formattingElementEntry = aaObtainFormattingElementEntry(p, token);

            if (!formattingElementEntry) {
                break;
            }

            const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);

            if (!furthestBlock) {
                break;
            }

            p.activeFormattingElements.bookmark = formattingElementEntry;

            const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);
            const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);

            p.treeAdapter.detachNode(lastElement);
            aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);
            aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);
        }
    }

    //Generic token handlers
    //------------------------------------------------------------------
    function ignoreToken() {
        //NOTE: do nothing =)
    }

    function misplacedDoctype(p) {
        p._err(ERR.misplacedDoctype);
    }

    function appendComment(p, token) {
        p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);
    }

    function appendCommentToRootHtmlElement(p, token) {
        p._appendCommentNode(token, p.openElements.items[0]);
    }

    function appendCommentToDocument(p, token) {
        p._appendCommentNode(token, p.document);
    }

    function insertCharacters(p, token) {
        p._insertCharacters(token);
    }

    function stopParsing(p) {
        p.stopped = true;
    }

    // The "initial" insertion mode
    //------------------------------------------------------------------
    function doctypeInInitialMode(p, token) {
        p._setDocumentType(token);

        const mode = token.forceQuirks ? HTML$1.DOCUMENT_MODE.QUIRKS : doctype$1.getDocumentMode(token);

        if (!doctype$1.isConforming(token)) {
            p._err(ERR.nonConformingDoctype);
        }

        p.treeAdapter.setDocumentMode(p.document, mode);

        p.insertionMode = BEFORE_HTML_MODE;
    }

    function tokenInInitialMode(p, token) {
        p._err(ERR.missingDoctype, { beforeToken: true });
        p.treeAdapter.setDocumentMode(p.document, HTML$1.DOCUMENT_MODE.QUIRKS);
        p.insertionMode = BEFORE_HTML_MODE;
        p._processToken(token);
    }

    // The "before html" insertion mode
    //------------------------------------------------------------------
    function startTagBeforeHtml(p, token) {
        if (token.tagName === $$1.HTML) {
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = BEFORE_HEAD_MODE;
        } else {
            tokenBeforeHtml(p, token);
        }
    }

    function endTagBeforeHtml(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML || tn === $$1.HEAD || tn === $$1.BODY || tn === $$1.BR) {
            tokenBeforeHtml(p, token);
        }
    }

    function tokenBeforeHtml(p, token) {
        p._insertFakeRootElement();
        p.insertionMode = BEFORE_HEAD_MODE;
        p._processToken(token);
    }

    // The "before head" insertion mode
    //------------------------------------------------------------------
    function startTagBeforeHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.HEAD) {
            p._insertElement(token, NS$1.HTML);
            p.headElement = p.openElements.current;
            p.insertionMode = IN_HEAD_MODE;
        } else {
            tokenBeforeHead(p, token);
        }
    }

    function endTagBeforeHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HEAD || tn === $$1.BODY || tn === $$1.HTML || tn === $$1.BR) {
            tokenBeforeHead(p, token);
        } else {
            p._err(ERR.endTagWithoutMatchingOpenElement);
        }
    }

    function tokenBeforeHead(p, token) {
        p._insertFakeElement($$1.HEAD);
        p.headElement = p.openElements.current;
        p.insertionMode = IN_HEAD_MODE;
        p._processToken(token);
    }

    // The "in head" insertion mode
    //------------------------------------------------------------------
    function startTagInHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.BASE || tn === $$1.BASEFONT || tn === $$1.BGSOUND || tn === $$1.LINK || tn === $$1.META) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        } else if (tn === $$1.TITLE) {
            p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);
        } else if (tn === $$1.NOSCRIPT) {
            if (p.options.scriptingEnabled) {
                p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);
            } else {
                p._insertElement(token, NS$1.HTML);
                p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;
            }
        } else if (tn === $$1.NOFRAMES || tn === $$1.STYLE) {
            p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);
        } else if (tn === $$1.SCRIPT) {
            p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);
        } else if (tn === $$1.TEMPLATE) {
            p._insertTemplate(token, NS$1.HTML);
            p.activeFormattingElements.insertMarker();
            p.framesetOk = false;
            p.insertionMode = IN_TEMPLATE_MODE;
            p._pushTmplInsertionMode(IN_TEMPLATE_MODE);
        } else if (tn === $$1.HEAD) {
            p._err(ERR.misplacedStartTagForHeadElement);
        } else {
            tokenInHead(p, token);
        }
    }

    function endTagInHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HEAD) {
            p.openElements.pop();
            p.insertionMode = AFTER_HEAD_MODE;
        } else if (tn === $$1.BODY || tn === $$1.BR || tn === $$1.HTML) {
            tokenInHead(p, token);
        } else if (tn === $$1.TEMPLATE) {
            if (p.openElements.tmplCount > 0) {
                p.openElements.generateImpliedEndTagsThoroughly();

                if (p.openElements.currentTagName !== $$1.TEMPLATE) {
                    p._err(ERR.closingOfElementWithOpenChildElements);
                }

                p.openElements.popUntilTagNamePopped($$1.TEMPLATE);
                p.activeFormattingElements.clearToLastMarker();
                p._popTmplInsertionMode();
                p._resetInsertionMode();
            } else {
                p._err(ERR.endTagWithoutMatchingOpenElement);
            }
        } else {
            p._err(ERR.endTagWithoutMatchingOpenElement);
        }
    }

    function tokenInHead(p, token) {
        p.openElements.pop();
        p.insertionMode = AFTER_HEAD_MODE;
        p._processToken(token);
    }

    // The "in head no script" insertion mode
    //------------------------------------------------------------------
    function startTagInHeadNoScript(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (
            tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.HEAD ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.STYLE
        ) {
            startTagInHead(p, token);
        } else if (tn === $$1.NOSCRIPT) {
            p._err(ERR.nestedNoscriptInHead);
        } else {
            tokenInHeadNoScript(p, token);
        }
    }

    function endTagInHeadNoScript(p, token) {
        const tn = token.tagName;

        if (tn === $$1.NOSCRIPT) {
            p.openElements.pop();
            p.insertionMode = IN_HEAD_MODE;
        } else if (tn === $$1.BR) {
            tokenInHeadNoScript(p, token);
        } else {
            p._err(ERR.endTagWithoutMatchingOpenElement);
        }
    }

    function tokenInHeadNoScript(p, token) {
        const errCode =
            token.type === Tokenizer.EOF_TOKEN ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;

        p._err(errCode);
        p.openElements.pop();
        p.insertionMode = IN_HEAD_MODE;
        p._processToken(token);
    }

    // The "after head" insertion mode
    //------------------------------------------------------------------
    function startTagAfterHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.BODY) {
            p._insertElement(token, NS$1.HTML);
            p.framesetOk = false;
            p.insertionMode = IN_BODY_MODE;
        } else if (tn === $$1.FRAMESET) {
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_FRAMESET_MODE;
        } else if (
            tn === $$1.BASE ||
            tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.SCRIPT ||
            tn === $$1.STYLE ||
            tn === $$1.TEMPLATE ||
            tn === $$1.TITLE
        ) {
            p._err(ERR.abandonedHeadElementChild);
            p.openElements.push(p.headElement);
            startTagInHead(p, token);
            p.openElements.remove(p.headElement);
        } else if (tn === $$1.HEAD) {
            p._err(ERR.misplacedStartTagForHeadElement);
        } else {
            tokenAfterHead(p, token);
        }
    }

    function endTagAfterHead(p, token) {
        const tn = token.tagName;

        if (tn === $$1.BODY || tn === $$1.HTML || tn === $$1.BR) {
            tokenAfterHead(p, token);
        } else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        } else {
            p._err(ERR.endTagWithoutMatchingOpenElement);
        }
    }

    function tokenAfterHead(p, token) {
        p._insertFakeElement($$1.BODY);
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }

    // The "in body" insertion mode
    //------------------------------------------------------------------
    function whitespaceCharacterInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertCharacters(token);
    }

    function characterInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertCharacters(token);
        p.framesetOk = false;
    }

    function htmlStartTagInBody(p, token) {
        if (p.openElements.tmplCount === 0) {
            p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);
        }
    }

    function bodyStartTagInBody(p, token) {
        const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();

        if (bodyElement && p.openElements.tmplCount === 0) {
            p.framesetOk = false;
            p.treeAdapter.adoptAttributes(bodyElement, token.attrs);
        }
    }

    function framesetStartTagInBody(p, token) {
        const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();

        if (p.framesetOk && bodyElement) {
            p.treeAdapter.detachNode(bodyElement);
            p.openElements.popAllUpToHtmlElement();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_FRAMESET_MODE;
        }
    }

    function addressStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
    }

    function numberedHeaderStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        const tn = p.openElements.currentTagName;

        if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
            p.openElements.pop();
        }

        p._insertElement(token, NS$1.HTML);
    }

    function preStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
        //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move
        //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)
        p.skipNextNewLine = true;
        p.framesetOk = false;
    }

    function formStartTagInBody(p, token) {
        const inTemplate = p.openElements.tmplCount > 0;

        if (!p.formElement || inTemplate) {
            if (p.openElements.hasInButtonScope($$1.P)) {
                p._closePElement();
            }

            p._insertElement(token, NS$1.HTML);

            if (!inTemplate) {
                p.formElement = p.openElements.current;
            }
        }
    }

    function listItemStartTagInBody(p, token) {
        p.framesetOk = false;

        const tn = token.tagName;

        for (let i = p.openElements.stackTop; i >= 0; i--) {
            const element = p.openElements.items[i];
            const elementTn = p.treeAdapter.getTagName(element);
            let closeTn = null;

            if (tn === $$1.LI && elementTn === $$1.LI) {
                closeTn = $$1.LI;
            } else if ((tn === $$1.DD || tn === $$1.DT) && (elementTn === $$1.DD || elementTn === $$1.DT)) {
                closeTn = elementTn;
            }

            if (closeTn) {
                p.openElements.generateImpliedEndTagsWithExclusion(closeTn);
                p.openElements.popUntilTagNamePopped(closeTn);
                break;
            }

            if (elementTn !== $$1.ADDRESS && elementTn !== $$1.DIV && elementTn !== $$1.P && p._isSpecialElement(element)) {
                break;
            }
        }

        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
    }

    function plaintextStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
        p.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
    }

    function buttonStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.BUTTON)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped($$1.BUTTON);
        }

        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;
    }

    function aStartTagInBody(p, token) {
        const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($$1.A);

        if (activeElementEntry) {
            callAdoptionAgency(p, token);
            p.openElements.remove(activeElementEntry.element);
            p.activeFormattingElements.removeEntry(activeElementEntry);
        }

        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }

    function bStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }

    function nobrStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();

        if (p.openElements.hasInScope($$1.NOBR)) {
            callAdoptionAgency(p, token);
            p._reconstructActiveFormattingElements();
        }

        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }

    function appletStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.insertMarker();
        p.framesetOk = false;
    }

    function tableStartTagInBody(p, token) {
        if (
            p.treeAdapter.getDocumentMode(p.document) !== HTML$1.DOCUMENT_MODE.QUIRKS &&
            p.openElements.hasInButtonScope($$1.P)
        ) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;
        p.insertionMode = IN_TABLE_MODE;
    }

    function areaStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._appendElement(token, NS$1.HTML);
        p.framesetOk = false;
        token.ackSelfClosing = true;
    }

    function inputStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._appendElement(token, NS$1.HTML);

        const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);

        if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {
            p.framesetOk = false;
        }

        token.ackSelfClosing = true;
    }

    function paramStartTagInBody(p, token) {
        p._appendElement(token, NS$1.HTML);
        token.ackSelfClosing = true;
    }

    function hrStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._appendElement(token, NS$1.HTML);
        p.framesetOk = false;
        token.ackSelfClosing = true;
    }

    function imageStartTagInBody(p, token) {
        token.tagName = $$1.IMG;
        areaStartTagInBody(p, token);
    }

    function textareaStartTagInBody(p, token) {
        p._insertElement(token, NS$1.HTML);
        //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move
        //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)
        p.skipNextNewLine = true;
        p.tokenizer.state = Tokenizer.MODE.RCDATA;
        p.originalInsertionMode = p.insertionMode;
        p.framesetOk = false;
        p.insertionMode = TEXT_MODE;
    }

    function xmpStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._reconstructActiveFormattingElements();
        p.framesetOk = false;
        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);
    }

    function iframeStartTagInBody(p, token) {
        p.framesetOk = false;
        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);
    }

    //NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse
    //<noembed> as a rawtext.
    function noembedStartTagInBody(p, token) {
        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);
    }

    function selectStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;

        if (
            p.insertionMode === IN_TABLE_MODE ||
            p.insertionMode === IN_CAPTION_MODE ||
            p.insertionMode === IN_TABLE_BODY_MODE ||
            p.insertionMode === IN_ROW_MODE ||
            p.insertionMode === IN_CELL_MODE
        ) {
            p.insertionMode = IN_SELECT_IN_TABLE_MODE;
        } else {
            p.insertionMode = IN_SELECT_MODE;
        }
    }

    function optgroupStartTagInBody(p, token) {
        if (p.openElements.currentTagName === $$1.OPTION) {
            p.openElements.pop();
        }

        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
    }

    function rbStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.RUBY)) {
            p.openElements.generateImpliedEndTags();
        }

        p._insertElement(token, NS$1.HTML);
    }

    function rtStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.RUBY)) {
            p.openElements.generateImpliedEndTagsWithExclusion($$1.RTC);
        }

        p._insertElement(token, NS$1.HTML);
    }

    function menuStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }

        p._insertElement(token, NS$1.HTML);
    }

    function mathStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();

        foreignContent.adjustTokenMathMLAttrs(token);
        foreignContent.adjustTokenXMLAttrs(token);

        if (token.selfClosing) {
            p._appendElement(token, NS$1.MATHML);
        } else {
            p._insertElement(token, NS$1.MATHML);
        }

        token.ackSelfClosing = true;
    }

    function svgStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();

        foreignContent.adjustTokenSVGAttrs(token);
        foreignContent.adjustTokenXMLAttrs(token);

        if (token.selfClosing) {
            p._appendElement(token, NS$1.SVG);
        } else {
            p._insertElement(token, NS$1.SVG);
        }

        token.ackSelfClosing = true;
    }

    function genericStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
    }

    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function startTagInBody(p, token) {
        const tn = token.tagName;

        switch (tn.length) {
            case 1:
                if (tn === $$1.I || tn === $$1.S || tn === $$1.B || tn === $$1.U) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.P) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.A) {
                    aStartTagInBody(p, token);
                } else {
                    genericStartTagInBody(p, token);
                }

                break;

            case 2:
                if (tn === $$1.DL || tn === $$1.OL || tn === $$1.UL) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
                    numberedHeaderStartTagInBody(p, token);
                } else if (tn === $$1.LI || tn === $$1.DD || tn === $$1.DT) {
                    listItemStartTagInBody(p, token);
                } else if (tn === $$1.EM || tn === $$1.TT) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.BR) {
                    areaStartTagInBody(p, token);
                } else if (tn === $$1.HR) {
                    hrStartTagInBody(p, token);
                } else if (tn === $$1.RB) {
                    rbStartTagInBody(p, token);
                } else if (tn === $$1.RT || tn === $$1.RP) {
                    rtStartTagInBody(p, token);
                } else if (tn !== $$1.TH && tn !== $$1.TD && tn !== $$1.TR) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 3:
                if (tn === $$1.DIV || tn === $$1.DIR || tn === $$1.NAV) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.PRE) {
                    preStartTagInBody(p, token);
                } else if (tn === $$1.BIG) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.IMG || tn === $$1.WBR) {
                    areaStartTagInBody(p, token);
                } else if (tn === $$1.XMP) {
                    xmpStartTagInBody(p, token);
                } else if (tn === $$1.SVG) {
                    svgStartTagInBody(p, token);
                } else if (tn === $$1.RTC) {
                    rbStartTagInBody(p, token);
                } else if (tn !== $$1.COL) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 4:
                if (tn === $$1.HTML) {
                    htmlStartTagInBody(p, token);
                } else if (tn === $$1.BASE || tn === $$1.LINK || tn === $$1.META) {
                    startTagInHead(p, token);
                } else if (tn === $$1.BODY) {
                    bodyStartTagInBody(p, token);
                } else if (tn === $$1.MAIN || tn === $$1.MENU) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.FORM) {
                    formStartTagInBody(p, token);
                } else if (tn === $$1.CODE || tn === $$1.FONT) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.NOBR) {
                    nobrStartTagInBody(p, token);
                } else if (tn === $$1.AREA) {
                    areaStartTagInBody(p, token);
                } else if (tn === $$1.MATH) {
                    mathStartTagInBody(p, token);
                } else if (tn === $$1.MENU) {
                    menuStartTagInBody(p, token);
                } else if (tn !== $$1.HEAD) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 5:
                if (tn === $$1.STYLE || tn === $$1.TITLE) {
                    startTagInHead(p, token);
                } else if (tn === $$1.ASIDE) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.SMALL) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.TABLE) {
                    tableStartTagInBody(p, token);
                } else if (tn === $$1.EMBED) {
                    areaStartTagInBody(p, token);
                } else if (tn === $$1.INPUT) {
                    inputStartTagInBody(p, token);
                } else if (tn === $$1.PARAM || tn === $$1.TRACK) {
                    paramStartTagInBody(p, token);
                } else if (tn === $$1.IMAGE) {
                    imageStartTagInBody(p, token);
                } else if (tn !== $$1.FRAME && tn !== $$1.TBODY && tn !== $$1.TFOOT && tn !== $$1.THEAD) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 6:
                if (tn === $$1.SCRIPT) {
                    startTagInHead(p, token);
                } else if (
                    tn === $$1.CENTER ||
                    tn === $$1.FIGURE ||
                    tn === $$1.FOOTER ||
                    tn === $$1.HEADER ||
                    tn === $$1.HGROUP ||
                    tn === $$1.DIALOG
                ) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.BUTTON) {
                    buttonStartTagInBody(p, token);
                } else if (tn === $$1.STRIKE || tn === $$1.STRONG) {
                    bStartTagInBody(p, token);
                } else if (tn === $$1.APPLET || tn === $$1.OBJECT) {
                    appletStartTagInBody(p, token);
                } else if (tn === $$1.KEYGEN) {
                    areaStartTagInBody(p, token);
                } else if (tn === $$1.SOURCE) {
                    paramStartTagInBody(p, token);
                } else if (tn === $$1.IFRAME) {
                    iframeStartTagInBody(p, token);
                } else if (tn === $$1.SELECT) {
                    selectStartTagInBody(p, token);
                } else if (tn === $$1.OPTION) {
                    optgroupStartTagInBody(p, token);
                } else {
                    genericStartTagInBody(p, token);
                }

                break;

            case 7:
                if (tn === $$1.BGSOUND) {
                    startTagInHead(p, token);
                } else if (
                    tn === $$1.DETAILS ||
                    tn === $$1.ADDRESS ||
                    tn === $$1.ARTICLE ||
                    tn === $$1.SECTION ||
                    tn === $$1.SUMMARY
                ) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.LISTING) {
                    preStartTagInBody(p, token);
                } else if (tn === $$1.MARQUEE) {
                    appletStartTagInBody(p, token);
                } else if (tn === $$1.NOEMBED) {
                    noembedStartTagInBody(p, token);
                } else if (tn !== $$1.CAPTION) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 8:
                if (tn === $$1.BASEFONT) {
                    startTagInHead(p, token);
                } else if (tn === $$1.FRAMESET) {
                    framesetStartTagInBody(p, token);
                } else if (tn === $$1.FIELDSET) {
                    addressStartTagInBody(p, token);
                } else if (tn === $$1.TEXTAREA) {
                    textareaStartTagInBody(p, token);
                } else if (tn === $$1.TEMPLATE) {
                    startTagInHead(p, token);
                } else if (tn === $$1.NOSCRIPT) {
                    if (p.options.scriptingEnabled) {
                        noembedStartTagInBody(p, token);
                    } else {
                        genericStartTagInBody(p, token);
                    }
                } else if (tn === $$1.OPTGROUP) {
                    optgroupStartTagInBody(p, token);
                } else if (tn !== $$1.COLGROUP) {
                    genericStartTagInBody(p, token);
                }

                break;

            case 9:
                if (tn === $$1.PLAINTEXT) {
                    plaintextStartTagInBody(p, token);
                } else {
                    genericStartTagInBody(p, token);
                }

                break;

            case 10:
                if (tn === $$1.BLOCKQUOTE || tn === $$1.FIGCAPTION) {
                    addressStartTagInBody(p, token);
                } else {
                    genericStartTagInBody(p, token);
                }

                break;

            default:
                genericStartTagInBody(p, token);
        }
    }

    function bodyEndTagInBody(p) {
        if (p.openElements.hasInScope($$1.BODY)) {
            p.insertionMode = AFTER_BODY_MODE;
        }
    }

    function htmlEndTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.BODY)) {
            p.insertionMode = AFTER_BODY_MODE;
            p._processToken(token);
        }
    }

    function addressEndTagInBody(p, token) {
        const tn = token.tagName;

        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped(tn);
        }
    }

    function formEndTagInBody(p) {
        const inTemplate = p.openElements.tmplCount > 0;
        const formElement = p.formElement;

        if (!inTemplate) {
            p.formElement = null;
        }

        if ((formElement || inTemplate) && p.openElements.hasInScope($$1.FORM)) {
            p.openElements.generateImpliedEndTags();

            if (inTemplate) {
                p.openElements.popUntilTagNamePopped($$1.FORM);
            } else {
                p.openElements.remove(formElement);
            }
        }
    }

    function pEndTagInBody(p) {
        if (!p.openElements.hasInButtonScope($$1.P)) {
            p._insertFakeElement($$1.P);
        }

        p._closePElement();
    }

    function liEndTagInBody(p) {
        if (p.openElements.hasInListItemScope($$1.LI)) {
            p.openElements.generateImpliedEndTagsWithExclusion($$1.LI);
            p.openElements.popUntilTagNamePopped($$1.LI);
        }
    }

    function ddEndTagInBody(p, token) {
        const tn = token.tagName;

        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTagsWithExclusion(tn);
            p.openElements.popUntilTagNamePopped(tn);
        }
    }

    function numberedHeaderEndTagInBody(p) {
        if (p.openElements.hasNumberedHeaderInScope()) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilNumberedHeaderPopped();
        }
    }

    function appletEndTagInBody(p, token) {
        const tn = token.tagName;

        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped(tn);
            p.activeFormattingElements.clearToLastMarker();
        }
    }

    function brEndTagInBody(p) {
        p._reconstructActiveFormattingElements();
        p._insertFakeElement($$1.BR);
        p.openElements.pop();
        p.framesetOk = false;
    }

    function genericEndTagInBody(p, token) {
        const tn = token.tagName;

        for (let i = p.openElements.stackTop; i > 0; i--) {
            const element = p.openElements.items[i];

            if (p.treeAdapter.getTagName(element) === tn) {
                p.openElements.generateImpliedEndTagsWithExclusion(tn);
                p.openElements.popUntilElementPopped(element);
                break;
            }

            if (p._isSpecialElement(element)) {
                break;
            }
        }
    }

    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function endTagInBody(p, token) {
        const tn = token.tagName;

        switch (tn.length) {
            case 1:
                if (tn === $$1.A || tn === $$1.B || tn === $$1.I || tn === $$1.S || tn === $$1.U) {
                    callAdoptionAgency(p, token);
                } else if (tn === $$1.P) {
                    pEndTagInBody(p);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 2:
                if (tn === $$1.DL || tn === $$1.UL || tn === $$1.OL) {
                    addressEndTagInBody(p, token);
                } else if (tn === $$1.LI) {
                    liEndTagInBody(p);
                } else if (tn === $$1.DD || tn === $$1.DT) {
                    ddEndTagInBody(p, token);
                } else if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
                    numberedHeaderEndTagInBody(p);
                } else if (tn === $$1.BR) {
                    brEndTagInBody(p);
                } else if (tn === $$1.EM || tn === $$1.TT) {
                    callAdoptionAgency(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 3:
                if (tn === $$1.BIG) {
                    callAdoptionAgency(p, token);
                } else if (tn === $$1.DIR || tn === $$1.DIV || tn === $$1.NAV || tn === $$1.PRE) {
                    addressEndTagInBody(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 4:
                if (tn === $$1.BODY) {
                    bodyEndTagInBody(p);
                } else if (tn === $$1.HTML) {
                    htmlEndTagInBody(p, token);
                } else if (tn === $$1.FORM) {
                    formEndTagInBody(p);
                } else if (tn === $$1.CODE || tn === $$1.FONT || tn === $$1.NOBR) {
                    callAdoptionAgency(p, token);
                } else if (tn === $$1.MAIN || tn === $$1.MENU) {
                    addressEndTagInBody(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 5:
                if (tn === $$1.ASIDE) {
                    addressEndTagInBody(p, token);
                } else if (tn === $$1.SMALL) {
                    callAdoptionAgency(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 6:
                if (
                    tn === $$1.CENTER ||
                    tn === $$1.FIGURE ||
                    tn === $$1.FOOTER ||
                    tn === $$1.HEADER ||
                    tn === $$1.HGROUP ||
                    tn === $$1.DIALOG
                ) {
                    addressEndTagInBody(p, token);
                } else if (tn === $$1.APPLET || tn === $$1.OBJECT) {
                    appletEndTagInBody(p, token);
                } else if (tn === $$1.STRIKE || tn === $$1.STRONG) {
                    callAdoptionAgency(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 7:
                if (
                    tn === $$1.ADDRESS ||
                    tn === $$1.ARTICLE ||
                    tn === $$1.DETAILS ||
                    tn === $$1.SECTION ||
                    tn === $$1.SUMMARY ||
                    tn === $$1.LISTING
                ) {
                    addressEndTagInBody(p, token);
                } else if (tn === $$1.MARQUEE) {
                    appletEndTagInBody(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 8:
                if (tn === $$1.FIELDSET) {
                    addressEndTagInBody(p, token);
                } else if (tn === $$1.TEMPLATE) {
                    endTagInHead(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            case 10:
                if (tn === $$1.BLOCKQUOTE || tn === $$1.FIGCAPTION) {
                    addressEndTagInBody(p, token);
                } else {
                    genericEndTagInBody(p, token);
                }

                break;

            default:
                genericEndTagInBody(p, token);
        }
    }

    function eofInBody(p, token) {
        if (p.tmplInsertionModeStackTop > -1) {
            eofInTemplate(p, token);
        } else {
            p.stopped = true;
        }
    }

    // The "text" insertion mode
    //------------------------------------------------------------------
    function endTagInText(p, token) {
        if (token.tagName === $$1.SCRIPT) {
            p.pendingScript = p.openElements.current;
        }

        p.openElements.pop();
        p.insertionMode = p.originalInsertionMode;
    }

    function eofInText(p, token) {
        p._err(ERR.eofInElementThatCanContainOnlyText);
        p.openElements.pop();
        p.insertionMode = p.originalInsertionMode;
        p._processToken(token);
    }

    // The "in table" insertion mode
    //------------------------------------------------------------------
    function characterInTable(p, token) {
        const curTn = p.openElements.currentTagName;

        if (curTn === $$1.TABLE || curTn === $$1.TBODY || curTn === $$1.TFOOT || curTn === $$1.THEAD || curTn === $$1.TR) {
            p.pendingCharacterTokens = [];
            p.hasNonWhitespacePendingCharacterToken = false;
            p.originalInsertionMode = p.insertionMode;
            p.insertionMode = IN_TABLE_TEXT_MODE;
            p._processToken(token);
        } else {
            tokenInTable(p, token);
        }
    }

    function captionStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p.activeFormattingElements.insertMarker();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_CAPTION_MODE;
    }

    function colgroupStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_COLUMN_GROUP_MODE;
    }

    function colStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertFakeElement($$1.COLGROUP);
        p.insertionMode = IN_COLUMN_GROUP_MODE;
        p._processToken(token);
    }

    function tbodyStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_TABLE_BODY_MODE;
    }

    function tdStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertFakeElement($$1.TBODY);
        p.insertionMode = IN_TABLE_BODY_MODE;
        p._processToken(token);
    }

    function tableStartTagInTable(p, token) {
        if (p.openElements.hasInTableScope($$1.TABLE)) {
            p.openElements.popUntilTagNamePopped($$1.TABLE);
            p._resetInsertionMode();
            p._processToken(token);
        }
    }

    function inputStartTagInTable(p, token) {
        const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);

        if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {
            p._appendElement(token, NS$1.HTML);
        } else {
            tokenInTable(p, token);
        }

        token.ackSelfClosing = true;
    }

    function formStartTagInTable(p, token) {
        if (!p.formElement && p.openElements.tmplCount === 0) {
            p._insertElement(token, NS$1.HTML);
            p.formElement = p.openElements.current;
            p.openElements.pop();
        }
    }

    function startTagInTable(p, token) {
        const tn = token.tagName;

        switch (tn.length) {
            case 2:
                if (tn === $$1.TD || tn === $$1.TH || tn === $$1.TR) {
                    tdStartTagInTable(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 3:
                if (tn === $$1.COL) {
                    colStartTagInTable(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 4:
                if (tn === $$1.FORM) {
                    formStartTagInTable(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 5:
                if (tn === $$1.TABLE) {
                    tableStartTagInTable(p, token);
                } else if (tn === $$1.STYLE) {
                    startTagInHead(p, token);
                } else if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
                    tbodyStartTagInTable(p, token);
                } else if (tn === $$1.INPUT) {
                    inputStartTagInTable(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 6:
                if (tn === $$1.SCRIPT) {
                    startTagInHead(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 7:
                if (tn === $$1.CAPTION) {
                    captionStartTagInTable(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            case 8:
                if (tn === $$1.COLGROUP) {
                    colgroupStartTagInTable(p, token);
                } else if (tn === $$1.TEMPLATE) {
                    startTagInHead(p, token);
                } else {
                    tokenInTable(p, token);
                }

                break;

            default:
                tokenInTable(p, token);
        }
    }

    function endTagInTable(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.TABLE)) {
                p.openElements.popUntilTagNamePopped($$1.TABLE);
                p._resetInsertionMode();
            }
        } else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        } else if (
            tn !== $$1.BODY &&
            tn !== $$1.CAPTION &&
            tn !== $$1.COL &&
            tn !== $$1.COLGROUP &&
            tn !== $$1.HTML &&
            tn !== $$1.TBODY &&
            tn !== $$1.TD &&
            tn !== $$1.TFOOT &&
            tn !== $$1.TH &&
            tn !== $$1.THEAD &&
            tn !== $$1.TR
        ) {
            tokenInTable(p, token);
        }
    }

    function tokenInTable(p, token) {
        const savedFosterParentingState = p.fosterParentingEnabled;

        p.fosterParentingEnabled = true;
        p._processTokenInBodyMode(token);
        p.fosterParentingEnabled = savedFosterParentingState;
    }

    // The "in table text" insertion mode
    //------------------------------------------------------------------
    function whitespaceCharacterInTableText(p, token) {
        p.pendingCharacterTokens.push(token);
    }

    function characterInTableText(p, token) {
        p.pendingCharacterTokens.push(token);
        p.hasNonWhitespacePendingCharacterToken = true;
    }

    function tokenInTableText(p, token) {
        let i = 0;

        if (p.hasNonWhitespacePendingCharacterToken) {
            for (; i < p.pendingCharacterTokens.length; i++) {
                tokenInTable(p, p.pendingCharacterTokens[i]);
            }
        } else {
            for (; i < p.pendingCharacterTokens.length; i++) {
                p._insertCharacters(p.pendingCharacterTokens[i]);
            }
        }

        p.insertionMode = p.originalInsertionMode;
        p._processToken(token);
    }

    // The "in caption" insertion mode
    //------------------------------------------------------------------
    function startTagInCaption(p, token) {
        const tn = token.tagName;

        if (
            tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TD ||
            tn === $$1.TFOOT ||
            tn === $$1.TH ||
            tn === $$1.THEAD ||
            tn === $$1.TR
        ) {
            if (p.openElements.hasInTableScope($$1.CAPTION)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped($$1.CAPTION);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        } else {
            startTagInBody(p, token);
        }
    }

    function endTagInCaption(p, token) {
        const tn = token.tagName;

        if (tn === $$1.CAPTION || tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.CAPTION)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped($$1.CAPTION);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_TABLE_MODE;

                if (tn === $$1.TABLE) {
                    p._processToken(token);
                }
            }
        } else if (
            tn !== $$1.BODY &&
            tn !== $$1.COL &&
            tn !== $$1.COLGROUP &&
            tn !== $$1.HTML &&
            tn !== $$1.TBODY &&
            tn !== $$1.TD &&
            tn !== $$1.TFOOT &&
            tn !== $$1.TH &&
            tn !== $$1.THEAD &&
            tn !== $$1.TR
        ) {
            endTagInBody(p, token);
        }
    }

    // The "in column group" insertion mode
    //------------------------------------------------------------------
    function startTagInColumnGroup(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.COL) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        } else if (tn === $$1.TEMPLATE) {
            startTagInHead(p, token);
        } else {
            tokenInColumnGroup(p, token);
        }
    }

    function endTagInColumnGroup(p, token) {
        const tn = token.tagName;

        if (tn === $$1.COLGROUP) {
            if (p.openElements.currentTagName === $$1.COLGROUP) {
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
            }
        } else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        } else if (tn !== $$1.COL) {
            tokenInColumnGroup(p, token);
        }
    }

    function tokenInColumnGroup(p, token) {
        if (p.openElements.currentTagName === $$1.COLGROUP) {
            p.openElements.pop();
            p.insertionMode = IN_TABLE_MODE;
            p._processToken(token);
        }
    }

    // The "in table body" insertion mode
    //------------------------------------------------------------------
    function startTagInTableBody(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TR) {
            p.openElements.clearBackToTableBodyContext();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_ROW_MODE;
        } else if (tn === $$1.TH || tn === $$1.TD) {
            p.openElements.clearBackToTableBodyContext();
            p._insertFakeElement($$1.TR);
            p.insertionMode = IN_ROW_MODE;
            p._processToken(token);
        } else if (
            tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD
        ) {
            if (p.openElements.hasTableBodyContextInTableScope()) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        } else {
            startTagInTable(p, token);
        }
    }

    function endTagInTableBody(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
            }
        } else if (tn === $$1.TABLE) {
            if (p.openElements.hasTableBodyContextInTableScope()) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        } else if (
            (tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP) ||
            (tn !== $$1.HTML && tn !== $$1.TD && tn !== $$1.TH && tn !== $$1.TR)
        ) {
            endTagInTable(p, token);
        }
    }

    // The "in row" insertion mode
    //------------------------------------------------------------------
    function startTagInRow(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TH || tn === $$1.TD) {
            p.openElements.clearBackToTableRowContext();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_CELL_MODE;
            p.activeFormattingElements.insertMarker();
        } else if (
            tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR
        ) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        } else {
            startTagInTable(p, token);
        }
    }

    function endTagInRow(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TR) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
            }
        } else if (tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        } else if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
            if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        } else if (
            (tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP) ||
            (tn !== $$1.HTML && tn !== $$1.TD && tn !== $$1.TH)
        ) {
            endTagInTable(p, token);
        }
    }

    // The "in cell" insertion mode
    //------------------------------------------------------------------
    function startTagInCell(p, token) {
        const tn = token.tagName;

        if (
            tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TD ||
            tn === $$1.TFOOT ||
            tn === $$1.TH ||
            tn === $$1.THEAD ||
            tn === $$1.TR
        ) {
            if (p.openElements.hasInTableScope($$1.TD) || p.openElements.hasInTableScope($$1.TH)) {
                p._closeTableCell();
                p._processToken(token);
            }
        } else {
            startTagInBody(p, token);
        }
    }

    function endTagInCell(p, token) {
        const tn = token.tagName;

        if (tn === $$1.TD || tn === $$1.TH) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped(tn);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_ROW_MODE;
            }
        } else if (tn === $$1.TABLE || tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD || tn === $$1.TR) {
            if (p.openElements.hasInTableScope(tn)) {
                p._closeTableCell();
                p._processToken(token);
            }
        } else if (tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP && tn !== $$1.HTML) {
            endTagInBody(p, token);
        }
    }

    // The "in select" insertion mode
    //------------------------------------------------------------------
    function startTagInSelect(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.OPTION) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }

            p._insertElement(token, NS$1.HTML);
        } else if (tn === $$1.OPTGROUP) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }

            if (p.openElements.currentTagName === $$1.OPTGROUP) {
                p.openElements.pop();
            }

            p._insertElement(token, NS$1.HTML);
        } else if (tn === $$1.INPUT || tn === $$1.KEYGEN || tn === $$1.TEXTAREA || tn === $$1.SELECT) {
            if (p.openElements.hasInSelectScope($$1.SELECT)) {
                p.openElements.popUntilTagNamePopped($$1.SELECT);
                p._resetInsertionMode();

                if (tn !== $$1.SELECT) {
                    p._processToken(token);
                }
            }
        } else if (tn === $$1.SCRIPT || tn === $$1.TEMPLATE) {
            startTagInHead(p, token);
        }
    }

    function endTagInSelect(p, token) {
        const tn = token.tagName;

        if (tn === $$1.OPTGROUP) {
            const prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];
            const prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);

            if (p.openElements.currentTagName === $$1.OPTION && prevOpenElementTn === $$1.OPTGROUP) {
                p.openElements.pop();
            }

            if (p.openElements.currentTagName === $$1.OPTGROUP) {
                p.openElements.pop();
            }
        } else if (tn === $$1.OPTION) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }
        } else if (tn === $$1.SELECT && p.openElements.hasInSelectScope($$1.SELECT)) {
            p.openElements.popUntilTagNamePopped($$1.SELECT);
            p._resetInsertionMode();
        } else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
    }

    //12.2.5.4.17 The "in select in table" insertion mode
    //------------------------------------------------------------------
    function startTagInSelectInTable(p, token) {
        const tn = token.tagName;

        if (
            tn === $$1.CAPTION ||
            tn === $$1.TABLE ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR ||
            tn === $$1.TD ||
            tn === $$1.TH
        ) {
            p.openElements.popUntilTagNamePopped($$1.SELECT);
            p._resetInsertionMode();
            p._processToken(token);
        } else {
            startTagInSelect(p, token);
        }
    }

    function endTagInSelectInTable(p, token) {
        const tn = token.tagName;

        if (
            tn === $$1.CAPTION ||
            tn === $$1.TABLE ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR ||
            tn === $$1.TD ||
            tn === $$1.TH
        ) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.popUntilTagNamePopped($$1.SELECT);
                p._resetInsertionMode();
                p._processToken(token);
            }
        } else {
            endTagInSelect(p, token);
        }
    }

    // The "in template" insertion mode
    //------------------------------------------------------------------
    function startTagInTemplate(p, token) {
        const tn = token.tagName;

        if (
            tn === $$1.BASE ||
            tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.SCRIPT ||
            tn === $$1.STYLE ||
            tn === $$1.TEMPLATE ||
            tn === $$1.TITLE
        ) {
            startTagInHead(p, token);
        } else {
            const newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;

            p._popTmplInsertionMode();
            p._pushTmplInsertionMode(newInsertionMode);
            p.insertionMode = newInsertionMode;
            p._processToken(token);
        }
    }

    function endTagInTemplate(p, token) {
        if (token.tagName === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
    }

    function eofInTemplate(p, token) {
        if (p.openElements.tmplCount > 0) {
            p.openElements.popUntilTagNamePopped($$1.TEMPLATE);
            p.activeFormattingElements.clearToLastMarker();
            p._popTmplInsertionMode();
            p._resetInsertionMode();
            p._processToken(token);
        } else {
            p.stopped = true;
        }
    }

    // The "after body" insertion mode
    //------------------------------------------------------------------
    function startTagAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            startTagInBody(p, token);
        } else {
            tokenAfterBody(p, token);
        }
    }

    function endTagAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            if (!p.fragmentContext) {
                p.insertionMode = AFTER_AFTER_BODY_MODE;
            }
        } else {
            tokenAfterBody(p, token);
        }
    }

    function tokenAfterBody(p, token) {
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }

    // The "in frameset" insertion mode
    //------------------------------------------------------------------
    function startTagInFrameset(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.FRAMESET) {
            p._insertElement(token, NS$1.HTML);
        } else if (tn === $$1.FRAME) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        } else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }

    function endTagInFrameset(p, token) {
        if (token.tagName === $$1.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {
            p.openElements.pop();

            if (!p.fragmentContext && p.openElements.currentTagName !== $$1.FRAMESET) {
                p.insertionMode = AFTER_FRAMESET_MODE;
            }
        }
    }

    // The "after frameset" insertion mode
    //------------------------------------------------------------------
    function startTagAfterFrameset(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }

    function endTagAfterFrameset(p, token) {
        if (token.tagName === $$1.HTML) {
            p.insertionMode = AFTER_AFTER_FRAMESET_MODE;
        }
    }

    // The "after after body" insertion mode
    //------------------------------------------------------------------
    function startTagAfterAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            startTagInBody(p, token);
        } else {
            tokenAfterAfterBody(p, token);
        }
    }

    function tokenAfterAfterBody(p, token) {
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }

    // The "after after frameset" insertion mode
    //------------------------------------------------------------------
    function startTagAfterAfterFrameset(p, token) {
        const tn = token.tagName;

        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        } else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }

    // The rules for parsing tokens in foreign content
    //------------------------------------------------------------------
    function nullCharacterInForeignContent(p, token) {
        token.chars = unicode.REPLACEMENT_CHARACTER;
        p._insertCharacters(token);
    }

    function characterInForeignContent(p, token) {
        p._insertCharacters(token);
        p.framesetOk = false;
    }

    function startTagInForeignContent(p, token) {
        if (foreignContent.causesExit(token) && !p.fragmentContext) {
            while (
                p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS$1.HTML &&
                !p._isIntegrationPoint(p.openElements.current)
            ) {
                p.openElements.pop();
            }

            p._processToken(token);
        } else {
            const current = p._getAdjustedCurrentElement();
            const currentNs = p.treeAdapter.getNamespaceURI(current);

            if (currentNs === NS$1.MATHML) {
                foreignContent.adjustTokenMathMLAttrs(token);
            } else if (currentNs === NS$1.SVG) {
                foreignContent.adjustTokenSVGTagName(token);
                foreignContent.adjustTokenSVGAttrs(token);
            }

            foreignContent.adjustTokenXMLAttrs(token);

            if (token.selfClosing) {
                p._appendElement(token, currentNs);
            } else {
                p._insertElement(token, currentNs);
            }

            token.ackSelfClosing = true;
        }
    }

    function endTagInForeignContent(p, token) {
        for (let i = p.openElements.stackTop; i > 0; i--) {
            const element = p.openElements.items[i];

            if (p.treeAdapter.getNamespaceURI(element) === NS$1.HTML) {
                p._processToken(token);
                break;
            }

            if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {
                p.openElements.popUntilElementPopped(element);
                break;
            }
        }
    }

    const defaultTreeAdapter = _default;
    const mergeOptions = mergeOptions$2;
    const doctype = doctype$2;
    const HTML = html;

    //Aliases
    const $ = HTML.TAG_NAMES;
    const NS = HTML.NAMESPACES;

    //Default serializer options
    const DEFAULT_OPTIONS = {
        treeAdapter: defaultTreeAdapter
    };

    //Escaping regexes
    const AMP_REGEX = /&/g;
    const NBSP_REGEX = /\u00a0/g;
    const DOUBLE_QUOTE_REGEX = /"/g;
    const LT_REGEX = /</g;
    const GT_REGEX = />/g;

    //Serializer
    class Serializer$1 {
        constructor(node, options) {
            this.options = mergeOptions(DEFAULT_OPTIONS, options);
            this.treeAdapter = this.options.treeAdapter;

            this.html = '';
            this.startNode = node;
        }

        //API
        serialize() {
            this._serializeChildNodes(this.startNode);

            return this.html;
        }

        //Internals
        _serializeChildNodes(parentNode) {
            const childNodes = this.treeAdapter.getChildNodes(parentNode);

            if (childNodes) {
                for (let i = 0, cnLength = childNodes.length; i < cnLength; i++) {
                    const currentNode = childNodes[i];

                    if (this.treeAdapter.isElementNode(currentNode)) {
                        this._serializeElement(currentNode);
                    } else if (this.treeAdapter.isTextNode(currentNode)) {
                        this._serializeTextNode(currentNode);
                    } else if (this.treeAdapter.isCommentNode(currentNode)) {
                        this._serializeCommentNode(currentNode);
                    } else if (this.treeAdapter.isDocumentTypeNode(currentNode)) {
                        this._serializeDocumentTypeNode(currentNode);
                    }
                }
            }
        }

        _serializeElement(node) {
            const tn = this.treeAdapter.getTagName(node);
            const ns = this.treeAdapter.getNamespaceURI(node);

            this.html += '<' + tn;
            this._serializeAttributes(node);
            this.html += '>';

            if (
                tn !== $.AREA &&
                tn !== $.BASE &&
                tn !== $.BASEFONT &&
                tn !== $.BGSOUND &&
                tn !== $.BR &&
                tn !== $.COL &&
                tn !== $.EMBED &&
                tn !== $.FRAME &&
                tn !== $.HR &&
                tn !== $.IMG &&
                tn !== $.INPUT &&
                tn !== $.KEYGEN &&
                tn !== $.LINK &&
                tn !== $.META &&
                tn !== $.PARAM &&
                tn !== $.SOURCE &&
                tn !== $.TRACK &&
                tn !== $.WBR
            ) {
                const childNodesHolder =
                    tn === $.TEMPLATE && ns === NS.HTML ? this.treeAdapter.getTemplateContent(node) : node;

                this._serializeChildNodes(childNodesHolder);
                this.html += '</' + tn + '>';
            }
        }

        _serializeAttributes(node) {
            const attrs = this.treeAdapter.getAttrList(node);

            for (let i = 0, attrsLength = attrs.length; i < attrsLength; i++) {
                const attr = attrs[i];
                const value = Serializer$1.escapeString(attr.value, true);

                this.html += ' ';

                if (!attr.namespace) {
                    this.html += attr.name;
                } else if (attr.namespace === NS.XML) {
                    this.html += 'xml:' + attr.name;
                } else if (attr.namespace === NS.XMLNS) {
                    if (attr.name !== 'xmlns') {
                        this.html += 'xmlns:';
                    }

                    this.html += attr.name;
                } else if (attr.namespace === NS.XLINK) {
                    this.html += 'xlink:' + attr.name;
                } else {
                    this.html += attr.prefix + ':' + attr.name;
                }

                this.html += '="' + value + '"';
            }
        }

        _serializeTextNode(node) {
            const content = this.treeAdapter.getTextNodeContent(node);
            const parent = this.treeAdapter.getParentNode(node);
            let parentTn = void 0;

            if (parent && this.treeAdapter.isElementNode(parent)) {
                parentTn = this.treeAdapter.getTagName(parent);
            }

            if (
                parentTn === $.STYLE ||
                parentTn === $.SCRIPT ||
                parentTn === $.XMP ||
                parentTn === $.IFRAME ||
                parentTn === $.NOEMBED ||
                parentTn === $.NOFRAMES ||
                parentTn === $.PLAINTEXT ||
                parentTn === $.NOSCRIPT
            ) {
                this.html += content;
            } else {
                this.html += Serializer$1.escapeString(content, false);
            }
        }

        _serializeCommentNode(node) {
            this.html += '<!--' + this.treeAdapter.getCommentNodeContent(node) + '-->';
        }

        _serializeDocumentTypeNode(node) {
            const name = this.treeAdapter.getDocumentTypeNodeName(node);

            this.html += '<' + doctype.serializeContent(name, null, null) + '>';
        }
    }

    // NOTE: used in tests and by rewriting stream
    Serializer$1.escapeString = function(str, attrMode) {
        str = str.replace(AMP_REGEX, '&amp;').replace(NBSP_REGEX, '&nbsp;');

        if (attrMode) {
            str = str.replace(DOUBLE_QUOTE_REGEX, '&quot;');
        } else {
            str = str.replace(LT_REGEX, '&lt;').replace(GT_REGEX, '&gt;');
        }

        return str;
    };

    var serializer = Serializer$1;

    const Parser = parser;
    const Serializer = serializer;

    // Shorthands
    lib.parse = function parse(html, options) {
        const parser = new Parser(options);

        return parser.parse(html);
    };

    lib.parseFragment = function parseFragment(fragmentContext, html, options) {
        if (typeof fragmentContext === 'string') {
            options = html;
            html = fragmentContext;
            fragmentContext = null;
        }

        const parser = new Parser(options);

        return parser.parseFragment(html, fragmentContext);
    };

    lib.serialize = function(node, options) {
        const serializer = new Serializer(node, options);

        return serializer.serialize();
    };

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const parseFragment = lib.parseFragment;
    function isElement(node) {
        return node.tagName !== undefined;
    }
    function isCommentNode(node) {
        return node.nodeName === '#comment';
    }
    const defaultChildNodes = (node) => node.childNodes;
    const traverse = (node, visitor, parent) => {
        const getChildNodes = visitor.getChildNodes ?? defaultChildNodes;
        let visitChildren = true;
        if (typeof visitor.pre === 'function') {
            visitChildren = visitor.pre(node, parent);
        }
        if (visitChildren !== false) {
            const childNodes = getChildNodes(node);
            if (childNodes !== undefined) {
                for (const child of childNodes) {
                    traverse(child, visitor, node);
                }
            }
        }
        if (typeof visitor.post === 'function') {
            visitor.post(node, parent);
        }
    };

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class i extends i$5{render(){}update(e){const r=e.parentNode;if("function"==typeof r.renderLight)return r.renderLight()}}i.o=!0;const n$2=e=>{var r;return null===(r=v(e))||void 0===r?void 0:r.o};

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    /**
     * Elements and their special properties that should be reflected to attributes
     * when set.
     *
     * Each item in the array takes the following format:
     *
     * Item 0:
     *    Array of [property name, reflected attribute name]
     *    or
     *    property name (if reflected attribute name is identical).
     * Item 1:
     *    Array of tag names which reflect the property
     *
     * List of attributes and which elements they apply is sourced from
     * https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes
     *
     * Commented elements were emperically found to not reflect from an associated
     * property.
     */
    // prettier-ignore
    const reflectedAttributesSource = [
        ['accept', [/*'form',*/ 'input']],
        [['accept-charset', 'acceptCharset'], ['form']],
        [['accesskey', 'accessKey'], ['*']],
        ['action', ['form']],
        ['align', [/*'applet',*/ 'caption', 'col', 'colgroup', 'hr', 'iframe', 'img', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr']],
        ['allow', ['iframe']],
        ['alt', [/*'applet',*/ 'area', 'img', 'input']],
        ['async', ['script']],
        ['autocapitalize', ['*']],
        ['autocomplete', ['form', 'input', 'select', 'textarea']],
        ['autofocus', ['button', 'input', 'keygen', 'select', 'textarea']],
        ['autoplay', ['audio', 'video']],
        ['background', ['body', /*'table', 'td', 'th'*/]],
        [['bgcolor', 'bgColor'], ['body', /*'col', 'colgroup',*/ 'marquee', 'table', /*'tbody', 'tfoot',*/ 'td', 'th', 'tr']],
        ['border', ['img', 'object', 'table']],
        ['buffered', [ /*'audio', 'video'*/]],
        ['capture', [ /*'input'*/]],
        ['challenge', [ /*'keygen'*/]],
        ['charset', [/*'meta',*/ 'script']],
        ['checked', [/*'command',*/ 'input']],
        ['cite', ['blockquote', 'del', 'ins', 'q']],
        [['class', 'className'], ['*']],
        ['code', [ /*'applet'*/]],
        ['codebase', [ /*'applet'*/]],
        ['color', [/*'basefont',*/ 'font', 'hr']],
        ['cols', ['textarea']],
        [['colspan', 'colSpan'], ['td', 'th']],
        ['content', ['meta']],
        [['contenteditable', 'contentEditable'], ['*']],
        [['contextmenu'], [ /*'*'*/]],
        ['controls', ['audio', 'video']],
        ['coords', ['area']],
        [['crossorigin', 'crossOrigin'], ['audio', 'img', 'link', 'script', 'video']],
        ['csp', ['iframe']],
        ['data', ['object']],
        [['datetime', 'dateTime'], ['del', 'ins', 'time']],
        ['decoding', ['img']],
        ['default', ['track']],
        ['defer', ['script']],
        ['dir', ['*']],
        [['dirname', 'dirName'], ['input', 'textarea']],
        ['disabled', [/*'command',*/ 'button', 'fieldset', 'input', /*'keygen',*/ 'optgroup', 'option', 'select', 'textarea']],
        ['download', ['a', 'area']],
        ['draggable', ['*']],
        ['enctype', ['form']],
        [['enterkeyhint', 'enterKeyHint'], ['textarea', 'contenteditable']],
        ['for', [ /*'label', 'output'*/]],
        ['form', [ /*'button', 'fieldset', 'input', 'keygen', 'label', 'meter', 'object', 'output', 'progress', 'select', 'textarea'*/]],
        [['formaction', 'formAction'], ['input', 'button']],
        [['formenctype', 'formEnctype'], ['button', 'input']],
        [['formmethod', 'formMethod'], ['button', 'input']],
        [['formnovalidate', 'formNoValidate'], ['button', 'input']],
        [['formtarget', 'formTarget'], ['button', 'input']],
        ['headers', ['td', 'th']],
        ['height', ['canvas', 'embed', 'iframe', 'img', 'input', 'object', 'video']],
        ['hidden', ['*']],
        ['high', ['meter']],
        ['href', ['a', 'area', 'base', 'link']],
        ['hreflang', ['a', /*'area',*/ 'link']],
        [['http-equiv', 'httpEquiv'], ['meta']],
        ['icon', [ /*'command'*/]],
        ['id', ['*']],
        ['importance', [ /*'iframe', 'img', 'link', 'script'*/]],
        ['integrity', ['link', 'script']],
        ['intrinsicsize', [ /*'img'*/]],
        [['inputmode', 'inputMode'], ['textarea', 'contenteditable']],
        [['ismap', 'isMap'], ['img']],
        ['itemprop', [ /*'*'*/]],
        ['keytype', [ /*'keygen'*/]],
        ['kind', ['track']],
        ['label', ['optgroup', 'option', 'track']],
        ['lang', ['*']],
        ['language', [ /*'script'*/]],
        ['loading', ['img', 'iframe']],
        ['list', [ /*'input'*/]],
        ['loop', ['audio', /*'bgsound',*/ 'marquee', 'video']],
        ['low', ['meter']],
        ['manifest', [ /*'html'*/]],
        ['max', ['input', 'meter', 'progress']],
        [['maxlength', 'maxLength'], ['input', 'textarea']],
        [['minlength', 'minLength'], ['input', 'textarea']],
        ['media', [/*'a', 'area',*/ 'link', 'source', 'style']],
        ['method', ['form']],
        ['min', ['input', 'meter']],
        ['multiple', ['input', 'select']],
        ['muted', ['audio', 'video']],
        ['name', ['button', 'form', 'fieldset', 'iframe', 'input', /*'keygen',*/ 'object', 'output', 'select', 'textarea', 'map', 'meta', 'param']],
        [['novalidate', 'noValidate'], ['form']],
        ['open', ['details']],
        ['optimum', ['meter']],
        ['pattern', ['input']],
        ['ping', ['a', 'area']],
        ['placeholder', ['input', 'textarea']],
        ['poster', ['video']],
        ['preload', ['audio', 'video']],
        ['radiogroup', [ /*'command'*/]],
        [['readonly', 'readOnly'], ['input', 'textarea']],
        [['referrerpolicy', 'referrerPolicy'], ['a', 'area', 'iframe', 'img', 'link', 'script']],
        ['rel', ['a', 'area', 'link']],
        ['required', ['input', 'select', 'textarea']],
        ['reversed', ['ol']],
        ['rows', ['textarea']],
        [['rowspan', 'rowSpan'], ['td', 'th']],
        ['sandbox', ['iframe']],
        ['scope', ['th']],
        ['scoped', [ /*'style'*/]],
        ['selected', ['option']],
        ['shape', ['a', 'area']],
        ['size', ['input', 'select']],
        ['sizes', ['link', 'img', 'source']],
        ['slot', ['*']],
        ['span', ['col', 'colgroup']],
        ['spellcheck', ['*']],
        ['src', ['audio', 'embed', 'iframe', 'img', 'input', 'script', 'source', 'track', 'video']],
        ['srcdoc', ['iframe']],
        ['srclang', ['track']],
        ['srcset', ['img', 'source']],
        ['start', ['ol']],
        ['step', ['input']],
        ['style', ['*']],
        ['summary', ['table']],
        [['tabindex', 'tabIndex'], ['*']],
        ['target', ['a', 'area', 'base', 'form']],
        ['title', ['*']],
        ['translate', [ /*'*'*/]],
        ['type', ['button', 'input', /*'command',*/ 'embed', 'object', 'script', 'source', 'style', /*'menu'*/]],
        [['usemap', 'useMap'], ['img', 'input', 'object']],
        ['value', ['button', 'data', 'input', 'li', 'meter', 'option', 'progress', 'param']],
        ['width', ['canvas', 'embed', 'iframe', 'img', 'input', 'object', 'video']],
        ['wrap', ['textarea']]
    ];
    /**
     * Construct reflectedAttributes as nested maps for efficient lookup.
     */
    const reflectedAttributes = new Map();
    const addPropertyForElement = (elementName, attributeName, propertyName) => {
        if (reflectedAttributes.has(elementName)) {
            reflectedAttributes.get(elementName).set(propertyName, attributeName);
        }
        else {
            reflectedAttributes.set(elementName, new Map([[propertyName, attributeName]]));
        }
    };
    for (const [attr, elements] of reflectedAttributesSource) {
        for (let elementName of elements) {
            elementName = elementName.toUpperCase();
            if (attr instanceof Array) {
                // Property has a different attribute name.
                addPropertyForElement(elementName, attr[0], attr[1]);
            }
            else {
                addPropertyForElement(elementName, attr, attr);
            }
        }
    }
    /**
     * Return the attribute name that reflects from the given property
     * name on the given element.
     *
     * Example: for all elements, the property 'className' reflects to
     * the 'class' attribute, so:
     * reflectedAttributeName('div', 'className') returns 'class'
     */
    const reflectedAttributeName = (elementName, propertyName) => {
        const attributes = reflectedAttributes.get(elementName);
        if (attributes !== undefined && attributes.has(propertyName)) {
            return attributes.get(propertyName);
        }
        else {
            return reflectedAttributes.get('*').get(propertyName);
        }
    };

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const e$1={attributeToProperty:h$3._$AK,changedProperties:h$3._$AL};

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const { attributeToProperty, changedProperties } = e$1;
    /**
     * ElementRenderer implementation for LitElements
     */
    class LitElementRenderer extends ElementRenderer {
        constructor(tagName) {
            super(tagName);
            this.element = new (customElements.get(this.tagName))();
        }
        static matchesClass(ctor) {
            // This property needs to remain unminified.
            return ctor['_$litElement$'];
        }
        connectedCallback() {
            // Call LitElement's `willUpdate` method.
            // Note, this method is required not to use DOM APIs.
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            this.element?.willUpdate(changedProperties(this.element));
            // Reflect properties to attributes by calling into ReactiveElement's
            // update, which _only_ reflects attributes
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            c$5.prototype.update.call(this.element);
        }
        attributeChangedCallback(name, _old, value) {
            attributeToProperty(this.element, name, value);
        }
        *renderShadow(renderInfo) {
            // Render styles.
            const styles = this.element.constructor
                .elementStyles;
            if (styles !== undefined && styles.length > 0) {
                yield '<style>';
                for (const style of styles) {
                    yield style.cssText;
                }
                yield '</style>';
            }
            // Render template
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            yield* render$1(this.element.render(), renderInfo);
        }
        *renderLight(renderInfo) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            const value = this.element?.renderLight();
            if (value) {
                yield* render$1(value, renderInfo);
            }
            else {
                yield '';
            }
        }
    }

    /// <reference lib="dom" />
    const { getTemplateHtml, marker, markerMatch, boundAttributeSuffix, overrideDirectiveResolve, setDirectiveClass, getAttributePartCommittedValue, resolveDirective, AttributePart, PropertyPart, BooleanAttributePart, EventPart, connectedDisconnectable, } = r;
    const patchedDirectiveCache = new Map();
    /**
     * Looks for values of type `DirectiveResult` and replaces its Directive class
     * with a subclass that calls `render` rather than `update`
     */
    const patchIfDirective = (value) => {
        // This property needs to remain unminified.
        const directiveCtor = v(value);
        if (directiveCtor !== undefined) {
            let patchedCtor = patchedDirectiveCache.get(directiveCtor);
            if (patchedCtor === undefined) {
                patchedCtor = overrideDirectiveResolve(directiveCtor, (directive, values) => {
                    // Since the return value may also be a directive result in the case of
                    // nested directives, we may need to patch that as well
                    return patchIfDirective(directive.render(...values));
                });
                patchedDirectiveCache.set(directiveCtor, patchedCtor);
            }
            // This property needs to remain unminified.
            setDirectiveClass(value, patchedCtor);
        }
        return value;
    };
    /**
     * Patches `DirectiveResult` `Directive` classes for AttributePart values, which
     * may be an array
     */
    const patchAnyDirectives = (part, value, valueIndex) => {
        if (part.strings !== undefined) {
            for (let i = 0; i < part.strings.length - 1; i++) {
                patchIfDirective(value[valueIndex + i]);
            }
        }
        else {
            patchIfDirective(value);
        }
    };
    const templateCache = new Map();
    /**
     * For a given TemplateResult, generates and/or returns a cached list of opcodes
     * for the associated Template.  Opcodes are designed to allow emitting
     * contiguous static text from the template as much as possible, with specific
     * non-`text` opcodes interleaved to perform dynamic work, such as emitting
     * values for ChildParts or AttributeParts, and handling custom elements.
     *
     * For the following example template, an opcode list may look like this:
     *
     * ```js
     * html`<div><span>Hello</span><span class=${'bold'}>${template()}</span></div>`
     * ```
     *
     * - `text`
     *   - Emit run of static text: `<div><span>Hello</span><span`
     * - `attribute-part`
     *   - Emit an AttributePart's value, e.g. ` class="bold"`
     * - `text`
     *   - Emit run of static text: `>`
     * - `child-part`
     *   - Emit the ChildPart's value, in this case a TemplateResult, thus we recurse
     *     into that template's opcodes
     * - `text`
     *   - Emit run of static text: `/span></div>`
     *
     * When a custom-element is encountered, the flow looks like this:
     *
     * ```js
     * html`<x-foo staticAttr dynamicAttr=${value}><div>child</div>...</x-foo>`
     * ```
     *
     * - `text`
     *   - Emit open tag `<x-foo`
     * - `custom-element-open`
     *   - Create the CE `instance`+`renderer` and put on
     *     `customElementInstanceStack`
     *   - Call `renderer.setAttribute()` for any `staticAttributes` (e.g.
     *     'staticAttr`)
     * - `attribute-part`(s)
     *   - Call `renderer.setAttribute()` or `renderer.setProperty()` for
     *     `AttributePart`/`PropertyPart`s (e.g. for `dynamicAttr`)
     * - `custom-element-attributes`
     *   - Call `renderer.connectedCallback()`
     *   - Emit `renderer.renderAttributes()`
     * - `text`
     *   - Emit end of of open tag `>`
     * - `possible-node-marker`
     *   - Emit `<!--lit-node n-->` marker if there were attribute parts or
     *      we needed to emit the `defer-hydration` attribute
     * - `custom-element-shadow`
     *   - Emit `renderer.renderShadow()` (emits `<template shadowroot>` +
     *     recurses to emit `render()`)
     * - `text`
     *   - Emit run of static text within tag: `<div>child</div>...`
     * - ...(recurse to render more parts/children)...
     * - `custom-element-close`
     *   - Pop the CE `instance`+`renderer` off the `customElementInstanceStack`
     */
    const getTemplateOpcodes = (result) => {
        const template = templateCache.get(result.strings);
        if (template !== undefined) {
            return template;
        }
        // The property '_$litType$' needs to remain unminified.
        const [html, attrNames] = getTemplateHtml(result.strings, result['_$litType$']);
        /**
         * The html string is parsed into a parse5 AST with source code information
         * on; this lets us skip over certain ast nodes by string character position
         * while walking the AST.
         */
        const ast = parseFragment(String(html), {
            sourceCodeLocationInfo: true,
        });
        const ops = [];
        /* The last offset of html written to the stream */
        let lastOffset = 0;
        /* Current attribute part index, for indexing attrNames */
        let attrIndex = 0;
        /**
         * Sets `lastOffset` to `offset`, skipping a range of characters. This is
         * useful for skipping and re-writing lit-html marker nodes, bound attribute
         * suffix, etc.
         */
        const skipTo = (offset) => {
            if (lastOffset === undefined) {
                throw new Error('lastOffset is undefined');
            }
            if (offset < lastOffset) {
                throw new Error(`offset must be greater than lastOffset.
        offset: ${offset}
        lastOffset: ${lastOffset}
      `);
            }
            lastOffset = offset;
        };
        /**
         * Records the given string to the output, either by appending to the current
         * opcode (if already `text`) or by creating a new `text` opcode (if the
         * previous opocde was not `text)
         */
        const flush = (value) => {
            const op = getLast(ops);
            if (op !== undefined && op.type === 'text') {
                op.value += value;
            }
            else {
                ops.push({
                    type: 'text',
                    value,
                });
            }
        };
        /**
         * Creates or appends to a text opcode with a substring of the html from the
         * `lastOffset` flushed to `offset`.
         */
        const flushTo = (offset) => {
            if (lastOffset === undefined) {
                throw new Error('lastOffset is undefined');
            }
            const previousLastOffset = lastOffset;
            lastOffset = offset;
            const value = String(html).substring(previousLastOffset, offset);
            flush(value);
        };
        // Depth-first node index, counting only comment and element nodes, to match
        // client-side lit-html.
        let nodeIndex = 0;
        traverse(ast, {
            pre(node, parent) {
                if (isCommentNode(node)) {
                    if (node.data === markerMatch) {
                        flushTo(node.sourceCodeLocation.startOffset);
                        skipTo(node.sourceCodeLocation.endOffset);
                        ops.push({
                            type: 'child-part',
                            index: nodeIndex,
                            useCustomElementInstance: parent && isElement(parent) && parent.isDefinedCustomElement,
                        });
                    }
                    nodeIndex++;
                }
                else if (isElement(node)) {
                    // Whether to flush the start tag. This is necessary if we're changing
                    // any of the attributes in the tag, so it's true for custom-elements
                    // which might reflect their own state, or any element with a binding.
                    let writeTag = false;
                    let boundAttributesCount = 0;
                    const tagName = node.tagName;
                    let ctor;
                    if (tagName.indexOf('-') !== -1) {
                        // Looking up the constructor here means that custom elements must be
                        // registered before rendering the first template that contains them.
                        ctor = customElements.get(tagName);
                        if (ctor !== undefined) {
                            // Write the start tag
                            writeTag = true;
                            // Mark that this is a custom element
                            node.isDefinedCustomElement = true;
                            ops.push({
                                type: 'custom-element-open',
                                tagName,
                                ctor,
                                staticAttributes: new Map(node.attrs
                                    .filter((attr) => !attr.name.endsWith(boundAttributeSuffix))
                                    .map((attr) => [attr.name, attr.value])),
                            });
                        }
                    }
                    if (node.attrs.length > 0) {
                        for (const attr of node.attrs) {
                            const isAttrBinding = attr.name.endsWith(boundAttributeSuffix);
                            const isElementBinding = attr.name.startsWith(marker);
                            if (isAttrBinding || isElementBinding) {
                                writeTag = true;
                                boundAttributesCount += 1;
                                // Note that although we emit a lit-node comment marker for any
                                // nodes with bindings, we don't account for it in the nodeIndex because
                                // that will not be injected into the client template
                                const strings = attr.value.split(marker);
                                // We store the case-sensitive name from `attrNames` (generated
                                // while parsing the template strings); note that this assumes
                                // parse5 attribute ordering matches string ordering
                                const name = attrNames[attrIndex++];
                                const attrSourceLocation = node.sourceCodeLocation.attrs[attr.name];
                                const attrNameStartOffset = attrSourceLocation.startOffset;
                                const attrEndOffset = attrSourceLocation.endOffset;
                                flushTo(attrNameStartOffset);
                                if (isAttrBinding) {
                                    const [, prefix, caseSensitiveName] = /([.?@])?(.*)/.exec(name);
                                    ops.push({
                                        type: 'attribute-part',
                                        index: nodeIndex,
                                        name: caseSensitiveName,
                                        ctor: prefix === '.'
                                            ? PropertyPart
                                            : prefix === '?'
                                                ? BooleanAttributePart
                                                : prefix === '@'
                                                    ? EventPart
                                                    : AttributePart,
                                        strings,
                                        tagName: tagName.toUpperCase(),
                                        useCustomElementInstance: ctor !== undefined,
                                    });
                                }
                                else {
                                    ops.push({
                                        type: 'element-part',
                                        index: nodeIndex,
                                    });
                                }
                                skipTo(attrEndOffset);
                            }
                            else if (node.isDefinedCustomElement) {
                                // For custom elements, all static attributes are stored along
                                // with the `custom-element-open` opcode so that we can set them
                                // into the custom element instance, and then serialize them back
                                // out along with any manually-reflected attributes. As such, we
                                // skip over static attribute text here.
                                const attrSourceLocation = node.sourceCodeLocation.attrs[attr.name];
                                flushTo(attrSourceLocation.startOffset);
                                skipTo(attrSourceLocation.endOffset);
                            }
                        }
                    }
                    if (writeTag) {
                        if (node.isDefinedCustomElement) {
                            flushTo(node.sourceCodeLocation.startTag.endOffset - 1);
                            ops.push({
                                type: 'custom-element-attributes',
                            });
                            flush('>');
                            skipTo(node.sourceCodeLocation.startTag.endOffset);
                        }
                        else {
                            flushTo(node.sourceCodeLocation.startTag.endOffset);
                        }
                        ops.push({
                            type: 'possible-node-marker',
                            boundAttributesCount,
                            nodeIndex,
                        });
                    }
                    if (ctor !== undefined) {
                        ops.push({
                            type: 'custom-element-shadow',
                        });
                    }
                    nodeIndex++;
                }
            },
            post(node) {
                if (isElement(node) && node.isDefinedCustomElement) {
                    ops.push({
                        type: 'custom-element-close',
                    });
                }
            },
        });
        // Flush remaining static text in the template (e.g. closing tags)
        flushTo();
        templateCache.set(result.strings, ops);
        return ops;
    };
    const defaultRenderInfo = {
        elementRenderers: [LitElementRenderer],
        customElementInstanceStack: [],
        customElementHostStack: [],
        deferHydration: false,
    };
    /**
     * Renders a lit-html template (or any renderable lit-html value) to a string
     * iterator. Any custom elements encountered will be rendered if a matching
     * ElementRenderer is found.
     *
     * This method is suitable for streaming the contents of the element.
     *
     * @param value Value to render
     * @param renderInfo Optional render context object that should be passed
     *   to any re-entrant calls to `render`, e.g. from a `renderShadow` callback
     *   on an ElementRenderer.
     */
    function* render$1(value, renderInfo) {
        renderInfo = { ...defaultRenderInfo, ...renderInfo };
        yield* renderValue(value, renderInfo);
    }
    function* renderValue(value, renderInfo) {
        patchIfDirective(value);
        if (n$2(value)) {
            // If a value was produced with renderLight(), we want to call and render
            // the renderLight() method.
            const instance = getLast(renderInfo.customElementInstanceStack);
            if (instance !== undefined) {
                yield* instance.renderLight(renderInfo);
            }
            value = null;
        }
        else {
            value = resolveDirective(connectedDisconnectable({ type: t$3.CHILD }), value);
        }
        if (value != null && n$6(value)) {
            yield `<!--lit-part ${m(value)}-->`;
            yield* renderTemplateResult(value, renderInfo);
        }
        else {
            yield `<!--lit-part-->`;
            if (value === undefined ||
                value === null ||
                value === b ||
                value === T) ;
            else if (Array.isArray(value)) {
                for (const item of value) {
                    yield* renderValue(item, renderInfo);
                }
            }
            else {
                yield escapeHtml(String(value));
            }
        }
        yield `<!--/lit-part-->`;
    }
    function* renderTemplateResult(result, renderInfo) {
        // In order to render a TemplateResult we have to handle and stream out
        // different parts of the result separately:
        //   - Literal sections of the template
        //   - Defined custom element within the literal sections
        //   - Values in the result
        //
        // This means we can't just iterate through the template literals and values,
        // we must parse and traverse the template's HTML. But we don't want to pay
        // the cost of serializing the HTML node-by-node when we already have the
        // template in string form. So we parse with location info turned on and use
        // that to index into the HTML string generated by TemplateResult.getHTML().
        // During the tree walk we will handle expression marker nodes and custom
        // elements. For each we will record the offset of the node, and output the
        // previous span of HTML.
        const ops = getTemplateOpcodes(result);
        /* The next value in result.values to render */
        let partIndex = 0;
        for (const op of ops) {
            switch (op.type) {
                case 'text':
                    yield op.value;
                    break;
                case 'child-part': {
                    const value = result.values[partIndex++];
                    yield* renderValue(value, renderInfo);
                    break;
                }
                case 'attribute-part': {
                    const statics = op.strings;
                    const part = new op.ctor(
                    // Passing only object with tagName for the element is fine since the
                    // directive only gets PartInfo without the node available in the
                    // constructor
                    { tagName: op.tagName }, op.name, statics, connectedDisconnectable(), {});
                    const value = part.strings === undefined ? result.values[partIndex] : result.values;
                    patchAnyDirectives(part, value, partIndex);
                    let committedValue = T;
                    // Values for EventParts are never emitted
                    if (!(part.type === t$3.EVENT)) {
                        committedValue = getAttributePartCommittedValue(part, value, partIndex);
                    }
                    // We don't emit anything on the server when value is `noChange` or
                    // `nothing`
                    if (committedValue !== T) {
                        const instance = op.useCustomElementInstance
                            ? getLast(renderInfo.customElementInstanceStack)
                            : undefined;
                        if (part.type === t$3.PROPERTY) {
                            yield* renderPropertyPart(instance, op, committedValue);
                        }
                        else if (part.type === t$3.BOOLEAN_ATTRIBUTE) {
                            // Boolean attribute binding
                            yield* renderBooleanAttributePart(instance, op, committedValue);
                        }
                        else {
                            yield* renderAttributePart(instance, op, committedValue);
                        }
                    }
                    partIndex += statics.length - 1;
                    break;
                }
                case 'element-part': {
                    // We don't emit anything for element parts (since we only support
                    // directives for now; since they can't render, we don't even bother
                    // running them), but we still need to advance the part index
                    partIndex++;
                    break;
                }
                case 'custom-element-open': {
                    // Instantiate the element and its renderer
                    const instance = getElementRenderer(renderInfo, op.tagName, op.ctor, op.staticAttributes);
                    // Set static attributes to the element renderer
                    for (const [name, value] of op.staticAttributes) {
                        instance.setAttribute(name, value);
                    }
                    renderInfo.customElementInstanceStack.push(instance);
                    renderInfo.customElementRendered?.(op.tagName);
                    break;
                }
                case 'custom-element-attributes': {
                    const instance = getLast(renderInfo.customElementInstanceStack);
                    if (instance === undefined) {
                        throw new Error(`Internal error: ${op.type} outside of custom element context`);
                    }
                    // Perform any connect-time work via the renderer (e.g. reflecting any
                    // properties to attributes, for example)
                    if (instance.connectedCallback) {
                        instance.connectedCallback();
                    }
                    // Render out any attributes on the instance (both static and those
                    // that may have been dynamically set by the renderer)
                    yield* instance.renderAttributes();
                    // If deferHydration flag is true or if this element is nested in
                    // another, add the `defer-hydration` attribute, so that it does not
                    // enable before the host element hydrates
                    if (renderInfo.deferHydration ||
                        renderInfo.customElementHostStack.length > 0) {
                        yield ' defer-hydration';
                    }
                    break;
                }
                case 'possible-node-marker': {
                    // Add a node marker if this element had attribute bindings or if it
                    // was nested in another and we rendered the `defer-hydration` attribute
                    // since the hydration node walk will need to stop at this element
                    // to hydrate it
                    if (op.boundAttributesCount > 0 ||
                        renderInfo.customElementHostStack.length > 0) {
                        yield `<!--lit-node ${op.nodeIndex}-->`;
                    }
                    break;
                }
                case 'custom-element-shadow': {
                    const instance = getLast(renderInfo.customElementInstanceStack);
                    if (instance === undefined) {
                        throw new Error(`Internal error: ${op.type} outside of custom element context`);
                    }
                    if (instance.renderShadow !== undefined) {
                        renderInfo.customElementHostStack.push(instance);
                        const shadowContents = instance.renderShadow(renderInfo);
                        // Only emit a DSR if renderShadow() emitted something (returning
                        // undefined allows effectively no-op rendering the element)
                        if (shadowContents !== undefined) {
                            yield '<template shadowroot="open">';
                            yield* shadowContents;
                            yield '</template>';
                        }
                        renderInfo.customElementHostStack.pop();
                    }
                    break;
                }
                case 'custom-element-close':
                    renderInfo.customElementInstanceStack.pop();
                    break;
                default:
                    throw new Error('internal error');
            }
        }
        if (partIndex !== result.values.length) {
            throw new Error(`unexpected final partIndex: ${partIndex} !== ${result.values.length}`);
        }
    }
    function* renderPropertyPart(instance, op, value) {
        value = value === b ? undefined : value;
        // Property should be reflected to attribute
        const reflectedName = reflectedAttributeName(op.tagName, op.name);
        if (instance !== undefined) {
            instance.setProperty(op.name, value);
        }
        if (reflectedName !== undefined) {
            yield `${reflectedName}="${escapeHtml(String(value))}"`;
        }
    }
    function* renderBooleanAttributePart(instance, op, value) {
        if (value && value !== b) {
            if (instance !== undefined) {
                instance.setAttribute(op.name, '');
            }
            else {
                yield op.name;
            }
        }
    }
    function* renderAttributePart(instance, op, value) {
        if (value !== b) {
            if (instance !== undefined) {
                instance.setAttribute(op.name, String(value ?? ''));
            }
            else {
                yield `${op.name}="${escapeHtml(String(value ?? ''))}"`;
            }
        }
    }
    const getLast = (a) => a[a.length - 1];

    /**
     * @author Toru Nagashima <https://github.com/mysticatea>
     * @copyright 2015 Toru Nagashima. All rights reserved.
     * See LICENSE file in root directory for full license.
     */
    /**
     * @typedef {object} PrivateData
     * @property {EventTarget} eventTarget The event target.
     * @property {{type:string}} event The original event object.
     * @property {number} eventPhase The current event phase.
     * @property {EventTarget|null} currentTarget The current event target.
     * @property {boolean} canceled The flag to prevent default.
     * @property {boolean} stopped The flag to stop propagation.
     * @property {boolean} immediateStopped The flag to stop propagation immediately.
     * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.
     * @property {number} timeStamp The unix time.
     * @private
     */

    /**
     * Private data for event wrappers.
     * @type {WeakMap<Event, PrivateData>}
     * @private
     */
    const privateData = new WeakMap();

    /**
     * Cache for wrapper classes.
     * @type {WeakMap<Object, Function>}
     * @private
     */
    const wrappers = new WeakMap();

    /**
     * Get private data.
     * @param {Event} event The event object to get private data.
     * @returns {PrivateData} The private data of the event.
     * @private
     */
    function pd(event) {
        const retv = privateData.get(event);
        console.assert(
            retv != null,
            "'this' is expected an Event object, but got",
            event
        );
        return retv
    }

    /**
     * https://dom.spec.whatwg.org/#set-the-canceled-flag
     * @param data {PrivateData} private data.
     */
    function setCancelFlag(data) {
        if (data.passiveListener != null) {
            if (
                typeof console !== "undefined" &&
                typeof console.error === "function"
            ) {
                console.error(
                    "Unable to preventDefault inside passive event listener invocation.",
                    data.passiveListener
                );
            }
            return
        }
        if (!data.event.cancelable) {
            return
        }

        data.canceled = true;
        if (typeof data.event.preventDefault === "function") {
            data.event.preventDefault();
        }
    }

    /**
     * @see https://dom.spec.whatwg.org/#interface-event
     * @private
     */
    /**
     * The event wrapper.
     * @constructor
     * @param {EventTarget} eventTarget The event target of this dispatching.
     * @param {Event|{type:string}} event The original event to wrap.
     */
    function Event$1(eventTarget, event) {
        privateData.set(this, {
            eventTarget,
            event,
            eventPhase: 2,
            currentTarget: eventTarget,
            canceled: false,
            stopped: false,
            immediateStopped: false,
            passiveListener: null,
            timeStamp: event.timeStamp || Date.now(),
        });

        // https://heycam.github.io/webidl/#Unforgeable
        Object.defineProperty(this, "isTrusted", { value: false, enumerable: true });

        // Define accessors
        const keys = Object.keys(event);
        for (let i = 0; i < keys.length; ++i) {
            const key = keys[i];
            if (!(key in this)) {
                Object.defineProperty(this, key, defineRedirectDescriptor(key));
            }
        }
    }

    // Should be enumerable, but class methods are not enumerable.
    Event$1.prototype = {
        /**
         * The type of this event.
         * @type {string}
         */
        get type() {
            return pd(this).event.type
        },

        /**
         * The target of this event.
         * @type {EventTarget}
         */
        get target() {
            return pd(this).eventTarget
        },

        /**
         * The target of this event.
         * @type {EventTarget}
         */
        get currentTarget() {
            return pd(this).currentTarget
        },

        /**
         * @returns {EventTarget[]} The composed path of this event.
         */
        composedPath() {
            const currentTarget = pd(this).currentTarget;
            if (currentTarget == null) {
                return []
            }
            return [currentTarget]
        },

        /**
         * Constant of NONE.
         * @type {number}
         */
        get NONE() {
            return 0
        },

        /**
         * Constant of CAPTURING_PHASE.
         * @type {number}
         */
        get CAPTURING_PHASE() {
            return 1
        },

        /**
         * Constant of AT_TARGET.
         * @type {number}
         */
        get AT_TARGET() {
            return 2
        },

        /**
         * Constant of BUBBLING_PHASE.
         * @type {number}
         */
        get BUBBLING_PHASE() {
            return 3
        },

        /**
         * The target of this event.
         * @type {number}
         */
        get eventPhase() {
            return pd(this).eventPhase
        },

        /**
         * Stop event bubbling.
         * @returns {void}
         */
        stopPropagation() {
            const data = pd(this);

            data.stopped = true;
            if (typeof data.event.stopPropagation === "function") {
                data.event.stopPropagation();
            }
        },

        /**
         * Stop event bubbling.
         * @returns {void}
         */
        stopImmediatePropagation() {
            const data = pd(this);

            data.stopped = true;
            data.immediateStopped = true;
            if (typeof data.event.stopImmediatePropagation === "function") {
                data.event.stopImmediatePropagation();
            }
        },

        /**
         * The flag to be bubbling.
         * @type {boolean}
         */
        get bubbles() {
            return Boolean(pd(this).event.bubbles)
        },

        /**
         * The flag to be cancelable.
         * @type {boolean}
         */
        get cancelable() {
            return Boolean(pd(this).event.cancelable)
        },

        /**
         * Cancel this event.
         * @returns {void}
         */
        preventDefault() {
            setCancelFlag(pd(this));
        },

        /**
         * The flag to indicate cancellation state.
         * @type {boolean}
         */
        get defaultPrevented() {
            return pd(this).canceled
        },

        /**
         * The flag to be composed.
         * @type {boolean}
         */
        get composed() {
            return Boolean(pd(this).event.composed)
        },

        /**
         * The unix time of this event.
         * @type {number}
         */
        get timeStamp() {
            return pd(this).timeStamp
        },

        /**
         * The target of this event.
         * @type {EventTarget}
         * @deprecated
         */
        get srcElement() {
            return pd(this).eventTarget
        },

        /**
         * The flag to stop event bubbling.
         * @type {boolean}
         * @deprecated
         */
        get cancelBubble() {
            return pd(this).stopped
        },
        set cancelBubble(value) {
            if (!value) {
                return
            }
            const data = pd(this);

            data.stopped = true;
            if (typeof data.event.cancelBubble === "boolean") {
                data.event.cancelBubble = true;
            }
        },

        /**
         * The flag to indicate cancellation state.
         * @type {boolean}
         * @deprecated
         */
        get returnValue() {
            return !pd(this).canceled
        },
        set returnValue(value) {
            if (!value) {
                setCancelFlag(pd(this));
            }
        },

        /**
         * Initialize this event object. But do nothing under event dispatching.
         * @param {string} type The event type.
         * @param {boolean} [bubbles=false] The flag to be possible to bubble up.
         * @param {boolean} [cancelable=false] The flag to be possible to cancel.
         * @deprecated
         */
        initEvent() {
            // Do nothing.
        },
    };

    // `constructor` is not enumerable.
    Object.defineProperty(Event$1.prototype, "constructor", {
        value: Event$1,
        configurable: true,
        writable: true,
    });

    // Ensure `event instanceof window.Event` is `true`.
    if (typeof window !== "undefined" && typeof window.Event !== "undefined") {
        Object.setPrototypeOf(Event$1.prototype, window.Event.prototype);

        // Make association for wrappers.
        wrappers.set(window.Event.prototype, Event$1);
    }

    /**
     * Get the property descriptor to redirect a given property.
     * @param {string} key Property name to define property descriptor.
     * @returns {PropertyDescriptor} The property descriptor to redirect the property.
     * @private
     */
    function defineRedirectDescriptor(key) {
        return {
            get() {
                return pd(this).event[key]
            },
            set(value) {
                pd(this).event[key] = value;
            },
            configurable: true,
            enumerable: true,
        }
    }

    /**
     * Get the property descriptor to call a given method property.
     * @param {string} key Property name to define property descriptor.
     * @returns {PropertyDescriptor} The property descriptor to call the method property.
     * @private
     */
    function defineCallDescriptor(key) {
        return {
            value() {
                const event = pd(this).event;
                return event[key].apply(event, arguments)
            },
            configurable: true,
            enumerable: true,
        }
    }

    /**
     * Define new wrapper class.
     * @param {Function} BaseEvent The base wrapper class.
     * @param {Object} proto The prototype of the original event.
     * @returns {Function} The defined wrapper class.
     * @private
     */
    function defineWrapper(BaseEvent, proto) {
        const keys = Object.keys(proto);
        if (keys.length === 0) {
            return BaseEvent
        }

        /** CustomEvent */
        function CustomEvent(eventTarget, event) {
            BaseEvent.call(this, eventTarget, event);
        }

        CustomEvent.prototype = Object.create(BaseEvent.prototype, {
            constructor: { value: CustomEvent, configurable: true, writable: true },
        });

        // Define accessors.
        for (let i = 0; i < keys.length; ++i) {
            const key = keys[i];
            if (!(key in BaseEvent.prototype)) {
                const descriptor = Object.getOwnPropertyDescriptor(proto, key);
                const isFunc = typeof descriptor.value === "function";
                Object.defineProperty(
                    CustomEvent.prototype,
                    key,
                    isFunc
                        ? defineCallDescriptor(key)
                        : defineRedirectDescriptor(key)
                );
            }
        }

        return CustomEvent
    }

    /**
     * Get the wrapper class of a given prototype.
     * @param {Object} proto The prototype of the original event to get its wrapper.
     * @returns {Function} The wrapper class.
     * @private
     */
    function getWrapper(proto) {
        if (proto == null || proto === Object.prototype) {
            return Event$1
        }

        let wrapper = wrappers.get(proto);
        if (wrapper == null) {
            wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);
            wrappers.set(proto, wrapper);
        }
        return wrapper
    }

    /**
     * Wrap a given event to management a dispatching.
     * @param {EventTarget} eventTarget The event target of this dispatching.
     * @param {Object} event The event to wrap.
     * @returns {Event} The wrapper instance.
     * @private
     */
    function wrapEvent(eventTarget, event) {
        const Wrapper = getWrapper(Object.getPrototypeOf(event));
        return new Wrapper(eventTarget, event)
    }

    /**
     * Get the immediateStopped flag of a given event.
     * @param {Event} event The event to get.
     * @returns {boolean} The flag to stop propagation immediately.
     * @private
     */
    function isStopped(event) {
        return pd(event).immediateStopped
    }

    /**
     * Set the current event phase of a given event.
     * @param {Event} event The event to set current target.
     * @param {number} eventPhase New event phase.
     * @returns {void}
     * @private
     */
    function setEventPhase(event, eventPhase) {
        pd(event).eventPhase = eventPhase;
    }

    /**
     * Set the current target of a given event.
     * @param {Event} event The event to set current target.
     * @param {EventTarget|null} currentTarget New current target.
     * @returns {void}
     * @private
     */
    function setCurrentTarget(event, currentTarget) {
        pd(event).currentTarget = currentTarget;
    }

    /**
     * Set a passive listener of a given event.
     * @param {Event} event The event to set current target.
     * @param {Function|null} passiveListener New passive listener.
     * @returns {void}
     * @private
     */
    function setPassiveListener(event, passiveListener) {
        pd(event).passiveListener = passiveListener;
    }

    /**
     * @typedef {object} ListenerNode
     * @property {Function} listener
     * @property {1|2|3} listenerType
     * @property {boolean} passive
     * @property {boolean} once
     * @property {ListenerNode|null} next
     * @private
     */

    /**
     * @type {WeakMap<object, Map<string, ListenerNode>>}
     * @private
     */
    const listenersMap = new WeakMap();

    // Listener types
    const CAPTURE = 1;
    const BUBBLE = 2;
    const ATTRIBUTE = 3;

    /**
     * Check whether a given value is an object or not.
     * @param {any} x The value to check.
     * @returns {boolean} `true` if the value is an object.
     */
    function isObject(x) {
        return x !== null && typeof x === "object" //eslint-disable-line no-restricted-syntax
    }

    /**
     * Get listeners.
     * @param {EventTarget} eventTarget The event target to get.
     * @returns {Map<string, ListenerNode>} The listeners.
     * @private
     */
    function getListeners(eventTarget) {
        const listeners = listenersMap.get(eventTarget);
        if (listeners == null) {
            throw new TypeError(
                "'this' is expected an EventTarget object, but got another value."
            )
        }
        return listeners
    }

    /**
     * Get the property descriptor for the event attribute of a given event.
     * @param {string} eventName The event name to get property descriptor.
     * @returns {PropertyDescriptor} The property descriptor.
     * @private
     */
    function defineEventAttributeDescriptor(eventName) {
        return {
            get() {
                const listeners = getListeners(this);
                let node = listeners.get(eventName);
                while (node != null) {
                    if (node.listenerType === ATTRIBUTE) {
                        return node.listener
                    }
                    node = node.next;
                }
                return null
            },

            set(listener) {
                if (typeof listener !== "function" && !isObject(listener)) {
                    listener = null; // eslint-disable-line no-param-reassign
                }
                const listeners = getListeners(this);

                // Traverse to the tail while removing old value.
                let prev = null;
                let node = listeners.get(eventName);
                while (node != null) {
                    if (node.listenerType === ATTRIBUTE) {
                        // Remove old value.
                        if (prev !== null) {
                            prev.next = node.next;
                        } else if (node.next !== null) {
                            listeners.set(eventName, node.next);
                        } else {
                            listeners.delete(eventName);
                        }
                    } else {
                        prev = node;
                    }

                    node = node.next;
                }

                // Add new value.
                if (listener !== null) {
                    const newNode = {
                        listener,
                        listenerType: ATTRIBUTE,
                        passive: false,
                        once: false,
                        next: null,
                    };
                    if (prev === null) {
                        listeners.set(eventName, newNode);
                    } else {
                        prev.next = newNode;
                    }
                }
            },
            configurable: true,
            enumerable: true,
        }
    }

    /**
     * Define an event attribute (e.g. `eventTarget.onclick`).
     * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.
     * @param {string} eventName The event name to define.
     * @returns {void}
     */
    function defineEventAttribute(eventTargetPrototype, eventName) {
        Object.defineProperty(
            eventTargetPrototype,
            `on${eventName}`,
            defineEventAttributeDescriptor(eventName)
        );
    }

    /**
     * Define a custom EventTarget with event attributes.
     * @param {string[]} eventNames Event names for event attributes.
     * @returns {EventTarget} The custom EventTarget.
     * @private
     */
    function defineCustomEventTarget(eventNames) {
        /** CustomEventTarget */
        function CustomEventTarget() {
            EventTarget.call(this);
        }

        CustomEventTarget.prototype = Object.create(EventTarget.prototype, {
            constructor: {
                value: CustomEventTarget,
                configurable: true,
                writable: true,
            },
        });

        for (let i = 0; i < eventNames.length; ++i) {
            defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);
        }

        return CustomEventTarget
    }

    /**
     * EventTarget.
     *
     * - This is constructor if no arguments.
     * - This is a function which returns a CustomEventTarget constructor if there are arguments.
     *
     * For example:
     *
     *     class A extends EventTarget {}
     *     class B extends EventTarget("message") {}
     *     class C extends EventTarget("message", "error") {}
     *     class D extends EventTarget(["message", "error"]) {}
     */
    function EventTarget() {
        /*eslint-disable consistent-return */
        if (this instanceof EventTarget) {
            listenersMap.set(this, new Map());
            return
        }
        if (arguments.length === 1 && Array.isArray(arguments[0])) {
            return defineCustomEventTarget(arguments[0])
        }
        if (arguments.length > 0) {
            const types = new Array(arguments.length);
            for (let i = 0; i < arguments.length; ++i) {
                types[i] = arguments[i];
            }
            return defineCustomEventTarget(types)
        }
        throw new TypeError("Cannot call a class as a function")
        /*eslint-enable consistent-return */
    }

    // Should be enumerable, but class methods are not enumerable.
    EventTarget.prototype = {
        /**
         * Add a given listener to this event target.
         * @param {string} eventName The event name to add.
         * @param {Function} listener The listener to add.
         * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.
         * @returns {void}
         */
        addEventListener(eventName, listener, options) {
            if (listener == null) {
                return
            }
            if (typeof listener !== "function" && !isObject(listener)) {
                throw new TypeError("'listener' should be a function or an object.")
            }

            const listeners = getListeners(this);
            const optionsIsObj = isObject(options);
            const capture = optionsIsObj
                ? Boolean(options.capture)
                : Boolean(options);
            const listenerType = capture ? CAPTURE : BUBBLE;
            const newNode = {
                listener,
                listenerType,
                passive: optionsIsObj && Boolean(options.passive),
                once: optionsIsObj && Boolean(options.once),
                next: null,
            };

            // Set it as the first node if the first node is null.
            let node = listeners.get(eventName);
            if (node === undefined) {
                listeners.set(eventName, newNode);
                return
            }

            // Traverse to the tail while checking duplication..
            let prev = null;
            while (node != null) {
                if (
                    node.listener === listener &&
                    node.listenerType === listenerType
                ) {
                    // Should ignore duplication.
                    return
                }
                prev = node;
                node = node.next;
            }

            // Add it.
            prev.next = newNode;
        },

        /**
         * Remove a given listener from this event target.
         * @param {string} eventName The event name to remove.
         * @param {Function} listener The listener to remove.
         * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.
         * @returns {void}
         */
        removeEventListener(eventName, listener, options) {
            if (listener == null) {
                return
            }

            const listeners = getListeners(this);
            const capture = isObject(options)
                ? Boolean(options.capture)
                : Boolean(options);
            const listenerType = capture ? CAPTURE : BUBBLE;

            let prev = null;
            let node = listeners.get(eventName);
            while (node != null) {
                if (
                    node.listener === listener &&
                    node.listenerType === listenerType
                ) {
                    if (prev !== null) {
                        prev.next = node.next;
                    } else if (node.next !== null) {
                        listeners.set(eventName, node.next);
                    } else {
                        listeners.delete(eventName);
                    }
                    return
                }

                prev = node;
                node = node.next;
            }
        },

        /**
         * Dispatch a given event.
         * @param {Event|{type:string}} event The event to dispatch.
         * @returns {boolean} `false` if canceled.
         */
        dispatchEvent(event) {
            if (event == null || typeof event.type !== "string") {
                throw new TypeError('"event.type" should be a string.')
            }

            // If listeners aren't registered, terminate.
            const listeners = getListeners(this);
            const eventName = event.type;
            let node = listeners.get(eventName);
            if (node == null) {
                return true
            }

            // Since we cannot rewrite several properties, so wrap object.
            const wrappedEvent = wrapEvent(this, event);

            // This doesn't process capturing phase and bubbling phase.
            // This isn't participating in a tree.
            let prev = null;
            while (node != null) {
                // Remove this listener if it's once
                if (node.once) {
                    if (prev !== null) {
                        prev.next = node.next;
                    } else if (node.next !== null) {
                        listeners.set(eventName, node.next);
                    } else {
                        listeners.delete(eventName);
                    }
                } else {
                    prev = node;
                }

                // Call this listener
                setPassiveListener(
                    wrappedEvent,
                    node.passive ? node.listener : null
                );
                if (typeof node.listener === "function") {
                    try {
                        node.listener.call(this, wrappedEvent);
                    } catch (err) {
                        if (
                            typeof console !== "undefined" &&
                            typeof console.error === "function"
                        ) {
                            console.error(err);
                        }
                    }
                } else if (
                    node.listenerType !== ATTRIBUTE &&
                    typeof node.listener.handleEvent === "function"
                ) {
                    node.listener.handleEvent(wrappedEvent);
                }

                // Break if `event.stopImmediatePropagation` was called.
                if (isStopped(wrappedEvent)) {
                    break
                }

                node = node.next;
            }
            setPassiveListener(wrappedEvent, null);
            setEventPhase(wrappedEvent, 0);
            setCurrentTarget(wrappedEvent, null);

            return !wrappedEvent.defaultPrevented
        },
    };

    // `constructor` is not enumerable.
    Object.defineProperty(EventTarget.prototype, "constructor", {
        value: EventTarget,
        configurable: true,
        writable: true,
    });

    // Ensure `eventTarget instanceof window.EventTarget` is `true`.
    if (
        typeof window !== "undefined" &&
        typeof window.EventTarget !== "undefined"
    ) {
        Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);
    }

    /**
     * @author Toru Nagashima <https://github.com/mysticatea>
     * See LICENSE file in root directory for full license.
     */

    /**
     * The signal class.
     * @see https://dom.spec.whatwg.org/#abortsignal
     */
    class AbortSignal extends EventTarget {
        /**
         * AbortSignal cannot be constructed directly.
         */
        constructor() {
            super();
            throw new TypeError("AbortSignal cannot be constructed directly");
        }
        /**
         * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.
         */
        get aborted() {
            const aborted = abortedFlags.get(this);
            if (typeof aborted !== "boolean") {
                throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? "null" : typeof this}`);
            }
            return aborted;
        }
    }
    defineEventAttribute(AbortSignal.prototype, "abort");
    /**
     * Create an AbortSignal object.
     */
    function createAbortSignal() {
        const signal = Object.create(AbortSignal.prototype);
        EventTarget.call(signal);
        abortedFlags.set(signal, false);
        return signal;
    }
    /**
     * Abort a given signal.
     */
    function abortSignal(signal) {
        if (abortedFlags.get(signal) !== false) {
            return;
        }
        abortedFlags.set(signal, true);
        signal.dispatchEvent({ type: "abort" });
    }
    /**
     * Aborted flag for each instances.
     */
    const abortedFlags = new WeakMap();
    // Properties should be enumerable.
    Object.defineProperties(AbortSignal.prototype, {
        aborted: { enumerable: true },
    });
    // `toString()` should return `"[object AbortSignal]"`
    if (typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol") {
        Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {
            configurable: true,
            value: "AbortSignal",
        });
    }

    /**
     * The AbortController.
     * @see https://dom.spec.whatwg.org/#abortcontroller
     */
    class AbortController$1 {
        /**
         * Initialize this controller.
         */
        constructor() {
            signals.set(this, createAbortSignal());
        }
        /**
         * Returns the `AbortSignal` object associated with this object.
         */
        get signal() {
            return getSignal(this);
        }
        /**
         * Abort and signal to any observers that the associated activity is to be aborted.
         */
        abort() {
            abortSignal(getSignal(this));
        }
    }
    /**
     * Associated signals.
     */
    const signals = new WeakMap();
    /**
     * Get the associated signal of a given controller.
     */
    function getSignal(controller) {
        const signal = signals.get(controller);
        if (signal == null) {
            throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? "null" : typeof controller}`);
        }
        return signal;
    }
    // Properties should be enumerable.
    Object.defineProperties(AbortController$1.prototype, {
        signal: { enumerable: true },
        abort: { enumerable: true },
    });
    if (typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol") {
        Object.defineProperty(AbortController$1.prototype, Symbol.toStringTag, {
            configurable: true,
            value: "AbortController",
        });
    }

    const abortController = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: AbortController$1,
        AbortController: AbortController$1,
        AbortSignal
    }, Symbol.toStringTag, { value: 'Module' }));

    const require$$0 = /*@__PURE__*/getAugmentedNamespace(abortController);

    /*globals require, self, window */

    const ac = require$$0;

    /*eslint-disable @mysticatea/prettier */
    const g =
        typeof self !== "undefined" ? self :
        typeof window !== "undefined" ? window :
        typeof commonjsGlobal !== "undefined" ? commonjsGlobal :
        /* otherwise */ undefined;
    /*eslint-enable @mysticatea/prettier */

    if (g) {
        if (typeof g.AbortController === "undefined") {
            g.AbortController = ac.AbortController;
        }
        if (typeof g.AbortSignal === "undefined") {
            g.AbortSignal = ac.AbortSignal;
        }
    }

    // organize-imports-ignore
    let orchestrator;
    const renderApp = async (config, app) => {
        if (!orchestrator) {
            orchestrator = await app;
        }
        window.location = config.route;
        const routerService = getInjector().inject(RouterService);
        const awaiter = getInjector().inject(SSRAwaiterService);
        const context = getInjector().inject(ContextService);
        const ssrResult = render$1(config.element);
        routerService.go(window.location.pathname);
        let stream = '';
        let data = ssrResult.next();
        while (!data.done) {
            if (awaiter.hasAwaiter()) {
                try {
                    await awaiter.await();
                }
                catch (e) {
                    console.log(e);
                }
            }
            stream += data.value;
            data = ssrResult.next();
            context.fillStream(stream);
        }
        context.rendered();
        return stream;
    };

    const authLoginComponent = componentDef({
        name: 'auth-login',
        impl: () => Promise.resolve().then(() => login_component$1).then((m) => m.AuthLoginComponent),
    });

    const authLogoutComponent = componentDef({
        name: 'auth-logout',
        impl: () => Promise.resolve().then(() => logout_component).then((m) => m.AuthLogoutComponent),
    });

    const components$8 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        authLoginComponent,
        authLogoutComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const AccessTokenService = 'FES.AccessTokenService';

    function canRenew(token) {
        return hasValidRefreshToken(token);
    }
    function requiresRefresh(token) {
        return isAccessTokenExpired(token);
    }
    function isAccessTokenExpired(token) {
        return !!token.expiresAt && Date.now() > token.expiresAt;
    }
    function hasValidRefreshToken(token) {
        return (!!token.refreshToken &&
            (!token.refreshTokenExpiresAt || Date.now() < token.refreshTokenExpiresAt));
    }
    function parseToken(token) {
        const base64Url = token.split('.')[1];
        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        const jsonPayload = JSON.parse(decodeURIComponent(window
            .atob(base64)
            .split('')
            .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))
            .join('')));
        const parsedSub = JSON.parse(jsonPayload.sub);
        return {
            ...jsonPayload,
            sub: parsedSub,
        };
    }

    const getRandomIntFromRange = (min, max) => Math.floor(Math.random() * (max - min) + min);
    const getRandomString = () => Math.random().toString(getRandomIntFromRange(16, 36)).substring(2);
    const generateID = (num = 1) => Array.from({ length: Math.abs(Number(num)) || 1 }, getRandomString)
        .join('-')
        .toUpperCase();

    const AuthAdapter = 'FES.AuthAdapter';

    const queryAssignedElements = (host, options = {}) => {
        const { selector, slot } = options;
        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;
        const slotEl = host.renderRoot?.querySelector(slotSelector);
        const elements = slotEl?.assignedElements(options);
        if (selector && elements) {
            return elements.filter((node) => node.matches(selector));
        }
        return elements ?? [];
    };
    const queryFirstAssigned = (host, options = {}) => {
        const elements = queryAssignedElements(host, options);
        return elements.length > 0 ? elements[0] : undefined;
    };
    const focusableSelectors$1 = [
        '[tabindex]',
        '[focusable]',
        'a',
        'button',
        'input',
        'select',
        'textarea',
    ];
    /**
     * Indicates whether the given element is focusable (ie. button, select, input).
     * Add `focusable` attribute to make element focusable
     * Add `focusable="false"` attribute to make element not focusable
     */
    const isFocusable = (element) => {
        const elementAttrsValue = Array.from(element.attributes)
            .filter((attr) => focusableSelectors$1.includes(`[${attr.name}]`))
            .map((attr) => attr.value);
        if (elementAttrsValue.length) {
            return !elementAttrsValue.includes('false');
        }
        return focusableSelectors$1.includes(element.tagName.toLowerCase());
    };
    const queryFirstFocusable = (parent) => {
        return (parent instanceof s$5 && parent.shadowRoot
            ? parent.shadowRoot
            : parent).querySelector(focusableSelectors$1.join(', '));
    };

    const throttle = (fn, wait, deferACall = false) => {
        let deferredCall;
        let lastCalledAt = Date.now();
        let isFirstCall = true;
        return (...args) => {
            const timeLeftForNextCall = lastCalledAt + wait - Date.now();
            if (isFirstCall || timeLeftForNextCall < 0) {
                lastCalledAt = Date.now();
                fn(...args);
                isFirstCall = false;
            }
            if (deferACall) {
                clearTimeout(deferredCall);
                deferredCall = setTimeout(() => {
                    fn(...args);
                }, wait);
            }
        };
    };

    const toMilliseconds = (timeInSeconds) => timeInSeconds * 1000;

    const TokenNormalizer = 'FES.TokenNormalizer*';
    function tokenAttributesNormalizer(source) {
        const token = {
            accessToken: source.access_token,
        };
        if (source.token_type) {
            token.tokenType = source.token_type;
        }
        if (source.expires_in) {
            token.expiresAt = Date.now() + toMilliseconds(source.expires_in);
        }
        if (source.refresh_token) {
            token.refreshToken = source.refresh_token;
            if (source.refreshTokenExpiresAt) {
                token.refreshTokenExpiresAt = toMilliseconds(source.refreshTokenExpiresAt);
            }
        }
        return token;
    }
    const tokenNormalizer = [
        {
            provide: TokenNormalizer,
            useValue: tokenAttributesNormalizer,
        },
    ];

    class DefaultAuthAdapter {
        constructor(http = inject(HttpService), apiUrl = inject('SCOS_BASE_URL'), transformer = inject(TransformerService)) {
            this.http = http;
            this.apiUrl = apiUrl;
            this.transformer = transformer;
            this.HTTP_HEADERS = {
                'Content-Type': 'application/x-www-form-urlencoded',
            };
        }
        authenticate(qualifier) {
            const { username, password } = qualifier;
            const body = `grant_type=password&username=${username}&password=${password}`;
            return this.tokenRequest({
                body: body,
            });
        }
        tokenRequest(options) {
            return this.http
                .request(`${this.apiUrl}/token`, {
                body: options.body,
                method: 'POST',
                headers: this.HTTP_HEADERS,
            })
                .pipe(this.transformer.do(TokenNormalizer));
        }
        refresh(token) {
            return this.tokenRequest({
                body: `grant_type=refresh_token&refresh_token=${token.refreshToken}`,
            });
        }
    }

    const AuthService = 'FES.AuthService';

    class DefaultAuthService {
        constructor(adapter = inject(AuthAdapter), accessToken = inject(AccessTokenService)) {
            this.adapter = adapter;
            this.accessToken = accessToken;
        }
        login(qualifier) {
            return this.adapter.authenticate(qualifier).pipe(cjs.tap((token) => this.accessToken.set({ token, persist: qualifier.remember })), cjs.catchError((e) => this.logout().pipe(cjs.switchMap(() => cjs.throwError(() => new Error(`${e.name} ${e.status}`))))), cjs.map((token) => !!token));
        }
        logout() {
            return this.accessToken
                .remove()
                .pipe(cjs.switchMap((ret) => this.adapter.revoke?.() ?? cjs.of(ret)));
        }
        isAuthenticated() {
            return this.accessToken.get().pipe(cjs.map(Boolean), cjs.distinctUntilChanged());
        }
    }

    class DefaultAccessTokenService {
        constructor(adapter = inject(AuthAdapter), storage = inject(StorageService)) {
            this.adapter = adapter;
            this.storage = storage;
            this.token$ = new cjs.BehaviorSubject(null);
            this.STORAGE_KEY = 'access-token';
            this.persistent = false;
            this.isLoading$ = new cjs.BehaviorSubject(true);
            this.initializeFromStorage();
        }
        initializeFromStorage() {
            const tokenFrom = (storage) => this.storage
                .get(this.STORAGE_KEY, storage)
                .pipe(cjs.filter(Boolean));
            cjs.concat(tokenFrom("session" /* StorageType.SESSION */), tokenFrom("local" /* StorageType.LOCAL */).pipe(cjs.tap(() => (this.persistent = true))))
                .pipe(cjs.take(1))
                .subscribe({
                next: (token) => {
                    this.token$.next(token);
                },
                complete: () => {
                    this.isLoading$.next(false);
                },
            });
        }
        get() {
            return this.isLoading$.pipe(cjs.filter((loading) => !loading), cjs.switchMap(() => this.token$), cjs.filter((token) => this.renewIfNeeded(token)));
        }
        renewIfNeeded(token) {
            if (token && requiresRefresh(token)) {
                if (canRenew(token))
                    this.renew(token);
                else {
                    this.remove();
                }
                return false;
            }
            return true;
        }
        renew(token) {
            this.isLoading$.next(true);
            this.adapter.refresh(token).subscribe({
                next: (token) => {
                    this.isLoading$.next(false);
                    this.set({ token });
                },
                error: () => this.remove(),
                complete: () => this.isLoading$.next(false),
            });
        }
        remove() {
            this.token$.next(null);
            return this.storage.remove(this.STORAGE_KEY, this.getStorageType());
        }
        set({ token, persist, }) {
            this.token$.next(token);
            if (persist !== undefined)
                this.persistent = persist;
            return this.storage.set(this.STORAGE_KEY, token, this.getStorageType());
        }
        getStorageType() {
            return this.persistent ? "local" /* StorageType.LOCAL */ : "session" /* StorageType.SESSION */;
        }
    }

    const componentsProvider$7 = {
        provide: ComponentMapping,
        useValue: {
            ['auth-login']: {
                template: (uid, layoutClasses) => y `<auth-login
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></auth-login>`,
            },
            ['auth-logout']: {
                template: (uid, layoutClasses) => y `<auth-logout
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></auth-logout>`,
            },
        },
    };

    const IdentityService = 'FES.IdentityService';
    const IdentityInterceptor = `${HttpInterceptor}Identity`;

    class DefaultIdentityInterceptor {
        constructor(identity = inject(IdentityService)) {
            this.identity = identity;
        }
        intercept(url, options, handle) {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => handle(url, this.optionsWithHeaders(identity, options))));
        }
        optionsWithHeaders(identity, options) {
            if (!identity.anonymous && identity.token) {
                delete options.headers?.["X-Anonymous-Customer-Unique-Id" /* AuthHeaderTypes.AnonymousCustomerUniqueId */];
                options.headers = {
                    ...options.headers,
                    ["Authorization" /* AuthHeaderTypes.Authorization */]: `${identity.token.tokenType} ${identity.token.accessToken}`,
                };
            }
            else {
                delete options.headers?.["Authorization" /* AuthHeaderTypes.Authorization */];
                options.headers = {
                    ...options.headers,
                    ["X-Anonymous-Customer-Unique-Id" /* AuthHeaderTypes.AnonymousCustomerUniqueId */]: identity.id,
                };
            }
            return options;
        }
    }

    class DefaultIdentityService {
        constructor(storage = inject(StorageService), accessToken = inject(AccessTokenService)) {
            this.storage = storage;
            this.accessToken = accessToken;
            this.ANONYMOUS_USER_IDENTIFIER = 'anonymous-user';
            this.identity$ = this.accessToken.get().pipe(cjs.switchMap((token) => token
                ? this.getFromToken(token).pipe(cjs.tap(() => this.clearAnonymousId()))
                : this.getAnonymous()), cjs.shareReplay(1));
        }
        get() {
            return this.identity$;
        }
        getFromToken(token) {
            let id;
            try {
                const tokenPayload = parseToken(token.accessToken);
                id = tokenPayload.sub.customer_reference;
                // eslint-disable-next-line no-empty
            }
            catch (e) { }
            return id
                ? cjs.of({ id, anonymous: false, token })
                : cjs.throwError(() => new Error('Unable to retrieve user ID'));
        }
        getAnonymous() {
            return this.storage
                .get(this.ANONYMOUS_USER_IDENTIFIER, "session" /* StorageType.SESSION */)
                .pipe(cjs.switchMap((anonymousId) => {
                return anonymousId ? cjs.of(anonymousId) : this.createAnonymousId();
            }), cjs.map((id) => ({ id, anonymous: true })));
        }
        createAnonymousId() {
            const userId = generateID(8);
            return this.storage
                .set(this.ANONYMOUS_USER_IDENTIFIER, userId, "session" /* StorageType.SESSION */)
                .pipe(cjs.map(() => userId));
        }
        clearAnonymousId() {
            this.storage
                .remove(this.ANONYMOUS_USER_IDENTIFIER, "session" /* StorageType.SESSION */)
                .subscribe();
        }
    }

    const authProviders = [
        componentsProvider$7,
        {
            provide: AccessTokenService,
            useClass: DefaultAccessTokenService,
        },
        {
            provide: AuthService,
            useClass: DefaultAuthService,
        },
        { provide: AuthAdapter, useClass: DefaultAuthAdapter },
        {
            provide: IdentityService,
            useClass: DefaultIdentityService,
        },
        {
            provide: IdentityInterceptor,
            useClass: DefaultIdentityInterceptor,
        },
        ...tokenNormalizer,
    ];

    const authComponents = Object.values(components$8);
    const authFeature = {
        providers: authProviders,
        components: authComponents,
    };

    var AuthHeaderTypes;
    (function (AuthHeaderTypes) {
        AuthHeaderTypes["Authorization"] = "Authorization";
        AuthHeaderTypes["AnonymousCustomerUniqueId"] = "X-Anonymous-Customer-Unique-Id";
    })(AuthHeaderTypes || (AuthHeaderTypes = {}));

    const addToCartComponent = componentDef({
        name: 'oryx-cart-add',
        impl: () => Promise.resolve().then(() => add_component).then((m) => m.CartAddComponent),
    });

    const cartEntriesComponent = componentDef({
        name: 'cart-entries',
        impl: () => Promise.resolve().then(() => entries_component).then((m) => m.CartEntriesComponent),
    });

    const cartEntryConfirmationComponent = componentDef({
        name: 'cart-entry-confirmation',
        impl: () => Promise.resolve().then(() => confirmation_component).then((m) => m.CartEntryConfirmationComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => confirmation_styles).then((m) => m.confirmationScreenStyles),
            },
        ],
    });

    const cartEntryContentComponent = componentDef({
        name: 'cart-entry-content',
        impl: () => Promise.resolve().then(() => content_component).then((m) => m.CartEntryContentComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => content_styles).then((m) => m.contentScreenStyles),
            },
        ],
    });

    const cartEntryOptionsComponent = componentDef({
        name: 'cart-entry-options',
        impl: () => Promise.resolve().then(() => options_component).then((m) => m.CartEntryOptionsComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => options_styles).then((m) => m.optionsScreenStyles),
            },
        ],
    });

    const cartEntryPriceComponent = componentDef({
        name: 'cart-entry-price',
        impl: () => Promise.resolve().then(() => price_component$1).then((m) => m.CartEntryPriceComponent),
    });

    const cartEntryTotalsComponent = componentDef({
        name: 'cart-entry-totals',
        impl: () => Promise.resolve().then(() => totals_component$1).then((m) => m.CartEntryTotalsComponent),
    });

    const cartEntryComponent = componentDef({
        name: 'cart-entry',
        impl: () => Promise.resolve().then(() => entry_component).then((m) => m.CartEntryComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$4).then((m) => m.screenStyles),
            },
        ],
    });

    const miniCartComponent = componentDef({
        name: 'mini-cart',
        impl: () => Promise.resolve().then(() => miniCart_component).then((m) => m.MiniCartComponent),
    });

    const quantityInputComponent = componentDef({
        name: 'oryx-cart-quantity-input',
        impl: () => Promise.resolve().then(() => quantityInput_component).then((m) => m.QuantityInputComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => quantityInput_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const cartTotalsComponent = componentDef({
        name: 'cart-totals',
        impl: () => Promise.resolve().then(() => totals_component).then((m) => m.CartTotalsComponent),
    });

    const components$7 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        addToCartComponent,
        cartEntriesComponent,
        cartEntryConfirmationComponent,
        cartEntryContentComponent,
        cartEntryOptionsComponent,
        cartEntryPriceComponent,
        cartEntryTotalsComponent,
        cartEntryComponent,
        miniCartComponent,
        quantityInputComponent,
        cartTotalsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const siteNotificationCenterComponent = componentDef({
        name: 'site-notification-center',
        impl: () => Promise.resolve().then(() => notificationCenter_component).then((m) => m.SiteNotificationCenterComponent),
    });

    const components$6 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        siteNotificationCenterComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const StoreNormalizer = 'FES.StoreNormalizer*';
    function storeAttributesNormalizer(data) {
        return data;
    }
    const storeNormalizer = [
        {
            provide: StoreNormalizer,
            useValue: storeAttributesNormalizer,
        },
    ];

    class DefaultStoreAdapter {
        constructor(httpService = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService)) {
            this.httpService = httpService;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
        }
        get() {
            return this.httpService
                .get(`${this.SCOS_BASE_URL}/stores`)
                .pipe(this.transformer.do(StoreNormalizer));
        }
    }

    const StoreAdapter = 'FES.StoreAdapter';

    const CountryService = 'FES.CountryService';

    class DefaultStoreService {
        constructor(adapter = inject(StoreAdapter), store = inject('STORE')) {
            this.adapter = adapter;
            this.store = store;
            this.stores$ = this.adapter.get().pipe(cjs.shareReplay(1));
            this.store$ = new cjs.BehaviorSubject(null);
            this.subscription = new cjs.Subscription();
        }
        getAll() {
            return this.stores$;
        }
        get() {
            return this.store$.pipe(cjs.switchMap((store) => !store
                ? this.getAll().pipe(cjs.map((stores) => stores.find((store) => store.id === this.store) ?? null))
                : cjs.of(store)));
        }
    }

    const StoreService = 'FES.StoreService';

    class DefaultCountryService {
        constructor(storeService = inject(StoreService)) {
            this.storeService = storeService;
            this.country$ = new cjs.BehaviorSubject('');
        }
        getAll() {
            return this.storeService.get().pipe(cjs.filter((response) => !!response), cjs.map((response) => response.countries));
        }
        get() {
            return cjs.combineLatest([this.getAll(), this.country$]).pipe(cjs.map(([countries, country]) => countries.find((c) => c.iso2Code === country) ?? null));
        }
        set(value) {
            this.country$.next(value);
        }
    }

    const CurrencyService = 'FES.CurrencyService';

    class DefaultCurrencyService {
        constructor(storeService = inject(StoreService)) {
            this.storeService = storeService;
            this.active$ = new cjs.BehaviorSubject(null);
        }
        getAll() {
            return this.loadStore().pipe(cjs.map((store) => store.currencies));
        }
        get() {
            return this.active$.pipe(cjs.switchMap((active) => active
                ? cjs.of(active)
                : this.loadStore().pipe(cjs.map((store) => store.defaultCurrency))));
        }
        set(value) {
            this.active$.next(value);
        }
        loadStore() {
            return this.storeService
                .get()
                .pipe(cjs.filter((response) => !!response));
        }
    }

    const notificationComponent = componentDef({
        name: 'oryx-notification',
        impl: () => Promise.resolve().then(() => notification_component).then((m) => m.NotificationComponent),
    });

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    function n$1(n,o,r){return n?o():null==r?void 0:r()}

    var Types;
    (function (Types) {
        Types["INFO"] = "info";
        Types["ERROR"] = "error";
        Types["WARNING"] = "warning";
        Types["SUCCESS"] = "success";
    })(Types || (Types = {}));
    var Schemes;
    (function (Schemes) {
        Schemes["LIGHT"] = "light";
        Schemes["DARK"] = "dark";
    })(Schemes || (Schemes = {}));
    const CLOSE_EVENT$2 = 'oryx.close';

    const notificationBaseStyles = i$7 `
  :host {
    display: flex;
    flex-direction: column;
    position: relative;
    padding-block: 17px;
    padding-inline: 15px 15px;
  }

  :host([closable]) {
    padding-inline-end: 49px;
  }

  slot {
    line-height: 24px;
  }

  oryx-icon-button {
    --oryx-icon-size: 12px;

    position: absolute;
    top: 16px;
    inset-inline-end: 16px;
    cursor: pointer;
  }
`;

    const notificationStyles = i$7 `
  :host {
    border-inline-start: 6px solid var(--_notification-main-color);
    border-radius: var(--oryx-border-radius-small);
  }

  :host([type]) {
    padding-inline-start: 64px;
  }

  :host([type])::before {
    position: absolute;
    top: 10px;
    inset-inline-start: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    border-radius: 50%;
    line-height: 12px;
  }

  :host([type='${r$5(Types.INFO)}'])::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24px' height='24px'%3E %3Cpath d='M12.1498 10.55C12.543 10.5472 12.9249 10.6815 13.2298 10.93C13.5081 11.1509 13.6732 11.4847 13.6798 11.84V17C13.6058 17.7734 12.924 18.3437 12.1498 18.28C11.3755 18.3437 10.6937 17.7734 10.6198 17V11.84C10.6264 11.4847 10.7914 11.1509 11.0698 10.93C11.3746 10.6815 11.7565 10.5472 12.1498 10.55Z' fill='%232480F2' /%3E %3Cpath d='M13.6798 7.59001C13.6798 6.74501 12.9948 6.06001 12.1498 6.06001C11.3048 6.06001 10.6198 6.74501 10.6198 7.59001C10.6198 7.99579 10.781 8.38495 11.0679 8.67188C11.3548 8.95881 11.744 9.12001 12.1498 9.12001C12.9948 9.12001 13.6798 8.435 13.6798 7.59001Z' fill='%232480F2' /%3E %3Cpath d='M1.00977 12.1567C1.00793 18.312 5.99439 23.3045 12.1498 23.31C18.311 23.3045 23.3042 18.3112 23.3098 12.15C23.3042 5.99464 18.3118 1.00817 12.1564 1.01001C6.00106 1.01185 1.01161 6.00131 1.00977 12.1567ZM3.97248 8.77557C5.3417 5.46733 8.56936 3.31001 12.1498 3.31001C17.0313 3.3155 20.9887 7.26848 20.9998 12.15C21.0038 15.7304 18.8501 18.9605 15.5434 20.3335C12.2368 21.7064 8.42857 20.9517 5.89541 18.4214C3.36226 15.8911 2.60325 12.0838 3.97248 8.77557Z' fill='%232480F2' /%3E %3C/svg%3E ");
    background: var(--oryx-color-info-100);
  }

  :host([type='${r$5(Types.SUCCESS)}'])::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24px' height='24px'%3E %3Cpath d='M11.1198 16.3664C11.4502 16.3664 11.767 16.2345 11.9998 16L17.4898 10.47C17.8042 10.1556 17.9269 9.69737 17.8119 9.2679C17.6968 8.83843 17.3613 8.50298 16.9319 8.3879C16.5024 8.27283 16.0442 8.39561 15.7298 8.71001L11.3398 13.1C11.2816 13.1586 11.2024 13.1916 11.1198 13.1916C11.0372 13.1916 10.958 13.1586 10.8998 13.1L9.27976 11.48C8.96537 11.1656 8.50713 11.0428 8.07766 11.1579C7.64819 11.273 7.31274 11.6084 7.19766 12.0379C7.08258 12.4674 7.20537 12.9256 7.51976 13.24L10.2398 16C10.4726 16.2345 10.7893 16.3664 11.1198 16.3664Z' fill='%2317b497' /%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.1498 23.31C5.99439 23.3045 1.00793 18.312 1.00977 12.1567C1.01161 6.00131 6.00106 1.01185 12.1564 1.01001C18.3118 1.00817 23.3042 5.99464 23.3098 12.15C23.3042 18.3112 18.311 23.3045 12.1498 23.31ZM12.1498 3.31001C8.56936 3.31001 5.3417 5.46733 3.97248 8.77557C2.60325 12.0838 3.36226 15.8911 5.89541 18.4214C8.42857 20.9517 12.2368 21.7064 15.5434 20.3335C18.8501 18.9605 21.0038 15.7304 20.9998 12.15C20.9887 7.26848 17.0313 3.3155 12.1498 3.31001Z' fill='%2317b497' /%3E %3C/svg%3E");
    background: var(--oryx-color-success-100);
  }

  :host([type='${r$5(Types.WARNING)}'])::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24px' height='24px'%3E %3Cpath d='M12 5.26509C12.7611 5.18489 13.4491 5.72154 13.5566 6.47925V11.3151C13.4491 12.0728 12.7611 12.6095 12 12.5292C11.2389 12.6095 10.5509 12.0728 10.4434 11.3151V6.46887C10.5559 5.71534 11.2424 5.18445 12 5.26509Z' fill='%23ff6800' /%3E %3Cpath d='M13.5566 16.1613C13.5566 15.3016 12.8597 14.6047 12 14.6047C11.1403 14.6047 10.4434 15.3016 10.4434 16.1613C10.4434 17.021 11.1403 17.7179 12 17.7179C12.8597 17.7179 13.5566 17.021 13.5566 16.1613Z' fill='%23ff6800' /%3E %3Cpath d='M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C22.9943 18.0728 18.0728 22.9943 12 23ZM12 3.28302C7.1871 3.28302 3.28493 7.18364 3.28303 11.9965C3.28112 16.8094 7.18019 20.7132 11.9931 20.717C16.806 20.7208 20.7113 16.8233 20.717 12.0104C20.717 7.19444 16.8159 3.28875 12 3.28302Z' fill='%23ff6800' /%3E %3C/svg%3E ");
    background: var(--oryx-color-warning-100);
  }

  :host([type='${r$5(Types.ERROR)}'])::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24px' height='24px'%3E %3Cpath d='M12.2317 23.4633C6.02859 23.4633 1 18.4347 1 12.2317C1 6.02859 6.02859 1 12.2317 1C18.4347 1 23.4633 6.02859 23.4633 12.2317C23.458 18.4326 18.4326 23.458 12.2317 23.4633ZM12.2317 3.33833C7.30943 3.33833 3.31917 7.3286 3.31917 12.2508C3.31917 14.2442 3.97355 16.0846 5.0792 17.5692L17.4359 5.00988C15.9718 3.95382 14.1745 3.33084 12.2317 3.32875V3.33833ZM19.3696 6.90985L7.01327 19.4767C8.48011 20.5378 10.2828 21.1633 12.2317 21.1633C17.1539 21.1633 21.1442 17.1731 21.1442 12.2508C21.1442 10.2479 20.4841 8.39897 19.3696 6.90985Z' fill='%23f2392e' /%3E %3C/svg%3E");
    background: var(--oryx-color-error-100);
  }

  :host([type='${r$5(Types.INFO)}']) {
    --_notification-main-color: var(--oryx-color-info-300);
  }

  :host([type='${r$5(Types.SUCCESS)}']) {
    --_notification-main-color: var(--oryx-color-success-300);
  }

  :host([type='${r$5(Types.WARNING)}']) {
    --_notification-main-color: var(--oryx-color-warning-300);
  }

  :host([type='${r$5(Types.ERROR)}']) {
    --_notification-main-color: var(--oryx-color-error-300);
  }

  :host([floating]) {
    box-shadow: var(--oryx-elevation-3) var(--oryx-elevation-color);
  }

  :host([scheme='${r$5(Schemes.LIGHT)}']) {
    background: var(--oryx-color-canvas-100);
  }

  :host([scheme='${r$5(Schemes.DARK)}']) {
    background: var(--oryx-color-canvas-200);
  }

  slot[name='icon'] {
    display: block;
    padding: 7px;
    border-radius: 50%;
    color: var(--_notification-main-color);
  }

  slot[name='icon'] > i {
    all: unset;
    width: 24px;
    height: 24px;
    background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjMiIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAyMyAyMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjExOTggMTUuMzY2NEMxMC40NTAyIDE1LjM2NjQgMTAuNzY3IDE1LjIzNDUgMTAuOTk5OCAxNUwxNi40ODk4IDkuNDcwMDFDMTYuODA0MiA5LjE1NTYxIDE2LjkyNjkgOC42OTczNyAxNi44MTE5IDguMjY3OUMxNi42OTY4IDcuODM4NDMgMTYuMzYxMyA3LjUwMjk4IDE1LjkzMTkgNy4zODc5QzE1LjUwMjQgNy4yNzI4MyAxNS4wNDQyIDcuMzk1NjEgMTQuNzI5OCA3LjcxMDAxTDEwLjMzOTggMTIuMUMxMC4yODE2IDEyLjE1ODYgMTAuMjAyNCAxMi4xOTE2IDEwLjExOTggMTIuMTkxNkMxMC4wMzcyIDEyLjE5MTYgOS45NTc5NiAxMi4xNTg2IDkuODk5NzYgMTIuMUw4LjI3OTc2IDEwLjQ4QzcuOTY1MzcgMTAuMTY1NiA3LjUwNzEzIDEwLjA0MjggNy4wNzc2NiAxMC4xNTc5QzYuNjQ4MTkgMTAuMjczIDYuMzEyNzQgMTAuNjA4NCA2LjE5NzY2IDExLjAzNzlDNi4wODI1OCAxMS40Njc0IDYuMjA1MzcgMTEuOTI1NiA2LjUxOTc2IDEyLjI0TDkuMjM5NzYgMTVDOS40NzI1NiAxNS4yMzQ1IDkuNzg5MzMgMTUuMzY2NCAxMC4xMTk4IDE1LjM2NjRaIiBmaWxsPSIjMTdCNDk3Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuMTQ5OCAyMi4zMUM0Ljk5NDM5IDIyLjMwNDUgMC4wMDc5MjY2NyAxNy4zMTIgMC4wMDk3NjYxMyAxMS4xNTY3QzAuMDExNjA4NyA1LjAwMTMxIDUuMDAxMDYgMC4wMTE4NTI4IDExLjE1NjQgMC4wMTAwMTAzQzE3LjMxMTggMC4wMDgxNzA4MSAyMi4zMDQyIDQuOTk0NjQgMjIuMzA5OCAxMS4xNUMyMi4zMDQyIDE3LjMxMTIgMTcuMzExIDIyLjMwNDUgMTEuMTQ5OCAyMi4zMVpNMTEuMTQ5OCAyLjMxMDAxQzcuNTY5MzYgMi4zMTAwMSA0LjM0MTcgNC40NjczMyAyLjk3MjQ4IDcuNzc1NTdDMS42MDMyNSAxMS4wODM4IDIuMzYyMjYgMTQuODkxMSA0Ljg5NTQxIDE3LjQyMTRDNy40Mjg1NyAxOS45NTE3IDExLjIzNjggMjAuNzA2NCAxNC41NDM0IDE5LjMzMzVDMTcuODUwMSAxNy45NjA1IDIwLjAwMzggMTQuNzMwNCAxOS45OTk4IDExLjE1QzE5Ljk4ODcgNi4yNjg0OCAxNi4wMzEzIDIuMzE1NSAxMS4xNDk4IDIuMzEwMDFaIiBmaWxsPSIjMTdCNDk3Ii8+Cjwvc3ZnPgo=')
      no-repeat;
  }

  slot[name='subtext'] {
    color: var(--oryx-color-neutral-300);
  }
`;

    class NotificationComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.closable = false;
            this.floating = false;
            //translation
            this.closeButtonAriaLabel = 'close the notification';
        }
        dispatchCloseEvent() {
            this.dispatchEvent(new CustomEvent(CLOSE_EVENT$2, {
                composed: true,
                bubbles: true,
            }));
        }
        render() {
            return y `
      <slot></slot>
      <slot name="subtext">${this.subtext}</slot>
      ${n$1(this.closable, () => y `
          <oryx-icon-button size="small">
            <button
              aria-label=${this.closeButtonAriaLabel}
              @click="${() => this.dispatchCloseEvent()}"
            >
              <oryx-icon type="close"></oryx-icon>
            </button>
          </oryx-icon-button>
        `)}
    `;
        }
    }
    NotificationComponent.styles = [notificationBaseStyles, notificationStyles];
    __decorate([
        e$3({ type: String, reflect: true }),
        __metadata("design:type", String)
    ], NotificationComponent.prototype, "type", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], NotificationComponent.prototype, "closable", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], NotificationComponent.prototype, "floating", void 0);
    __decorate([
        e$3({ type: String, reflect: true }),
        __metadata("design:type", String)
    ], NotificationComponent.prototype, "scheme", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], NotificationComponent.prototype, "subtext", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], NotificationComponent.prototype, "closeButtonAriaLabel", void 0);

    const notification_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        NotificationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class DefaultNotificationService {
        constructor() {
            this.notification$ = new cjs.BehaviorSubject(null);
        }
        get() {
            return this.notification$;
        }
        push(strategy) {
            //TODO We should consider improving it in the future, with abstracted or custom event system.
            window?.dispatchEvent(new CustomEvent('oryx-notify'));
            this.notification$.next(strategy);
            return cjs.of(undefined);
        }
    }

    const NotificationService$1 = 'FES.NotificationService';

    class SiteErrorHandler {
        constructor(notificationService = inject(NotificationService$1)) {
            this.notificationService = notificationService;
        }
        handle(error) {
            const message = (typeof error === 'object' && error?.message) ?? String(error);
            this.notificationService.push({
                type: Types.ERROR,
                content: 'Error',
                subtext: message,
            });
        }
    }

    class DefaultLocaleService {
        constructor(storeService = inject(StoreService)) {
            this.storeService = storeService;
            this.active$ = new cjs.BehaviorSubject(null);
        }
        getAll() {
            return this.storeService.get().pipe(cjs.filter((response) => !!response), cjs.map((response) => response.locales));
        }
        get() {
            return this.active$.pipe(cjs.switchMap((active) => active
                ? cjs.of(active)
                : this.getAll().pipe(cjs.map((locales) => locales?.[0].name))));
        }
        set(value) {
            this.active$.next(value);
        }
        formatDate(stamp) {
            return this.get().pipe(cjs.map((locale) => Intl.DateTimeFormat(locale.replace('_', '-')).format(new Date(stamp))));
        }
    }

    const LocaleService = 'FES.LocaleService';

    class DefaultPricingService {
        constructor() {
            this.currencyService = resolve(CurrencyService);
            this.localeService = resolve(LocaleService);
        }
        format(price) {
            return cjs.combineLatest([
                this.currencyService.get(),
                this.localeService.get(),
            ]).pipe(cjs.map(([currency, locale]) => this.formatPrice(price, currency, locale.replace('_', '-'))));
        }
        formatPrice(price, currency, locale) {
            if (typeof price === 'undefined') {
                return null;
            }
            const isComplexPrice = typeof price === 'object';
            const value = isComplexPrice ? price.value : price;
            if (isComplexPrice && price.currency !== currency) {
                throw new Error(`Price error: ${price.currency} is invalid currency`);
            }
            if (isNaN(+value)) {
                throw new Error(`Price error: ${price} is invalid value`);
            }
            return new Intl.NumberFormat(locale, {
                style: 'currency',
                currency,
            }).format(+value / 100);
        }
    }

    const PricingService = 'FES.PricingService';

    class DefaultSalutationService {
        constructor() {
            this.salutations = [
                { text: 'Mr.', value: 'mr' },
                { text: 'Ms.', value: 'ms' },
                { text: 'Mrs.', value: 'mrs' },
                { text: 'Dr.', value: 'dr' },
            ];
        }
        get() {
            return cjs.of(this.salutations);
        }
    }

    const SalutationService = 'FES.SalutationService';

    var SemanticLinkType;
    (function (SemanticLinkType) {
        SemanticLinkType["ProductList"] = "search";
        SemanticLinkType["Page"] = "page";
        SemanticLinkType["Product"] = "product";
        SemanticLinkType["Category"] = "category";
        SemanticLinkType["Checkout"] = "checkout";
    })(SemanticLinkType || (SemanticLinkType = {}));
    const SemanticLinkService = 'FES.SemanticLinkService';

    class DefaultSemanticLinkService {
        constructor() {
            this.types = {
                // TODO: PLP link generation with search params
                [SemanticLinkType.ProductList]: (link) => `/search${link.params
                ? `?${this.getUrlParams(link.params)}`
                : encodeURIComponent(link.id ?? '')}`,
                [SemanticLinkType.Page]: (link) => `/${encodeURIComponent(link.id ?? '')}`,
                [SemanticLinkType.Product]: (link) => `/product/${encodeURIComponent(link.id ?? '')}`,
                [SemanticLinkType.Category]: (link) => `/category/${link.id}${link.params ? `?${this.getUrlParams(link.params)}` : ''}`,
                [SemanticLinkType.Checkout]: () => '/checkout',
            };
        }
        get(link) {
            if (!this.types[link.type]) {
                return cjs.throwError(() => new Error('Link type is not supported'));
            }
            return cjs.of(this.types[link.type]?.(link));
        }
        getUrlParams(params) {
            const encodedParams = Object.fromEntries(Object.entries(params).map(([k, v]) => [k, encodeURIComponent(v)]));
            return new URLSearchParams(encodedParams).toString();
        }
    }

    const componentsProvider$6 = {
        provide: ComponentMapping,
        useValue: {
            ['site-notification-center']: {
                template: (uid, layoutClasses) => y `<site-notification-center
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></site-notification-center>`,
            },
        },
    };

    const siteProviders = [
        componentsProvider$6,
        {
            provide: 'SCOS_BASE_URL',
            useValue: {"SCOS_BASE_URL":"https://glue.de.faas-suite-prod.cloud.spryker.toys","FES_CONTENT_BACKEND_URL":"http://localhost:3013","STORE":"DE","BASE_URL":"/","MODE":"production","DEV":false,"PROD":true}?.SCOS_BASE_URL || '',
        },
        {
            provide: 'STORE',
            useValue: {"SCOS_BASE_URL":"https://glue.de.faas-suite-prod.cloud.spryker.toys","FES_CONTENT_BACKEND_URL":"http://localhost:3013","STORE":"DE","BASE_URL":"/","MODE":"production","DEV":false,"PROD":true}?.STORE || '',
        },
        {
            provide: SemanticLinkService,
            useClass: DefaultSemanticLinkService,
        },
        {
            provide: StoreService,
            useClass: DefaultStoreService,
        },
        {
            provide: StoreAdapter,
            useClass: DefaultStoreAdapter,
        },
        {
            provide: CountryService,
            useClass: DefaultCountryService,
        },
        {
            provide: CurrencyService,
            useClass: DefaultCurrencyService,
        },
        {
            provide: LocaleService,
            useClass: DefaultLocaleService,
        },
        {
            provide: PricingService,
            useClass: DefaultPricingService,
        },
        {
            provide: NotificationService$1,
            useClass: DefaultNotificationService,
        },
        {
            provide: ErrorHandler,
            useClass: SiteErrorHandler,
        },
        {
            provide: SalutationService,
            useClass: DefaultSalutationService,
        },
        ...storeNormalizer,
    ];

    const siteComponents = Object.values(components$6);
    const siteFeature = {
        providers: siteProviders,
        components: siteComponents,
    };

    class CartController {
        constructor(host) {
            this.host = host;
            this.cartService = resolve(CartService);
            this.pricingService = resolve(PricingService);
            this.observe = new ObserveController(host);
        }
        /**
         * Returns the cumulated quantities of all cart entries.
         */
        getTotalQuantity() {
            return this.observe.get('cartId').pipe(cjs.switchMap((cartId) => this.cartService.getCart({ cartId })), cjs.map((cart) => this.cumulateQuantity(cart)));
        }
        getTotals() {
            return this.observe.get('cartId').pipe(cjs.switchMap((cartId) => this.cartService.getCart({ cartId })), cjs.switchMap((cart) => cart?.products
                ? cjs.of(cart).pipe(cjs.switchMap(() => cjs.combineLatest([
                    this.formatTotals(cart),
                    this.formatDiscounts(cart),
                    cjs.of({
                        itemsQuantity: this.cumulateQuantity(cart),
                        priceMode: cart.priceMode,
                    }),
                ]).pipe(cjs.map(([calculations, discounts, details]) => ({
                    calculations,
                    ...(discounts && { discounts }),
                    ...details,
                })))))
                : cjs.of(null)));
        }
        /**
         * Cumulates the quantities for all the cart entries.
         */
        cumulateQuantity(cart) {
            return (cart?.products?.reduce((acc, { quantity }) => acc + quantity, 0) ?? null);
        }
        formatDiscounts(cart) {
            return cjs.of(cart).pipe(cjs.switchMap((cart) => (cart.discounts ?? []).reduce((acc$, discount) => acc$.pipe(cjs.switchMap((acc) => this.pricingService.format(-discount.amount).pipe(cjs.filter((amount) => amount !== null), cjs.map((amount) => [...acc, { ...discount, amount }])))), cjs.of([]))));
        }
        /**
         * Formats the cart totals by using the `PricingService.format()` method. The price
         * formatting requires a lookup on the locale and currency, which is why this API is
         * observable based.
         */
        formatTotals(cart) {
            return cjs.of(cart).pipe(cjs.switchMap((cart) => Object.entries(cart.totals ?? {}).reduce((acc$, [priceType, price]) => {
                return acc$.pipe(cjs.switchMap((acc) => {
                    if (!price) {
                        return cjs.of({ ...acc });
                    }
                    if (priceType === 'discountTotal') {
                        price = -price;
                    }
                    return this.pricingService.format(price).pipe(cjs.map((formattedPrice) => ({
                        ...acc,
                        [priceType]: formattedPrice,
                    })));
                }));
            }, cjs.of({}))));
        }
    }

    const CartAdapter = 'FES.CartAdapter';

    var ApiCartModel;
    (function (ApiCartModel) {
        (function (PriceMode) {
            PriceMode["GrossMode"] = "GROSS_MODE";
            PriceMode["NetMode"] = "NET_MODE";
        })(ApiCartModel.PriceMode || (ApiCartModel.PriceMode = {}));
        (function (Includes) {
            Includes["Items"] = "items";
            Includes["GuestCartItems"] = "guest-cart-items";
            Includes["ProductOptions"] = "product-options";
        })(ApiCartModel.Includes || (ApiCartModel.Includes = {}));
        (function (UrlParts) {
            UrlParts["Customers"] = "customers";
            UrlParts["Carts"] = "carts";
            UrlParts["Items"] = "items";
            UrlParts["GuestCarts"] = "guest-carts";
            UrlParts["GuestCartItems"] = "guest-cart-items";
        })(ApiCartModel.UrlParts || (ApiCartModel.UrlParts = {}));
    })(ApiCartModel || (ApiCartModel = {}));

    var PriceMode;
    (function (PriceMode) {
        PriceMode["GrossMode"] = "GROSS_MODE";
        PriceMode["NetMode"] = "NET_MODE";
    })(PriceMode || (PriceMode = {}));

    const CartNormalizer = 'FES.CartNormalizer*';
    function cartAttributesNormalizer(data) {
        const guestItemsKey = camelize(ApiCartModel.Includes.GuestCartItems);
        const itemsKey = camelize(ApiCartModel.Includes.Items);
        const products = data[itemsKey] ?? data[guestItemsKey];
        delete data[itemsKey];
        delete data[guestItemsKey];
        return {
            ...data,
            products,
        };
    }
    const cartNormalizer = [
        {
            provide: CartNormalizer,
            useValue: cartAttributesNormalizer,
        },
    ];

    const CartsNormalizer = 'FES.CartsNormalizer*';
    function cartsItemsNormalizer(data, transformer) {
        return cjs.combineLatest(data.map((cart) => transformer.transform(cart, CartNormalizer)));
    }
    const cartsNormalizer = [
        {
            provide: CartsNormalizer,
            useValue: cartsItemsNormalizer,
        },
    ];

    /* eslint-disable @typescript-eslint/no-non-null-assertion */
    class DefaultCartAdapter {
        constructor(http = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService), identity = inject(IdentityService)) {
            this.http = http;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.identity = identity;
        }
        getAll() {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                const url = this.generateUrl(!identity.anonymous
                    ? `${ApiCartModel.UrlParts.Customers}/${identity.id}/${ApiCartModel.UrlParts.Carts}`
                    : ApiCartModel.UrlParts.GuestCarts, identity.anonymous);
                return this.http
                    .get(url)
                    .pipe(this.transformer.do(CartsNormalizer));
            }));
        }
        get(data) {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                const url = this.generateUrl(`${!identity.anonymous
                ? ApiCartModel.UrlParts.Carts
                : ApiCartModel.UrlParts.GuestCarts}/${data.cartId}`, identity.anonymous);
                return this.http
                    .get(url)
                    .pipe(this.transformer.do(CartNormalizer));
            }));
        }
        addEntry(data) {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                const url = data.cartId
                    ? this.generateUrl(!identity.anonymous
                        ? `${ApiCartModel.UrlParts.Carts}/${data.cartId}/${ApiCartModel.UrlParts.Items}`
                        : `${ApiCartModel.UrlParts.GuestCarts}/${data.cartId}/${ApiCartModel.UrlParts.GuestCartItems}`, identity.anonymous)
                    : this.generateUrl(ApiCartModel.UrlParts.GuestCartItems, identity.anonymous);
                const body = {
                    data: {
                        type: !identity.anonymous
                            ? ApiCartModel.UrlParts.Items
                            : ApiCartModel.UrlParts.GuestCartItems,
                        attributes: data.attributes,
                    },
                };
                return this.http
                    .post(url, body)
                    .pipe(this.transformer.do(CartNormalizer));
            }));
        }
        updateEntry(data) {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                const url = this.generateUrl(!identity.anonymous
                    ? `${ApiCartModel.UrlParts.Carts}/${data.cartId}/${ApiCartModel.UrlParts.Items}/${data.groupKey}`
                    : `${ApiCartModel.UrlParts.GuestCarts}/${data.cartId}/${ApiCartModel.UrlParts.GuestCartItems}/${data.groupKey}`, identity.anonymous);
                const body = {
                    data: {
                        type: !identity.anonymous
                            ? ApiCartModel.UrlParts.Items
                            : ApiCartModel.UrlParts.GuestCartItems,
                        attributes: data.attributes,
                    },
                };
                return this.http
                    .patch(url, body)
                    .pipe(this.transformer.do(CartNormalizer));
            }));
        }
        deleteEntry(data) {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                const url = this.generateUrl(!identity.anonymous
                    ? `${ApiCartModel.UrlParts.Carts}/${data.cartId}/${ApiCartModel.UrlParts.Items}/${data.groupKey}`
                    : `${ApiCartModel.UrlParts.GuestCarts}/${data.cartId}/${ApiCartModel.UrlParts.GuestCartItems}/${data.groupKey}`, identity.anonymous);
                return this.http.delete(url);
            }));
        }
        generateUrl(path, isAnonymous) {
            const includes = isAnonymous
                ? [ApiCartModel.Includes.GuestCartItems]
                : [ApiCartModel.Includes.Items];
            return `${this.SCOS_BASE_URL}/${path}${`?include=${includes.join(',')}`}`;
        }
    }

    const CartService = 'FES.CartService';

    const componentsProvider$5 = {
        provide: ComponentMapping,
        useValue: {
            ['cart-add']: {
                template: (uid, layoutClasses) => y `<oryx-cart-add
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></oryx-cart-add>`,
            },
            ['cart-entries']: {
                template: (uid, layoutClasses) => y `<cart-entries
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></cart-entries>`,
            },
            ['cart-totals']: {
                template: (uid, layoutClasses) => y `<cart-totals
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></cart-totals>`,
            },
            ['mini-cart']: {
                template: (uid, layoutClasses) => y `<mini-cart
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></mini-cart>`,
            },
        },
    };

    /* eslint-disable @typescript-eslint/no-non-null-assertion */
    class DefaultCartService {
        constructor(adapter = inject(CartAdapter), identity = inject(IdentityService)) {
            this.adapter = adapter;
            this.identity = identity;
            this.loading$ = new cjs.BehaviorSubject(false);
            this.isAuthenticatedCached$ = new cjs.ReplaySubject();
            this.carts = new Map();
            this.subscription = new cjs.Subscription();
            this.activeCartId$ = new cjs.ReplaySubject(1);
            this.activeCart$ = this.activeCartId$.pipe(cjs.switchMap((id) => this.carts.has(id) ? this.carts.get(id).value$ : cjs.of(null)));
            this.activeCartError$ = this.activeCartId$.pipe(cjs.switchMap((id) => this.carts.has(id) ? this.carts.get(id).error$ : cjs.of(null)));
            this.initSubscriptions();
        }
        initSubscriptions() {
            this.loading$.next(true);
            const loadCartsSubs = this.identity
                .get()
                .pipe(cjs.switchMap(() => this.loadCarts()), cjs.tap(() => this.loading$.next(false)))
                .subscribe();
            this.subscription.add(loadCartsSubs);
        }
        loadCarts() {
            return this.adapter.getAll().pipe(cjs.map((carts) => {
                this.carts.clear();
                if (carts === null) {
                    this.activeCartId$.next(null);
                    return;
                }
                carts.forEach((cart) => {
                    this.addCartToMap(cart);
                    if (cart.isDefault) {
                        this.activeCartId$.next(cart.id);
                    }
                });
            }));
        }
        getLoadingState() {
            return this.loading$;
        }
        load() {
            return this.identity.get().pipe(cjs.take(1), cjs.switchMap(() => this.loadCarts()), cjs.mapTo(null));
        }
        onDestroy() {
            this.subscription.unsubscribe();
            this.loading$.next(false);
            this.loading$.complete();
        }
        // ToDo: implement such methods for multi-cart behavior
        /** get all carts (multi-cart) */
        // getCarts() {}
        /** creates a new cart */
        // create() {}
        /** deletes existing cart */
        // remove() {}
        getCart(data) {
            if (data?.cartId && this.carts.has(data.cartId)) {
                return this.carts.get(data.cartId).value$;
            }
            return this.activeCart$;
        }
        getCartError(data) {
            if (!data?.cartId) {
                return this.activeCartError$;
            }
            return this.carts.get(data.cartId).error$;
        }
        getTotals(data) {
            const cart$ = data?.cartId
                ? this.carts.get(data.cartId).value$
                : this.activeCart$;
            return cart$.pipe(cjs.map((cart) => cart?.totals ?? null));
        }
        getEntries(data) {
            const cart$ = data?.cartId
                ? this.carts.get(data.cartId).value$
                : this.activeCart$;
            return cart$.pipe(cjs.map((cart) => cart?.products ?? []));
        }
        isEmpty(data) {
            return this.getEntries(data).pipe(cjs.map((entries) => !entries?.length));
        }
        addEntry({ cartId, ...attributes }) {
            this.loading$.next(true);
            this.load();
            return this.activeCartId$.pipe(cjs.take(1), cjs.switchMap((activeId) => this.adapter.addEntry({
                cartId: cartId ?? activeId,
                attributes,
            })), cjs.tap((cart) => {
                const isNoCarts = this.carts.size === 0;
                const cartData = this.carts.get(cart.id);
                if (!cartData) {
                    this.addCartToMap(cart);
                }
                else {
                    cartData.value$.next(cart);
                }
                if (isNoCarts) {
                    this.activeCartId$.next(cart.id);
                }
                this.loading$.next(false);
            }), cjs.catchError((error) => {
                this.loading$.next(false);
                this.updateError(error, cartId);
                throw error;
            }), cjs.mapTo(null));
        }
        deleteEntry({ cartId, groupKey, }) {
            this.loading$.next(true);
            this.load();
            return this.activeCartId$.pipe(cjs.take(1), cjs.switchMap((activeId) => this.adapter
                .deleteEntry({
                cartId: cartId ?? activeId,
                groupKey,
            })
                .pipe(cjs.switchMap(() => this.adapter.get({
                cartId: cartId ?? activeId,
            })))), cjs.tap((cart) => {
                const cachedCart = this.carts.get(cart.id);
                cachedCart?.value$.next(cart);
                this.loading$.next(false);
            }), cjs.catchError((error) => {
                this.loading$.next(false);
                this.updateError(error, cartId);
                throw error;
            }), cjs.mapTo(null));
        }
        updateEntry({ cartId, groupKey, ...attributes }) {
            this.loading$.next(true);
            this.load();
            return this.activeCartId$.pipe(cjs.take(1), cjs.switchMap((activeId) => this.adapter.updateEntry({
                groupKey,
                cartId: cartId ?? activeId,
                attributes,
            })), cjs.tap((cart) => {
                const cachedCart = this.carts.get(cart.id);
                cachedCart.value$.next(cart);
                this.loading$.next(false);
            }), cjs.catchError((error) => {
                this.loading$.next(false);
                this.updateError(error, cartId);
                throw error;
            }), cjs.mapTo(null));
        }
        updateError(error, cartId) {
            this.activeCartId$.pipe(cjs.take(1)).subscribe((activeCartId) => {
                const id = cartId ?? activeCartId;
                const cachedCart = this.carts.get(id);
                cachedCart.error$.next(error);
            });
        }
        addCartToMap(cart) {
            const value$ = new cjs.ReplaySubject(1);
            this.carts.set(cart.id, {
                value$,
                error$: new cjs.ReplaySubject(1),
            });
            value$.next(cart);
        }
    }

    const cartProviders = [
        componentsProvider$5,
        {
            provide: CartAdapter,
            useClass: DefaultCartAdapter,
        },
        {
            provide: CartService,
            useClass: DefaultCartService,
        },
        ...cartNormalizer,
        ...cartsNormalizer,
    ];

    const cartComponents = Object.values(components$7);
    const cartFeature = {
        providers: cartProviders,
        components: cartComponents,
    };

    const CartComponentMixin = () => {
        class CartComponent extends ComponentMixin() {
        }
        __decorate([
            e$3({ type: String }),
            __metadata("design:type", String)
        ], CartComponent.prototype, "cartId", void 0);
        return CartComponent;
    };

    const checkoutAddressComponent = componentDef({
        name: 'checkout-address',
        impl: () => Promise.resolve().then(() => address_component).then((m) => m.CheckoutAddressComponent),
    });

    const checkoutCompositionComponent = componentDef({
        name: 'oryx-checkout-composition',
        impl: () => Promise.resolve().then(() => composition_component).then((m) => m.CheckoutCompositionComponent),
    });

    const checkoutContactComponent = componentDef({
        name: 'checkout-contact',
        impl: () => Promise.resolve().then(() => contact_component).then((m) => m.CheckoutContactComponent),
    });

    const checkoutDeliveryComponent = componentDef({
        name: 'checkout-delivery',
        impl: () => Promise.resolve().then(() => delivery_component).then((m) => m.CheckoutDeliveryComponent),
    });

    const checkoutGuestComponent = componentDef({
        name: 'checkout-guest',
        impl: () => Promise.resolve().then(() => guest_component).then((m) => m.CheckoutGuestComponent),
    });

    const checkoutLinkComponent = componentDef({
        name: 'checkout-link',
        impl: () => Promise.resolve().then(() => link_component$2).then((m) => m.CheckoutLinkComponent),
    });

    const checkoutLoginComponent = componentDef({
        name: 'checkout-login',
        impl: () => Promise.resolve().then(() => login_component).then((m) => m.CheckoutLoginComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$3).then((m) => m.layoutScreenStyles),
            },
        ],
    });

    const checkoutPaymentSelectorComponent = componentDef({
        name: 'oryx-checkout-payment-selector',
        impl: () => Promise.resolve().then(() => paymentSelector_component).then((m) => m.CheckoutPaymentSelectorComponent),
    });

    const checkoutShipmentSelectorComponent = componentDef({
        name: 'checkout-shipment-selector',
        impl: () => Promise.resolve().then(() => shipmentSelector_component).then((m) => m.CheckoutShipmentSelectorComponent),
    });

    const components$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        checkoutAddressComponent,
        checkoutCompositionComponent,
        checkoutContactComponent,
        checkoutDeliveryComponent,
        checkoutGuestComponent,
        checkoutLinkComponent,
        checkoutLoginComponent,
        checkoutPaymentSelectorComponent,
        checkoutShipmentSelectorComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const CheckoutDataService = 'FES.CheckoutDataService';

    const CheckoutPaymentService = 'FES.CheckoutPaymentService';

    const CheckoutShipmentService = 'FES.CheckoutShipmentService';

    const CheckoutAdapter = 'FES.CheckoutAdapter';

    var ApiCheckoutModel;
    (function (ApiCheckoutModel) {
        (function (Includes) {
            Includes["Shipments"] = "shipments";
            Includes["ShipmentMethods"] = "shipment-methods";
            Includes["Addresses"] = "addresses";
            Includes["PaymentMethods"] = "payment-methods";
        })(ApiCheckoutModel.Includes || (ApiCheckoutModel.Includes = {}));
    })(ApiCheckoutModel || (ApiCheckoutModel = {}));

    const guestCheckoutStorageKey = 'isGuestCheckout.storageKey';
    const defaultSelectedShipmentMethod = {
        deliveryTime: null,
        carrierName: '',
        currencyIsoCode: '',
        name: '',
        price: 0,
        id: 0,
    };

    var CheckoutTrigger;
    (function (CheckoutTrigger) {
        CheckoutTrigger["Report"] = "report";
        CheckoutTrigger["Check"] = "check";
    })(CheckoutTrigger || (CheckoutTrigger = {}));
    var Validity;
    (function (Validity) {
        Validity["Invalid"] = "invalid";
        Validity["Valid"] = "valid";
    })(Validity || (Validity = {}));
    var CheckoutSteps;
    (function (CheckoutSteps) {
        CheckoutSteps["Delivery"] = "delivery";
        CheckoutSteps["Shipping"] = "shipping";
        CheckoutSteps["Payment"] = "payment";
    })(CheckoutSteps || (CheckoutSteps = {}));
    const checkoutStepsConfig = [
        CheckoutSteps.Delivery,
        CheckoutSteps.Shipping,
        CheckoutSteps.Payment,
    ];

    const PaymentsNormalizer = 'FES.PaymentsNormalizer*';
    function paymentsNormalizer(data) {
        if (!data) {
            return [];
        }
        const paymentsKey = camelize(ApiCheckoutModel.Includes.PaymentMethods);
        return (data[paymentsKey]
            ?.map((payment) => {
            const { paymentMethodName, paymentProviderName, ...paymentData } = payment;
            return {
                ...paymentData,
                name: paymentMethodName,
                provider: paymentProviderName,
            };
        })
            .sort((a, b) => a.provider.toLowerCase() < b.provider.toLowerCase()
            ? -1
            : a.provider.toLowerCase() > b.provider.toLowerCase()
                ? 1
                : 0) ?? []);
    }

    const ShipmentsNormalizer = 'FES.ShipmentsNormalizer*';
    function shipmentsNormalizer(data) {
        if (!data) {
            return [];
        }
        const shipmentsKey = camelize(ApiCheckoutModel.Includes.Shipments);
        const shipments = data[shipmentsKey] ?? [];
        return shipments.map((shipment) => {
            const methods = {};
            if (typeof shipment === 'object' && shipment.shipmentMethods) {
                for (let i = 0; i < shipment.shipmentMethods.length; i++) {
                    const method = shipment.shipmentMethods[i];
                    const carrier = method.carrierName;
                    methods[carrier] = [...(methods[carrier] ?? []), method];
                }
            }
            delete shipment.shipmentMethods;
            return {
                ...shipment,
                carriers: Object.keys(methods).map((carrier) => {
                    return { name: carrier, shipmentMethods: methods[carrier] };
                }),
            };
        });
    }

    const CheckoutNormalizer = 'FES.CheckoutNormalizer*';
    function checkoutAttributesNormalizer(data) {
        const { addresses, paymentProviders, selectedShipmentMethods, selectedPaymentMethods, } = data;
        return {
            addresses,
            paymentProviders,
            selectedShipmentMethods,
            selectedPaymentMethods,
        };
    }
    function checkoutShipmentsNormalizer(data, transformer) {
        return transformer
            .transform(data, ShipmentsNormalizer)
            .pipe(cjs.map((shipments) => ({ shipments })));
    }
    function checkoutPaymentsNormalizer(data, transformer) {
        return transformer
            .transform(data, PaymentsNormalizer)
            .pipe(cjs.map((paymentMethods) => ({ paymentMethods })));
    }
    const checkoutNormalizer = [
        {
            provide: CheckoutNormalizer,
            useValue: checkoutAttributesNormalizer,
        },
        {
            provide: CheckoutNormalizer,
            useValue: checkoutShipmentsNormalizer,
        },
        {
            provide: CheckoutNormalizer,
            useValue: checkoutPaymentsNormalizer,
        },
    ];

    const CheckoutSerializer = 'FES.CheckoutSerializers*';
    function checkoutAttributesSerializer(data) {
        const attributes = { ...data.attributes };
        const shipmentMethods = attributes?.carriers?.reduce((acc, carrier) => [
            ...acc,
            ...carrier.shipmentMethods,
        ], []) ?? [];
        delete attributes.carriers;
        const shipments = attributes?.shipments?.map((shipment) => {
            return {
                ...shipment,
                selectedShipmentMethod: shipment.selectedShipmentMethod ?? defaultSelectedShipmentMethod,
            };
        });
        return {
            attributes: {
                idCart: data.cartId,
                ...attributes,
                shipments,
                shipmentMethods,
            },
            type: 'checkout-data',
        };
    }
    const checkoutSerializer = [
        {
            provide: CheckoutSerializer,
            useValue: checkoutAttributesSerializer,
        },
    ];

    class DefaultCheckoutAdapter {
        constructor(http = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService), identity = inject(IdentityService)) {
            this.http = http;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.identity = identity;
        }
        get(props) {
            return this.post(props);
        }
        update(props) {
            return this.post(props);
        }
        post(props) {
            return this.transformer
                .serialize(props, CheckoutSerializer)
                .pipe(cjs.switchMap((data) => this.http
                .post(this.generateUrl(props.include), data)
                .pipe(this.transformer.do(CheckoutNormalizer))));
        }
        generateUrl(include) {
            return `${this.SCOS_BASE_URL}/checkout-data${include ? `?include=${include.join(',')}` : ''}`;
        }
    }

    const componentsProvider$4 = {
        provide: ComponentMapping,
        useValue: {
            ['checkout-link']: {
                template: (uid, layoutClasses) => y `<checkout-link
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></checkout-link>`,
            },
            ['checkout-guest']: {
                template: (uid, layoutClasses) => y `<checkout-guest
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></checkout-guest>`,
            },
            ['checkout-login']: {
                template: (uid, layoutClasses) => y `<checkout-login
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></checkout-login>`,
            },
            ['checkout-shipment-selector']: {
                template: (uid, layoutClasses) => y `<checkout-shipment-selector
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></checkout-shipment-selector>`,
            },
            ['oryx-checkout-payment-selector']: {
                template: (uid, layoutClasses) => y `<oryx-checkout-payment-selector
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></oryx-checkout-payment-selector>`,
            },
            ['oryx-checkout-composition']: {
                template: (uid, layoutClasses) => y `<oryx-checkout-composition
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></oryx-checkout-composition>`,
            },
        },
    };

    class DefaultCheckoutDataService {
        constructor(storage = inject(StorageService)) {
            this.storage = storage;
            this.isGuestCheckout$ = new cjs.ReplaySubject();
            this.contactDetails$ = new cjs.BehaviorSubject(null);
            this.addressDetails$ = new cjs.BehaviorSubject(null);
            this.getPersistedData();
        }
        isGuestCheckout() {
            return this.isGuestCheckout$;
        }
        setIsGuestCheckout(state = true) {
            this.isGuestCheckout$.next(state);
            if (state) {
                this.storage.set(guestCheckoutStorageKey, guestCheckoutStorageKey, "session" /* StorageType.SESSION */);
            }
            else {
                this.clearCheckoutData();
            }
            return this.isGuestCheckout$;
        }
        clearCheckoutData() {
            this.contactDetails$.next(null);
            this.addressDetails$.next(null);
            this.storage.remove(guestCheckoutStorageKey, "session" /* StorageType.SESSION */);
        }
        getContactDetails() {
            return this.contactDetails$;
        }
        setContactDetails(contactDetails) {
            this.contactDetails$.next(contactDetails);
        }
        getAddressDetails() {
            return this.addressDetails$;
        }
        setAddressDetails(addressDetails) {
            this.addressDetails$.next(addressDetails);
        }
        getPersistedData() {
            this.storage
                .get(guestCheckoutStorageKey, "session" /* StorageType.SESSION */)
                .subscribe((isGuestCheckout) => this.isGuestCheckout$.next(!!isGuestCheckout));
        }
    }

    class DefaultCheckoutPaymentService {
        constructor(cartService = inject(CartService), adapter = inject(CheckoutAdapter)) {
            this.cartService = cartService;
            this.adapter = adapter;
        }
        getMethods() {
            return this.cartService.getCart().pipe(cjs.take(1), cjs.switchMap((cart) => !cart
                ? cjs.of(null)
                : this.adapter.get({
                    cartId: cart.id,
                    include: [ApiCheckoutModel.Includes.PaymentMethods],
                })), cjs.map((data) => data?.paymentMethods ?? null));
        }
    }

    class DefaultCheckoutShipmentService {
        constructor(cartService = inject(CartService), adapter = inject(CheckoutAdapter)) {
            this.cartService = cartService;
            this.adapter = adapter;
            this.includeShipments = [
                ApiCheckoutModel.Includes.Shipments,
                ApiCheckoutModel.Includes.ShipmentMethods,
            ];
            this.shipments$ = new cjs.BehaviorSubject(null);
        }
        getShipment() {
            return this.cartService
                .getCart()
                .pipe(cjs.take(1), cjs.switchMap((cart) => {
                if (!cart) {
                    return cjs.of({});
                }
                return this.adapter.get({
                    cartId: cart.id,
                    include: this.includeShipments,
                });
            }), cjs.tap((data) => {
                this.handleShipmentData(data);
            }))
                .pipe(cjs.switchMap(() => this.shipments$), cjs.map((shipments) => (shipments ? shipments[0] : null)));
        }
        getCarriers() {
            return this.getShipment().pipe(cjs.map((shipment) => {
                return shipment?.carriers ?? [];
            }));
        }
        handleShipmentData(data) {
            if (!data) {
                return;
            }
            if (data.shipments) {
                this.shipments$.next(data.shipments);
            }
        }
        getSelectedShipmentMethod() {
            return this.getShipment().pipe(cjs.map((shipment) => {
                return shipment?.selectedShipmentMethod?.id
                    ? Number(shipment.selectedShipmentMethod.id)
                    : 0;
            }));
        }
        setShipmentMethod(method) {
            return this.cartService.getCart().pipe(cjs.switchMap((cart) => {
                if (!cart) {
                    return cjs.of(null);
                }
                return this.adapter.update({
                    cartId: cart.id,
                    include: this.includeShipments,
                    attributes: {
                        shipment: {
                            idShipmentMethod: method,
                        },
                    },
                });
            }), cjs.switchMap((result) => {
                if (result?.shipments && result.shipments?.length > 0) {
                    this.handleShipmentData(result);
                }
                return cjs.of(undefined);
            }));
        }
    }

    class DefaultCheckoutOrchestrationService {
        constructor() {
            this.steps = this.generateConfig(checkoutStepsConfig);
            this.validityTrigger$ = new cjs.BehaviorSubject(null);
            this.validity$ = this.validityTrigger$.pipe(cjs.switchMap(() => this.collectValidity()), cjs.tap((steps) => {
                const invalidStep = steps.find(({ validity }) => validity === Validity.Invalid);
                if (invalidStep) {
                    this.initReport(invalidStep.id);
                }
            }));
        }
        getValidity() {
            return this.validity$;
        }
        getTrigger(step) {
            return this.getStep(step).trigger$;
        }
        report(step, isValid = true) {
            const currentStep = this.getStep(step);
            currentStep.trigger$.next(null);
            currentStep.validity$.next(isValid ? Validity.Valid : Validity.Invalid);
            this.validityTrigger$.next(null);
        }
        submit(step) {
            for (const { id } of this.steps) {
                if (!step || step === id) {
                    this.initCheck(id);
                }
            }
        }
        initCheck(step) {
            this.getStep(step).trigger$.next(CheckoutTrigger.Check);
        }
        initReport(step) {
            this.getStep(step).trigger$.next(CheckoutTrigger.Report);
        }
        getStep(step) {
            return this.steps.find(({ id }) => id === step);
        }
        collectValidity() {
            const validityStates = this.steps.map(({ validity$ }) => validity$);
            return cjs.combineLatest(validityStates).pipe(cjs.map((validities) => validities.map((validity, i) => ({
                id: this.steps[i].id,
                validity,
            }))));
        }
        generateConfig(steps) {
            return steps.map((id) => ({
                id,
                trigger$: new cjs.Subject(),
                validity$: new cjs.BehaviorSubject(Validity.Invalid),
            }));
        }
    }

    const CheckoutOrchestrationService = 'FES.CheckoutOrchestrationService';

    const checkoutProviders = [
        componentsProvider$4,
        {
            provide: CheckoutAdapter,
            useClass: DefaultCheckoutAdapter,
        },
        {
            provide: CheckoutDataService,
            useClass: DefaultCheckoutDataService,
        },
        {
            provide: CheckoutShipmentService,
            useClass: DefaultCheckoutShipmentService,
        },
        {
            provide: CheckoutPaymentService,
            useClass: DefaultCheckoutPaymentService,
        },
        {
            provide: ShipmentsNormalizer,
            useValue: shipmentsNormalizer,
        },
        {
            provide: PaymentsNormalizer,
            useValue: paymentsNormalizer,
        },
        {
            provide: CheckoutOrchestrationService,
            useClass: DefaultCheckoutOrchestrationService,
        },
        ...checkoutSerializer,
        ...checkoutNormalizer,
    ];

    const checkoutComponents = Object.values(components$5);
    const checkoutFeature = {
        providers: checkoutProviders,
        components: checkoutComponents,
    };

    const CheckoutComponentMixin = () => {
        class CheckoutComponent extends ComponentMixin() {
        }
        return CheckoutComponent;
    };

    const bannerComponent = componentDef({
        name: 'oryx-banner',
        impl: () => Promise.resolve().then(() => banner_component).then((m) => m.BannerComponent),
    });

    const contentLinkComponent = componentDef({
        name: 'content-link',
        impl: () => Promise.resolve().then(() => link_component$1).then((m) => m.ContentLinkComponent),
    });

    const components$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        bannerComponent,
        contentLinkComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const componentsProvider$3 = {
        provide: ComponentMapping,
        useValue: {
            ['content-link']: {
                template: (uid, layoutClasses) => y `<content-link
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></content-link>`,
            },
            ['oryx-banner']: {
                template: (uid, layoutClasses) => y `<oryx-banner
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></oryx-banner>`,
            },
        },
    };

    const contentProviders = [componentsProvider$3];

    const contentComponents = Object.values(components$4);
    const contentFeature = {
        providers: contentProviders,
        components: contentComponents,
    };

    class DefaultSSRStreamParserService {
        constructor() {
            this.stream = '';
            this.parsedStream = '';
            this.tagsStack = [];
            this.attributesStack = [];
            this.excluded = {
                area: true,
                base: true,
                br: true,
                col: true,
                embed: true,
                hr: true,
                img: true,
                input: true,
                link: true,
                meta: true,
                param: true,
                source: true,
                track: true,
                wbr: true,
            };
        }
        fillStream(stream) {
            this.stream = stream;
        }
        getStreamStack() {
            const subStream = this.stream.replace(this.parsedStream, '');
            this.parsedStream = this.stream;
            const stream = subStream
                .replace(/(\r\n|\n|\r)/gm, ' ')
                .replace(/<!--(.*?)-->/g, ' ')
                .split('<');
            for (let i = 0; i < stream.length; i++) {
                const streamEl = stream[i].slice(0, stream[i].lastIndexOf('>') + 1);
                if (!streamEl.endsWith('>') || streamEl.startsWith('?')) {
                    continue;
                }
                const tagData = streamEl.slice(0, -1);
                const tagDataArr = tagData.split(' ');
                const tagName = tagDataArr[0];
                if (this.excluded[tagName]) {
                    continue;
                }
                const dataAttributes = {};
                for (let i = 1; i < tagDataArr.length; i++) {
                    const attribute = tagDataArr[i];
                    if (attribute.startsWith('data-')) {
                        const [key, value] = attribute.split('=');
                        const dataName = key.replace('data-', '');
                        dataAttributes[dataName] = value.replace(/&quot;/g, '');
                    }
                }
                if (Object.keys(dataAttributes).length) {
                    this.tagsStack.push(tagName);
                    this.attributesStack.push(dataAttributes);
                    continue;
                }
                const closedTag = tagName.replace('/', '');
                const lastElementIndex = this.tagsStack.length - 1;
                const isClosed = this.tagsStack[lastElementIndex] === closedTag;
                if (isClosed) {
                    this.tagsStack.splice(lastElementIndex, 1);
                    this.attributesStack.splice(lastElementIndex, 1);
                }
            }
            return this.attributesStack;
        }
    }

    class ServerContextService extends DefaultContextService {
        constructor() {
            super(...arguments);
            this.streamParser = new DefaultSSRStreamParserService();
            // TODO: Create mini service or use proper hook, when Lit will expose it which signalize rendered state.
            this.rendered$ = new cjs.ReplaySubject(1);
        }
        provide(element, key, value) {
            element.setAttribute(`${this.dataKey}${key}`, JSON.stringify(value));
        }
        get(element, key) {
            return cjs.defer(() => {
                const stack = this.streamParser.getStreamStack();
                const counter = stack.length - 1;
                for (let i = counter; i >= 0; i--) {
                    const value = stack[i][key];
                    if (value === undefined) {
                        continue;
                    }
                    return cjs.of(JSON.parse(value));
                }
                return cjs.of(undefined);
            });
        }
        remove(element, key) {
            element.removeAttribute(`${this.dataKey}${key}`);
        }
        fillStream(stream) {
            this.streamParser.fillStream(stream);
        }
        rendered() {
            this.rendered$.next();
            this.rendered$.complete();
        }
    }

    class ServerHttpService extends DefaultHttpService {
        request(url, options) {
            return ssrAwaiter(super.request(url, options));
        }
    }

    class DefaultSSRAwaiterService {
        constructor() {
            this.awaiters = [];
        }
        getAwaiter() {
            let resolve;
            const awaiter = new Promise((_resolve) => {
                resolve = _resolve;
            });
            this.awaiters.push(awaiter);
            return () => {
                resolve(undefined);
            };
        }
        hasAwaiter() {
            return this.awaiters.length !== 0;
        }
        await() {
            const promise = Promise.all(this.awaiters);
            this.awaiters = [];
            return promise;
        }
    }

    class ServerStorageService {
        get() {
            return cjs.of(null);
        }
        set() {
            return cjs.of(undefined);
        }
        remove() {
            return cjs.of(undefined);
        }
        clear() {
            return cjs.of(undefined);
        }
    }

    const coreServerProviders = [
        {
            provide: HttpService,
            useClass: ServerHttpService,
        },
        {
            provide: SSRAwaiterService,
            useClass: DefaultSSRAwaiterService,
        },
        {
            provide: ContextService,
            useClass: ServerContextService,
        },
        {
            provide: StorageService,
            useClass: ServerStorageService,
        },
    ];

    /**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const o$1=e$7(class extends i$5{constructor(t){var i;if(super(t),t.type!==t$3.ATTRIBUTE||"class"!==t.name||(null===(i=t.strings)||void 0===i?void 0:i.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return " "+Object.keys(t).filter((i=>t[i])).join(" ")+" "}update(i,[s]){var r,o;if(void 0===this.nt){this.nt=new Set,void 0!==i.strings&&(this.st=new Set(i.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in s)s[t]&&!(null===(r=this.st)||void 0===r?void 0:r.has(t))&&this.nt.add(t);return this.render(s)}const e=i.element.classList;this.nt.forEach((t=>{t in s||(e.remove(t),this.nt.delete(t));}));for(const t in s){const i=!!s[t];i===this.nt.has(t)||(null===(o=this.st)||void 0===o?void 0:o.has(t))||(i?(e.add(t),this.nt.add(t)):(e.remove(t),this.nt.delete(t)));}return T}});

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=e$7(class extends i$5{constructor(e){if(super(e),e.type!==t$3.CHILD)throw Error("repeat() can only be used in text expressions")}ht(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return {values:o,keys:l}}render(e,s,t){return this.ht(e,s,t).values}update(s,[t,r,c]){var d;const a=m$1(s),{values:p,keys:v}=this.ht(t,r,c);if(!Array.isArray(a))return this.ut=v,p;const h=null!==(d=this.ut)&&void 0!==d?d:this.ut=[],m=[];let y,x,j=0,k=a.length-1,w=0,A=p.length-1;for(;j<=k&&w<=A;)if(null===a[j])j++;else if(null===a[k])k--;else if(h[j]===v[w])m[w]=u$2(a[j],p[w]),j++,w++;else if(h[k]===v[A])m[A]=u$2(a[k],p[A]),k--,A--;else if(h[j]===v[A])m[A]=u$2(a[j],p[A]),r$2(s,m[A+1],a[j]),j++,A--;else if(h[k]===v[w])m[w]=u$2(a[k],p[w]),r$2(s,a[j],a[k]),k--,w++;else if(void 0===y&&(y=u(v,w,A),x=u(h,j,k)),y.has(h[j]))if(y.has(h[k])){const e=x.get(v[w]),t=void 0!==e?a[e]:null;if(null===t){const e=r$2(s,a[j]);u$2(e,p[w]),m[w]=e;}else m[w]=u$2(t,p[w]),r$2(s,a[j],t),a[e]=null;w++;}else p$1(a[k]),k--;else p$1(a[j]),j++;for(;w<=A;){const e=r$2(s,m[A+1]);u$2(e,p[w]),m[w++]=e;}for(;j<=k;){const e=a[j++];null!==e&&p$1(e);}return this.ut=v,s$3(s,m),T}});

    var FormFieldType;
    (function (FormFieldType) {
        FormFieldType["TOGGLE_BUTTON"] = "toggle-button";
        FormFieldType["TOGGLE_ICON"] = "toggle-icon";
        FormFieldType["TEXT"] = "text";
        FormFieldType["EMAIL"] = "email";
        FormFieldType["NUMBER"] = "number";
        FormFieldType["PHONE"] = "tel";
        FormFieldType["TOGGLE"] = "toggle";
        FormFieldType["SELECT"] = "select";
        FormFieldType["BOOLEAN"] = "boolean";
        FormFieldType["TEXTAREA"] = "textarea";
        FormFieldType["COLOR"] = "color";
    })(FormFieldType || (FormFieldType = {}));

    const FormFieldRenderer = 'FES.FormFieldRenderer';

    class DefaultFormRenderer {
        constructor(injector = inject(INJECTOR)) {
            this.injector = injector;
        }
        formatFormData(form) {
            const formData = new FormData(form);
            let formatted = {};
            for (const [name, value] of formData) {
                const el = form.querySelector(`[name=${name}]`);
                formatted = {
                    ...formatted,
                    [name]: el?.type === 'checkbox' && value ? true : value,
                };
            }
            return formatted;
        }
        formatFormControl(control) {
            let value;
            if (control instanceof HTMLInputElement && control.type === 'checkbox') {
                value = !!control.checked;
            }
            else if (control instanceof HTMLInputElement &&
                control.type === 'number') {
                value = Number(control.value);
            }
            else {
                value = control.value;
            }
            return {
                [control.name]: value,
            };
        }
        buildForm(data, values, keyFn = (field) => field.id) {
            return y `${c(data, keyFn, (field) => y `${this.buildField(field, values?.[field.id])}`)}`;
        }
        buildField(field, value) {
            if (!field.label || field.label === '') {
                field.label = field.id;
            }
            const template = this.injector.inject(`${FormFieldRenderer}-${field.type}`, null);
            if (template) {
                return template.render(field, value);
            }
            switch (field.type) {
                case 'input':
                case FormFieldType.PHONE:
                case FormFieldType.EMAIL:
                case FormFieldType.TEXT: {
                    return this.buildTextField(field, value);
                }
                case FormFieldType.NUMBER: {
                    return this.buildNumberField(field, value);
                }
                case FormFieldType.TEXTAREA: {
                    return this.buildTextArea(field, value);
                }
                case FormFieldType.BOOLEAN: {
                    return this.buildBoolean(field, value);
                }
                case FormFieldType.SELECT: {
                    return this.buildSelect(field, value);
                }
                case FormFieldType.TOGGLE: {
                    return this.buildToggle(field, value);
                }
                case FormFieldType.TOGGLE_BUTTON: {
                    return this.buildToggleButton(field, value);
                }
                case FormFieldType.COLOR: {
                    return this.buildColorField(field, value);
                }
            }
            return y ``;
        }
        buildRequiredLabel(label, required) {
            return `${label}${required ? ' *' : ''}`;
        }
        buildTextField(field, value) {
            return y `
      <oryx-input
        .label=${this.buildRequiredLabel(field.label, field.required)}
        floatLabel=${l$1(field.floatLabel)}
        class=${this.getClassMap(field)}
      >
        <input
          .name=${field.id}
          .value=${value ?? ''}
          minlength=${l$1(field.min)}
          maxlength=${l$1(field.max)}
          .type=${field.attributes?.type ?? field.type ?? 'text'}
          ?required=${field.required}
        />
      </oryx-input>
    `;
        }
        buildNumberField(field, value) {
            return y `
      <oryx-input
        .label=${this.buildRequiredLabel(field.label, field.required)}
        floatLabel=${l$1(field.floatLabel)}
        class=${this.getClassMap(field)}
      >
        <input
          .name=${field.id}
          .value=${value ?? ''}
          type="number"
          min=${l$1(field.min)}
          max=${l$1(field.max)}
          ?required=${field.required}
        />
      </oryx-input>
    `;
        }
        buildBoolean(field, value) {
            return y `
      <oryx-checkbox class=${this.getClassMap(field)}>
        <input
          type="checkbox"
          .name=${field.id}
          ?checked=${!!value}
          ?required=${field.required}
        />
        ${this.buildRequiredLabel(field.label, field.required)}
      </oryx-checkbox>
    `;
        }
        buildTextArea(field, value) {
            return y `
      <oryx-input
        .label=${this.buildRequiredLabel(field.label, field.required)}
        floatLabel=${l$1(field.floatLabel)}
        class=${this.getClassMap(field)}
      >
        <textarea
          .name=${field.id}
          .value=${value ?? ''}
          ?required=${field.required}
        ></textarea>
      </oryx-input>
    `;
        }
        buildColorField(field, value) {
            return y `
      <oryx-input
        .label=${this.buildRequiredLabel(field.label, field.required)}
        class=${this.getClassMap(field)}
      >
        <input
          type="color"
          .name=${field.id}
          .value=${value ?? ''}
          ?required=${field.required}
        />
      </oryx-input>
    `;
        }
        buildToggle(field, value) {
            return y `
      <oryx-toggle class=${this.getClassMap(field)}>
        <input
          type="checkbox"
          .name=${field.id}
          ?checked=${!!value}
          ?required=${field.required}
        />
        ${this.buildRequiredLabel(field.label, field.required)}
      </oryx-toggle>
    `;
        }
        buildToggleButton(field, value) {
            return y `
      <oryx-input-list
        .heading=${this.buildRequiredLabel(field.label, field.required)}
        class=${this.getClassMap(field)}
      >
        ${field.options?.map((option) => y `
            <oryx-toggle-icon>
              <input
                type="radio"
                .placeholder=${field.label}
                .name=${field.id}
                value=${option.value}
                ?checked=${option.value === value}
                ?required=${field.required}
              />
              <oryx-icon type=${option.icon}></oryx-icon>
              ${n$1(option.text, () => y `<span>${option.text}</span>`)}
              <span>${option.value}</span>
            </oryx-toggle-icon>
          `)}
      </oryx-input-list>
    `;
        }
        buildSelect(field, value) {
            return y `
      <oryx-select
        .label=${this.buildRequiredLabel(field.label, field.required)}
        class=${this.getClassMap(field)}
        floatLabel=${l$1(field.floatLabel)}
      >
        <select
          .name=${field.id}
          ?disabled=${field.disabled}
          ?required=${field.required}
        >
          <option></option>
          ${field.options?.map((option) => {
            const text = option?.text ??
                option?.value;
            return y `<option
              value=${option.value}
              ?selected=${option.value === value}
            >
              ${text}
            </option>`;
        })}
        </select>
      </oryx-select>
    `;
        }
        getClassMap(params) {
            return o$1({
                w100: params.width === 100,
                w50: !params.width || params.width == 50,
            });
        }
    }

    const FormRenderer = 'FES.FormRenderer';

    const formProviders = [
        {
            provide: FormRenderer,
            useClass: DefaultFormRenderer,
        },
    ];

    const formFeature = {
        providers: formProviders,
    };

    const formStyles = i$7 `
  form .w50 {
    flex: 1 0 calc(50% - 5px);
  }

  form .w100 {
    flex: 100%;
  }
`;

    const FormComponentMixin = () => {
        class FormComponent extends ComponentMixin() {
            getForm() {
                return this.renderRoot.querySelector('form');
            }
        }
        return FormComponent;
    };

    var nodeMain = {exports: {}};

    var globalize = {exports: {}};

    var node_main = {exports: {}};

    var cldr = {exports: {}};

    /**
     * CLDR JavaScript Library v0.5.4
     * http://jquery.com/
     *
     * Copyright 2013 Rafael Xavier de Souza
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2020-10-22T15:56Z
     */

    var hasRequiredCldr;

    function requireCldr () {
    	if (hasRequiredCldr) return cldr.exports;
    	hasRequiredCldr = 1;
    	(function (module) {
    		/*!
    		 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
    		 * http://git.io/h4lmVg
    		 */
    		(function( root, factory ) {

    			{
    				// Node. CommonJS.
    				module.exports = factory();
    			}

    		}( commonjsGlobal, function() {


    			var arrayIsArray = Array.isArray || function( obj ) {
    				return Object.prototype.toString.call( obj ) === "[object Array]";
    			};




    			var pathNormalize = function( path, attributes ) {
    				if ( arrayIsArray( path ) ) {
    					path = path.join( "/" );
    				}
    				if ( typeof path !== "string" ) {
    					throw new Error( "invalid path \"" + path + "\"" );
    				}
    				// 1: Ignore leading slash `/`
    				// 2: Ignore leading `cldr/`
    				path = path
    					.replace( /^\// , "" ) /* 1 */
    					.replace( /^cldr\// , "" ); /* 2 */

    				// Replace {attribute}'s
    				path = path.replace( /{[a-zA-Z]+}/g, function( name ) {
    					name = name.replace( /^{([^}]*)}$/, "$1" );
    					return attributes[ name ];
    				});

    				return path.split( "/" );
    			};




    			var arraySome = function( array, callback ) {
    				var i, length;
    				if ( array.some ) {
    					return array.some( callback );
    				}
    				for ( i = 0, length = array.length; i < length; i++ ) {
    					if ( callback( array[ i ], i, array ) ) {
    						return true;
    					}
    				}
    				return false;
    			};




    			/**
    			 * Return the maximized language id as defined in
    			 * http://www.unicode.org/reports/tr35/#Likely_Subtags
    			 * 1. Canonicalize.
    			 * 1.1 Make sure the input locale is in canonical form: uses the right
    			 * separator, and has the right casing.
    			 * TODO Right casing? What df? It seems languages are lowercase, scripts are
    			 * Capitalized, territory is uppercase. I am leaving this as an exercise to
    			 * the user.
    			 *
    			 * 1.2 Replace any deprecated subtags with their canonical values using the
    			 * <alias> data in supplemental metadata. Use the first value in the
    			 * replacement list, if it exists. Language tag replacements may have multiple
    			 * parts, such as "sh" ➞ "sr_Latn" or mo" ➞ "ro_MD". In such a case, the
    			 * original script and/or region are retained if there is one. Thus
    			 * "sh_Arab_AQ" ➞ "sr_Arab_AQ", not "sr_Latn_AQ".
    			 * TODO What <alias> data?
    			 *
    			 * 1.3 If the tag is grandfathered (see <variable id="$grandfathered"
    			 * type="choice"> in the supplemental data), then return it.
    			 * TODO grandfathered?
    			 *
    			 * 1.4 Remove the script code 'Zzzz' and the region code 'ZZ' if they occur.
    			 * 1.5 Get the components of the cleaned-up source tag (languages, scripts,
    			 * and regions), plus any variants and extensions.
    			 * 2. Lookup. Lookup each of the following in order, and stop on the first
    			 * match:
    			 * 2.1 languages_scripts_regions
    			 * 2.2 languages_regions
    			 * 2.3 languages_scripts
    			 * 2.4 languages
    			 * 2.5 und_scripts
    			 * 3. Return
    			 * 3.1 If there is no match, either return an error value, or the match for
    			 * "und" (in APIs where a valid language tag is required).
    			 * 3.2 Otherwise there is a match = languagem_scriptm_regionm
    			 * 3.3 Let xr = xs if xs is not empty, and xm otherwise.
    			 * 3.4 Return the language tag composed of languager _ scriptr _ regionr +
    			 * variants + extensions.
    			 *
    			 * @subtags [Array] normalized language id subtags tuple (see init.js).
    			 */
    			var coreLikelySubtags = function( Cldr, cldr, subtags, options ) {
    				var match, matchFound,
    					language = subtags[ 0 ],
    					script = subtags[ 1 ],
    					sep = Cldr.localeSep,
    					territory = subtags[ 2 ],
    					variants = subtags.slice( 3, 4 );
    				options = options || {};

    				// Skip if (language, script, territory) is not empty [3.3]
    				if ( language !== "und" && script !== "Zzzz" && territory !== "ZZ" ) {
    					return [ language, script, territory ].concat( variants );
    				}

    				// Skip if no supplemental likelySubtags data is present
    				if ( typeof cldr.get( "supplemental/likelySubtags" ) === "undefined" ) {
    					return;
    				}

    				// [2]
    				matchFound = arraySome([
    					[ language, script, territory ],
    					[ language, territory ],
    					[ language, script ],
    					[ language ],
    					[ "und", script ]
    				], function( test ) {
    					return match = !(/\b(Zzzz|ZZ)\b/).test( test.join( sep ) ) /* [1.4] */ && cldr.get( [ "supplemental/likelySubtags", test.join( sep ) ] );
    				});

    				// [3]
    				if ( matchFound ) {
    					// [3.2 .. 3.4]
    					match = match.split( sep );
    					return [
    						language !== "und" ? language : match[ 0 ],
    						script !== "Zzzz" ? script : match[ 1 ],
    						territory !== "ZZ" ? territory : match[ 2 ]
    					].concat( variants );
    				} else if ( options.force ) {
    					// [3.1.2]
    					return cldr.get( "supplemental/likelySubtags/und" ).split( sep );
    				} else {
    					// [3.1.1]
    					return;
    				}
    			};



    			/**
    			 * Given a locale, remove any fields that Add Likely Subtags would add.
    			 * http://www.unicode.org/reports/tr35/#Likely_Subtags
    			 * 1. First get max = AddLikelySubtags(inputLocale). If an error is signaled,
    			 * return it.
    			 * 2. Remove the variants from max.
    			 * 3. Then for trial in {language, language _ region, language _ script}. If
    			 * AddLikelySubtags(trial) = max, then return trial + variants.
    			 * 4. If you do not get a match, return max + variants.
    			 * 
    			 * @maxLanguageId [Array] maxLanguageId tuple (see init.js).
    			 */
    			var coreRemoveLikelySubtags = function( Cldr, cldr, maxLanguageId ) {
    				var match, matchFound,
    					language = maxLanguageId[ 0 ],
    					script = maxLanguageId[ 1 ],
    					territory = maxLanguageId[ 2 ],
    					variants = maxLanguageId[ 3 ];

    				// [3]
    				matchFound = arraySome([
    					[ [ language, "Zzzz", "ZZ" ], [ language ] ],
    					[ [ language, "Zzzz", territory ], [ language, territory ] ],
    					[ [ language, script, "ZZ" ], [ language, script ] ]
    				], function( test ) {
    					var result = coreLikelySubtags( Cldr, cldr, test[ 0 ] );
    					match = test[ 1 ];
    					return result && result[ 0 ] === maxLanguageId[ 0 ] &&
    						result[ 1 ] === maxLanguageId[ 1 ] &&
    						result[ 2 ] === maxLanguageId[ 2 ];
    				});

    				if ( matchFound ) {
    					if ( variants ) {
    						match.push( variants );
    					}
    					return match;
    				}

    				// [4]
    				return maxLanguageId;
    			};




    			/**
    			 * subtags( locale )
    			 *
    			 * @locale [String]
    			 */
    			var coreSubtags = function( locale ) {
    				var aux, unicodeLanguageId,
    					subtags = [];

    				locale = locale.replace( /_/, "-" );

    				// Unicode locale extensions.
    				aux = locale.split( "-u-" );
    				if ( aux[ 1 ] ) {
    					aux[ 1 ] = aux[ 1 ].split( "-t-" );
    					locale = aux[ 0 ] + ( aux[ 1 ][ 1 ] ? "-t-" + aux[ 1 ][ 1 ] : "");
    					subtags[ 4 /* unicodeLocaleExtensions */ ] = aux[ 1 ][ 0 ];
    				}

    				// TODO normalize transformed extensions. Currently, skipped.
    				// subtags[ x ] = locale.split( "-t-" )[ 1 ];
    				unicodeLanguageId = locale.split( "-t-" )[ 0 ];

    				// unicode_language_id = "root"
    				//   | unicode_language_subtag         
    				//     (sep unicode_script_subtag)? 
    				//     (sep unicode_region_subtag)?
    				//     (sep unicode_variant_subtag)* ;
    				//
    				// Although unicode_language_subtag = alpha{2,8}, I'm using alpha{2,3}. Because, there's no language on CLDR lengthier than 3.
    				aux = unicodeLanguageId.match( /^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/ );
    				if ( aux === null ) {
    					return [ "und", "Zzzz", "ZZ" ];
    				}
    				subtags[ 0 /* language */ ] = aux[ 10 ] /* root */ || aux[ 2 ] || "und";
    				subtags[ 1 /* script */ ] = aux[ 4 ] || "Zzzz";
    				subtags[ 2 /* territory */ ] = aux[ 6 ] || "ZZ";
    				if ( aux[ 7 ] && aux[ 7 ].length ) {
    					subtags[ 3 /* variant */ ] = aux[ 7 ].slice( 1 ) /* remove leading "-" */;
    				}

    				// 0: language
    				// 1: script
    				// 2: territory (aka region)
    				// 3: variant
    				// 4: unicodeLocaleExtensions
    				return subtags;
    			};




    			var arrayForEach = function( array, callback ) {
    				var i, length;
    				if ( array.forEach ) {
    					return array.forEach( callback );
    				}
    				for ( i = 0, length = array.length; i < length; i++ ) {
    					callback( array[ i ], i, array );
    				}
    			};




    			/**
    			 * bundleLookup( minLanguageId )
    			 *
    			 * @Cldr [Cldr class]
    			 *
    			 * @cldr [Cldr instance]
    			 *
    			 * @minLanguageId [String] requested languageId after applied remove likely subtags.
    			 */
    			var bundleLookup = function( Cldr, cldr, minLanguageId ) {
    				var availableBundleMap = Cldr._availableBundleMap,
    					availableBundleMapQueue = Cldr._availableBundleMapQueue;

    				if ( availableBundleMapQueue.length ) {
    					arrayForEach( availableBundleMapQueue, function( bundle, i ) {
    						var existing, maxBundle, minBundle, subtags;
    						subtags = coreSubtags( bundle );
    						maxBundle = coreLikelySubtags( Cldr, cldr, subtags );
    						if ( maxBundle === undefined ) {
    							availableBundleMapQueue.splice( i, 1 );
    							throw new Error( "Could not find likelySubtags for " + bundle );
    						}
    						minBundle = coreRemoveLikelySubtags( Cldr, cldr, maxBundle );
    						minBundle = minBundle.join( Cldr.localeSep );
    						existing = availableBundleMap[ minBundle ];
    						if ( existing && existing.length < bundle.length ) {
    							return;
    						}
    						availableBundleMap[ minBundle ] = bundle;
    					});
    					Cldr._availableBundleMapQueue = [];
    				}

    				return availableBundleMap[ minLanguageId ] || null;
    			};




    			var objectKeys = function( object ) {
    				var i,
    					result = [];

    				if ( Object.keys ) {
    					return Object.keys( object );
    				}

    				for ( i in object ) {
    					result.push( i );
    				}

    				return result;
    			};




    			var createError = function( code, attributes ) {
    				var error, message;

    				message = code + ( attributes && JSON ? ": " + JSON.stringify( attributes ) : "" );
    				error = new Error( message );
    				error.code = code;

    				// extend( error, attributes );
    				arrayForEach( objectKeys( attributes ), function( attribute ) {
    					error[ attribute ] = attributes[ attribute ];
    				});

    				return error;
    			};




    			var validate = function( code, check, attributes ) {
    				if ( !check ) {
    					throw createError( code, attributes );
    				}
    			};




    			var validatePresence = function( value, name ) {
    				validate( "E_MISSING_PARAMETER", typeof value !== "undefined", {
    					name: name
    				});
    			};




    			var validateType = function( value, name, check, expected ) {
    				validate( "E_INVALID_PAR_TYPE", check, {
    					expected: expected,
    					name: name,
    					value: value
    				});
    			};




    			var validateTypePath = function( value, name ) {
    				validateType( value, name, typeof value === "string" || arrayIsArray( value ), "String or Array" );
    			};




    			/**
    			 * Function inspired by jQuery Core, but reduced to our use case.
    			 */
    			var isPlainObject = function( obj ) {
    				return obj !== null && "" + obj === "[object Object]";
    			};




    			var validateTypePlainObject = function( value, name ) {
    				validateType( value, name, typeof value === "undefined" || isPlainObject( value ), "Plain Object" );
    			};




    			var validateTypeString = function( value, name ) {
    				validateType( value, name, typeof value === "string", "a string" );
    			};




    			// @path: normalized path
    			var resourceGet = function( data, path ) {
    				var i,
    					node = data,
    					length = path.length;

    				for ( i = 0; i < length - 1; i++ ) {
    					node = node[ path[ i ] ];
    					if ( !node ) {
    						return undefined;
    					}
    				}
    				return node[ path[ i ] ];
    			};




    			/**
    			 * setAvailableBundles( Cldr, json )
    			 *
    			 * @Cldr [Cldr class]
    			 *
    			 * @json resolved/unresolved cldr data.
    			 *
    			 * Set available bundles queue based on passed json CLDR data. Considers a bundle as any String at /main/{bundle}.
    			 */
    			var coreSetAvailableBundles = function( Cldr, json ) {
    				var bundle,
    					availableBundleMapQueue = Cldr._availableBundleMapQueue,
    					main = resourceGet( json, [ "main" ] );

    				if ( main ) {
    					for ( bundle in main ) {
    						if ( main.hasOwnProperty( bundle ) && bundle !== "root" &&
    									availableBundleMapQueue.indexOf( bundle ) === -1 ) {
    							availableBundleMapQueue.push( bundle );
    						}
    					}
    				}
    			};



    			var alwaysArray = function( somethingOrArray ) {
    				return arrayIsArray( somethingOrArray ) ?  somethingOrArray : [ somethingOrArray ];
    			};


    			var jsonMerge = (function() {

    			// Returns new deeply merged JSON.
    			//
    			// Eg.
    			// merge( { a: { b: 1, c: 2 } }, { a: { b: 3, d: 4 } } )
    			// -> { a: { b: 3, c: 2, d: 4 } }
    			//
    			// @arguments JSON's
    			// 
    			var merge = function() {
    				var destination = {},
    					sources = [].slice.call( arguments, 0 );
    				arrayForEach( sources, function( source ) {
    					var prop;
    					for ( prop in source ) {
    						if ( prop in destination && typeof destination[ prop ] === "object" && !arrayIsArray( destination[ prop ] ) ) {

    							// Merge Objects
    							destination[ prop ] = merge( destination[ prop ], source[ prop ] );

    						} else {

    							// Set new values
    							destination[ prop ] = source[ prop ];

    						}
    					}
    				});
    				return destination;
    			};

    			return merge;

    		}());


    			/**
    			 * load( Cldr, source, jsons )
    			 *
    			 * @Cldr [Cldr class]
    			 *
    			 * @source [Object]
    			 *
    			 * @jsons [arguments]
    			 */
    			var coreLoad = function( Cldr, source, jsons ) {
    				var i, j, json;

    				validatePresence( jsons[ 0 ], "json" );

    				// Support arbitrary parameters, e.g., `Cldr.load({...}, {...})`.
    				for ( i = 0; i < jsons.length; i++ ) {

    					// Support array parameters, e.g., `Cldr.load([{...}, {...}])`.
    					json = alwaysArray( jsons[ i ] );

    					for ( j = 0; j < json.length; j++ ) {
    						validateTypePlainObject( json[ j ], "json" );
    						source = jsonMerge( source, json[ j ] );
    						coreSetAvailableBundles( Cldr, json[ j ] );
    					}
    				}

    				return source;
    			};



    			var itemGetResolved = function( Cldr, path, attributes ) {
    				// Resolve path
    				var normalizedPath = pathNormalize( path, attributes );

    				return resourceGet( Cldr._resolved, normalizedPath );
    			};




    			/**
    			 * new Cldr()
    			 */
    			var Cldr = function( locale ) {
    				this.init( locale );
    			};

    			// Build optimization hack to avoid duplicating functions across modules.
    			Cldr._alwaysArray = alwaysArray;
    			Cldr._coreLoad = coreLoad;
    			Cldr._createError = createError;
    			Cldr._itemGetResolved = itemGetResolved;
    			Cldr._jsonMerge = jsonMerge;
    			Cldr._pathNormalize = pathNormalize;
    			Cldr._resourceGet = resourceGet;
    			Cldr._validatePresence = validatePresence;
    			Cldr._validateType = validateType;
    			Cldr._validateTypePath = validateTypePath;
    			Cldr._validateTypePlainObject = validateTypePlainObject;

    			Cldr._availableBundleMap = {};
    			Cldr._availableBundleMapQueue = [];
    			Cldr._resolved = {};

    			// Allow user to override locale separator "-" (default) | "_". According to http://www.unicode.org/reports/tr35/#Unicode_language_identifier, both "-" and "_" are valid locale separators (eg. "en_GB", "en-GB"). According to http://unicode.org/cldr/trac/ticket/6786 its usage must be consistent throughout the data set.
    			Cldr.localeSep = "-";

    			/**
    			 * Cldr.load( json [, json, ...] )
    			 *
    			 * @json [JSON] CLDR data or [Array] Array of @json's.
    			 *
    			 * Load resolved cldr data.
    			 */
    			Cldr.load = function() {
    				Cldr._resolved = coreLoad( Cldr, Cldr._resolved, arguments );
    			};

    			/**
    			 * .init() automatically run on instantiation/construction.
    			 */
    			Cldr.prototype.init = function( locale ) {
    				var attributes, language, maxLanguageId, minLanguageId, script, subtags, territory, unicodeLocaleExtensions, variant,
    					sep = Cldr.localeSep,
    					unicodeLocaleExtensionsRaw = "";

    				validatePresence( locale, "locale" );
    				validateTypeString( locale, "locale" );

    				subtags = coreSubtags( locale );

    				if ( subtags.length === 5 ) {
    					unicodeLocaleExtensions = subtags.pop();
    					unicodeLocaleExtensionsRaw = sep + "u" + sep + unicodeLocaleExtensions;
    					// Remove trailing null when there is unicodeLocaleExtensions but no variants.
    					if ( !subtags[ 3 ] ) {
    						subtags.pop();
    					}
    				}
    				variant = subtags[ 3 ];

    				// Normalize locale code.
    				// Get (or deduce) the "triple subtags": language, territory (also aliased as region), and script subtags.
    				// Get the variant subtags (calendar, collation, currency, etc).
    				// refs:
    				// - http://www.unicode.org/reports/tr35/#Field_Definitions
    				// - http://www.unicode.org/reports/tr35/#Language_and_Locale_IDs
    				// - http://www.unicode.org/reports/tr35/#Unicode_locale_identifier

    				// When a locale id does not specify a language, or territory (region), or script, they are obtained by Likely Subtags.
    				maxLanguageId = coreLikelySubtags( Cldr, this, subtags, { force: true } ) || subtags;
    				language = maxLanguageId[ 0 ];
    				script = maxLanguageId[ 1 ];
    				territory = maxLanguageId[ 2 ];

    				minLanguageId = coreRemoveLikelySubtags( Cldr, this, maxLanguageId ).join( sep );

    				// Set attributes
    				this.attributes = attributes = {
    					bundle: bundleLookup( Cldr, this, minLanguageId ),

    					// Unicode Language Id
    					minLanguageId: minLanguageId + unicodeLocaleExtensionsRaw,
    					maxLanguageId: maxLanguageId.join( sep ) + unicodeLocaleExtensionsRaw,

    					// Unicode Language Id Subtabs
    					language: language,
    					script: script,
    					territory: territory,
    					region: territory, /* alias */
    					variant: variant
    				};

    				// Unicode locale extensions.
    				unicodeLocaleExtensions && ( "-" + unicodeLocaleExtensions ).replace( /-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g, function( attribute, key, type ) {

    					if ( key ) {

    						// Extension is in the `keyword` form.
    						attributes[ "u" + key ] = type;
    					} else {

    						// Extension is in the `attribute` form.
    						attributes[ "u" + attribute ] = true;
    					}
    				});

    				this.locale = locale;
    			};

    			/**
    			 * .get()
    			 */
    			Cldr.prototype.get = function( path ) {

    				validatePresence( path, "path" );
    				validateTypePath( path, "path" );

    				return itemGetResolved( Cldr, path, this.attributes );
    			};

    			/**
    			 * .main()
    			 */
    			Cldr.prototype.main = function( path ) {
    				validatePresence( path, "path" );
    				validateTypePath( path, "path" );

    				validate( "E_MISSING_BUNDLE", this.attributes.bundle !== null, {
    					locale: this.locale
    				});

    				path = alwaysArray( path );
    				return this.get( [ "main/{bundle}" ].concat( path ) );
    			};

    			return Cldr;




    		}));
    } (cldr));
    	return cldr.exports;
    }

    var event = {exports: {}};

    /**
     * CLDR JavaScript Library v0.5.4
     * http://jquery.com/
     *
     * Copyright 2013 Rafael Xavier de Souza
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2020-10-22T15:56Z
     */

    var hasRequiredEvent;

    function requireEvent () {
    	if (hasRequiredEvent) return event.exports;
    	hasRequiredEvent = 1;
    	(function (module) {
    		/*!
    		 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
    		 * http://git.io/h4lmVg
    		 */
    		(function( factory ) {

    			{
    				// Node. CommonJS.
    				module.exports = factory( requireCldr() );
    			}

    		}(function( Cldr ) {

    			// Build optimization hack to avoid duplicating functions across modules.
    			var pathNormalize = Cldr._pathNormalize,
    				validatePresence = Cldr._validatePresence,
    				validateType = Cldr._validateType;

    		/*!
    		 * EventEmitter v4.2.7 - git.io/ee
    		 * Oliver Caldwell
    		 * MIT license
    		 * @preserve
    		 */

    		var EventEmitter;
    		/* jshint ignore:start */
    		EventEmitter = (function () {


    			/**
    			 * Class for managing events.
    			 * Can be extended to provide event functionality in other classes.
    			 *
    			 * @class EventEmitter Manages event registering and emitting.
    			 */
    			function EventEmitter() {}

    			// Shortcuts to improve speed and size
    			var proto = EventEmitter.prototype;
    			

    			/**
    			 * Finds the index of the listener for the event in it's storage array.
    			 *
    			 * @param {Function[]} listeners Array of listeners to search through.
    			 * @param {Function} listener Method to look for.
    			 * @return {Number} Index of the specified listener, -1 if not found
    			 * @api private
    			 */
    			function indexOfListener(listeners, listener) {
    				var i = listeners.length;
    				while (i--) {
    					if (listeners[i].listener === listener) {
    						return i;
    					}
    				}

    				return -1;
    			}

    			/**
    			 * Alias a method while keeping the context correct, to allow for overwriting of target method.
    			 *
    			 * @param {String} name The name of the target method.
    			 * @return {Function} The aliased method
    			 * @api private
    			 */
    			function alias(name) {
    				return function aliasClosure() {
    					return this[name].apply(this, arguments);
    				};
    			}

    			/**
    			 * Returns the listener array for the specified event.
    			 * Will initialise the event object and listener arrays if required.
    			 * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
    			 * Each property in the object response is an array of listener functions.
    			 *
    			 * @param {String|RegExp} evt Name of the event to return the listeners from.
    			 * @return {Function[]|Object} All listener functions for the event.
    			 */
    			proto.getListeners = function getListeners(evt) {
    				var events = this._getEvents();
    				var response;
    				var key;

    				// Return a concatenated array of all matching events if
    				// the selector is a regular expression.
    				if (evt instanceof RegExp) {
    					response = {};
    					for (key in events) {
    						if (events.hasOwnProperty(key) && evt.test(key)) {
    							response[key] = events[key];
    						}
    					}
    				}
    				else {
    					response = events[evt] || (events[evt] = []);
    				}

    				return response;
    			};

    			/**
    			 * Takes a list of listener objects and flattens it into a list of listener functions.
    			 *
    			 * @param {Object[]} listeners Raw listener objects.
    			 * @return {Function[]} Just the listener functions.
    			 */
    			proto.flattenListeners = function flattenListeners(listeners) {
    				var flatListeners = [];
    				var i;

    				for (i = 0; i < listeners.length; i += 1) {
    					flatListeners.push(listeners[i].listener);
    				}

    				return flatListeners;
    			};

    			/**
    			 * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
    			 *
    			 * @param {String|RegExp} evt Name of the event to return the listeners from.
    			 * @return {Object} All listener functions for an event in an object.
    			 */
    			proto.getListenersAsObject = function getListenersAsObject(evt) {
    				var listeners = this.getListeners(evt);
    				var response;

    				if (listeners instanceof Array) {
    					response = {};
    					response[evt] = listeners;
    				}

    				return response || listeners;
    			};

    			/**
    			 * Adds a listener function to the specified event.
    			 * The listener will not be added if it is a duplicate.
    			 * If the listener returns true then it will be removed after it is called.
    			 * If you pass a regular expression as the event name then the listener will be added to all events that match it.
    			 *
    			 * @param {String|RegExp} evt Name of the event to attach the listener to.
    			 * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.addListener = function addListener(evt, listener) {
    				var listeners = this.getListenersAsObject(evt);
    				var listenerIsWrapped = typeof listener === 'object';
    				var key;

    				for (key in listeners) {
    					if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
    						listeners[key].push(listenerIsWrapped ? listener : {
    							listener: listener,
    							once: false
    						});
    					}
    				}

    				return this;
    			};

    			/**
    			 * Alias of addListener
    			 */
    			proto.on = alias('addListener');

    			/**
    			 * Semi-alias of addListener. It will add a listener that will be
    			 * automatically removed after it's first execution.
    			 *
    			 * @param {String|RegExp} evt Name of the event to attach the listener to.
    			 * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.addOnceListener = function addOnceListener(evt, listener) {
    				return this.addListener(evt, {
    					listener: listener,
    					once: true
    				});
    			};

    			/**
    			 * Alias of addOnceListener.
    			 */
    			proto.once = alias('addOnceListener');

    			/**
    			 * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
    			 * You need to tell it what event names should be matched by a regex.
    			 *
    			 * @param {String} evt Name of the event to create.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.defineEvent = function defineEvent(evt) {
    				this.getListeners(evt);
    				return this;
    			};

    			/**
    			 * Uses defineEvent to define multiple events.
    			 *
    			 * @param {String[]} evts An array of event names to define.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.defineEvents = function defineEvents(evts) {
    				for (var i = 0; i < evts.length; i += 1) {
    					this.defineEvent(evts[i]);
    				}
    				return this;
    			};

    			/**
    			 * Removes a listener function from the specified event.
    			 * When passed a regular expression as the event name, it will remove the listener from all events that match it.
    			 *
    			 * @param {String|RegExp} evt Name of the event to remove the listener from.
    			 * @param {Function} listener Method to remove from the event.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.removeListener = function removeListener(evt, listener) {
    				var listeners = this.getListenersAsObject(evt);
    				var index;
    				var key;

    				for (key in listeners) {
    					if (listeners.hasOwnProperty(key)) {
    						index = indexOfListener(listeners[key], listener);

    						if (index !== -1) {
    							listeners[key].splice(index, 1);
    						}
    					}
    				}

    				return this;
    			};

    			/**
    			 * Alias of removeListener
    			 */
    			proto.off = alias('removeListener');

    			/**
    			 * Adds listeners in bulk using the manipulateListeners method.
    			 * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
    			 * You can also pass it a regular expression to add the array of listeners to all events that match it.
    			 * Yeah, this function does quite a bit. That's probably a bad thing.
    			 *
    			 * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
    			 * @param {Function[]} [listeners] An optional array of listener functions to add.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.addListeners = function addListeners(evt, listeners) {
    				// Pass through to manipulateListeners
    				return this.manipulateListeners(false, evt, listeners);
    			};

    			/**
    			 * Removes listeners in bulk using the manipulateListeners method.
    			 * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
    			 * You can also pass it an event name and an array of listeners to be removed.
    			 * You can also pass it a regular expression to remove the listeners from all events that match it.
    			 *
    			 * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
    			 * @param {Function[]} [listeners] An optional array of listener functions to remove.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.removeListeners = function removeListeners(evt, listeners) {
    				// Pass through to manipulateListeners
    				return this.manipulateListeners(true, evt, listeners);
    			};

    			/**
    			 * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
    			 * The first argument will determine if the listeners are removed (true) or added (false).
    			 * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
    			 * You can also pass it an event name and an array of listeners to be added/removed.
    			 * You can also pass it a regular expression to manipulate the listeners of all events that match it.
    			 *
    			 * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
    			 * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
    			 * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
    				var i;
    				var value;
    				var single = remove ? this.removeListener : this.addListener;
    				var multiple = remove ? this.removeListeners : this.addListeners;

    				// If evt is an object then pass each of it's properties to this method
    				if (typeof evt === 'object' && !(evt instanceof RegExp)) {
    					for (i in evt) {
    						if (evt.hasOwnProperty(i) && (value = evt[i])) {
    							// Pass the single listener straight through to the singular method
    							if (typeof value === 'function') {
    								single.call(this, i, value);
    							}
    							else {
    								// Otherwise pass back to the multiple function
    								multiple.call(this, i, value);
    							}
    						}
    					}
    				}
    				else {
    					// So evt must be a string
    					// And listeners must be an array of listeners
    					// Loop over it and pass each one to the multiple method
    					i = listeners.length;
    					while (i--) {
    						single.call(this, evt, listeners[i]);
    					}
    				}

    				return this;
    			};

    			/**
    			 * Removes all listeners from a specified event.
    			 * If you do not specify an event then all listeners will be removed.
    			 * That means every event will be emptied.
    			 * You can also pass a regex to remove all events that match it.
    			 *
    			 * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.removeEvent = function removeEvent(evt) {
    				var type = typeof evt;
    				var events = this._getEvents();
    				var key;

    				// Remove different things depending on the state of evt
    				if (type === 'string') {
    					// Remove all listeners for the specified event
    					delete events[evt];
    				}
    				else if (evt instanceof RegExp) {
    					// Remove all events matching the regex.
    					for (key in events) {
    						if (events.hasOwnProperty(key) && evt.test(key)) {
    							delete events[key];
    						}
    					}
    				}
    				else {
    					// Remove all listeners in all events
    					delete this._events;
    				}

    				return this;
    			};

    			/**
    			 * Alias of removeEvent.
    			 *
    			 * Added to mirror the node API.
    			 */
    			proto.removeAllListeners = alias('removeEvent');

    			/**
    			 * Emits an event of your choice.
    			 * When emitted, every listener attached to that event will be executed.
    			 * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
    			 * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
    			 * So they will not arrive within the array on the other side, they will be separate.
    			 * You can also pass a regular expression to emit to all events that match it.
    			 *
    			 * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
    			 * @param {Array} [args] Optional array of arguments to be passed to each listener.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.emitEvent = function emitEvent(evt, args) {
    				var listeners = this.getListenersAsObject(evt);
    				var listener;
    				var i;
    				var key;
    				var response;

    				for (key in listeners) {
    					if (listeners.hasOwnProperty(key)) {
    						i = listeners[key].length;

    						while (i--) {
    							// If the listener returns true then it shall be removed from the event
    							// The function is executed either with a basic call or an apply if there is an args array
    							listener = listeners[key][i];

    							if (listener.once === true) {
    								this.removeListener(evt, listener.listener);
    							}

    							response = listener.listener.apply(this, args || []);

    							if (response === this._getOnceReturnValue()) {
    								this.removeListener(evt, listener.listener);
    							}
    						}
    					}
    				}

    				return this;
    			};

    			/**
    			 * Alias of emitEvent
    			 */
    			proto.trigger = alias('emitEvent');

    			/**
    			 * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
    			 * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
    			 *
    			 * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
    			 * @param {...*} Optional additional arguments to be passed to each listener.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.emit = function emit(evt) {
    				var args = Array.prototype.slice.call(arguments, 1);
    				return this.emitEvent(evt, args);
    			};

    			/**
    			 * Sets the current value to check against when executing listeners. If a
    			 * listeners return value matches the one set here then it will be removed
    			 * after execution. This value defaults to true.
    			 *
    			 * @param {*} value The new value to check for when executing listeners.
    			 * @return {Object} Current instance of EventEmitter for chaining.
    			 */
    			proto.setOnceReturnValue = function setOnceReturnValue(value) {
    				this._onceReturnValue = value;
    				return this;
    			};

    			/**
    			 * Fetches the current value to check against when executing listeners. If
    			 * the listeners return value matches this one then it should be removed
    			 * automatically. It will return true by default.
    			 *
    			 * @return {*|Boolean} The current value to check for or the default, true.
    			 * @api private
    			 */
    			proto._getOnceReturnValue = function _getOnceReturnValue() {
    				if (this.hasOwnProperty('_onceReturnValue')) {
    					return this._onceReturnValue;
    				}
    				else {
    					return true;
    				}
    			};

    			/**
    			 * Fetches the events object and creates one if required.
    			 *
    			 * @return {Object} The events storage object.
    			 * @api private
    			 */
    			proto._getEvents = function _getEvents() {
    				return this._events || (this._events = {});
    			};

    			/**
    			 * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
    			 *
    			 * @return {Function} Non conflicting EventEmitter class.
    			 */
    			EventEmitter.noConflict = function noConflict() {
    				originalGlobalValue;
    				return EventEmitter;
    			};

    			return EventEmitter;
    		}());
    		/* jshint ignore:end */



    			var validateTypeFunction = function( value, name ) {
    				validateType( value, name, typeof value === "undefined" || typeof value === "function", "Function" );
    			};




    			var superGet, superInit,
    				globalEe = new EventEmitter();

    			function validateTypeEvent( value, name ) {
    				validateType( value, name, typeof value === "string" || value instanceof RegExp, "String or RegExp" );
    			}

    			function validateThenCall( method, self ) {
    				return function( event, listener ) {
    					validatePresence( event, "event" );
    					validateTypeEvent( event, "event" );

    					validatePresence( listener, "listener" );
    					validateTypeFunction( listener, "listener" );

    					return self[ method ].apply( self, arguments );
    				};
    			}

    			function off( self ) {
    				return validateThenCall( "off", self );
    			}

    			function on( self ) {
    				return validateThenCall( "on", self );
    			}

    			function once( self ) {
    				return validateThenCall( "once", self );
    			}

    			Cldr.off = off( globalEe );
    			Cldr.on = on( globalEe );
    			Cldr.once = once( globalEe );

    			/**
    			 * Overload Cldr.prototype.init().
    			 */
    			superInit = Cldr.prototype.init;
    			Cldr.prototype.init = function() {
    				var ee;
    				this.ee = ee = new EventEmitter();
    				this.off = off( ee );
    				this.on = on( ee );
    				this.once = once( ee );
    				superInit.apply( this, arguments );
    			};

    			/**
    			 * getOverload is encapsulated, because of cldr/unresolved. If it's loaded
    			 * after cldr/event (and note it overwrites .get), it can trigger this
    			 * overload again.
    			 */
    			function getOverload() {

    				/**
    				 * Overload Cldr.prototype.get().
    				 */
    				superGet = Cldr.prototype.get;
    				Cldr.prototype.get = function( path ) {
    					var value = superGet.apply( this, arguments );
    					path = pathNormalize( path, this.attributes ).join( "/" );
    					globalEe.trigger( "get", [ path, value ] );
    					this.ee.trigger( "get", [ path, value ] );
    					return value;
    				};
    			}

    			Cldr._eventInit = getOverload;
    			getOverload();

    			return Cldr;




    		}));
    } (event));
    	return event.exports;
    }

    var supplemental$2 = {exports: {}};

    /**
     * CLDR JavaScript Library v0.5.4
     * http://jquery.com/
     *
     * Copyright 2013 Rafael Xavier de Souza
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2020-10-22T15:56Z
     */

    var hasRequiredSupplemental;

    function requireSupplemental () {
    	if (hasRequiredSupplemental) return supplemental$2.exports;
    	hasRequiredSupplemental = 1;
    	(function (module) {
    		/*!
    		 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
    		 * http://git.io/h4lmVg
    		 */
    		(function( factory ) {

    			{
    				// Node. CommonJS.
    				module.exports = factory( requireCldr() );
    			}

    		}(function( Cldr ) {

    			// Build optimization hack to avoid duplicating functions across modules.
    			var alwaysArray = Cldr._alwaysArray;



    			var supplementalMain = function( cldr ) {

    				var prepend, supplemental;
    				
    				prepend = function( prepend ) {
    					return function( path ) {
    						path = alwaysArray( path );
    						return cldr.get( [ prepend ].concat( path ) );
    					};
    				};

    				supplemental = prepend( "supplemental" );

    				// Week Data
    				// http://www.unicode.org/reports/tr35/tr35-dates.html#Week_Data
    				supplemental.weekData = prepend( "supplemental/weekData" );

    				supplemental.weekData.firstDay = function() {
    					return cldr.get( "supplemental/weekData/firstDay/{territory}" ) ||
    						cldr.get( "supplemental/weekData/firstDay/001" );
    				};

    				supplemental.weekData.minDays = function() {
    					var minDays = cldr.get( "supplemental/weekData/minDays/{territory}" ) ||
    						cldr.get( "supplemental/weekData/minDays/001" );
    					return parseInt( minDays, 10 );
    				};

    				// Time Data
    				// http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Data
    				supplemental.timeData = prepend( "supplemental/timeData" );

    				supplemental.timeData.allowed = function() {
    					return cldr.get( "supplemental/timeData/{territory}/_allowed" ) ||
    						cldr.get( "supplemental/timeData/001/_allowed" );
    				};

    				supplemental.timeData.preferred = function() {
    					return cldr.get( "supplemental/timeData/{territory}/_preferred" ) ||
    						cldr.get( "supplemental/timeData/001/_preferred" );
    				};

    				return supplemental;

    			};




    			var initSuper = Cldr.prototype.init;

    			/**
    			 * .init() automatically ran on construction.
    			 *
    			 * Overload .init().
    			 */
    			Cldr.prototype.init = function() {
    				initSuper.apply( this, arguments );
    				this.supplemental = supplementalMain( this );
    			};

    			return Cldr;




    		}));
    } (supplemental$2));
    	return supplemental$2.exports;
    }

    var unresolved = {exports: {}};

    /**
     * CLDR JavaScript Library v0.5.4
     * http://jquery.com/
     *
     * Copyright 2013 Rafael Xavier de Souza
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2020-10-22T15:56Z
     */

    var hasRequiredUnresolved;

    function requireUnresolved () {
    	if (hasRequiredUnresolved) return unresolved.exports;
    	hasRequiredUnresolved = 1;
    	(function (module) {
    		/*!
    		 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
    		 * http://git.io/h4lmVg
    		 */
    		(function( factory ) {

    			{
    				// Node. CommonJS.
    				module.exports = factory( requireCldr() );
    			}

    		}(function( Cldr ) {

    			// Build optimization hack to avoid duplicating functions across modules.
    			var coreLoad = Cldr._coreLoad;
    			var jsonMerge = Cldr._jsonMerge;
    			var pathNormalize = Cldr._pathNormalize;
    			var resourceGet = Cldr._resourceGet;
    			var validatePresence = Cldr._validatePresence;
    			var validateTypePath = Cldr._validateTypePath;



    			var bundleParentLookup = function( Cldr, locale ) {
    				var normalizedPath, parent;

    				if ( locale === "root" ) {
    					return;
    				}

    				// First, try to find parent on supplemental data.
    				normalizedPath = pathNormalize( [ "supplemental/parentLocales/parentLocale", locale ] );
    				parent = resourceGet( Cldr._resolved, normalizedPath ) || resourceGet( Cldr._raw, normalizedPath );
    				if ( parent ) {
    					return parent;
    				}

    				// Or truncate locale.
    				parent = locale.substr( 0, locale.lastIndexOf( Cldr.localeSep ) );
    				if ( !parent ) {
    					return "root";
    				}

    				return parent;
    			};




    			// @path: normalized path
    			var resourceSet = function( data, path, value ) {
    				var i,
    					node = data,
    					length = path.length;

    				for ( i = 0; i < length - 1; i++ ) {
    					if ( !node[ path[ i ] ] ) {
    						node[ path[ i ] ] = {};
    					}
    					node = node[ path[ i ] ];
    				}
    				node[ path[ i ] ] = value;
    			};


    			var itemLookup = (function() {

    			var lookup;

    			lookup = function( Cldr, locale, path, attributes, childLocale ) {
    				var normalizedPath, parent, value;

    				// 1: Finish recursion
    				// 2: Avoid infinite loop
    				if ( typeof locale === "undefined" /* 1 */ || locale === childLocale /* 2 */ ) {
    					return;
    				}

    				// Resolve path
    				normalizedPath = pathNormalize( path, attributes );

    				// Check resolved (cached) data first
    				// 1: Due to #16, never use the cached resolved non-leaf nodes. It may not
    				//    represent its leafs in its entirety.
    				value = resourceGet( Cldr._resolved, normalizedPath );
    				if ( value !== undefined && typeof value !== "object" /* 1 */ ) {
    					return value;
    				}

    				// Check raw data
    				value = resourceGet( Cldr._raw, normalizedPath );

    				if ( value === undefined ) {
    					// Or, lookup at parent locale
    					parent = bundleParentLookup( Cldr, locale );
    					value = lookup( Cldr, parent, path, jsonMerge( attributes, { bundle: parent }), locale );
    				}

    				if ( value !== undefined ) {
    					// Set resolved (cached)
    					resourceSet( Cldr._resolved, normalizedPath, value );
    				}

    				return value;
    			};

    			return lookup;

    		}());


    			Cldr._raw = {};

    			/**
    			 * Cldr.load( json [, json, ...] )
    			 *
    			 * @json [JSON] CLDR data or [Array] Array of @json's.
    			 *
    			 * Load resolved or unresolved cldr data.
    			 * Overwrite Cldr.load().
    			 */
    			Cldr.load = function() {
    				Cldr._raw = coreLoad( Cldr, Cldr._raw, arguments );
    			};

    			/**
    			 * Overwrite Cldr.prototype.get().
    			 */
    			Cldr.prototype.get = function( path ) {
    				validatePresence( path, "path" );
    				validateTypePath( path, "path" );

    				// 1: use bundle as locale on item lookup for simplification purposes, because no other extended subtag is used anyway on bundle parent lookup.
    				// 2: during init(), this method is called, but bundle is yet not defined. Use "" as a workaround in this very specific scenario.
    				return itemLookup( Cldr, this.attributes && this.attributes.bundle /* 1 */ || "" /* 2 */, path, this.attributes );
    			};

    			// In case cldr/unresolved is loaded after cldr/event, we trigger its overloads again. Because, .get is overwritten in here.
    			if ( Cldr._eventInit ) {
    				Cldr._eventInit();
    			}

    			return Cldr;




    		}));
    } (unresolved));
    	return unresolved.exports;
    }

    /**
     * CLDR JavaScript Library v0.5.4
     * http://jquery.com/
     *
     * Copyright 2013 Rafael Xavier de Souza
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2020-10-22T15:56Z
     */

    var hasRequiredNode_main;

    function requireNode_main () {
    	if (hasRequiredNode_main) return node_main.exports;
    	hasRequiredNode_main = 1;
    	(function (module) {
    		/*!
    		 * CLDR JavaScript Library v0.5.4 2020-10-22T15:56Z MIT license © Rafael Xavier
    		 * http://git.io/h4lmVg
    		 */

    		// Cldr
    		module.exports = requireCldr();

    		// Extent Cldr with the following modules
    		requireEvent();
    		requireSupplemental();
    		requireUnresolved();
    } (node_main));
    	return node_main.exports;
    }

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main() );
    		}
    	}( commonjsGlobal, function( Cldr ) {


    	/**
    	 * A toString method that outputs meaningful values for objects or arrays and
    	 * still performs as fast as a plain string in case variable is string, or as
    	 * fast as `"" + number` in case variable is a number.
    	 * Ref: http://jsperf.com/my-stringify
    	 */
    	var toString = function( variable ) {
    		return typeof variable === "string" ? variable : ( typeof variable === "number" ? "" +
    			variable : JSON.stringify( variable ) );
    	};




    	/**
    	 * formatMessage( message, data )
    	 *
    	 * @message [String] A message with optional {vars} to be replaced.
    	 *
    	 * @data [Array or JSON] Object with replacing-variables content.
    	 *
    	 * Return the formatted message. For example:
    	 *
    	 * - formatMessage( "{0} second", [ 1 ] ); // 1 second
    	 *
    	 * - formatMessage( "{0}/{1}", ["m", "s"] ); // m/s
    	 *
    	 * - formatMessage( "{name} <{email}>", {
    	 *     name: "Foo",
    	 *     email: "bar@baz.qux"
    	 *   }); // Foo <bar@baz.qux>
    	 */
    	var formatMessage = function( message, data ) {

    		// Replace {attribute}'s
    		message = message.replace( /{[0-9a-zA-Z-_. ]+}/g, function( name ) {
    			name = name.replace( /^{([^}]*)}$/, "$1" );
    			return toString( data[ name ] );
    		});

    		return message;
    	};




    	var objectExtend = function() {
    		var destination = arguments[ 0 ],
    			sources = [].slice.call( arguments, 1 );

    		sources.forEach(function( source ) {
    			var prop;
    			for ( prop in source ) {
    				destination[ prop ] = source[ prop ];
    			}
    		});

    		return destination;
    	};




    	var createError = function( code, message, attributes ) {
    		var error;

    		message = code + ( message ? ": " + formatMessage( message, attributes ) : "" );
    		error = new Error( message );
    		error.code = code;

    		objectExtend( error, attributes );

    		return error;
    	};




    	/**
    	 * Pushes part to parts array, concat two consecutive parts of the same type.
    	 */
    	var partsPush = function( parts, type, value ) {

    			// Concat two consecutive parts of same type
    			if ( parts.length && parts[ parts.length - 1 ].type === type ) {
    				parts[ parts.length - 1 ].value += value;
    				return;
    			}

    			parts.push( { type: type, value: value } );
    	};




    	/**
    	 * formatMessage( message, data )
    	 *
    	 * @message [String] A message with optional {vars} to be replaced.
    	 *
    	 * @data [Array or JSON] Object with replacing-variables content.
    	 *
    	 * Return the formatted message. For example:
    	 *
    	 * - formatMessage( "{0} second", [ 1 ] );
    	 * > [{type: "variable", value: "1", name: "0"}, {type: "literal", value: " second"}]
    	 *
    	 * - formatMessage( "{0}/{1}", ["m", "s"] );
    	 * > [
    	 *     { type: "variable", value: "m", name: "0" },
    	 *     { type: "literal", value: " /" },
    	 *     { type: "variable", value: "s", name: "1" }
    	 *   ]
    	 */
    	var formatMessageToParts = function( message, data ) {

    		var lastOffset = 0,
    			parts = [];

    		// Create parts.
    		message.replace( /{[0-9a-zA-Z-_. ]+}/g, function( nameIncludingBrackets, offset ) {
    			var name = nameIncludingBrackets.slice( 1, -1 );
    			partsPush( parts, "literal", message.slice( lastOffset, offset ));
    			partsPush( parts, "variable", data[ name ] );
    			parts[ parts.length - 1 ].name = name;
    			lastOffset += offset + nameIncludingBrackets.length;
    		});

    		// Skip empty ones such as `{ type: 'literal', value: '' }`.
    		return parts.filter(function( part ) {
    			return part.value !== "";
    		});
    	};




    	/**
    	 * Returns joined parts values.
    	 */
    	var partsJoin = function( parts ) {
    		return parts.map( function( part ) {
    			return part.value;
    		}).join( "" );
    	};




    	var runtimeStringify = function( args ) {
    		return JSON.stringify( args, function( _key, value ) {
    			if ( value && value.runtimeKey ) {
    				return value.runtimeKey;
    			}
    			return value;
    		} );
    	};




    	// Based on http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery
    	var stringHash = function( str ) {
    		return [].reduce.call( str, function( hash, i ) {
    			var chr = i.charCodeAt( 0 );
    			hash = ( ( hash << 5 ) - hash ) + chr;
    			return hash | 0;
    		}, 0 );
    	};




    	var runtimeKey = function( fnName, locale, args, argsStr ) {
    		var hash;
    		argsStr = argsStr || runtimeStringify( args );
    		hash = stringHash( fnName + locale + argsStr );
    		return hash > 0 ? "a" + hash : "b" + Math.abs( hash );
    	};




    	var functionName = function( fn ) {
    		if ( fn.name !== undefined ) {
    			return fn.name;
    		}

    		// fn.name is not supported by IE.
    		var matches = /^function\s+([\w\$]+)\s*\(/.exec( fn.toString() );

    		if ( matches && matches.length > 0 ) {
    			return matches[ 1 ];
    		}
    	};




    	var runtimeBind = function( args, cldr, fn, runtimeArgs ) {

    		var argsStr = runtimeStringify( args ),
    			fnName = functionName( fn ),
    			locale = cldr.locale;

    		// If name of the function is not available, this is most likely due to uglification,
    		// which most likely means we are in production, and runtimeBind here is not necessary.
    		if ( !fnName ) {
    			return fn;
    		}

    		fn.runtimeKey = runtimeKey( fnName, locale, null, argsStr );

    		fn.generatorString = function() {
    			return "Globalize(\"" + locale + "\")." + fnName + "(" + argsStr.slice( 1, -1 ) + ")";
    		};

    		fn.runtimeArgs = runtimeArgs;

    		return fn;
    	};




    	var validate = function( code, message, check, attributes ) {
    		if ( !check ) {
    			throw createError( code, message, attributes );
    		}
    	};




    	var alwaysArray = function( stringOrArray ) {
    		return Array.isArray( stringOrArray ) ? stringOrArray : stringOrArray ? [ stringOrArray ] : [];
    	};




    	var validateCldr = function( path, value, options ) {
    		var skipBoolean;
    		options = options || {};

    		skipBoolean = alwaysArray( options.skip ).some(function( pathRe ) {
    			return pathRe.test( path );
    		});

    		validate( "E_MISSING_CLDR", "Missing required CLDR content `{path}`.", value || skipBoolean, {
    			path: path
    		});
    	};




    	var validateDefaultLocale = function( value ) {
    		validate( "E_DEFAULT_LOCALE_NOT_DEFINED", "Default locale has not been defined.",
    			value !== undefined, {} );
    	};




    	var validateParameterPresence = function( value, name ) {
    		validate( "E_MISSING_PARAMETER", "Missing required parameter `{name}`.",
    			value !== undefined, { name: name });
    	};




    	/**
    	 * range( value, name, minimum, maximum )
    	 *
    	 * @value [Number].
    	 *
    	 * @name [String] name of variable.
    	 *
    	 * @minimum [Number]. The lowest valid value, inclusive.
    	 *
    	 * @maximum [Number]. The greatest valid value, inclusive.
    	 */
    	var validateParameterRange = function( value, name, minimum, maximum ) {
    		validate(
    			"E_PAR_OUT_OF_RANGE",
    			"Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].",
    			value === undefined || value >= minimum && value <= maximum,
    			{
    				maximum: maximum,
    				minimum: minimum,
    				name: name,
    				value: value
    			}
    		);
    	};




    	var validateParameterType = function( value, name, check, expected ) {
    		validate(
    			"E_INVALID_PAR_TYPE",
    			"Invalid `{name}` parameter ({value}). {expected} expected.",
    			check,
    			{
    				expected: expected,
    				name: name,
    				value: value
    			}
    		);
    	};




    	var validateParameterTypeLocale = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || typeof value === "string" || value instanceof Cldr,
    			"String or Cldr instance"
    		);
    	};




    	/**
    	 * Function inspired by jQuery Core, but reduced to our use case.
    	 */
    	var isPlainObject = function( obj ) {
    		return obj !== null && "" + obj === "[object Object]";
    	};




    	var validateParameterTypePlainObject = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || isPlainObject( value ),
    			"Plain Object"
    		);
    	};




    	var alwaysCldr = function( localeOrCldr ) {
    		return localeOrCldr instanceof Cldr ? localeOrCldr : new Cldr( localeOrCldr );
    	};




    	// ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions?redirectlocale=en-US&redirectslug=JavaScript%2FGuide%2FRegular_Expressions
    	var regexpEscape = function( string ) {
    		return string.replace( /([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1" );
    	};




    	var stringPad = function( str, count, right ) {
    		var length;
    		if ( typeof str !== "string" ) {
    			str = String( str );
    		}
    		for ( length = str.length; length < count; length += 1 ) {
    			str = ( right ? ( str + "0" ) : ( "0" + str ) );
    		}
    		return str;
    	};




    	function validateLikelySubtags( cldr ) {
    		cldr.once( "get", validateCldr );
    		cldr.get( "supplemental/likelySubtags" );
    	}

    	/**
    	 * [new] Globalize( locale|cldr )
    	 *
    	 * @locale [String]
    	 *
    	 * @cldr [Cldr instance]
    	 *
    	 * Create a Globalize instance.
    	 */
    	function Globalize( locale ) {
    		if ( !( this instanceof Globalize ) ) {
    			return new Globalize( locale );
    		}

    		validateParameterPresence( locale, "locale" );
    		validateParameterTypeLocale( locale, "locale" );

    		this.cldr = alwaysCldr( locale );

    		validateLikelySubtags( this.cldr );
    	}

    	/**
    	 * Globalize.load( json, ... )
    	 *
    	 * @json [JSON]
    	 *
    	 * Load resolved or unresolved cldr data.
    	 * Somewhat equivalent to previous Globalize.addCultureInfo(...).
    	 */
    	Globalize.load = function() {

    		// validations are delegated to Cldr.load().
    		Cldr.load.apply( Cldr, arguments );
    	};

    	/**
    	 * Globalize.locale( [locale|cldr] )
    	 *
    	 * @locale [String]
    	 *
    	 * @cldr [Cldr instance]
    	 *
    	 * Set default Cldr instance if locale or cldr argument is passed.
    	 *
    	 * Return the default Cldr instance.
    	 */
    	Globalize.locale = function( locale ) {
    		validateParameterTypeLocale( locale, "locale" );

    		if ( arguments.length ) {
    			this.cldr = alwaysCldr( locale );
    			validateLikelySubtags( this.cldr );
    		}
    		return this.cldr;
    	};

    	/**
    	 * Optimization to avoid duplicating some internal functions across modules.
    	 */
    	Globalize._alwaysArray = alwaysArray;
    	Globalize._createError = createError;
    	Globalize._formatMessage = formatMessage;
    	Globalize._formatMessageToParts = formatMessageToParts;
    	Globalize._isPlainObject = isPlainObject;
    	Globalize._objectExtend = objectExtend;
    	Globalize._partsJoin = partsJoin;
    	Globalize._partsPush = partsPush;
    	Globalize._regexpEscape = regexpEscape;
    	Globalize._runtimeBind = runtimeBind;
    	Globalize._stringPad = stringPad;
    	Globalize._validate = validate;
    	Globalize._validateCldr = validateCldr;
    	Globalize._validateDefaultLocale = validateDefaultLocale;
    	Globalize._validateParameterPresence = validateParameterPresence;
    	Globalize._validateParameterRange = validateParameterRange;
    	Globalize._validateParameterTypePlainObject = validateParameterTypePlainObject;
    	Globalize._validateParameterType = validateParameterType;

    	return Globalize;




    	}));
    } (globalize));

    var message = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var alwaysArray = Globalize._alwaysArray,
    		createError = Globalize._createError,
    		isPlainObject = Globalize._isPlainObject,
    		runtimeBind = Globalize._runtimeBind,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validate = Globalize._validate,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterType = Globalize._validateParameterType,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject;
    	var MessageFormat;
    	/* eslint-disable */
    	MessageFormat = (function() {
    	MessageFormat._parse = (function() {

    	  /*
    	   * Generated by PEG.js 0.8.0.
    	   *
    	   * http://pegjs.majda.cz/
    	   */

    	  function peg$subclass(child, parent) {
    	    function ctor() { this.constructor = child; }
    	    ctor.prototype = parent.prototype;
    	    child.prototype = new ctor();
    	  }

    	  function SyntaxError(message, expected, found, offset, line, column) {
    	    this.message  = message;
    	    this.expected = expected;
    	    this.found    = found;
    	    this.offset   = offset;
    	    this.line     = line;
    	    this.column   = column;

    	    this.name     = "SyntaxError";
    	  }

    	  peg$subclass(SyntaxError, Error);

    	  function parse(input) {
    	    var options = arguments.length > 1 ? arguments[1] : {},

    	        peg$FAILED = {},

    	        peg$startRuleFunctions = { start: peg$parsestart },
    	        peg$startRuleFunction  = peg$parsestart,

    	        peg$c1 = function(st) {
    	              return { type: 'messageFormatPattern', statements: st };
    	            },
    	        peg$c2 = peg$FAILED,
    	        peg$c3 = "{",
    	        peg$c4 = { type: "literal", value: "{", description: "\"{\"" },
    	        peg$c5 = null,
    	        peg$c6 = ",",
    	        peg$c7 = { type: "literal", value: ",", description: "\",\"" },
    	        peg$c8 = "}",
    	        peg$c9 = { type: "literal", value: "}", description: "\"}\"" },
    	        peg$c10 = function(argIdx, efmt) {
    	              var res = {
    	                type: "messageFormatElement",
    	                argumentIndex: argIdx
    	              };
    	              if (efmt && efmt.length) {
    	                res.elementFormat = efmt[1];
    	              } else {
    	                res.output = true;
    	              }
    	              return res;
    	            },
    	        peg$c11 = "plural",
    	        peg$c12 = { type: "literal", value: "plural", description: "\"plural\"" },
    	        peg$c13 = function(t, s) {
    	              return { type: "elementFormat", key: t, val: s };
    	            },
    	        peg$c14 = "selectordinal",
    	        peg$c15 = { type: "literal", value: "selectordinal", description: "\"selectordinal\"" },
    	        peg$c16 = "select",
    	        peg$c17 = { type: "literal", value: "select", description: "\"select\"" },
    	        peg$c18 = function(t, p) {
    	              return { type: "elementFormat", key: t, val: p };
    	            },
    	        peg$c19 = function(op, pf) {
    	              return { type: "pluralFormatPattern", pluralForms: pf, offset: op || 0 };
    	            },
    	        peg$c20 = "offset",
    	        peg$c21 = { type: "literal", value: "offset", description: "\"offset\"" },
    	        peg$c22 = ":",
    	        peg$c23 = { type: "literal", value: ":", description: "\":\"" },
    	        peg$c24 = function(d) { return d; },
    	        peg$c25 = function(k, mfp) {
    	              return { key: k, val: mfp };
    	            },
    	        peg$c26 = function(i) { return i; },
    	        peg$c27 = "=",
    	        peg$c28 = { type: "literal", value: "=", description: "\"=\"" },
    	        peg$c29 = function(pf) { return { type: "selectFormatPattern", pluralForms: pf }; },
    	        peg$c30 = function(p) { return p; },
    	        peg$c31 = "#",
    	        peg$c32 = { type: "literal", value: "#", description: "\"#\"" },
    	        peg$c33 = function() { return {type: 'octothorpe'}; },
    	        peg$c34 = function(s) { return { type: "string", val: s.join('') }; },
    	        peg$c35 = { type: "other", description: "identifier" },
    	        peg$c36 = /^[0-9a-zA-Z$_]/,
    	        peg$c37 = { type: "class", value: "[0-9a-zA-Z$_]", description: "[0-9a-zA-Z$_]" },
    	        peg$c38 = /^[^ \t\n\r,.+={}]/,
    	        peg$c39 = { type: "class", value: "[^ \\t\\n\\r,.+={}]", description: "[^ \\t\\n\\r,.+={}]" },
    	        peg$c40 = function(s) { return s; },
    	        peg$c41 = function(chars) { return chars.join(''); },
    	        peg$c42 = /^[^{}#\\\0-\x1F \t\n\r]/,
    	        peg$c43 = { type: "class", value: "[^{}#\\\\\\0-\\x1F \\t\\n\\r]", description: "[^{}#\\\\\\0-\\x1F \\t\\n\\r]" },
    	        peg$c44 = function(x) { return x; },
    	        peg$c45 = "\\\\",
    	        peg$c46 = { type: "literal", value: "\\\\", description: "\"\\\\\\\\\"" },
    	        peg$c47 = function() { return "\\"; },
    	        peg$c48 = "\\#",
    	        peg$c49 = { type: "literal", value: "\\#", description: "\"\\\\#\"" },
    	        peg$c50 = function() { return "#"; },
    	        peg$c51 = "\\{",
    	        peg$c52 = { type: "literal", value: "\\{", description: "\"\\\\{\"" },
    	        peg$c53 = function() { return "\u007B"; },
    	        peg$c54 = "\\}",
    	        peg$c55 = { type: "literal", value: "\\}", description: "\"\\\\}\"" },
    	        peg$c56 = function() { return "\u007D"; },
    	        peg$c57 = "\\u",
    	        peg$c58 = { type: "literal", value: "\\u", description: "\"\\\\u\"" },
    	        peg$c59 = function(h1, h2, h3, h4) {
    	              return String.fromCharCode(parseInt("0x" + h1 + h2 + h3 + h4));
    	            },
    	        peg$c60 = /^[0-9]/,
    	        peg$c61 = { type: "class", value: "[0-9]", description: "[0-9]" },
    	        peg$c62 = function(ds) {
    	            //the number might start with 0 but must not be interpreted as an octal number
    	            //Hence, the base is passed to parseInt explicitely
    	            return parseInt((ds.join('')), 10);
    	          },
    	        peg$c63 = /^[0-9a-fA-F]/,
    	        peg$c64 = { type: "class", value: "[0-9a-fA-F]", description: "[0-9a-fA-F]" },
    	        peg$c65 = { type: "other", description: "whitespace" },
    	        peg$c66 = function(w) { return w.join(''); },
    	        peg$c67 = /^[ \t\n\r]/,
    	        peg$c68 = { type: "class", value: "[ \\t\\n\\r]", description: "[ \\t\\n\\r]" },

    	        peg$currPos          = 0,
    	        peg$cachedPos        = 0,
    	        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },
    	        peg$maxFailPos       = 0,
    	        peg$maxFailExpected  = [],
    	        peg$silentFails      = 0,

    	        peg$result;

    	    if ("startRule" in options) {
    	      if (!(options.startRule in peg$startRuleFunctions)) {
    	        throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
    	      }

    	      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
    	    }

    	    function peg$computePosDetails(pos) {
    	      function advance(details, startPos, endPos) {
    	        var p, ch;

    	        for (p = startPos; p < endPos; p++) {
    	          ch = input.charAt(p);
    	          if (ch === "\n") {
    	            if (!details.seenCR) { details.line++; }
    	            details.column = 1;
    	            details.seenCR = false;
    	          } else if (ch === "\r" || ch === "\u2028" || ch === "\u2029") {
    	            details.line++;
    	            details.column = 1;
    	            details.seenCR = true;
    	          } else {
    	            details.column++;
    	            details.seenCR = false;
    	          }
    	        }
    	      }

    	      if (peg$cachedPos !== pos) {
    	        if (peg$cachedPos > pos) {
    	          peg$cachedPos = 0;
    	          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };
    	        }
    	        advance(peg$cachedPosDetails, peg$cachedPos, pos);
    	        peg$cachedPos = pos;
    	      }

    	      return peg$cachedPosDetails;
    	    }

    	    function peg$fail(expected) {
    	      if (peg$currPos < peg$maxFailPos) { return; }

    	      if (peg$currPos > peg$maxFailPos) {
    	        peg$maxFailPos = peg$currPos;
    	        peg$maxFailExpected = [];
    	      }

    	      peg$maxFailExpected.push(expected);
    	    }

    	    function peg$buildException(message, expected, pos) {
    	      function cleanupExpected(expected) {
    	        var i = 1;

    	        expected.sort(function(a, b) {
    	          if (a.description < b.description) {
    	            return -1;
    	          } else if (a.description > b.description) {
    	            return 1;
    	          } else {
    	            return 0;
    	          }
    	        });

    	        while (i < expected.length) {
    	          if (expected[i - 1] === expected[i]) {
    	            expected.splice(i, 1);
    	          } else {
    	            i++;
    	          }
    	        }
    	      }

    	      function buildMessage(expected, found) {
    	        function stringEscape(s) {
    	          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }

    	          return s
    	            .replace(/\\/g,   '\\\\')
    	            .replace(/"/g,    '\\"')
    	            .replace(/\x08/g, '\\b')
    	            .replace(/\t/g,   '\\t')
    	            .replace(/\n/g,   '\\n')
    	            .replace(/\f/g,   '\\f')
    	            .replace(/\r/g,   '\\r')
    	            .replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(ch) { return '\\x0' + hex(ch); })
    	            .replace(/[\x10-\x1F\x80-\xFF]/g,    function(ch) { return '\\x'  + hex(ch); })
    	            .replace(/[\u0180-\u0FFF]/g,         function(ch) { return '\\u0' + hex(ch); })
    	            .replace(/[\u1080-\uFFFF]/g,         function(ch) { return '\\u'  + hex(ch); });
    	        }

    	        var expectedDescs = new Array(expected.length),
    	            expectedDesc, foundDesc, i;

    	        for (i = 0; i < expected.length; i++) {
    	          expectedDescs[i] = expected[i].description;
    	        }

    	        expectedDesc = expected.length > 1
    	          ? expectedDescs.slice(0, -1).join(", ")
    	              + " or "
    	              + expectedDescs[expected.length - 1]
    	          : expectedDescs[0];

    	        foundDesc = found ? "\"" + stringEscape(found) + "\"" : "end of input";

    	        return "Expected " + expectedDesc + " but " + foundDesc + " found.";
    	      }

    	      var posDetails = peg$computePosDetails(pos),
    	          found      = pos < input.length ? input.charAt(pos) : null;

    	      if (expected !== null) {
    	        cleanupExpected(expected);
    	      }

    	      return new SyntaxError(
    	        message !== null ? message : buildMessage(expected, found),
    	        expected,
    	        found,
    	        pos,
    	        posDetails.line,
    	        posDetails.column
    	      );
    	    }

    	    function peg$parsestart() {
    	      var s0;

    	      s0 = peg$parsemessageFormatPattern();

    	      return s0;
    	    }

    	    function peg$parsemessageFormatPattern() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = [];
    	      s2 = peg$parsemessageFormatElement();
    	      if (s2 === peg$FAILED) {
    	        s2 = peg$parsestring();
    	        if (s2 === peg$FAILED) {
    	          s2 = peg$parseoctothorpe();
    	        }
    	      }
    	      while (s2 !== peg$FAILED) {
    	        s1.push(s2);
    	        s2 = peg$parsemessageFormatElement();
    	        if (s2 === peg$FAILED) {
    	          s2 = peg$parsestring();
    	          if (s2 === peg$FAILED) {
    	            s2 = peg$parseoctothorpe();
    	          }
    	        }
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c1(s1);
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parsemessageFormatElement() {
    	      var s0, s1, s2, s3, s4, s5, s6;

    	      s0 = peg$currPos;
    	      if (input.charCodeAt(peg$currPos) === 123) {
    	        s1 = peg$c3;
    	        peg$currPos++;
    	      } else {
    	        s1 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c4); }
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s2 = peg$parse_();
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parseid();
    	          if (s3 !== peg$FAILED) {
    	            s4 = peg$currPos;
    	            if (input.charCodeAt(peg$currPos) === 44) {
    	              s5 = peg$c6;
    	              peg$currPos++;
    	            } else {
    	              s5 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c7); }
    	            }
    	            if (s5 !== peg$FAILED) {
    	              s6 = peg$parseelementFormat();
    	              if (s6 !== peg$FAILED) {
    	                s5 = [s5, s6];
    	                s4 = s5;
    	              } else {
    	                peg$currPos = s4;
    	                s4 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s4;
    	              s4 = peg$c2;
    	            }
    	            if (s4 === peg$FAILED) {
    	              s4 = peg$c5;
    	            }
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                if (input.charCodeAt(peg$currPos) === 125) {
    	                  s6 = peg$c8;
    	                  peg$currPos++;
    	                } else {
    	                  s6 = peg$FAILED;
    	                  if (peg$silentFails === 0) { peg$fail(peg$c9); }
    	                }
    	                if (s6 !== peg$FAILED) {
    	                  s1 = peg$c10(s3, s4);
    	                  s0 = s1;
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parseelementFormat() {
    	      var s0, s1, s2, s3, s4, s5, s6, s7;

    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        if (input.substr(peg$currPos, 6) === peg$c11) {
    	          s2 = peg$c11;
    	          peg$currPos += 6;
    	        } else {
    	          s2 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c12); }
    	        }
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            if (input.charCodeAt(peg$currPos) === 44) {
    	              s4 = peg$c6;
    	              peg$currPos++;
    	            } else {
    	              s4 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c7); }
    	            }
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                s6 = peg$parsepluralFormatPattern();
    	                if (s6 !== peg$FAILED) {
    	                  s7 = peg$parse_();
    	                  if (s7 !== peg$FAILED) {
    	                    s1 = peg$c13(s2, s6);
    	                    s0 = s1;
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }
    	      if (s0 === peg$FAILED) {
    	        s0 = peg$currPos;
    	        s1 = peg$parse_();
    	        if (s1 !== peg$FAILED) {
    	          if (input.substr(peg$currPos, 13) === peg$c14) {
    	            s2 = peg$c14;
    	            peg$currPos += 13;
    	          } else {
    	            s2 = peg$FAILED;
    	            if (peg$silentFails === 0) { peg$fail(peg$c15); }
    	          }
    	          if (s2 !== peg$FAILED) {
    	            s3 = peg$parse_();
    	            if (s3 !== peg$FAILED) {
    	              if (input.charCodeAt(peg$currPos) === 44) {
    	                s4 = peg$c6;
    	                peg$currPos++;
    	              } else {
    	                s4 = peg$FAILED;
    	                if (peg$silentFails === 0) { peg$fail(peg$c7); }
    	              }
    	              if (s4 !== peg$FAILED) {
    	                s5 = peg$parse_();
    	                if (s5 !== peg$FAILED) {
    	                  s6 = peg$parsepluralFormatPattern();
    	                  if (s6 !== peg$FAILED) {
    	                    s7 = peg$parse_();
    	                    if (s7 !== peg$FAILED) {
    	                      s1 = peg$c13(s2, s6);
    	                      s0 = s1;
    	                    } else {
    	                      peg$currPos = s0;
    	                      s0 = peg$c2;
    	                    }
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	        if (s0 === peg$FAILED) {
    	          s0 = peg$currPos;
    	          s1 = peg$parse_();
    	          if (s1 !== peg$FAILED) {
    	            if (input.substr(peg$currPos, 6) === peg$c16) {
    	              s2 = peg$c16;
    	              peg$currPos += 6;
    	            } else {
    	              s2 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c17); }
    	            }
    	            if (s2 !== peg$FAILED) {
    	              s3 = peg$parse_();
    	              if (s3 !== peg$FAILED) {
    	                if (input.charCodeAt(peg$currPos) === 44) {
    	                  s4 = peg$c6;
    	                  peg$currPos++;
    	                } else {
    	                  s4 = peg$FAILED;
    	                  if (peg$silentFails === 0) { peg$fail(peg$c7); }
    	                }
    	                if (s4 !== peg$FAILED) {
    	                  s5 = peg$parse_();
    	                  if (s5 !== peg$FAILED) {
    	                    s6 = peg$parseselectFormatPattern();
    	                    if (s6 !== peg$FAILED) {
    	                      s7 = peg$parse_();
    	                      if (s7 !== peg$FAILED) {
    	                        s1 = peg$c13(s2, s6);
    	                        s0 = s1;
    	                      } else {
    	                        peg$currPos = s0;
    	                        s0 = peg$c2;
    	                      }
    	                    } else {
    	                      peg$currPos = s0;
    	                      s0 = peg$c2;
    	                    }
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	          if (s0 === peg$FAILED) {
    	            s0 = peg$currPos;
    	            s1 = peg$parse_();
    	            if (s1 !== peg$FAILED) {
    	              s2 = peg$parseid();
    	              if (s2 !== peg$FAILED) {
    	                s3 = [];
    	                s4 = peg$parseargStylePattern();
    	                while (s4 !== peg$FAILED) {
    	                  s3.push(s4);
    	                  s4 = peg$parseargStylePattern();
    	                }
    	                if (s3 !== peg$FAILED) {
    	                  s1 = peg$c18(s2, s3);
    	                  s0 = s1;
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          }
    	        }
    	      }

    	      return s0;
    	    }

    	    function peg$parsepluralFormatPattern() {
    	      var s0, s1, s2, s3;

    	      s0 = peg$currPos;
    	      s1 = peg$parseoffsetPattern();
    	      if (s1 === peg$FAILED) {
    	        s1 = peg$c5;
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s2 = [];
    	        s3 = peg$parsepluralForm();
    	        if (s3 !== peg$FAILED) {
    	          while (s3 !== peg$FAILED) {
    	            s2.push(s3);
    	            s3 = peg$parsepluralForm();
    	          }
    	        } else {
    	          s2 = peg$c2;
    	        }
    	        if (s2 !== peg$FAILED) {
    	          s1 = peg$c19(s1, s2);
    	          s0 = s1;
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parseoffsetPattern() {
    	      var s0, s1, s2, s3, s4, s5, s6, s7;

    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        if (input.substr(peg$currPos, 6) === peg$c20) {
    	          s2 = peg$c20;
    	          peg$currPos += 6;
    	        } else {
    	          s2 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c21); }
    	        }
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            if (input.charCodeAt(peg$currPos) === 58) {
    	              s4 = peg$c22;
    	              peg$currPos++;
    	            } else {
    	              s4 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c23); }
    	            }
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                s6 = peg$parsedigits();
    	                if (s6 !== peg$FAILED) {
    	                  s7 = peg$parse_();
    	                  if (s7 !== peg$FAILED) {
    	                    s1 = peg$c24(s6);
    	                    s0 = s1;
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parsepluralForm() {
    	      var s0, s1, s2, s3, s4, s5, s6, s7, s8;

    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        s2 = peg$parsepluralKey();
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            if (input.charCodeAt(peg$currPos) === 123) {
    	              s4 = peg$c3;
    	              peg$currPos++;
    	            } else {
    	              s4 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c4); }
    	            }
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                s6 = peg$parsemessageFormatPattern();
    	                if (s6 !== peg$FAILED) {
    	                  s7 = peg$parse_();
    	                  if (s7 !== peg$FAILED) {
    	                    if (input.charCodeAt(peg$currPos) === 125) {
    	                      s8 = peg$c8;
    	                      peg$currPos++;
    	                    } else {
    	                      s8 = peg$FAILED;
    	                      if (peg$silentFails === 0) { peg$fail(peg$c9); }
    	                    }
    	                    if (s8 !== peg$FAILED) {
    	                      s1 = peg$c25(s2, s6);
    	                      s0 = s1;
    	                    } else {
    	                      peg$currPos = s0;
    	                      s0 = peg$c2;
    	                    }
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parsepluralKey() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = peg$parseid();
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c26(s1);
    	      }
    	      s0 = s1;
    	      if (s0 === peg$FAILED) {
    	        s0 = peg$currPos;
    	        if (input.charCodeAt(peg$currPos) === 61) {
    	          s1 = peg$c27;
    	          peg$currPos++;
    	        } else {
    	          s1 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c28); }
    	        }
    	        if (s1 !== peg$FAILED) {
    	          s2 = peg$parsedigits();
    	          if (s2 !== peg$FAILED) {
    	            s1 = peg$c24(s2);
    	            s0 = s1;
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      }

    	      return s0;
    	    }

    	    function peg$parseselectFormatPattern() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = [];
    	      s2 = peg$parseselectForm();
    	      if (s2 !== peg$FAILED) {
    	        while (s2 !== peg$FAILED) {
    	          s1.push(s2);
    	          s2 = peg$parseselectForm();
    	        }
    	      } else {
    	        s1 = peg$c2;
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c29(s1);
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parseselectForm() {
    	      var s0, s1, s2, s3, s4, s5, s6, s7, s8;

    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        s2 = peg$parseid();
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            if (input.charCodeAt(peg$currPos) === 123) {
    	              s4 = peg$c3;
    	              peg$currPos++;
    	            } else {
    	              s4 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c4); }
    	            }
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                s6 = peg$parsemessageFormatPattern();
    	                if (s6 !== peg$FAILED) {
    	                  s7 = peg$parse_();
    	                  if (s7 !== peg$FAILED) {
    	                    if (input.charCodeAt(peg$currPos) === 125) {
    	                      s8 = peg$c8;
    	                      peg$currPos++;
    	                    } else {
    	                      s8 = peg$FAILED;
    	                      if (peg$silentFails === 0) { peg$fail(peg$c9); }
    	                    }
    	                    if (s8 !== peg$FAILED) {
    	                      s1 = peg$c25(s2, s6);
    	                      s0 = s1;
    	                    } else {
    	                      peg$currPos = s0;
    	                      s0 = peg$c2;
    	                    }
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parseargStylePattern() {
    	      var s0, s1, s2, s3, s4, s5;

    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        if (input.charCodeAt(peg$currPos) === 44) {
    	          s2 = peg$c6;
    	          peg$currPos++;
    	        } else {
    	          s2 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c7); }
    	        }
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            s4 = peg$parseid();
    	            if (s4 !== peg$FAILED) {
    	              s5 = peg$parse_();
    	              if (s5 !== peg$FAILED) {
    	                s1 = peg$c30(s4);
    	                s0 = s1;
    	              } else {
    	                peg$currPos = s0;
    	                s0 = peg$c2;
    	              }
    	            } else {
    	              peg$currPos = s0;
    	              s0 = peg$c2;
    	            }
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }

    	      return s0;
    	    }

    	    function peg$parseoctothorpe() {
    	      var s0, s1;

    	      s0 = peg$currPos;
    	      if (input.charCodeAt(peg$currPos) === 35) {
    	        s1 = peg$c31;
    	        peg$currPos++;
    	      } else {
    	        s1 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c32); }
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c33();
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parsestring() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = [];
    	      s2 = peg$parsechars();
    	      if (s2 === peg$FAILED) {
    	        s2 = peg$parsewhitespace();
    	      }
    	      if (s2 !== peg$FAILED) {
    	        while (s2 !== peg$FAILED) {
    	          s1.push(s2);
    	          s2 = peg$parsechars();
    	          if (s2 === peg$FAILED) {
    	            s2 = peg$parsewhitespace();
    	          }
    	        }
    	      } else {
    	        s1 = peg$c2;
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c34(s1);
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parseid() {
    	      var s0, s1, s2, s3, s4, s5, s6;

    	      peg$silentFails++;
    	      s0 = peg$currPos;
    	      s1 = peg$parse_();
    	      if (s1 !== peg$FAILED) {
    	        s2 = peg$currPos;
    	        s3 = peg$currPos;
    	        if (peg$c36.test(input.charAt(peg$currPos))) {
    	          s4 = input.charAt(peg$currPos);
    	          peg$currPos++;
    	        } else {
    	          s4 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c37); }
    	        }
    	        if (s4 !== peg$FAILED) {
    	          s5 = [];
    	          if (peg$c38.test(input.charAt(peg$currPos))) {
    	            s6 = input.charAt(peg$currPos);
    	            peg$currPos++;
    	          } else {
    	            s6 = peg$FAILED;
    	            if (peg$silentFails === 0) { peg$fail(peg$c39); }
    	          }
    	          while (s6 !== peg$FAILED) {
    	            s5.push(s6);
    	            if (peg$c38.test(input.charAt(peg$currPos))) {
    	              s6 = input.charAt(peg$currPos);
    	              peg$currPos++;
    	            } else {
    	              s6 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c39); }
    	            }
    	          }
    	          if (s5 !== peg$FAILED) {
    	            s4 = [s4, s5];
    	            s3 = s4;
    	          } else {
    	            peg$currPos = s3;
    	            s3 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s3;
    	          s3 = peg$c2;
    	        }
    	        if (s3 !== peg$FAILED) {
    	          s3 = input.substring(s2, peg$currPos);
    	        }
    	        s2 = s3;
    	        if (s2 !== peg$FAILED) {
    	          s3 = peg$parse_();
    	          if (s3 !== peg$FAILED) {
    	            s1 = peg$c40(s2);
    	            s0 = s1;
    	          } else {
    	            peg$currPos = s0;
    	            s0 = peg$c2;
    	          }
    	        } else {
    	          peg$currPos = s0;
    	          s0 = peg$c2;
    	        }
    	      } else {
    	        peg$currPos = s0;
    	        s0 = peg$c2;
    	      }
    	      peg$silentFails--;
    	      if (s0 === peg$FAILED) {
    	        s1 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c35); }
    	      }

    	      return s0;
    	    }

    	    function peg$parsechars() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = [];
    	      s2 = peg$parsechar();
    	      if (s2 !== peg$FAILED) {
    	        while (s2 !== peg$FAILED) {
    	          s1.push(s2);
    	          s2 = peg$parsechar();
    	        }
    	      } else {
    	        s1 = peg$c2;
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c41(s1);
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parsechar() {
    	      var s0, s1, s2, s3, s4, s5;

    	      s0 = peg$currPos;
    	      if (peg$c42.test(input.charAt(peg$currPos))) {
    	        s1 = input.charAt(peg$currPos);
    	        peg$currPos++;
    	      } else {
    	        s1 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c43); }
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c44(s1);
    	      }
    	      s0 = s1;
    	      if (s0 === peg$FAILED) {
    	        s0 = peg$currPos;
    	        if (input.substr(peg$currPos, 2) === peg$c45) {
    	          s1 = peg$c45;
    	          peg$currPos += 2;
    	        } else {
    	          s1 = peg$FAILED;
    	          if (peg$silentFails === 0) { peg$fail(peg$c46); }
    	        }
    	        if (s1 !== peg$FAILED) {
    	          s1 = peg$c47();
    	        }
    	        s0 = s1;
    	        if (s0 === peg$FAILED) {
    	          s0 = peg$currPos;
    	          if (input.substr(peg$currPos, 2) === peg$c48) {
    	            s1 = peg$c48;
    	            peg$currPos += 2;
    	          } else {
    	            s1 = peg$FAILED;
    	            if (peg$silentFails === 0) { peg$fail(peg$c49); }
    	          }
    	          if (s1 !== peg$FAILED) {
    	            s1 = peg$c50();
    	          }
    	          s0 = s1;
    	          if (s0 === peg$FAILED) {
    	            s0 = peg$currPos;
    	            if (input.substr(peg$currPos, 2) === peg$c51) {
    	              s1 = peg$c51;
    	              peg$currPos += 2;
    	            } else {
    	              s1 = peg$FAILED;
    	              if (peg$silentFails === 0) { peg$fail(peg$c52); }
    	            }
    	            if (s1 !== peg$FAILED) {
    	              s1 = peg$c53();
    	            }
    	            s0 = s1;
    	            if (s0 === peg$FAILED) {
    	              s0 = peg$currPos;
    	              if (input.substr(peg$currPos, 2) === peg$c54) {
    	                s1 = peg$c54;
    	                peg$currPos += 2;
    	              } else {
    	                s1 = peg$FAILED;
    	                if (peg$silentFails === 0) { peg$fail(peg$c55); }
    	              }
    	              if (s1 !== peg$FAILED) {
    	                s1 = peg$c56();
    	              }
    	              s0 = s1;
    	              if (s0 === peg$FAILED) {
    	                s0 = peg$currPos;
    	                if (input.substr(peg$currPos, 2) === peg$c57) {
    	                  s1 = peg$c57;
    	                  peg$currPos += 2;
    	                } else {
    	                  s1 = peg$FAILED;
    	                  if (peg$silentFails === 0) { peg$fail(peg$c58); }
    	                }
    	                if (s1 !== peg$FAILED) {
    	                  s2 = peg$parsehexDigit();
    	                  if (s2 !== peg$FAILED) {
    	                    s3 = peg$parsehexDigit();
    	                    if (s3 !== peg$FAILED) {
    	                      s4 = peg$parsehexDigit();
    	                      if (s4 !== peg$FAILED) {
    	                        s5 = peg$parsehexDigit();
    	                        if (s5 !== peg$FAILED) {
    	                          s1 = peg$c59(s2, s3, s4, s5);
    	                          s0 = s1;
    	                        } else {
    	                          peg$currPos = s0;
    	                          s0 = peg$c2;
    	                        }
    	                      } else {
    	                        peg$currPos = s0;
    	                        s0 = peg$c2;
    	                      }
    	                    } else {
    	                      peg$currPos = s0;
    	                      s0 = peg$c2;
    	                    }
    	                  } else {
    	                    peg$currPos = s0;
    	                    s0 = peg$c2;
    	                  }
    	                } else {
    	                  peg$currPos = s0;
    	                  s0 = peg$c2;
    	                }
    	              }
    	            }
    	          }
    	        }
    	      }

    	      return s0;
    	    }

    	    function peg$parsedigits() {
    	      var s0, s1, s2;

    	      s0 = peg$currPos;
    	      s1 = [];
    	      if (peg$c60.test(input.charAt(peg$currPos))) {
    	        s2 = input.charAt(peg$currPos);
    	        peg$currPos++;
    	      } else {
    	        s2 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c61); }
    	      }
    	      if (s2 !== peg$FAILED) {
    	        while (s2 !== peg$FAILED) {
    	          s1.push(s2);
    	          if (peg$c60.test(input.charAt(peg$currPos))) {
    	            s2 = input.charAt(peg$currPos);
    	            peg$currPos++;
    	          } else {
    	            s2 = peg$FAILED;
    	            if (peg$silentFails === 0) { peg$fail(peg$c61); }
    	          }
    	        }
    	      } else {
    	        s1 = peg$c2;
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c62(s1);
    	      }
    	      s0 = s1;

    	      return s0;
    	    }

    	    function peg$parsehexDigit() {
    	      var s0;

    	      if (peg$c63.test(input.charAt(peg$currPos))) {
    	        s0 = input.charAt(peg$currPos);
    	        peg$currPos++;
    	      } else {
    	        s0 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c64); }
    	      }

    	      return s0;
    	    }

    	    function peg$parse_() {
    	      var s0, s1, s2;

    	      peg$silentFails++;
    	      s0 = peg$currPos;
    	      s1 = [];
    	      s2 = peg$parsewhitespace();
    	      while (s2 !== peg$FAILED) {
    	        s1.push(s2);
    	        s2 = peg$parsewhitespace();
    	      }
    	      if (s1 !== peg$FAILED) {
    	        s1 = peg$c66(s1);
    	      }
    	      s0 = s1;
    	      peg$silentFails--;
    	      if (s0 === peg$FAILED) {
    	        s1 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c65); }
    	      }

    	      return s0;
    	    }

    	    function peg$parsewhitespace() {
    	      var s0;

    	      if (peg$c67.test(input.charAt(peg$currPos))) {
    	        s0 = input.charAt(peg$currPos);
    	        peg$currPos++;
    	      } else {
    	        s0 = peg$FAILED;
    	        if (peg$silentFails === 0) { peg$fail(peg$c68); }
    	      }

    	      return s0;
    	    }

    	    peg$result = peg$startRuleFunction();

    	    if (peg$result !== peg$FAILED && peg$currPos === input.length) {
    	      return peg$result;
    	    } else {
    	      if (peg$result !== peg$FAILED && peg$currPos < input.length) {
    	        peg$fail({ type: "end", description: "end of input" });
    	      }

    	      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);
    	    }
    	  }

    	  return {
    	    SyntaxError: SyntaxError,
    	    parse:       parse
    	  };
    	}()).parse;


    	/** @file messageformat.js - ICU PluralFormat + SelectFormat for JavaScript
    	 *  @author Alex Sexton - @SlexAxton
    	 *  @version 0.3.0-1
    	 *  @copyright 2012-2015 Alex Sexton, Eemeli Aro, and Contributors
    	 *  @license To use or fork, MIT. To contribute back, Dojo CLA  */


    	/** Utility function for quoting an Object's key value iff required
    	 *  @private  */
    	function propname(key, obj) {
    	  if (/^[A-Z_$][0-9A-Z_$]*$/i.test(key)) {
    	    return obj ? obj + '.' + key : key;
    	  } else {
    	    var jkey = JSON.stringify(key);
    	    return obj ? obj + '[' + jkey + ']' : jkey;
    	  }
    	}

    	/** Create a new message formatter
    	 *
    	 *  @class
    	 *  @global
    	 *  @param {string|string[]} [locale="en"] - The locale to use, with fallbacks
    	 *  @param {function} [pluralFunc] - Optional custom pluralization function
    	 *  @param {function[]} [formatters] - Optional custom formatting functions  */
    	function MessageFormat(locale, pluralFunc, formatters) {
    	  this.lc = [locale];  
    	  this.runtime.pluralFuncs = {};
    	  this.runtime.pluralFuncs[this.lc[0]] = pluralFunc;
    	  this.runtime.fmt = {};
    	  if (formatters) for (var f in formatters) {
    	    this.runtime.fmt[f] = formatters[f];
    	  }
    	}




    	/** Parse an input string to its AST
    	 *
    	 *  Precompiled from `lib/messageformat-parser.pegjs` by
    	 *  {@link http://pegjs.org/ PEG.js}. Included in MessageFormat object
    	 *  to enable testing.
    	 *
    	 *  @private  */



    	/** Pluralization functions from
    	 *  {@link http://github.com/eemeli/make-plural.js make-plural}
    	 *
    	 *  @memberof MessageFormat
    	 *  @type Object.<string,function>  */
    	MessageFormat.plurals = {};


    	/** Default number formatting functions in the style of ICU's
    	 *  {@link http://icu-project.org/apiref/icu4j/com/ibm/icu/text/MessageFormat.html simpleArg syntax}
    	 *  implemented using the
    	 *  {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl Intl}
    	 *  object defined by ECMA-402.
    	 *
    	 *  **Note**: Intl is not defined in default Node until 0.11.15 / 0.12.0, so
    	 *  earlier versions require a {@link https://www.npmjs.com/package/intl polyfill}.
    	 *  Therefore {@link MessageFormat.withIntlSupport} needs to be true for these
    	 *  functions to be available for inclusion in the output.
    	 *
    	 *  @see MessageFormat#setIntlSupport
    	 *
    	 *  @namespace
    	 *  @memberof MessageFormat
    	 *  @property {function} number - Represent a number as an integer, percent or currency value
    	 *  @property {function} date - Represent a date as a full/long/default/short string
    	 *  @property {function} time - Represent a time as a full/long/default/short string
    	 *
    	 *  @example
    	 *  > var MessageFormat = require('messageformat');
    	 *  > var mf = (new MessageFormat('en')).setIntlSupport(true);
    	 *  > mf.currency = 'EUR';
    	 *  > var mfunc = mf.compile("The total is {V,number,currency}.");
    	 *  > mfunc({V:5.5})
    	 *  "The total is €5.50."
    	 *
    	 *  @example
    	 *  > var MessageFormat = require('messageformat');
    	 *  > var mf = new MessageFormat('en', null, {number: MessageFormat.number});
    	 *  > mf.currency = 'EUR';
    	 *  > var mfunc = mf.compile("The total is {V,number,currency}.");
    	 *  > mfunc({V:5.5})
    	 *  "The total is €5.50."  */
    	MessageFormat.formatters = {};

    	/** Enable or disable support for the default formatters, which require the
    	 *  `Intl` object. Note that this can't be autodetected, as the environment
    	 *  in which the formatted text is compiled into Javascript functions is not
    	 *  necessarily the same environment in which they will get executed.
    	 *
    	 *  @see MessageFormat.formatters
    	 *
    	 *  @memberof MessageFormat
    	 *  @param {boolean} [enable=true]
    	 *  @returns {Object} The MessageFormat instance, to allow for chaining
    	 *  @example
    	 *  > var Intl = require('intl');
    	 *  > var MessageFormat = require('messageformat');
    	 *  > var mf = (new MessageFormat('en')).setIntlSupport(true);
    	 *  > mf.currency = 'EUR';
    	 *  > mf.compile("The total is {V,number,currency}.")({V:5.5});
    	 *  "The total is €5.50."  */



    	/** A set of utility functions that are called by the compiled Javascript
    	 *  functions, these are included locally in the output of {@link
    	 *  MessageFormat#compile compile()}.
    	 *
    	 *  @namespace
    	 *  @memberof MessageFormat  */
    	MessageFormat.prototype.runtime = {

    	  /** Utility function for `#` in plural rules
    	   *
    	   *  @param {number} value - The value to operate on
    	   *  @param {number} [offset=0] - An optional offset, set by the surrounding context  */
    	  number: function(value, offset) {
    	    if (isNaN(value)) throw new Error("'" + value + "' isn't a number.");
    	    return value - (offset || 0);
    	  },

    	  /** Utility function for `{N, plural|selectordinal, ...}`
    	   *
    	   *  @param {number} value - The key to use to find a pluralization rule
    	   *  @param {number} offset - An offset to apply to `value`
    	   *  @param {function} lcfunc - A locale function from `pluralFuncs`
    	   *  @param {Object.<string,string>} data - The object from which results are looked up
    	   *  @param {?boolean} isOrdinal - If true, use ordinal rather than cardinal rules
    	   *  @returns {string} The result of the pluralization  */
    	  plural: function(value, offset, lcfunc, data, isOrdinal) {
    	    if ({}.hasOwnProperty.call(data, value)) return data[value]();
    	    if (offset) value -= offset;
    	    var key = lcfunc(value, isOrdinal);
    	    if (key in data) return data[key]();
    	    return data.other();
    	  },

    	  /** Utility function for `{N, select, ...}`
    	   *
    	   *  @param {number} value - The key to use to find a selection
    	   *  @param {Object.<string,string>} data - The object from which results are looked up
    	   *  @returns {string} The result of the select statement  */
    	  select: function(value, data) {
    	    if ({}.hasOwnProperty.call(data, value)) return data[value]();
    	    return data.other()
    	  },

    	  /** Pluralization functions included in compiled output
    	   *  @instance
    	   *  @type Object.<string,function>  */
    	  pluralFuncs: {},

    	  /** Custom formatting functions called by `{var, fn[, args]*}` syntax
    	   *
    	   *  For examples, see {@link MessageFormat.formatters}
    	   *
    	   *  @instance
    	   *  @see MessageFormat.formatters
    	   *  @type Object.<string,function>  */
    	  fmt: {},

    	  /** Custom stringifier to clean up browser inconsistencies
    	   *  @instance  */
    	  toString: function () {
    	    var _stringify = function(o, level) {
    	      if (typeof o != 'object') {
    	        var funcStr = o.toString().replace(/^(function )\w*/, '$1');
    	        var indent = /([ \t]*)\S.*$/.exec(funcStr);
    	        return indent ? funcStr.replace(new RegExp('^' + indent[1], 'mg'), '') : funcStr;
    	      }
    	      var s = [];
    	      for (var i in o) if (i != 'toString') {
    	        if (level == 0) s.push('var ' + i + ' = ' + _stringify(o[i], level + 1) + ';\n');
    	        else s.push(propname(i) + ': ' + _stringify(o[i], level + 1));
    	      }
    	      if (level == 0) return s.join('');
    	      if (s.length == 0) return '{}';
    	      var indent = '  '; while (--level) indent += '  ';
    	      return '{\n' + s.join(',\n').replace(/^/gm, indent) + '\n}';
    	    };
    	    return _stringify(this, 0);
    	  }
    	};


    	/** Recursively map an AST to its resulting string
    	 *
    	 *  @memberof MessageFormat
    	 *
    	 *  @param ast - the Ast node for which the JS code should be generated
    	 *
    	 *  @private  */
    	MessageFormat.prototype._precompile = function(ast, data) {
    	  data = data || { keys: {}, offset: {} };
    	  var r = [], i, tmp, args = [];

    	  switch ( ast.type ) {
    	    case 'messageFormatPattern':
    	      for ( i = 0; i < ast.statements.length; ++i ) {
    	        r.push(this._precompile( ast.statements[i], data ));
    	      }
    	      tmp = r.join(' + ') || '""';
    	      return data.pf_count ? tmp : 'function(d) { return ' + tmp + '; }';

    	    case 'messageFormatElement':
    	      data.pf_count = data.pf_count || 0;
    	      if ( ast.output ) {
    	        return propname(ast.argumentIndex, 'd');
    	      }
    	      else {
    	        data.keys[data.pf_count] = ast.argumentIndex;
    	        return this._precompile( ast.elementFormat, data );
    	      }

    	    case 'elementFormat':
    	      args = [ propname(data.keys[data.pf_count], 'd') ];
    	      switch (ast.key) {
    	        case 'select':
    	          args.push(this._precompile(ast.val, data));
    	          return 'select(' + args.join(', ') + ')';
    	        case 'selectordinal':
    	          args = args.concat([ 0, propname(this.lc[0], 'pluralFuncs'), this._precompile(ast.val, data), 1 ]);
    	          return 'plural(' + args.join(', ') + ')';
    	        case 'plural':
    	          data.offset[data.pf_count || 0] = ast.val.offset || 0;
    	          args = args.concat([ data.offset[data.pf_count] || 0, propname(this.lc[0], 'pluralFuncs'), this._precompile(ast.val, data) ]);
    	          return 'plural(' + args.join(', ') + ')';
    	        default:
    	          if (this.withIntlSupport && !(ast.key in this.runtime.fmt) && (ast.key in MessageFormat.formatters)) {
    	            tmp = MessageFormat.formatters[ast.key];
    	            this.runtime.fmt[ast.key] = (typeof tmp(this) == 'function') ? tmp(this) : tmp;
    	          }
    	          args.push(JSON.stringify(this.lc));
    	          if (ast.val && ast.val.length) args.push(JSON.stringify(ast.val.length == 1 ? ast.val[0] : ast.val));
    	          return 'fmt.' + ast.key + '(' + args.join(', ') + ')';
    	      }

    	    case 'pluralFormatPattern':
    	    case 'selectFormatPattern':
    	      data.pf_count = data.pf_count || 0;
    	      if (ast.type == 'selectFormatPattern') data.offset[data.pf_count] = 0;
    	      var needOther = true;
    	      for (i = 0; i < ast.pluralForms.length; ++i) {
    	        var key = ast.pluralForms[i].key;
    	        if (key === 'other') needOther = false;
    	        var data_copy = JSON.parse(JSON.stringify(data));
    	        data_copy.pf_count++;
    	        r.push(propname(key) + ': function() { return ' + this._precompile(ast.pluralForms[i].val, data_copy) + ';}');
    	      }
    	      if (needOther) throw new Error("No 'other' form found in " + ast.type + " " + data.pf_count);
    	      return '{ ' + r.join(', ') + ' }';

    	    case 'string':
    	      return JSON.stringify(ast.val || "");

    	    case 'octothorpe':
    	      if (!data.pf_count) return '"#"';
    	      args = [ propname(data.keys[data.pf_count-1], 'd') ];
    	      if (data.offset[data.pf_count-1]) args.push(data.offset[data.pf_count-1]);
    	      return 'number(' + args.join(', ') + ')';

    	    default:
    	      throw new Error( 'Bad AST type: ' + ast.type );
    	  }
    	};

    	/** Compile messages into an executable function with clean string
    	 *  representation.
    	 *
    	 *  If `messages` is a single string including ICU MessageFormat declarations,
    	 *  `opt` is ignored and the returned function takes a single Object parameter
    	 *  `d` representing each of the input's defined variables. The returned
    	 *  function will be defined in a local scope that includes all the required
    	 *  runtime variables.
    	 *
    	 *  If `messages` is a map of keys to strings, or a map of namespace keys to
    	 *  such key/string maps, the returned function will fill the specified global
    	 *  with javascript functions matching the structure of the input. In such use,
    	 *  the output of `compile()` is expected to be serialized using `.toString()`,
    	 *  and will include definitions of the runtime functions. If `opt.global` is
    	 *  null, calling the output function will return the object itself.
    	 *
    	 *  Together, the input parameters should match the following patterns:
    	 *  ```js
    	 *  messages = "string" || { key0: "string0", key1: "string1", ... } || {
    	 *    ns0: { key0: "string0", key1: "string1", ...  },
    	 *    ns1: { key0: "string0", key1: "string1", ...  },
    	 *    ...
    	 *  }
    	 *
    	 *  opt = null || {
    	 *    locale: null || {
    	 *      ns0: "lc0" || [ "lc0", ... ],
    	 *      ns1: "lc1" || [ "lc1", ... ],
    	 *      ...
    	 *    },
    	 *    global: null || "module.exports" || "exports" || "i18n" || ...
    	 *  }
    	 *  ```
    	 *
    	 *  @memberof MessageFormat
    	 *  @param {string|Object}
    	 *      messages - The input message(s) to be compiled, in ICU MessageFormat
    	 *  @param {Object} [opt={}] - Options controlling output for non-simple intput
    	 *  @param {Object} [opt.locale] - The locales to use for the messages, with a
    	 *      structure matching that of `messages`
    	 *  @param {string} [opt.global=""] - The global variable that the output
    	 *      function should use, or a null string for none. "exports" and
    	 *      "module.exports" are recognised as special cases.
    	 *  @returns {function} The first match found for the given locale(s)
    	 *
    	 *  @example
    	 * > var MessageFormat = require('messageformat'),
    	 * ...   mf = new MessageFormat('en'),
    	 * ...   mfunc0 = mf.compile('A {TYPE} example.');
    	 * > mfunc0({TYPE:'simple'})
    	 * 'A simple example.'
    	 * > mfunc0.toString()
    	 * 'function (d) { return "A " + d.TYPE + " example."; }'
    	 *
    	 *  @example
    	 * > var msgSet = { a: 'A {TYPE} example.',
    	 * ...              b: 'This has {COUNT, plural, one{one member} other{# members}}.' },
    	 * ...   mfuncSet = mf.compile(msgSet);
    	 * > mfuncSet().a({TYPE:'more complex'})
    	 * 'A more complex example.'
    	 * > mfuncSet().b({COUNT:2})
    	 * 'This has 2 members.'
    	 *
    	 * > console.log(mfuncSet.toString())
    	 * function anonymous() {
    	 * var number = function (value, offset) {
    	 *   if (isNaN(value)) throw new Error("'" + value + "' isn't a number.");
    	 *   return value - (offset || 0);
    	 * };
    	 * var plural = function (value, offset, lcfunc, data, isOrdinal) {
    	 *   if ({}.hasOwnProperty.call(data, value)) return data[value]();
    	 *   if (offset) value -= offset;
    	 *   var key = lcfunc(value, isOrdinal);
    	 *   if (key in data) return data[key]();
    	 *   return data.other();
    	 * };
    	 * var select = function (value, data) {
    	 *   if ({}.hasOwnProperty.call(data, value)) return data[value]();
    	 *   return data.other()
    	 * };
    	 * var pluralFuncs = {
    	 *   en: function (n, ord) {
    	 *     var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
    	 *         n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
    	 *     if (ord) return (n10 == 1 && n100 != 11) ? 'one'
    	 *         : (n10 == 2 && n100 != 12) ? 'two'
    	 *         : (n10 == 3 && n100 != 13) ? 'few'
    	 *         : 'other';
    	 *     return (n == 1 && v0) ? 'one' : 'other';
    	 *   }
    	 * };
    	 * var fmt = {};
    	 *
    	 * return {
    	 *   a: function(d) { return "A " + d.TYPE + " example."; },
    	 *   b: function(d) { return "This has " + plural(d.COUNT, 0, pluralFuncs.en, { one: function() { return "one member";}, other: function() { return number(d.COUNT)+" members";} }) + "."; }
    	 * }
    	 * }
    	 *
    	 *  @example
    	 * > mf.runtime.pluralFuncs.fi = MessageFormat.plurals.fi;
    	 * > var multiSet = { en: { a: 'A {TYPE} example.',
    	 * ...                      b: 'This is the {COUNT, selectordinal, one{#st} two{#nd} few{#rd} other{#th}} example.' },
    	 * ...                fi: { a: '{TYPE} esimerkki.',
    	 * ...                      b: 'Tämä on {COUNT, selectordinal, other{#.}} esimerkki.' } },
    	 * ...   multiSetLocales = { en: 'en', fi: 'fi' },
    	 * ...   mfuncSet = mf.compile(multiSet, { locale: multiSetLocales, global: 'i18n' });
    	 * > mfuncSet(this);
    	 * > i18n.en.b({COUNT:3})
    	 * 'This is the 3rd example.'
    	 * > i18n.fi.b({COUNT:3})
    	 * 'Tämä on 3. esimerkki.'  */
    	MessageFormat.prototype.compile = function ( messages, opt ) {
    	  var r = {}, lc0 = this.lc,
    	      compileMsg = function(self, msg) {
    	        try {
    	          var ast = MessageFormat._parse(msg);
    	          return self._precompile(ast);
    	        } catch (e) {
    	          throw new Error((ast ? 'Precompiler' : 'Parser') + ' error: ' + e.toString());
    	        }
    	      },
    	      stringify = function(r, level) {
    	        if (!level) level = 0;
    	        if (typeof r != 'object') return r;
    	        var o = [], indent = '';
    	        for (var i = 0; i < level; ++i) indent += '  ';
    	        for (var k in r) o.push('\n' + indent + '  ' + propname(k) + ': ' + stringify(r[k], level + 1));
    	        return '{' + o.join(',') + '\n' + indent + '}';
    	      };

    	  if (typeof messages == 'string') {
    	    var f = new Function(
    	        'number, plural, select, pluralFuncs, fmt',
    	        'return ' + compileMsg(this, messages));
    	    return f(this.runtime.number, this.runtime.plural, this.runtime.select,
    	        this.runtime.pluralFuncs, this.runtime.fmt);
    	  }

    	  opt = opt || {};

    	  for (var ns in messages) {
    	    if (opt.locale) this.lc = opt.locale[ns] && [].concat(opt.locale[ns]) || lc0;
    	    if (typeof messages[ns] == 'string') {
    	      try { r[ns] = compileMsg(this, messages[ns]); }
    	      catch (e) { e.message = e.message.replace(':', ' with `' + ns + '`:'); throw e; }
    	    } else {
    	      r[ns] = {};
    	      for (var key in messages[ns]) {
    	        try { r[ns][key] = compileMsg(this, messages[ns][key]); }
    	        catch (e) { e.message = e.message.replace(':', ' with `' + key + '` in `' + ns + '`:'); throw e; }
    	      }
    	    }
    	  }

    	  this.lc = lc0;
    	  var s = this.runtime.toString() + '\n';
    	  switch (opt.global || '') {
    	    case 'exports':
    	      var o = [];
    	      for (var k in r) o.push(propname(k, 'exports') + ' = ' + stringify(r[k]));
    	      return new Function(s + o.join(';\n'));
    	    case 'module.exports':
    	      return new Function(s + 'module.exports = ' + stringify(r));
    	    case '':
    	      return new Function(s + 'return ' + stringify(r));
    	    default:
    	      return new Function('G', s + propname(opt.global, 'G') + ' = ' + stringify(r));
    	  }
    	};


    	return MessageFormat;
    	}());
    	/* eslint-enable */


    	var createErrorPluralModulePresence = function() {
    		return createError( "E_MISSING_PLURAL_MODULE", "Plural module not loaded." );
    	};




    	var validateMessageBundle = function( cldr ) {
    		validate(
    			"E_MISSING_MESSAGE_BUNDLE",
    			"Missing message bundle for locale `{locale}`.",
    			cldr.attributes.bundle && cldr.get( "globalize-messages/{bundle}" ) !== undefined,
    			{
    				locale: cldr.locale
    			}
    		);
    	};




    	var validateMessagePresence = function( path, value ) {
    		path = path.join( "/" );
    		validate( "E_MISSING_MESSAGE", "Missing required message content `{path}`.",
    			value !== undefined, { path: path } );
    	};




    	var validateMessageType = function( path, value ) {
    		path = path.join( "/" );
    		validate(
    			"E_INVALID_MESSAGE",
    			"Invalid message content `{path}`. {expected} expected.",
    			typeof value === "string",
    			{
    				expected: "a string",
    				path: path
    			}
    		);
    	};




    	var validateParameterTypeMessageVariables = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || isPlainObject( value ) || Array.isArray( value ),
    			"Array or Plain Object"
    		);
    	};




    	var messageFormatterFn = function( formatter ) {
    		return function messageFormatter( variables ) {
    			if ( typeof variables === "number" || typeof variables === "string" ) {
    				variables = [].slice.call( arguments, 0 );
    			}
    			validateParameterTypeMessageVariables( variables, "variables" );
    			return formatter( variables );
    		};
    	};




    	var messageFormatterRuntimeBind = function( cldr, messageformatter ) {
    		var locale = cldr.locale,
    			origToString = messageformatter.toString;

    		messageformatter.toString = function() {
    			var argNames, argValues, output,
    				args = {};

    			// Properly adjust SlexAxton/messageformat.js compiled variables with Globalize variables:
    			output = origToString.call( messageformatter );

    			if ( /number\(/.test( output ) ) {
    				args.number = "messageFormat.number";
    			}

    			if ( /plural\(/.test( output ) ) {
    				args.plural = "messageFormat.plural";
    			}

    			if ( /select\(/.test( output ) ) {
    				args.select = "messageFormat.select";
    			}

    			output.replace( /pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/, function( match ) {
    				args.pluralFuncs = "{" +
    					"\"" + locale + "\": Globalize(\"" + locale + "\").pluralGenerator()" +
    					"}";
    				return match;
    			});

    			argNames = Object.keys( args ).join( ", " );
    			argValues = Object.keys( args ).map(function( key ) {
    				return args[ key ];
    			}).join( ", " );

    			return "(function( " + argNames + " ) {\n" +
    				"  return " + output + "\n" +
    				"})(" + argValues + ")";
    		};

    		return messageformatter;
    	};




    	var slice = [].slice;

    	/**
    	 * .loadMessages( json )
    	 *
    	 * @json [JSON]
    	 *
    	 * Load translation data.
    	 */
    	Globalize.loadMessages = function( json ) {
    		var locale,
    			customData = {
    				"globalize-messages": json,
    				"main": {}
    			};

    		validateParameterPresence( json, "json" );
    		validateParameterTypePlainObject( json, "json" );

    		// Set available bundles by populating customData main dataset.
    		for ( locale in json ) {
    			if ( json.hasOwnProperty( locale ) ) {
    				customData.main[ locale ] = {};
    			}
    		}

    		Cldr.load( customData );
    	};

    	/**
    	 * .messageFormatter( path )
    	 *
    	 * @path [String or Array]
    	 *
    	 * Format a message given its path.
    	 */
    	Globalize.messageFormatter =
    	Globalize.prototype.messageFormatter = function( path ) {
    		var cldr, formatter, message, pluralGenerator, returnFn,
    			args = slice.call( arguments, 0 );

    		validateParameterPresence( path, "path" );
    		validateParameterType( path, "path", typeof path === "string" || Array.isArray( path ),
    			"a String nor an Array" );

    		path = alwaysArray( path );
    		cldr = this.cldr;

    		validateDefaultLocale( cldr );
    		validateMessageBundle( cldr );

    		message = cldr.get( [ "globalize-messages/{bundle}" ].concat( path ) );
    		validateMessagePresence( path, message );

    		// If message is an Array, concatenate it.
    		if ( Array.isArray( message ) ) {
    			message = message.join( " " );
    		}
    		validateMessageType( path, message );

    		// Is plural module present? Yes, use its generator. Nope, use an error generator.
    		pluralGenerator = this.plural !== undefined ?
    			this.pluralGenerator() :
    			createErrorPluralModulePresence;

    		formatter = new MessageFormat( cldr.locale, pluralGenerator ).compile( message );

    		returnFn = messageFormatterFn( formatter );

    		runtimeBind( args, cldr, returnFn,
    			[ messageFormatterRuntimeBind( cldr, formatter ), pluralGenerator ] );

    		return returnFn;
    	};

    	/**
    	 * .formatMessage( path [, variables] )
    	 *
    	 * @path [String or Array]
    	 *
    	 * @variables [Number, String, Array or Object]
    	 *
    	 * Format a message given its path.
    	 */
    	Globalize.formatMessage =
    	Globalize.prototype.formatMessage = function( path /* , variables */ ) {
    		return this.messageFormatter( path ).apply( {}, slice.call( arguments, 1 ) );
    	};

    	return Globalize;




    	}));
    } (message));

    var number = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var createError = Globalize._createError,
    		partsJoin = Globalize._partsJoin,
    		partsPush = Globalize._partsPush,
    		regexpEscape = Globalize._regexpEscape,
    		runtimeBind = Globalize._runtimeBind,
    		stringPad = Globalize._stringPad,
    		validateCldr = Globalize._validateCldr,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterRange = Globalize._validateParameterRange,
    		validateParameterType = Globalize._validateParameterType,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject;


    	var createErrorUnsupportedFeature = function( feature ) {
    		return createError( "E_UNSUPPORTED", "Unsupported {feature}.", {
    			feature: feature
    		});
    	};




    	var validateParameterTypeNumber = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || typeof value === "number",
    			"Number"
    		);
    	};




    	var validateParameterTypeString = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || typeof value === "string",
    			"a string"
    		);
    	};




    	var numberFormatterFn = function( numberToPartsFormatter ) {
    		return function numberFormatter( value ) {
    			return partsJoin( numberToPartsFormatter( value ));
    		};
    	};




    	/**
    	 * NumberingSystem( cldr )
    	 *
    	 * - http://www.unicode.org/reports/tr35/tr35-numbers.html#otherNumberingSystems
    	 * - http://cldr.unicode.org/index/bcp47-extension
    	 * - http://www.unicode.org/reports/tr35/#u_Extension
    	 */
    	var numberNumberingSystem = function( cldr ) {
    		var nu = cldr.attributes[ "u-nu" ];

    		if ( nu ) {
    			if ( nu === "traditio" ) {
    				nu = "traditional";
    			}
    			if ( [ "native", "traditional", "finance" ].indexOf( nu ) !== -1 ) {

    				// Unicode locale extension `u-nu` is set using either (native, traditional or
    				// finance). So, lookup the respective locale's numberingSystem and return it.
    				return cldr.main([ "numbers/otherNumberingSystems", nu ]);
    			}

    			// Unicode locale extension `u-nu` is set with an explicit numberingSystem. Return it.
    			return nu;
    		}

    		// Return the default numberingSystem.
    		return cldr.main( "numbers/defaultNumberingSystem" );
    	};




    	/**
    	 * Compact( name, cldr )
    	 *
    	 * @compactType [String] Compact mode, `short` or `long`.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the localized compact map for the given compact mode.
    	 */
    	var numberCompact = function( compactType, cldr ) {
    		var maxExponent = 0;

    		var object = cldr.main([
    			"numbers/decimalFormats-numberSystem-" + numberNumberingSystem( cldr ),
    			compactType,
    			"decimalFormat"
    		]);

    		object = Object.keys( object ).reduce(function( newObject, compactKey ) {
    			var numberExponent = compactKey.split( "0" ).length - 1;
    			var pluralForm = compactKey.split( "-" )[ 2 ];
    			newObject[ numberExponent ] = newObject[ numberExponent ] || {};
    			newObject[ numberExponent ][ pluralForm ] = object[ compactKey ];
    			maxExponent = Math.max( numberExponent, maxExponent );
    			return newObject;
    		}, {});

    		object.maxExponent = maxExponent;

    		return object;
    	};




    	/**
    	 * nuMap( cldr )
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return digits map if numbering system is different than `latn`.
    	 */
    	var numberNumberingSystemDigitsMap = function( cldr ) {
    		var aux,
    			nu = numberNumberingSystem( cldr );

    		if ( nu === "latn" ) {
    			return;
    		}

    		aux = cldr.supplemental([ "numberingSystems", nu ]);

    		if ( aux._type !== "numeric" ) {
    			throw createErrorUnsupportedFeature( "`" + aux._type + "` numbering system" );
    		}

    		return aux._digits;
    	};




    	/**
    	 * EBNF representation:
    	 *
    	 * number_pattern_re =        prefix?
    	 *                            padding?
    	 *                            (integer_fraction_pattern | significant_pattern)
    	 *                            scientific_notation?
    	 *                            suffix?
    	 *
    	 * prefix =                   non_number_stuff
    	 *
    	 * padding =                  "*" regexp(.)
    	 *
    	 * integer_fraction_pattern = integer_pattern
    	 *                            fraction_pattern?
    	 *
    	 * integer_pattern =          regexp([#,]*[0,]*0+)
    	 *
    	 * fraction_pattern =         "." regexp(0*[0-9]*#*)
    	 *
    	 * significant_pattern =      regexp([#,]*@+#*)
    	 *
    	 * scientific_notation =      regexp(E\+?0+)
    	 *
    	 * suffix =                   non_number_stuff
    	 *
    	 * non_number_stuff =         regexp(('[^']+'|''|[^*#@0,.E])*)
    	 *
    	 *
    	 * Regexp groups:
    	 *
    	 *  0: number_pattern_re
    	 *  1: prefix
    	 *  2: -
    	 *  3: -
    	 *  4: padding
    	 *  5: (integer_fraction_pattern | significant_pattern)
    	 *  6: integer_fraction_pattern
    	 *  7: integer_pattern
    	 *  8: fraction_pattern
    	 *  9: significant_pattern
    	 * 10: scientific_notation
    	 * 11: suffix
    	 * 12: -
    	 */
    	var numberPatternRe = ( /^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/ );




    	/**
    	 * format( number, pattern )
    	 *
    	 * @number [Number].
    	 *
    	 * @pattern [String] raw pattern for numbers.
    	 *
    	 * Return the formatted number.
    	 * ref: http://www.unicode.org/reports/tr35/tr35-numbers.html
    	 */
    	var numberPatternProperties = function( pattern ) {
    		var aux1, aux2, fractionPattern, integerFractionOrSignificantPattern, integerPattern,
    			maximumFractionDigits, maximumSignificantDigits, minimumFractionDigits,
    			minimumIntegerDigits, minimumSignificantDigits, padding, prefix, primaryGroupingSize,
    			roundIncrement, scientificNotation, secondaryGroupingSize, significantPattern, suffix;

    		pattern = pattern.match( numberPatternRe );
    		if ( !pattern ) {
    			throw new Error( "Invalid pattern: " + pattern );
    		}

    		prefix = pattern[ 1 ];
    		padding = pattern[ 4 ];
    		integerFractionOrSignificantPattern = pattern[ 5 ];
    		significantPattern = pattern[ 9 ];
    		scientificNotation = pattern[ 10 ];
    		suffix = pattern[ 11 ];

    		// Significant digit format
    		if ( significantPattern ) {
    			significantPattern.replace( /(@+)(#*)/, function( _match, minimumSignificantDigitsMatch, maximumSignificantDigitsMatch ) {
    				minimumSignificantDigits = minimumSignificantDigitsMatch.length;
    				maximumSignificantDigits = minimumSignificantDigits +
    					maximumSignificantDigitsMatch.length;
    			});

    		// Integer and fractional format
    		} else {
    			fractionPattern = pattern[ 8 ];
    			integerPattern = pattern[ 7 ];

    			if ( fractionPattern ) {

    				// Minimum fraction digits, and rounding.
    				fractionPattern.replace( /[0-9]+/, function( match ) {
    					minimumFractionDigits = match;
    				});
    				if ( minimumFractionDigits ) {
    					roundIncrement = +( "0." + minimumFractionDigits );
    					minimumFractionDigits = minimumFractionDigits.length;
    				} else {
    					minimumFractionDigits = 0;
    				}

    				// Maximum fraction digits
    				// 1: ignore decimal character
    				maximumFractionDigits = fractionPattern.length - 1; /* 1 */
    			} else {
    				minimumFractionDigits = 0;
    				maximumFractionDigits = 0;
    			}

    			// Minimum integer digits
    			integerPattern.replace( /0+$/, function( match ) {
    				minimumIntegerDigits = match.length;
    			});
    		}

    		// Scientific notation
    		if ( scientificNotation ) {
    			throw createErrorUnsupportedFeature({
    				feature: "scientific notation (not implemented)"
    			});
    		}

    		// Padding
    		if ( padding ) {
    			throw createErrorUnsupportedFeature({
    				feature: "padding (not implemented)"
    			});
    		}

    		// Grouping
    		if ( ( aux1 = integerFractionOrSignificantPattern.lastIndexOf( "," ) ) !== -1 ) {

    			// Primary grouping size is the interval between the last group separator and the end of
    			// the integer (or the end of the significant pattern).
    			aux2 = integerFractionOrSignificantPattern.split( "." )[ 0 ];
    			primaryGroupingSize = aux2.length - aux1 - 1;

    			// Secondary grouping size is the interval between the last two group separators.
    			if ( ( aux2 = integerFractionOrSignificantPattern.lastIndexOf( ",", aux1 - 1 ) ) !== -1 ) {
    				secondaryGroupingSize = aux1 - 1 - aux2;
    			}
    		}

    		// Return:
    		//  0: @prefix String
    		//  1: @padding Array [ <character>, <count> ] TODO
    		//  2: @minimumIntegerDigits non-negative integer Number value indicating the minimum integer
    		//        digits to be used. Numbers will be padded with leading zeroes if necessary.
    		//  3: @minimumFractionDigits and
    		//  4: @maximumFractionDigits are non-negative integer Number values indicating the minimum and
    		//        maximum fraction digits to be used. Numbers will be rounded or padded with trailing
    		//        zeroes if necessary.
    		//  5: @minimumSignificantDigits and
    		//  6: @maximumSignificantDigits are positive integer Number values indicating the minimum and
    		//        maximum fraction digits to be shown. Either none or both of these properties are
    		//        present; if they are, they override minimum and maximum integer and fraction digits
    		//        – the formatter uses however many integer and fraction digits are required to display
    		//        the specified number of significant digits.
    		//  7: @roundIncrement Decimal round increment or null
    		//  8: @primaryGroupingSize
    		//  9: @secondaryGroupingSize
    		// 10: @suffix String
    		return [
    			prefix,
    			padding,
    			minimumIntegerDigits,
    			minimumFractionDigits,
    			maximumFractionDigits,
    			minimumSignificantDigits,
    			maximumSignificantDigits,
    			roundIncrement,
    			primaryGroupingSize,
    			secondaryGroupingSize,
    			suffix
    		];
    	};




    	/**
    	 * Symbol( name, cldr )
    	 *
    	 * @name [String] Symbol name.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the localized symbol given its name.
    	 */
    	var numberSymbol = function( name, cldr ) {
    		return cldr.main([
    			"numbers/symbols-numberSystem-" + numberNumberingSystem( cldr ),
    			name
    		]);
    	};




    	var numberSymbolName = {
    		".": "decimal",
    		",": "group",
    		"%": "percentSign",
    		"+": "plusSign",
    		"-": "minusSign",
    		"E": "exponential",
    		"\u2030": "perMille"
    	};




    	/**
    	 * symbolMap( cldr )
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the (localized symbol, pattern symbol) key value pair, eg. {
    	 *   ".": "٫",
    	 *   ",": "٬",
    	 *   "%": "٪",
    	 *   ...
    	 * };
    	 */
    	var numberSymbolMap = function( cldr ) {
    		var symbol,
    			symbolMap = {};

    		for ( symbol in numberSymbolName ) {
    			symbolMap[ symbol ] = numberSymbol( numberSymbolName[ symbol ], cldr );
    		}

    		return symbolMap;
    	};




    	var numberTruncate = function( value ) {
    		if ( isNaN( value ) ) {
    			return NaN;
    		}
    		return Math[ value < 0 ? "ceil" : "floor" ]( value );
    	};




    	/**
    	 * round( method )
    	 *
    	 * @method [String] with either "round", "ceil", "floor", or "truncate".
    	 *
    	 * Return function( value, incrementOrExp ):
    	 *
    	 *   @value [Number] eg. 123.45.
    	 *
    	 *   @incrementOrExp [Number] optional, eg. 0.1; or
    	 *     [Object] Either { increment: <value> } or { exponent: <value> }
    	 *
    	 *   Return the rounded number, eg:
    	 *   - round( "round" )( 123.45 ): 123;
    	 *   - round( "ceil" )( 123.45 ): 124;
    	 *   - round( "floor" )( 123.45 ): 123;
    	 *   - round( "truncate" )( 123.45 ): 123;
    	 *   - round( "round" )( 123.45, 0.1 ): 123.5;
    	 *   - round( "round" )( 123.45, 10 ): 120;
    	 *
    	 *   Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round
    	 *   Ref: #376
    	 */
    	var numberRound = function( method ) {
    		method = method || "round";
    		method = method === "truncate" ? numberTruncate : Math[ method ];

    		return function( value, incrementOrExp ) {
    			var exp, increment;

    			value = +value;

    			// If the value is not a number, return NaN.
    			if ( isNaN( value ) ) {
    				return NaN;
    			}

    			// Exponent given.
    			if ( typeof incrementOrExp === "object" && incrementOrExp.exponent ) {
    				exp = +incrementOrExp.exponent;
    				increment = 1;

    				if ( exp === 0 ) {
    					return method( value );
    				}

    				// If the exp is not an integer, return NaN.
    				if ( !( typeof exp === "number" && exp % 1 === 0 ) ) {
    					return NaN;
    				}

    			// Increment given.
    			} else {
    				increment = +incrementOrExp || 1;

    				if ( increment === 1 ) {
    					return method( value );
    				}

    				// If the increment is not a number, return NaN.
    				if ( isNaN( increment ) ) {
    					return NaN;
    				}

    				increment = increment.toExponential().split( "e" );
    				exp = +increment[ 1 ];
    				increment = +increment[ 0 ];
    			}

    			// Shift & Round
    			value = value.toString().split( "e" );
    			value[ 0 ] = +value[ 0 ] / increment;
    			value[ 1 ] = value[ 1 ] ? ( +value[ 1 ] - exp ) : -exp;
    			value = method( +( value[ 0 ] + "e" + value[ 1 ] ) );

    			// Shift back
    			value = value.toString().split( "e" );
    			value[ 0 ] = +value[ 0 ] * increment;
    			value[ 1 ] = value[ 1 ] ? ( +value[ 1 ] + exp ) : exp;
    			return +( value[ 0 ] + "e" + value[ 1 ] );
    		};
    	};




    	/**
    	 * formatProperties( pattern, cldr [, options] )
    	 *
    	 * @pattern [String] raw pattern for numbers.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * @options [Object]:
    	 * - minimumIntegerDigits [Number]
    	 * - minimumFractionDigits, maximumFractionDigits [Number]
    	 * - minimumSignificantDigits, maximumSignificantDigits [Number]
    	 * - round [String] "ceil", "floor", "round" (default), or "truncate".
    	 * - useGrouping [Boolean] default true.
    	 *
    	 * Return the processed properties that will be used in number/format.
    	 * ref: http://www.unicode.org/reports/tr35/tr35-numbers.html
    	 */
    	var numberFormatProperties = function( pattern, cldr, options ) {
    		var negativePattern, negativePrefix, negativeProperties, negativeSuffix, positivePattern,
    			roundFn, properties;

    		function getOptions( attribute, propertyIndex ) {
    			if ( attribute in options ) {
    				properties[ propertyIndex ] = options[ attribute ];
    			}
    		}

    		options = options || {};
    		pattern = pattern.split( ";" );

    		positivePattern = pattern[ 0 ];

    		negativePattern = pattern[ 1 ] || "-" + positivePattern;
    		negativeProperties = numberPatternProperties( negativePattern );
    		negativePrefix = negativeProperties[ 0 ];
    		negativeSuffix = negativeProperties[ 10 ];

    		// Have runtime code to refer to numberRound() instead of including it explicitly.
    		roundFn = numberRound( options.round );
    		roundFn.generatorString = function() {
    			return "numberRound(" + ( options.round ? "\"" + options.round + "\"" : "" ) + ")";
    		};

    		properties = numberPatternProperties( positivePattern ).concat([
    			positivePattern,
    			negativePrefix + positivePattern + negativeSuffix,
    			negativePrefix,
    			negativeSuffix,
    			roundFn,
    			numberSymbol( "infinity", cldr ),
    			numberSymbol( "nan", cldr ),
    			numberSymbolMap( cldr ),
    			numberNumberingSystemDigitsMap( cldr )
    		]);

    		if ( options.compact ) {

    			// The compact digits number pattern is always `0+`, so override the following properties.
    			// Note: minimumIntegerDigits would actually range from `0` to `000` based on the scale of
    			// the value to be formatted, though we're always using 1 as a simplification, because the
    			// number won't be zero-padded since we chose the right format based on the scale, i.e.,
    			// we'd never see something like `003M` anyway.
    			properties[ 2 ] = 1; // minimumIntegerDigits
    			properties[ 3 ] = 0; // minimumFractionDigits
    			properties[ 4 ] = 0; // maximumFractionDigits
    			properties[ 5 ] = // minimumSignificantDigits &
    				properties[ 6 ] = undefined; // maximumSignificantDigits

    			properties[ 20 ] = numberCompact( options.compact, cldr );
    		}

    		getOptions( "minimumIntegerDigits", 2 );
    		getOptions( "minimumFractionDigits", 3 );
    		getOptions( "maximumFractionDigits", 4 );
    		getOptions( "minimumSignificantDigits", 5 );
    		getOptions( "maximumSignificantDigits", 6 );

    		// Grouping separators
    		if ( options.useGrouping === false ) {
    			properties[ 8 ] = null;
    		}

    		// Normalize number of digits if only one of either minimumFractionDigits or
    		// maximumFractionDigits is passed in as an option
    		if ( "minimumFractionDigits" in options && !( "maximumFractionDigits" in options ) ) {

    			// maximumFractionDigits = Math.max( minimumFractionDigits, maximumFractionDigits );
    			properties[ 4 ] = Math.max( properties[ 3 ], properties[ 4 ] );
    		} else if ( !( "minimumFractionDigits" in options ) &&
    				"maximumFractionDigits" in options ) {

    			// minimumFractionDigits = Math.min( minimumFractionDigits, maximumFractionDigits );
    			properties[ 3 ] = Math.min( properties[ 3 ], properties[ 4 ] );
    		}

    		// Return:
    		// 0-10: see number/pattern-properties.
    		// 11: @positivePattern [String] Positive pattern.
    		// 12: @negativePattern [String] Negative pattern.
    		// 13: @negativePrefix [String] Negative prefix.
    		// 14: @negativeSuffix [String] Negative suffix.
    		// 15: @round [Function] Round function.
    		// 16: @infinitySymbol [String] Infinity symbol.
    		// 17: @nanSymbol [String] NaN symbol.
    		// 18: @symbolMap [Object] A bunch of other symbols.
    		// 19: @nuDigitsMap [Array] Digits map if numbering system is different than `latn`.
    		// 20: @compactMap [Object] Map of per-digit-count format patterns for specified compact mode.
    		return properties;
    	};




    	/**
    	 * Generated by:
    	 *
    	 * var regenerate = require( "regenerate" );
    	 * var formatSymbols = require( "@unicode/unicode-13.0.0/General_Category/Format/symbols" );
    	 * regenerate().add( formatSymbols ).toString();
    	 *
    	 * https://github.com/mathiasbynens/regenerate
    	 * https://github.com/node-unicode/unicode-13.0.0
    	 */
    	var regexpCfG = /[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g;




    	/**
    	 * Generated by:
    	 *
    	 * var regenerate = require( "regenerate" );
    	 * var dashSymbols = require( "https://github.com/node-unicode/unicode-13.0.0/General_Category/Dash_Punctuation/symbols" );
    	 * regenerate().add( dashSymbols ).toString();
    	 *
    	 * https://github.com/mathiasbynens/regenerate
    	 * https://github.com/node-unicode/unicode-13.0.0
    	 *
    	 * NOTE: In addition to [:dash:],  the below includes MINUS SIGN U+2212.
    	 */
    	var regexpDashG = /[\x2D\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]|\uD803\uDEAD/g;




    	/**
    	 * Generated by:
    	 *
    	 * var regenerate = require( "regenerate" );
    	 * var spaceSeparatorSymbols = require( "@unicode/unicode-13.0.0/General_Category/Space_Separator/symbols" );
    	 * regenerate().add( spaceSeparatorSymbols ).toString();
    	 *
    	 * https://github.com/mathiasbynens/regenerate
    	 * https://github.com/node-unicode/unicode-13.0.0
    	 */
    	var regexpZsG = /[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g;




    	/**
    	 * Loose Matching:
    	 * - Ignore all format characters, which includes RLM, LRM or ALM used to control BIDI
    	 *   formatting.
    	 * - Map all characters in [:Zs:] to U+0020 SPACE;
    	 * - Map all characters in [:Dash:] to U+002D HYPHEN-MINUS;
    	 */
    	var looseMatching = function( value ) {
    		return value
    			.replace( regexpCfG, "" )
    			.replace( regexpDashG, "-" )
    			.replace( regexpZsG, " " );
    	};




    	/**
    	 * parse( value, properties )
    	 *
    	 * @value [String].
    	 *
    	 * @properties [Object] Parser properties is a reduced pre-processed cldr
    	 * data set returned by numberParserProperties().
    	 *
    	 * Return the parsed Number (including Infinity) or NaN when value is invalid.
    	 * ref: http://www.unicode.org/reports/tr35/tr35-numbers.html
    	 */
    	var numberParse = function( value, properties ) {
    		var grammar, invertedNuDigitsMap, invertedSymbolMap, negative, number, prefix, prefixNSuffix,
    			suffix, tokenizer, valid;

    		// Grammar:
    		// - Value <=           NaN | PositiveNumber | NegativeNumber
    		// - PositiveNumber <=  PositivePrefix NumberOrInf PositiveSufix
    		// - NegativeNumber <=  NegativePrefix NumberOrInf
    		// - NumberOrInf <=     Number | Inf
    		grammar = [
    			[ "nan" ],
    			[ "prefix", "infinity", "suffix" ],
    			[ "prefix", "number", "suffix" ],
    			[ "negativePrefix", "infinity", "negativeSuffix" ],
    			[ "negativePrefix", "number", "negativeSuffix" ]
    		];

    		invertedSymbolMap = properties[ 0 ];
    		invertedNuDigitsMap = properties[ 1 ] || {};
    		tokenizer = properties[ 2 ];

    		value = looseMatching( value );

    		function parse( type ) {
    			return function( lexeme ) {

    				// Reverse localized symbols and numbering system.
    				lexeme = lexeme.split( "" ).map(function( character ) {
    					return invertedSymbolMap[ character ] ||
    						invertedNuDigitsMap[ character ] ||
    						character;
    				}).join( "" );

    				switch ( type ) {
    					case "infinity":
    						number = Infinity;
    						break;

    					case "nan":
    						number = NaN;
    						break;

    					case "number":

    						// Remove grouping separators.
    						lexeme = lexeme.replace( /,/g, "" );

    						number = +lexeme;
    						break;

    					case "prefix":
    					case "negativePrefix":
    						prefix = lexeme;
    						break;

    					case "suffix":
    						suffix = lexeme;
    						break;

    					case "negativeSuffix":
    						suffix = lexeme;
    						negative = true;
    						break;

    					// This should never be reached.
    					default:
    						throw new Error( "Internal error" );
    				}
    				return "";
    			};
    		}

    		function tokenizeNParse( _value, grammar ) {
    			return grammar.some(function( statement ) {
    				var value = _value;

    				// The whole grammar statement should be used (i.e., .every() return true) and value be
    				// entirely consumed (i.e., !value.length).
    				return statement.every(function( type ) {
    					if ( value.match( tokenizer[ type ] ) === null ) {
    						return false;
    					}

    					// Consume and parse it.
    					value = value.replace( tokenizer[ type ], parse( type ) );
    					return true;
    				}) && !value.length;
    			});
    		}

    		valid = tokenizeNParse( value, grammar );

    		// NaN
    		if ( !valid || isNaN( number ) ) {
    			return NaN;
    		}

    		prefixNSuffix = "" + prefix + suffix;

    		// Percent
    		if ( prefixNSuffix.indexOf( "%" ) !== -1 ) {
    			number /= 100;

    		// Per mille
    		} else if ( prefixNSuffix.indexOf( "\u2030" ) !== -1 ) {
    			number /= 1000;
    		}

    		// Negative number
    		if ( negative ) {
    			number *= -1;
    		}

    		return number;
    	};




    	var numberParserFn = function( properties ) {
    		return function numberParser( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeString( value, "value" );

    			return numberParse( value, properties );
    		};

    	};




    	/**
    	 * symbolMap( cldr )
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the (localized symbol, pattern symbol) key value pair, eg. {
    	 *   "٫": ".",
    	 *   "٬": ",",
    	 *   "٪": "%",
    	 *   ...
    	 * };
    	 */
    	var numberSymbolInvertedMap = function( cldr ) {
    		var symbol,
    			symbolMap = {};

    		for ( symbol in numberSymbolName ) {
    			symbolMap[ numberSymbol( numberSymbolName[ symbol ], cldr ) ] = symbol;
    		}

    		return symbolMap;
    	};




    	/**
    	 * objectMap( object, fn)
    	 *
    	 * - object
    	 *
    	 * - fn( pair ) => pair
    	 */
    	var objectMap = function( object, fn ) {
    		return Object.keys( object ).map(function( key ) {
    			return fn([ key, object[ key ] ]);
    		}).reduce(function( object, pair ) {
    			object[ pair[ 0 ] ] = pair[ 1 ];
    			return object;
    		}, {});
    	};




    	/**
    	 * removeLiteralQuotes( string )
    	 *
    	 * Return:
    	 * - `'` if input string is `''`.
    	 * - `o'clock` if input string is `'o''clock'`.
    	 * - `foo` if input string is `foo`, i.e., return the same value in case it isn't a single-quoted
    	 *   string.
    	 */
    	var removeLiteralQuotes = function( string ) {
    		if ( string[ 0 ] + string[ string.length - 1 ] !== "''" ) {
    			return string;
    		}
    		if ( string === "''" ) {
    			return "'";
    		}
    		return string.replace( /''/g, "'" ).slice( 1, -1 );
    	};




    	/**
    	 * parseProperties( pattern, cldr )
    	 *
    	 * @pattern [String] raw pattern for numbers.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return parser properties, used to feed parser function.
    	 *
    	 * TODO:
    	 * - Scientific_notation;
    	 * - Padding;
    	 */
    	var numberParseProperties = function( pattern, cldr, options ) {
    		var aux, decimalSymbolRe, digitsRe, groupingSeparatorRe, infinitySymbol, invertedNuDigitsMap,
    			invertedSymbolMap, maximumFractionDigits, maximumSignificantDigits,
    			minimumSignificantDigits, nanSymbol, negativePrefix, negativeSuffix, nuDigitsMap,
    			numberTokenizer, prefix, primaryGroupingSize, secondaryGroupingSize, suffix, symbolMap,
    			formatProperties = numberFormatProperties( pattern, cldr, options );

    		prefix = looseMatching( formatProperties[ 0 ] );
    		maximumFractionDigits = formatProperties[ 4 ];
    		minimumSignificantDigits = formatProperties[ 5 ];
    		maximumSignificantDigits = formatProperties[ 6 ];
    		primaryGroupingSize = formatProperties[ 8 ];
    		secondaryGroupingSize = formatProperties[ 9 ];
    		suffix = looseMatching( formatProperties[ 10 ] );
    		negativePrefix = looseMatching( formatProperties[ 13 ] );
    		negativeSuffix = looseMatching( formatProperties[ 14 ] );
    		infinitySymbol = looseMatching( formatProperties[ 16 ] );
    		nanSymbol = looseMatching( formatProperties[ 17 ] );
    		symbolMap = objectMap( formatProperties[ 18 ], function( pair ) {
    			return [ pair[ 0 ], looseMatching( pair[ 1 ] ) ];
    		});
    		nuDigitsMap = formatProperties[ 19 ];

    		invertedSymbolMap = objectMap( numberSymbolInvertedMap( cldr ), function( pair ) {
    			return [ looseMatching( pair[ 0 ] ), pair[ 1 ] ];
    		});

    		digitsRe = nuDigitsMap ? "[" + nuDigitsMap + "]" : "\\d";
    		groupingSeparatorRe = regexpEscape( symbolMap[ "," ] );
    		decimalSymbolRe = regexpEscape( symbolMap[ "." ] );

    		if ( nuDigitsMap ) {
    			invertedNuDigitsMap = nuDigitsMap.split( "" ).reduce(function( object, localizedDigit, i ) {
    				object[ localizedDigit ] = String( i );
    				return object;
    			}, {} );
    		}

    		aux = [ prefix, suffix, negativePrefix, negativeSuffix ].map(function( value ) {
    			return value.replace( /('([^']|'')+'|'')|./g, function( character, literal ) {

    				// Literals
    				if ( literal ) {
    					return removeLiteralQuotes( literal );
    				}

    				// Symbols
    				character = character.replace( /[\-+E%\u2030]/, function( symbol ) {
    					return symbolMap[ symbol ];
    				});

    				return character;
    			});
    		});

    		prefix = aux[ 0 ];
    		suffix = aux[ 1 ];
    		negativePrefix = aux[ 2 ];
    		negativeSuffix = aux[ 3 ];

    		// Number
    		//
    		// number_re =                       integer fraction?
    		//
    		// integer =                         digits | digits_using_grouping_separators
    		//
    		// fraction =                        regexp((.\d+)?)
    		//
    		// digits =                          regexp(\d+)
    		//
    		// digits_w_grouping_separators =    digits_w_1_grouping_separators |
    		//                                   digits_w_2_grouping_separators
    		//
    		// digits_w_1_grouping_separators =  regexp(\d{1,3}(,\d{3})+)
    		//
    		// digits_w_2_grouping_separators =  regexp(\d{1,2}((,\d{2})*(,\d{3})))

    		// Integer part
    		numberTokenizer = digitsRe + "+";

    		// Grouping separators
    		if ( primaryGroupingSize ) {
    			if ( secondaryGroupingSize ) {
    				aux = digitsRe + "{1," + secondaryGroupingSize + "}((" + groupingSeparatorRe +
    					digitsRe + "{" + secondaryGroupingSize + "})*(" + groupingSeparatorRe +
    					digitsRe + "{" + primaryGroupingSize + "}))";
    			} else {
    				aux = digitsRe + "{1," + primaryGroupingSize + "}(" + groupingSeparatorRe +
    					digitsRe + "{" + primaryGroupingSize + "})+";
    			}
    			numberTokenizer = "(" + aux + "|" + numberTokenizer + ")";
    		}

    		// Fraction part? Only included if 1 or 2.
    		// 1: Using significant digit format.
    		// 2: Using integer and fractional format && it has a maximumFractionDigits.
    		if ( !isNaN( minimumSignificantDigits * maximumSignificantDigits ) || /* 1 */
    					maximumFractionDigits /* 2 */ ) {

    			// 1: Handle trailing decimal separator, e.g., `"1." => `1``.
    			aux = decimalSymbolRe + digitsRe + "+";
    			numberTokenizer = numberTokenizer + "(" + aux + "|" + decimalSymbolRe /* 1 */ + ")?" +

    				// Handle non-padded decimals, e.g., `".12"` => `0.12` by making the integer part
    				// optional.
    				"|(" + numberTokenizer + ")?" + aux;

    			numberTokenizer = "(" + numberTokenizer + ")";
    		}

    		// 0: @invertedSymbolMap [Object] Inverted symbol map.
    		// 1: @invertedNuDigitsMap [Object] Inverted digits map if numbering system is different than
    		//    `latn`.
    		// 2: @tokenizer [Object] Tokenizer map, used by parser to consume input.
    		return [
    			invertedSymbolMap,
    			invertedNuDigitsMap,
    			{
    				infinity: new RegExp( "^" + regexpEscape( infinitySymbol ) ),
    				nan: new RegExp( "^" + regexpEscape( nanSymbol ) ),
    				negativePrefix: new RegExp( "^" + regexpEscape( negativePrefix ) ),
    				negativeSuffix: new RegExp( "^" + regexpEscape( negativeSuffix ) ),
    				number: new RegExp( "^" + numberTokenizer ),
    				prefix: new RegExp( "^" + regexpEscape( prefix ) ),
    				suffix: new RegExp( "^" + regexpEscape( suffix ) )
    			}
    		];

    	};




    	/**
    	 * Pattern( style )
    	 *
    	 * @style [String] "decimal" (default) or "percent".
    	 *
    	 * @cldr [Cldr instance].
    	 */
    	var numberPattern = function( style, cldr ) {
    		if ( style !== "decimal" && style !== "percent" ) {
    			throw new Error( "Invalid style" );
    		}

    		return cldr.main([
    			"numbers",
    			style + "Formats-numberSystem-" + numberNumberingSystem( cldr ),
    			"standard"
    		]);
    	};




    	/**
    	 * EBNF representation:
    	 *
    	 * compact_pattern_re =       prefix?
    	 *                            number_pattern_re
    	 *                            suffix?
    	 *
    	 * number_pattern_re =        0+
    	 *
    	 * Regexp groups:
    	 *
    	 *  0: compact_pattern_re
    	 *  1: prefix
    	 *  2: number_pattern_re (the number pattern to use in compact mode)
    	 *  3: suffix
    	 */
    	var numberCompactPatternRe = ( /^([^0]*)(0+)([^0]*)$/ );




    	/**
    	 * goupingSeparator( number, primaryGroupingSize, secondaryGroupingSize )
    	 *
    	 * @number [Number].
    	 *
    	 * @primaryGroupingSize [Number]
    	 *
    	 * @secondaryGroupingSize [Number]
    	 *
    	 * Return the formatted number with group separator.
    	 */
    	var numberFormatGroupingSeparator = function( number, primaryGroupingSize, secondaryGroupingSize ) {
    		var index,
    			currentGroupingSize = primaryGroupingSize,
    			ret = "",
    			sep = ",",
    			switchToSecondary = secondaryGroupingSize ? true : false;

    		number = String( number ).split( "." );
    		index = number[ 0 ].length;

    		while ( index > currentGroupingSize ) {
    			ret = number[ 0 ].slice( index - currentGroupingSize, index ) +
    				( ret.length ? sep : "" ) + ret;
    			index -= currentGroupingSize;
    			if ( switchToSecondary ) {
    				currentGroupingSize = secondaryGroupingSize;
    				switchToSecondary = false;
    			}
    		}

    		number[ 0 ] = number[ 0 ].slice( 0, index ) + ( ret.length ? sep : "" ) + ret;
    		return number.join( "." );
    	};




    	/**
    	 * integerFractionDigits( number, minimumIntegerDigits, minimumFractionDigits,
    	 * maximumFractionDigits, round, roundIncrement )
    	 *
    	 * @number [Number]
    	 *
    	 * @minimumIntegerDigits [Number]
    	 *
    	 * @minimumFractionDigits [Number]
    	 *
    	 * @maximumFractionDigits [Number]
    	 *
    	 * @round [Function]
    	 *
    	 * @roundIncrement [Function]
    	 *
    	 * Return the formatted integer and fraction digits.
    	 */
    	var numberFormatIntegerFractionDigits = function( number, minimumIntegerDigits, minimumFractionDigits, maximumFractionDigits, round,
    		roundIncrement ) {

    		// Fraction
    		if ( maximumFractionDigits ) {

    			// Rounding
    			if ( roundIncrement ) {
    				number = round( number, roundIncrement );

    			// Maximum fraction digits
    			} else {
    				number = round( number, { exponent: -maximumFractionDigits } );
    			}

    		} else {
    			number = round( number );
    		}

    		number = String( number );

    		// Maximum integer digits (post string phase)
    		if ( maximumFractionDigits && /e-/.test( number ) ) {

    			// Use toFixed( maximumFractionDigits ) to make sure small numbers like 1e-7 are
    			// displayed using plain digits instead of scientific notation.
    			// 1: Remove leading decimal zeros.
    			// 2: Remove leading decimal separator.
    			// Note: String() is still preferred so it doesn't mess up with a number precision
    			// unnecessarily, e.g., (123456789.123).toFixed(10) === "123456789.1229999959",
    			// String(123456789.123) === "123456789.123".
    			number = ( +number ).toFixed( maximumFractionDigits )
    				.replace( /0+$/, "" ) /* 1 */
    				.replace( /\.$/, "" ); /* 2 */
    		}

    		// Minimum fraction digits (post string phase)
    		if ( minimumFractionDigits ) {
    			number = number.split( "." );
    			number[ 1 ] = stringPad( number[ 1 ] || "", minimumFractionDigits, true );
    			number = number.join( "." );
    		}

    		// Minimum integer digits
    		if ( minimumIntegerDigits ) {
    			number = number.split( "." );
    			number[ 0 ] = stringPad( number[ 0 ], minimumIntegerDigits );
    			number = number.join( "." );
    		}

    		return number;
    	};




    	/**
    	 * toPrecision( number, precision, round )
    	 *
    	 * @number (Number)
    	 *
    	 * @precision (Number) significant figures precision (not decimal precision).
    	 *
    	 * @round (Function)
    	 *
    	 * Return number.toPrecision( precision ) using the given round function.
    	 */
    	var numberToPrecision = function( number, precision, round ) {
    		var roundOrder;

    		if ( number === 0 ) {  // Fix #706
    			return number;
    		}

    		roundOrder = Math.ceil( Math.log( Math.abs( number ) ) / Math.log( 10 ) );
    		roundOrder -= precision;

    		return round( number, { exponent: roundOrder } );
    	};




    	/**
    	 * toPrecision( number, minimumSignificantDigits, maximumSignificantDigits, round )
    	 *
    	 * @number [Number]
    	 *
    	 * @minimumSignificantDigits [Number]
    	 *
    	 * @maximumSignificantDigits [Number]
    	 *
    	 * @round [Function]
    	 *
    	 * Return the formatted significant digits number.
    	 */
    	var numberFormatSignificantDigits = function( number, minimumSignificantDigits, maximumSignificantDigits, round ) {
    		var atMinimum, atMaximum;

    		// Sanity check.
    		if ( minimumSignificantDigits > maximumSignificantDigits ) {
    			maximumSignificantDigits = minimumSignificantDigits;
    		}

    		atMinimum = numberToPrecision( number, minimumSignificantDigits, round );
    		atMaximum = numberToPrecision( number, maximumSignificantDigits, round );

    		// Use atMaximum only if it has more significant digits than atMinimum.
    		number = +atMinimum === +atMaximum ? atMinimum : atMaximum;

    		// Expand integer numbers, eg. 123e5 to 12300.
    		number = ( +number ).toString( 10 );

    		if ( ( /e/ ).test( number ) ) {
    			throw createErrorUnsupportedFeature({
    				feature: "integers out of (1e21, 1e-7)"
    			});
    		}

    		// Add trailing zeros if necessary.
    		if ( minimumSignificantDigits - number.replace( /^0+|\./g, "" ).length > 0 ) {
    			number = number.split( "." );
    			number[ 1 ] = stringPad( number[ 1 ] || "", minimumSignificantDigits - number[ 0 ].replace( /^0+/, "" ).length, true );
    			number = number.join( "." );
    		}

    		return number;
    	};




    	/**
    	 * format( number, properties )
    	 *
    	 * @number [Number].
    	 *
    	 * @properties [Object] Output of number/format-properties.
    	 *
    	 * Return the formatted number.
    	 * ref: http://www.unicode.org/reports/tr35/tr35-numbers.html
    	 */
    	var numberFormat = function( number, properties, pluralGenerator ) {
    		var aux, compactMap, infinitySymbol, maximumFractionDigits, maximumSignificantDigits,
    			minimumFractionDigits, minimumIntegerDigits, minimumSignificantDigits, nanSymbol,
    			nuDigitsMap, prefix, primaryGroupingSize, pattern, round, roundIncrement,
    			secondaryGroupingSize, stringToParts, suffix, symbolMap;

    		minimumIntegerDigits = properties[ 2 ];
    		minimumFractionDigits = properties[ 3 ];
    		maximumFractionDigits = properties[ 4 ];
    		minimumSignificantDigits = properties[ 5 ];
    		maximumSignificantDigits = properties[ 6 ];
    		roundIncrement = properties[ 7 ];
    		primaryGroupingSize = properties[ 8 ];
    		secondaryGroupingSize = properties[ 9 ];
    		round = properties[ 15 ];
    		infinitySymbol = properties[ 16 ];
    		nanSymbol = properties[ 17 ];
    		symbolMap = properties[ 18 ];
    		nuDigitsMap = properties[ 19 ];
    		compactMap = properties[ 20 ];

    		// NaN
    		if ( isNaN( number ) ) {
    			return [ { type: "nan", value: nanSymbol } ];
    		}

    		if ( number < 0 ) {
    			pattern = properties[ 12 ];
    			prefix = properties[ 13 ];
    			suffix = properties[ 14 ];
    		} else {
    			pattern = properties[ 11 ];
    			prefix = properties[ 0 ];
    			suffix = properties[ 10 ];
    		}

    		// For prefix, suffix, and number parts.
    		stringToParts = function( string ) {
    			var numberType = "integer",
    				parts = [];

    			// TODO Move the tokenization of all parts that don't depend on number into
    			// format-properties.
    			string.replace( /('([^']|'')+'|'')|./g, function( character, literal ) {

    				// Literals
    				if ( literal ) {
    					partsPush( parts, "literal", removeLiteralQuotes( literal ) );
    					return;
    				}

    				// Currency symbol
    				if ( character === "\u00A4" ) {
    					partsPush( parts, "currency", character );
    					return;
    				}

    				// Symbols
    				character = character.replace( /[.,\-+E%\u2030]/, function( symbol ) {
    					if ( symbol === "." ) {
    						numberType = "fraction";
    					}
    					partsPush( parts, numberSymbolName[ symbol ], symbolMap[ symbol ] );

    					// "Erase" handled character.
    					return "";
    				});

    				// Number
    				character = character.replace( /[0-9]/, function( digit ) {

    					// Numbering system
    					if ( nuDigitsMap ) {
    						digit = nuDigitsMap[ +digit ];
    					}
    					partsPush( parts, numberType, digit );

    					// "Erase" handled character.
    					return "";
    				});

    				// Etc
    				character.replace( /./, function( etc ) {
    					partsPush( parts, "literal", etc );
    				});
    			});
    			return parts;
    		};

    		prefix = stringToParts( prefix );
    		suffix = stringToParts( suffix );

    		// Infinity
    		if ( !isFinite( number ) ) {
    			return prefix.concat(
    				{ type: "infinity", value: infinitySymbol },
    				suffix
    			);
    		}

    		// Percent
    		if ( pattern.indexOf( "%" ) !== -1 ) {
    			number *= 100;

    		// Per mille
    		} else if ( pattern.indexOf( "\u2030" ) !== -1 ) {
    			number *= 1000;
    		}

    		var compactPattern, compactDigits, compactProperties, divisor, numberExponent, pluralForm;

    		// Compact mode: initial number digit processing
    		if ( compactMap ) {
    			numberExponent = Math.abs( Math.floor( number ) ).toString().length - 1;
    			numberExponent = Math.min( numberExponent, compactMap.maxExponent );

    			// Use default plural form to perform initial decimal shift
    			if ( numberExponent >= 3 ) {
    				compactPattern = compactMap[ numberExponent ] && compactMap[ numberExponent ].other;
    			}

    			if ( compactPattern === "0" ) {
    				compactPattern = null;
    			} else if ( compactPattern ) {
    				compactDigits = compactPattern.split( "0" ).length - 1;
    				divisor = numberExponent - ( compactDigits - 1 );
    				number = number / Math.pow( 10, divisor );
    			}
    		}

    		// Significant digit format
    		if ( !isNaN( minimumSignificantDigits * maximumSignificantDigits ) ) {
    			number = numberFormatSignificantDigits( number, minimumSignificantDigits,
    				maximumSignificantDigits, round );

    		// Integer and fractional format
    		} else {
    			number = numberFormatIntegerFractionDigits( number, minimumIntegerDigits,
    				minimumFractionDigits, maximumFractionDigits, round, roundIncrement );
    		}

    		// Compact mode: apply formatting
    		if ( compactMap && compactPattern ) {

    			// Get plural form after possible roundings
    			pluralForm = pluralGenerator ? pluralGenerator( +number ) : "other";

    			compactPattern = compactMap[ numberExponent ][ pluralForm ] || compactPattern;
    			compactProperties = compactPattern.match( numberCompactPatternRe );

    			// TODO Move the tokenization of all parts that don't depend on number into
    			// format-properties.
    			aux = function( string ) {
    				var parts = [];
    				string.replace( /(\s+)|([^\s0]+)/g, function( _garbage, space, compact ) {

    					// Literals
    					if ( space ) {
    						partsPush( parts, "literal", space );
    						return;
    					}

    					// Compact value
    					if ( compact ) {
    						partsPush( parts, "compact", compact );
    						return;
    					}
    				});
    				return parts;
    			};

    			// update prefix/suffix with compact prefix/suffix
    			prefix = prefix.concat( aux( compactProperties[ 1 ] ) );
    			suffix = aux( compactProperties[ 3 ] ).concat( suffix );
    		}

    		// Remove the possible number minus sign
    		number = number.replace( /^-/, "" );

    		// Grouping separators
    		if ( primaryGroupingSize ) {
    			number = numberFormatGroupingSeparator( number, primaryGroupingSize,
    				secondaryGroupingSize );
    		}

    		// Scientific notation
    		// TODO implement here

    		// Padding/'([^']|'')+'|''|[.,\-+E%\u2030]/g
    		// TODO implement here

    		return prefix.concat(
    			stringToParts( number ),
    			suffix
    		);
    	};




    	var numberToPartsFormatterFn = function( properties, pluralGenerator ) {
    		return function numberToPartsFormatter( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeNumber( value, "value" );

    			return numberFormat( value, properties, pluralGenerator );
    		};
    	};




    	function validateDigits( properties ) {
    		var minimumIntegerDigits = properties[ 2 ],
    			minimumFractionDigits = properties[ 3 ],
    			maximumFractionDigits = properties[ 4 ],
    			minimumSignificantDigits = properties[ 5 ],
    			maximumSignificantDigits = properties[ 6 ];

    		// Validate significant digit format properties
    		if ( !isNaN( minimumSignificantDigits * maximumSignificantDigits ) ) {
    			validateParameterRange( minimumSignificantDigits, "minimumSignificantDigits", 1, 21 );
    			validateParameterRange( maximumSignificantDigits, "maximumSignificantDigits",
    				minimumSignificantDigits, 21 );

    		} else if ( !isNaN( minimumSignificantDigits ) || !isNaN( maximumSignificantDigits ) ) {
    			throw new Error( "Neither or both the minimum and maximum significant digits must be " +
    				"present" );

    		// Validate integer and fractional format
    		} else {
    			validateParameterRange( minimumIntegerDigits, "minimumIntegerDigits", 1, 21 );
    			validateParameterRange( minimumFractionDigits, "minimumFractionDigits", 0, 20 );
    			validateParameterRange( maximumFractionDigits, "maximumFractionDigits",
    				minimumFractionDigits, 20 );
    		}
    	}

    	/**
    	 * .numberFormatter( [options] )
    	 *
    	 * @options [Object]:
    	 * - style: [String] "decimal" (default) or "percent".
    	 * - see also number/format options.
    	 *
    	 * Return a function that formats a number according to the given options and default/instance
    	 * locale.
    	 */
    	Globalize.numberFormatter =
    	Globalize.prototype.numberFormatter = function( options ) {
    		var args, numberToPartsFormatter, returnFn;

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		args = [ options ];

    		numberToPartsFormatter = this.numberToPartsFormatter( options );
    		returnFn = numberFormatterFn( numberToPartsFormatter );
    		runtimeBind( args, this.cldr, returnFn, [ numberToPartsFormatter ] );

    		return returnFn;
    	};

    	/**
    	 * .numberToPartsFormatter( [options] )
    	 *
    	 * @options [Object]:
    	 * - style: [String] "symbol" (default), "accounting", "code" or "name".
    	 * - see also number/format options.
    	 *
    	 * Return a function that formats a number to parts according to the given options and
    	 * default/instance locale.
    	 */
    	Globalize.numberToPartsFormatter =
    	Globalize.prototype.numberToPartsFormatter = function( options ) {
    		var args, cldr, fnArgs, pattern, properties, returnFn;

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		cldr = this.cldr;

    		args = [ options ];

    		validateDefaultLocale( cldr );

    		cldr.on( "get", validateCldr );
    		try {
    			if ( options.raw ) {
    				pattern = options.raw;
    			} else {
    				pattern = numberPattern( options.style || "decimal", cldr );
    			}

    			properties = numberFormatProperties( pattern, cldr, options );
    			fnArgs = [ properties ];
    		} finally {
    			cldr.off( "get", validateCldr );
    		}

    		validateDigits( properties );

    		if ( options.compact ) {
    			fnArgs.push( this.pluralGenerator() );
    		}
    		returnFn = numberToPartsFormatterFn.apply( null, fnArgs );
    		runtimeBind( args, cldr, returnFn, fnArgs );

    		return returnFn;
    	};

    	/**
    	 * .numberParser( [options] )
    	 *
    	 * @options [Object]:
    	 * - style: [String] "decimal" (default) or "percent".
    	 *
    	 * Return the number parser according to the default/instance locale.
    	 */
    	Globalize.numberParser =
    	Globalize.prototype.numberParser = function( options ) {
    		var args, cldr, pattern, properties, returnFn;

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		cldr = this.cldr;

    		args = [ options ];

    		validateDefaultLocale( cldr );
    		if ( options.compact ) {
    			throw createErrorUnsupportedFeature({
    				feature: "compact number parsing (not implemented)"
    			});
    		}

    		cldr.on( "get", validateCldr );

    		if ( options.raw ) {
    			pattern = options.raw;
    		} else {
    			pattern = numberPattern( options.style || "decimal", cldr );
    		}

    		properties = numberParseProperties( pattern, cldr, options );

    		cldr.off( "get", validateCldr );

    		returnFn = numberParserFn( properties );

    		runtimeBind( args, cldr, returnFn, [ properties ] );

    		return returnFn;
    	};

    	/**
    	 * .formatNumber( value [, options] )
    	 *
    	 * @value [Number] number to be formatted.
    	 *
    	 * @options [Object]: see number/format-properties.
    	 *
    	 * Format a number according to the given options and default/instance locale.
    	 */
    	Globalize.formatNumber =
    	Globalize.prototype.formatNumber = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );

    		return this.numberFormatter( options )( value );
    	};

    	/**
    	 * .formatNumberToParts( value [, options] )
    	 *
    	 * @value [Number] number to be formatted.
    	 *
    	 * @options [Object]: see number/format-properties.
    	 *
    	 * Format a number to pars according to the given options and default/instance locale.
    	 */
    	Globalize.formatNumberToParts =
    	Globalize.prototype.formatNumberToParts = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );

    		return this.numberToPartsFormatter( options )( value );
    	};

    	/**
    	 * .parseNumber( value [, options] )
    	 *
    	 * @value [String]
    	 *
    	 * @options [Object]: See numberParser().
    	 *
    	 * Return the parsed Number (including Infinity) or NaN when value is invalid.
    	 */
    	Globalize.parseNumber =
    	Globalize.prototype.parseNumber = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeString( value, "value" );

    		return this.numberParser( options )( value );
    	};

    	/**
    	 * Optimization to avoid duplicating some internal functions across modules.
    	 */
    	Globalize._createErrorUnsupportedFeature = createErrorUnsupportedFeature;
    	Globalize._numberNumberingSystem = numberNumberingSystem;
    	Globalize._numberNumberingSystemDigitsMap = numberNumberingSystemDigitsMap;
    	Globalize._numberPattern = numberPattern;
    	Globalize._numberSymbol = numberSymbol;
    	Globalize._looseMatching = looseMatching;
    	Globalize._removeLiteralQuotes = removeLiteralQuotes;
    	Globalize._stringPad = stringPad;
    	Globalize._validateParameterTypeNumber = validateParameterTypeNumber;
    	Globalize._validateParameterTypeString = validateParameterTypeString;

    	return Globalize;




    	}));
    } (number));

    var plural = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var runtimeBind = Globalize._runtimeBind,
    		validateCldr = Globalize._validateCldr,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterType = Globalize._validateParameterType,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject;
    	var MakePlural;
    	/* eslint-disable */
    	MakePlural = (function() {

    	var _toArray = function (arr) { return Array.isArray(arr) ? arr : Array.from(arr); };

    	var _toConsumableArray = function (arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } };

    	var _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } };

    	var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();


    	/**
    	 * make-plural.js -- https://github.com/eemeli/make-plural.js/
    	 * Copyright (c) 2014-2015 by Eemeli Aro <eemeli@gmail.com>
    	 *
    	 * Permission to use, copy, modify, and/or distribute this software for any
    	 * purpose with or without fee is hereby granted, provided that the above
    	 * copyright notice and this permission notice appear in all copies.
    	 *
    	 * The software is provided "as is" and the author disclaims all warranties
    	 * with regard to this software including all implied warranties of
    	 * merchantability and fitness. In no event shall the author be liable for
    	 * any special, direct, indirect, or consequential damages or any damages
    	 * whatsoever resulting from loss of use, data or profits, whether in an
    	 * action of contract, negligence or other tortious action, arising out of
    	 * or in connection with the use or performance of this software.
    	 */

    	var Parser = (function () {
    	    function Parser() {
    	        _classCallCheck(this, Parser);
    	    }

    	    _createClass(Parser, [{
    	        key: 'parse',
    	        value: function parse(cond) {
    	            var _this = this;

    	            if (cond === 'i = 0 or n = 1') {
    	                return 'n >= 0 && n <= 1';
    	            }if (cond === 'i = 0,1') {
    	                return 'n >= 0 && n < 2';
    	            }if (cond === 'i = 1 and v = 0') {
    	                this.v0 = 1;
    	                return 'n == 1 && v0';
    	            }
    	            return cond.replace(/([tv]) (!?)= 0/g, function (m, sym, noteq) {
    	                var sn = sym + '0';
    	                _this[sn] = 1;
    	                return noteq ? '!' + sn : sn;
    	            }).replace(/\b[fintv]\b/g, function (m) {
    	                _this[m] = 1;
    	                return m;
    	            }).replace(/([fin]) % (10+)/g, function (m, sym, num) {
    	                var sn = sym + num;
    	                _this[sn] = 1;
    	                return sn;
    	            }).replace(/n10+ = 0/g, 't0 && $&').replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g, function (m, se, noteq, x) {
    	                if (m === 'n = 0,1') return '(n == 0 || n == 1)';
    	                if (noteq) return se + x.split(',').join(' && ' + se);
    	                return '(' + se + x.split(',').join(' || ' + se) + ')';
    	            }).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g, function (m, sym, noteq, x0, x1) {
    	                if (Number(x0) + 1 === Number(x1)) {
    	                    if (noteq) return '' + sym + ' != ' + x0 + ' && ' + sym + ' != ' + x1;
    	                    return '(' + sym + ' == ' + x0 + ' || ' + sym + ' == ' + x1 + ')';
    	                }
    	                if (noteq) return '(' + sym + ' < ' + x0 + ' || ' + sym + ' > ' + x1 + ')';
    	                if (sym === 'n') {
    	                    _this.t0 = 1;return '(t0 && n >= ' + x0 + ' && n <= ' + x1 + ')';
    	                }
    	                return '(' + sym + ' >= ' + x0 + ' && ' + sym + ' <= ' + x1 + ')';
    	            }).replace(/ and /g, ' && ').replace(/ or /g, ' || ').replace(/ = /g, ' == ');
    	        }
    	    }, {
    	        key: 'vars',
    	        value: (function (_vars) {
    	            function vars() {
    	                return _vars.apply(this, arguments);
    	            }

    	            vars.toString = function () {
    	                return _vars.toString();
    	            };

    	            return vars;
    	        })(function () {
    	            var vars = [];
    	            if (this.i) vars.push('i = s[0]');
    	            if (this.f || this.v) vars.push('f = s[1] || \'\'');
    	            if (this.t) vars.push('t = (s[1] || \'\').replace(/0+$/, \'\')');
    	            if (this.v) vars.push('v = f.length');
    	            if (this.v0) vars.push('v0 = !s[1]');
    	            if (this.t0 || this.n10 || this.n100) vars.push('t0 = Number(s[0]) == n');
    	            for (var k in this) {
    	                if (/^.10+$/.test(k)) {
    	                    var k0 = k[0] === 'n' ? 't0 && s[0]' : k[0];
    	                    vars.push('' + k + ' = ' + k0 + '.slice(-' + k.substr(2).length + ')');
    	                }
    	            }if (!vars.length) return '';
    	            return 'var ' + ['s = String(n).split(\'.\')'].concat(vars).join(', ');
    	        })
    	    }]);

    	    return Parser;
    	})();



    	var MakePlural = (function () {
    	    function MakePlural(lc) {
    	        var _ref = arguments[1] === undefined ? MakePlural : arguments[1];

    	        var cardinals = _ref.cardinals;
    	        var ordinals = _ref.ordinals;

    	        _classCallCheck(this, MakePlural);

    	        if (!cardinals && !ordinals) throw new Error('At least one type of plural is required');
    	        this.lc = lc;
    	        this.categories = { cardinal: [], ordinal: [] };
    	        this.parser = new Parser();
    	        
    	        this.fn = this.buildFunction(cardinals, ordinals);
    	        this.fn._obj = this;
    	        this.fn.categories = this.categories;
    	        
    	        this.fn.toString = this.fnToString.bind(this);
    	        return this.fn;
    	    }

    	    _createClass(MakePlural, [{
    	        key: 'compile',
    	        value: function compile(type, req) {
    	            var cases = [];
    	            var rules = MakePlural.rules[type][this.lc];
    	            if (!rules) {
    	                if (req) throw new Error('Locale "' + this.lc + '" ' + type + ' rules not found');
    	                this.categories[type] = ['other'];
    	                return '\'other\'';
    	            }
    	            for (var r in rules) {
    	                var _rules$r$trim$split = rules[r].trim().split(/\s*@\w*/);

    	                var _rules$r$trim$split2 = _toArray(_rules$r$trim$split);

    	                var cond = _rules$r$trim$split2[0];
    	                _rules$r$trim$split2.slice(1);
    	                var cat = r.replace('pluralRule-count-', '');
    	                if (cond) cases.push([this.parser.parse(cond), cat]);
    	                
    	            }
    	            this.categories[type] = cases.map(function (c) {
    	                return c[1];
    	            }).concat('other');
    	            if (cases.length === 1) {
    	                return '(' + cases[0][0] + ') ? \'' + cases[0][1] + '\' : \'other\'';
    	            } else {
    	                return [].concat(_toConsumableArray(cases.map(function (c) {
    	                    return '(' + c[0] + ') ? \'' + c[1] + '\'';
    	                })), ['\'other\'']).join('\n      : ');
    	            }
    	        }
    	    }, {
    	        key: 'buildFunction',
    	        value: function buildFunction(cardinals, ordinals) {
    	            var _this3 = this;

    	            var compile = function compile(c) {
    	                return c ? (c[1] ? 'return ' : 'if (ord) return ') + _this3.compile.apply(_this3, _toConsumableArray(c)) : '';
    	            },
    	                fold = { vars: function vars(str) {
    	                    return ('  ' + str + ';').replace(/(.{1,78})(,|$) ?/g, '$1$2\n      ');
    	                },
    	                cond: function cond(str) {
    	                    return ('  ' + str + ';').replace(/(.{1,78}) (\|\| |$) ?/gm, '$1\n          $2');
    	                } },
    	                cond = [ordinals && ['ordinal', !cardinals], cardinals && ['cardinal', true]].map(compile).map(fold.cond),
    	                body = [fold.vars(this.parser.vars())].concat(_toConsumableArray(cond)).join('\n').replace(/\s+$/gm, '').replace(/^[\s;]*[\r\n]+/gm, ''),
    	                args = ordinals && cardinals ? 'n, ord' : 'n';
    	            return new Function(args, body);
    	        }
    	    }, {
    	        key: 'fnToString',
    	        value: function fnToString(name) {
    	            return Function.prototype.toString.call(this.fn).replace(/^function( \w+)?/, name ? 'function ' + name : 'function').replace('\n/**/', '');
    	        }
    	    }], [{
    	        key: 'load',
    	        value: function load() {
    	            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    	                args[_key] = arguments[_key];
    	            }

    	            args.forEach(function (cldr) {
    	                var data = cldr && cldr.supplemental || null;
    	                if (!data) throw new Error('Data does not appear to be CLDR data');
    	                MakePlural.rules = {
    	                    cardinal: data['plurals-type-cardinal'] || MakePlural.rules.cardinal,
    	                    ordinal: data['plurals-type-ordinal'] || MakePlural.rules.ordinal
    	                };
    	            });
    	            return MakePlural;
    	        }
    	    }]);

    	    return MakePlural;
    	})();



    	MakePlural.cardinals = true;
    	MakePlural.ordinals = false;
    	MakePlural.rules = { cardinal: {}, ordinal: {} };


    	return MakePlural;
    	}());
    	/* eslint-enable */


    	var validateParameterTypeNumber = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || typeof value === "number",
    			"Number"
    		);
    	};




    	var validateParameterTypePluralType = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || value === "cardinal" || value === "ordinal",
    			"String \"cardinal\" or \"ordinal\""
    		);
    	};




    	var pluralGeneratorFn = function( plural ) {
    		return function pluralGenerator( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeNumber( value, "value" );

    			return plural( value );
    		};
    	};




    	/**
    	 * .plural( value )
    	 *
    	 * @value [Number]
    	 *
    	 * Return the corresponding form (zero | one | two | few | many | other) of a
    	 * value given locale.
    	 */
    	Globalize.plural =
    	Globalize.prototype.plural = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );
    		return this.pluralGenerator( options )( value );
    	};

    	/**
    	 * .pluralGenerator( [options] )
    	 *
    	 * Return a plural function (of the form below).
    	 *
    	 * fn( value )
    	 *
    	 * @value [Number]
    	 *
    	 * Return the corresponding form (zero | one | two | few | many | other) of a value given the
    	 * default/instance locale.
    	 */
    	Globalize.pluralGenerator =
    	Globalize.prototype.pluralGenerator = function( options ) {
    		var args, cldr, isOrdinal, plural, returnFn, type;

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		cldr = this.cldr;

    		args = [ options ];
    		type = options.type || "cardinal";

    		validateParameterTypePluralType( options.type, "options.type" );

    		validateDefaultLocale( cldr );

    		isOrdinal = type === "ordinal";

    		cldr.on( "get", validateCldr );
    		try {
    			cldr.supplemental([ "plurals-type-" + type, "{language}" ]);
    		} finally {
    			cldr.off( "get", validateCldr );
    		}

    		MakePlural.rules = {};
    		MakePlural.rules[ type ] = cldr.supplemental( "plurals-type-" + type );

    		plural = new MakePlural( cldr.attributes.language, {
    			"ordinals": isOrdinal,
    			"cardinals": !isOrdinal
    		});

    		returnFn = pluralGeneratorFn( plural );

    		runtimeBind( args, cldr, returnFn, [ plural ] );

    		return returnFn;
    	};

    	return Globalize;




    	}));
    } (plural));

    var currency = {exports: {}};

    /*!
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var alwaysArray = Globalize._alwaysArray,
    		createError = Globalize._createError,
    		formatMessageToParts = Globalize._formatMessageToParts,
    		numberNumberingSystem = Globalize._numberNumberingSystem,
    		numberPattern = Globalize._numberPattern,
    		partsJoin = Globalize._partsJoin,
    		partsPush = Globalize._partsPush,
    		runtimeBind = Globalize._runtimeBind,
    		stringPad = Globalize._stringPad,
    		validateCldr = Globalize._validateCldr,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterType = Globalize._validateParameterType,
    		validateParameterTypeNumber = Globalize._validateParameterTypeNumber,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject;


    	var createErrorPluralModulePresence = function() {
    		return createError( "E_MISSING_PLURAL_MODULE", "Plural module not loaded." );
    	};




    	var validateParameterTypeCurrency = function( value, name ) {
    		validateParameterType(
    			value,
    			name,
    			value === undefined || typeof value === "string" && ( /^[A-Za-z]{3}$/ ).test( value ),
    			"3-letter currency code string as defined by ISO 4217"
    		);
    	};




    	var currencyFormatterFn = function( currencyToPartsFormatter ) {
    		return function currencyFormatter( value ) {
    			return partsJoin( currencyToPartsFormatter( value ));
    		};
    	};




    	/**
    	 * supplementalOverride( currency, pattern, cldr )
    	 *
    	 * Return pattern with fraction digits overriden by supplemental currency data.
    	 */
    	var currencySupplementalOverride = function( currency, pattern, cldr ) {
    		var digits,
    			fraction = "",
    			fractionData = cldr.supplemental([ "currencyData/fractions", currency ]) ||
    				cldr.supplemental( "currencyData/fractions/DEFAULT" );

    		digits = +fractionData._digits;

    		if ( digits ) {
    			fraction = "." + stringPad( "0", digits ).slice( 0, -1 ) + fractionData._rounding;
    		}

    		return pattern.replace( /\.(#+|0*[0-9]|0+[0-9]?)/g, fraction );
    	};




    	var objectFilter = function( object, testRe ) {
    		var key,
    			copy = {};

    		for ( key in object ) {
    			if ( testRe.test( key ) ) {
    				copy[ key ] = object[ key ];
    			}
    		}

    		return copy;
    	};




    	var currencyUnitPatterns = function( cldr ) {
    		return objectFilter( cldr.main([
    			"numbers",
    			"currencyFormats-numberSystem-" + numberNumberingSystem( cldr )
    		]), /^unitPattern/ );
    	};




    	/**
    	 * nameProperties( currency, cldr )
    	 *
    	 * Return number pattern with the appropriate currency code in as literal.
    	 */
    	var currencyNameProperties = function( currency, cldr ) {
    		var pattern = numberPattern( "decimal", cldr );

    		// The number of decimal places and the rounding for each currency is not locale-specific. Those
    		// values overridden by Supplemental Currency Data.
    		pattern = currencySupplementalOverride( currency, pattern, cldr );

    		return {
    			displayNames: objectFilter( cldr.main([
    				"numbers/currencies",
    				currency
    			]), /^displayName/ ),
    			pattern: pattern,
    			unitPatterns: currencyUnitPatterns( cldr )
    		};
    	};




    	/**
    	 * Unicode regular expression for: everything except symbols from the category S
    	 *
    	 * Generated by:
    	 *
    	 * var s = regenerate()
    	 *   .addRange( 0x0, 0x10FFFF )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Math_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Currency_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Modifier_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Other_Symbol/symbols" ) )
    	 *
    	 * https://github.com/mathiasbynens/regenerate
    	 * https://github.com/node-unicode/unicode-13.0.0
    	 * http://www.unicode.org/reports/tr44/#General_Category_Values
    	 */
    	var regexpNotS = /[\0-#%-\*,-;\?-\]_a-\{\}\x7F-\xA1\xA7\xAA\xAB\xAD\xB2\xB3\xB5-\xB7\xB9-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u0383\u0386-\u03F5\u03F7-\u0481\u0483-\u058C\u0590-\u0605\u0609\u060A\u060C\u060D\u0610-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF-\u07F5\u07F7-\u07FD\u0800-\u09F1\u09F4-\u09F9\u09FC-\u0AF0\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C7E\u0C80-\u0D4E\u0D50-\u0D78\u0D7A-\u0E3E\u0E40-\u0F00\u0F04-\u0F12\u0F14\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39-\u0FBD\u0FC6\u0FCD\u0FD0-\u0FD4\u0FD9-\u109D\u10A0-\u138F\u139A-\u166C\u166E-\u17DA\u17DC-\u193F\u1941-\u19DD\u1A00-\u1B60\u1B6B-\u1B73\u1B7D-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF-\u2043\u2045-\u2051\u2053-\u2079\u207D-\u2089\u208D-\u209F\u20C0-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u2308-\u230B\u2329\u232A\u2427-\u243F\u244B-\u249B\u24EA-\u24FF\u2768-\u2793\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2B74\u2B75\u2B96\u2C00-\u2CE4\u2CEB-\u2E4F\u2E52-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u3003\u3005-\u3011\u3014-\u301F\u3021-\u3035\u3038-\u303D\u3040-\u309A\u309D-\u318F\u3192-\u3195\u31A0-\u31BF\u31E4-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uAA76\uAA7A-\uAB5A\uAB5C-\uAB69\uAB6C-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBC2-\uFDFB\uFDFE-\uFE61\uFE63\uFE67\uFE68\uFE6A-\uFF03\uFF05-\uFF0A\uFF0C-\uFF1B\uFF1F-\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5F-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDFFF]|[\uD801\uD803\uD804\uD806\uD808-\uD819\uD81B-\uD82E\uD830-\uD833\uD837\uD839\uD83A\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDC76\uDC79-\uDEC7\uDEC9-\uDFFF]|\uD805[\uDC00-\uDF3E\uDF40-\uDFFF]|\uD807[\uDC00-\uDFD4\uDFF2-\uDFFF]|\uD81A[\uDC00-\uDF3B\uDF40-\uDF44\uDF46-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDE9-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE87-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDF\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDD79\uDDCC\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7B-\uDE7F\uDE87-\uDE8F\uDEA9-\uDEAF\uDEB7-\uDEBF\uDEC3-\uDECF\uDED7-\uDEFF\uDF93\uDFCB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;




    	/**
    	 * Unicode regular expression for: everything except symbols from categories S and Z
    	 *
    	 * Generated by:
    	 *
    	 * var s = regenerate()
    	 *   .addRange( 0x0, 0x10FFFF )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Math_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Currency_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Modifier_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Other_Symbol/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Space_Separator/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Line_Separator/symbols" ) )
    	 *   .remove( require( "@unicode/unicode-13.0.0/General_Category/Paragraph_Separator/symbols" ) );
    	 *
    	 * https://github.com/mathiasbynens/regenerate
    	 * https://github.com/node-unicode/unicode-13.0.0
    	 * http://www.unicode.org/reports/tr44/#General_Category_Values
    	 */
    	var regexpNotSAndZ = /[\0-\x1F!-#%-\*,-;\?-\]_a-\{\}\x7F-\x9F\xA1\xA7\xAA\xAB\xAD\xB2\xB3\xB5-\xB7\xB9-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u0383\u0386-\u03F5\u03F7-\u0481\u0483-\u058C\u0590-\u0605\u0609\u060A\u060C\u060D\u0610-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF-\u07F5\u07F7-\u07FD\u0800-\u09F1\u09F4-\u09F9\u09FC-\u0AF0\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C7E\u0C80-\u0D4E\u0D50-\u0D78\u0D7A-\u0E3E\u0E40-\u0F00\u0F04-\u0F12\u0F14\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39-\u0FBD\u0FC6\u0FCD\u0FD0-\u0FD4\u0FD9-\u109D\u10A0-\u138F\u139A-\u166C\u166E-\u167F\u1681-\u17DA\u17DC-\u193F\u1941-\u19DD\u1A00-\u1B60\u1B6B-\u1B73\u1B7D-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u2043\u2045-\u2051\u2053-\u205E\u2060-\u2079\u207D-\u2089\u208D-\u209F\u20C0-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u2308-\u230B\u2329\u232A\u2427-\u243F\u244B-\u249B\u24EA-\u24FF\u2768-\u2793\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2B74\u2B75\u2B96\u2C00-\u2CE4\u2CEB-\u2E4F\u2E52-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3001-\u3003\u3005-\u3011\u3014-\u301F\u3021-\u3035\u3038-\u303D\u3040-\u309A\u309D-\u318F\u3192-\u3195\u31A0-\u31BF\u31E4-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uAA76\uAA7A-\uAB5A\uAB5C-\uAB69\uAB6C-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBC2-\uFDFB\uFDFE-\uFE61\uFE63\uFE67\uFE68\uFE6A-\uFF03\uFF05-\uFF0A\uFF0C-\uFF1B\uFF1F-\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5F-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDFFF]|[\uD801\uD803\uD804\uD806\uD808-\uD819\uD81B-\uD82E\uD830-\uD833\uD837\uD839\uD83A\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDC76\uDC79-\uDEC7\uDEC9-\uDFFF]|\uD805[\uDC00-\uDF3E\uDF40-\uDFFF]|\uD807[\uDC00-\uDFD4\uDFF2-\uDFFF]|\uD81A[\uDC00-\uDF3B\uDF40-\uDF44\uDF46-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDE9-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE87-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDF\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDD79\uDDCC\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7B-\uDE7F\uDE87-\uDE8F\uDEA9-\uDEAF\uDEB7-\uDEBF\uDEC3-\uDECF\uDED7-\uDEFF\uDF93\uDFCB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;




    	/**
    	 * symbolProperties( currency, cldr )
    	 *
    	 * Return pattern replacing `¤` with the appropriate currency symbol literal.
    	 */
    	var currencySymbolProperties = function( currency, cldr, options ) {
    		var currencySpacing, pattern, symbol, symbolEntries,
    			regexp = {
    				"[:digit:]": /\d/,
    				"[:^S:]": regexpNotS,
    				"[[:^S:]&[:^Z:]]": regexpNotSAndZ
    			};

    		if ( options.style === "code" ) {
    			symbol = currency;
    		} else {
    			symbolEntries = [ "symbol" ];

    			// If options.symbolForm === "narrow" was passed, prepend it.
    			if ( options.symbolForm === "narrow" ) {
    				symbolEntries.unshift( "symbol-alt-narrow" );
    			}

    			symbolEntries.some(function( symbolEntry ) {
    				return symbol = cldr.main([
    					"numbers/currencies",
    					currency,
    					symbolEntry
    				]);
    			});
    		}

    		currencySpacing = [ "beforeCurrency", "afterCurrency" ].map(function( position ) {
    			return cldr.main([
    				"numbers",
    				"currencyFormats-numberSystem-" + numberNumberingSystem( cldr ),
    				"currencySpacing",
    				position
    			]);
    		});

    		pattern = cldr.main([
    			"numbers",
    			"currencyFormats-numberSystem-" + numberNumberingSystem( cldr ),
    			options.style === "accounting" ? "accounting" : "standard"
    		]);

    		pattern =

    			// The number of decimal places and the rounding for each currency is not locale-specific.
    			// Those values are overridden by Supplemental Currency Data.
    			currencySupplementalOverride( currency, pattern, cldr )

    			// Replace "¤" (\u00A4) with the appropriate symbol literal.
    			.split( ";" ).map(function( pattern ) {

    				return pattern.split( "\u00A4" ).map(function( part, i ) {
    					var currencyMatch = regexp[ currencySpacing[ i ].currencyMatch ],
    						surroundingMatch = regexp[ currencySpacing[ i ].surroundingMatch ],
    						insertBetween = "";

    					// For currencyMatch and surroundingMatch definitions, read [1].
    					// When i === 0, beforeCurrency is being handled. Otherwise, afterCurrency.
    					// 1: http://www.unicode.org/reports/tr35/tr35-numbers.html#Currencies
    					currencyMatch = currencyMatch.test( symbol.charAt( i ? symbol.length - 1 : 0 ) );
    					surroundingMatch = surroundingMatch.test(
    						part.charAt( i ? 0 : part.length - 1 ).replace( /[#@,.]/g, "0" )
    					);

    					if ( currencyMatch && part && surroundingMatch ) {
    						insertBetween = currencySpacing[ i ].insertBetween;
    					}

    					return ( i ? insertBetween : "" ) + part + ( i ? "" : insertBetween );
    				}).join( "\u00A4" );
    			}).join( ";" );

    		return {
    			pattern: pattern,
    			symbol: symbol
    		};
    	};




    	/**
    	 * nameFormat( formattedNumber, pluralForm, properties )
    	 *
    	 * Return the appropriate name form currency format.
    	 */
    	var currencyNameFormat = function( formattedNumber, pluralForm, properties ) {
    		var displayName, unitPattern,
    			parts = [],
    			displayNames = properties.displayNames || {},
    			unitPatterns = properties.unitPatterns;

    		displayName = displayNames[ "displayName-count-" + pluralForm ] ||
    			displayNames[ "displayName-count-other" ] ||
    			displayNames.displayName ||
    			properties.currency;
    		unitPattern = unitPatterns[ "unitPattern-count-" + pluralForm ] ||
    			unitPatterns[ "unitPattern-count-other" ];

    		formatMessageToParts( unitPattern, [ formattedNumber, displayName ]).forEach(function( part ) {
    			if ( part.type === "variable" && part.name === "0" ) {
    				part.value.forEach(function( part ) {
    					partsPush( parts, part.type, part.value );
    				});
    			} else if ( part.type === "variable" && part.name === "1" ) {
    				partsPush( parts, "currency", part.value );
    			} else {
    				partsPush( parts, "literal", part.value );
    			}
    		});

    		return parts;
    	};




    	/**
    	 * symbolFormat( parts, symbol )
    	 *
    	 * Return the appropriate symbol/account form format.
    	 */
    	var currencySymbolFormat = function( parts, symbol ) {
    		parts.forEach(function( part ) {
    			if ( part.type === "currency" ) {
    				part.value = symbol;
    			}
    		});
    		return parts;
    	};




    	var currencyToPartsFormatterFn = function( numberToPartsFormatter, pluralGenerator, properties ) {
    		var fn;

    		// Return formatter when style is "name".
    		if ( pluralGenerator && properties ) {
    			fn = function currencyToPartsFormatter( value ) {
    				validateParameterPresence( value, "value" );
    				validateParameterTypeNumber( value, "value" );
    				return currencyNameFormat(
    					numberToPartsFormatter( value ),
    					pluralGenerator( value ),
    					properties
    				);
    			};

    		// Return formatter when style is "symbol", "accounting", or "code".
    		} else {
    			fn = function currencyToPartsFormatter( value ) {

    				// 1: Reusing pluralGenerator argument, but in this case it is actually `symbol`
    				return currencySymbolFormat( numberToPartsFormatter( value ), pluralGenerator /* 1 */ );
    			};
    		}

    		return fn;
    	};




    	/**
    	 * objectOmit( object, keys )
    	 *
    	 * Return a copy of the object, filtered to omit the blacklisted key or array of keys.
    	 */
    	var objectOmit = function( object, keys ) {
    		var key,
    			copy = {};

    		keys = alwaysArray( keys );

    		for ( key in object ) {
    			if ( keys.indexOf( key ) === -1 ) {
    				copy[ key ] = object[ key ];
    			}
    		}

    		return copy;
    	};




    	function validateRequiredCldr( path, value ) {
    		validateCldr( path, value, {
    			skip: [
    				/numbers\/currencies\/[^/]+\/symbol-alt-/,
    				/supplemental\/currencyData\/fractions\/[A-Za-z]{3}$/
    			]
    		});
    	}

    	/**
    	 * .currencyFormatter( currency [, options] )
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object]:
    	 * - style: [String] "symbol" (default), "accounting", "code" or "name".
    	 * - see also number/format options.
    	 *
    	 * Return a function that formats a currency according to the given options and default/instance
    	 * locale.
    	 */
    	Globalize.currencyFormatter =
    	Globalize.prototype.currencyFormatter = function( currency, options ) {
    		var args, currencyToPartsFormatter, returnFn;

    		validateParameterPresence( currency, "currency" );
    		validateParameterTypeCurrency( currency, "currency" );

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		args = [ currency, options ];

    		currencyToPartsFormatter = this.currencyToPartsFormatter( currency, options );
    		returnFn = currencyFormatterFn( currencyToPartsFormatter );
    		runtimeBind( args, this.cldr, returnFn, [ currencyToPartsFormatter ] );

    		return returnFn;
    	};

    	/**
    	 * .currencyToPartsFormatter( currency [, options] )
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object]:
    	 * - style: [String] "symbol" (default), "accounting", "code" or "name".
    	 * - see also number/format options.
    	 *
    	 * Return a currency formatter function (of the form below) according to the given options and the
    	 * default/instance locale.
    	 *
    	 * fn( value )
    	 *
    	 * @value [Number]
    	 *
    	 * Return a function that formats a currency to parts according to the given options
    	 * and the default/instance locale.
    	 */
    	Globalize.currencyToPartsFormatter =
    	Globalize.prototype.currencyToPartsFormatter = function( currency, options ) {
    		var args, cldr, numberToPartsFormatter, pluralGenerator, properties, returnFn, style;

    		validateParameterPresence( currency, "currency" );
    		validateParameterTypeCurrency( currency, "currency" );

    		validateParameterTypePlainObject( options, "options" );

    		cldr = this.cldr;
    		options = options || {};

    		args = [ currency, options ];
    		style = options.style || "symbol";

    		validateDefaultLocale( cldr );

    		// Get properties given style ("symbol" default, "code" or "name").
    		cldr.on( "get", validateRequiredCldr );
    		try {
    			properties = ({
    				accounting: currencySymbolProperties,
    				code: currencySymbolProperties,
    				name: currencyNameProperties,
    				symbol: currencySymbolProperties
    			}[ style ] )( currency, cldr, options );
    		} finally {
    			cldr.off( "get", validateRequiredCldr );
    		}

    		// options = options minus style, plus raw pattern.
    		options = objectOmit( options, "style" );
    		options.raw = properties.pattern;

    		// Return formatter when style is "symbol", "accounting", or "code".
    		if ( style === "symbol" || style === "accounting" || style === "code" ) {
    			numberToPartsFormatter = this.numberToPartsFormatter( options );

    			returnFn = currencyToPartsFormatterFn( numberToPartsFormatter, properties.symbol );

    			runtimeBind( args, cldr, returnFn, [ numberToPartsFormatter, properties.symbol ] );

    		// Return formatter when style is "name".
    		} else {
    			numberToPartsFormatter = this.numberToPartsFormatter( options );

    			// Is plural module present? Yes, use its generator. Nope, use an error generator.
    			pluralGenerator = this.plural !== undefined ?
    				this.pluralGenerator() :
    				createErrorPluralModulePresence;

    			returnFn = currencyToPartsFormatterFn(
    				numberToPartsFormatter,
    				pluralGenerator,
    				properties
    			);

    			runtimeBind( args, cldr, returnFn, [
    				numberToPartsFormatter,
    				pluralGenerator,
    				properties
    			]);
    		}

    		return returnFn;
    	};

    	/**
    	 * .currencyParser( currency [, options] )
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object] see currencyFormatter.
    	 *
    	 * Return the currency parser according to the given options and the default/instance locale.
    	 */
    	Globalize.currencyParser =
    	Globalize.prototype.currencyParser = function( /* currency, options */ ) {

    		// TODO implement parser.

    	};

    	/**
    	 * .formatCurrency( value, currency [, options] )
    	 *
    	 * @value [Number] number to be formatted.
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object] see currencyFormatter.
    	 *
    	 * Format a currency according to the given options and the default/instance locale.
    	 */
    	Globalize.formatCurrency =
    	Globalize.prototype.formatCurrency = function( value, currency, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );
    		return this.currencyFormatter( currency, options )( value );
    	};

    	/**
    	 * .formatCurrencyToParts( value, currency [, options] )
    	 *
    	 * @value [Number] number to be formatted.
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object] see currencyFormatter.
    	 *
    	 * Format a currency to parts according to the given options and the default/instance locale.
    	 */
    	Globalize.formatCurrencyToParts =
    	Globalize.prototype.formatCurrencyToParts = function( value, currency, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );
    		return this.currencyToPartsFormatter( currency, options )( value );
    	};

    	/**
    	 * .parseCurrency( value, currency [, options] )
    	 *
    	 * @value [String]
    	 *
    	 * @currency [String] 3-letter currency code as defined by ISO 4217.
    	 *
    	 * @options [Object]: See currencyFormatter.
    	 *
    	 * Return the parsed currency or NaN when value is invalid.
    	 */
    	Globalize.parseCurrency =
    	Globalize.prototype.parseCurrency = function( /* value, currency, options */ ) {
    	};

    	return Globalize;




    	}));
    } (currency));

    var date = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var createError = Globalize._createError,
    		createErrorUnsupportedFeature = Globalize._createErrorUnsupportedFeature,
    		formatMessage = Globalize._formatMessage,
    		isPlainObject = Globalize._isPlainObject,
    		looseMatching = Globalize._looseMatching,
    		numberNumberingSystemDigitsMap = Globalize._numberNumberingSystemDigitsMap,
    		numberSymbol = Globalize._numberSymbol,
    		partsJoin = Globalize._partsJoin,
    		partsPush = Globalize._partsPush,
    		regexpEscape = Globalize._regexpEscape,
    		removeLiteralQuotes = Globalize._removeLiteralQuotes,
    		runtimeBind = Globalize._runtimeBind,
    		stringPad = Globalize._stringPad,
    		validate = Globalize._validate,
    		validateCldr = Globalize._validateCldr,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterType = Globalize._validateParameterType,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject,
    		validateParameterTypeString = Globalize._validateParameterTypeString;


    	var validateParameterTypeDate = function( value, name ) {
    		validateParameterType( value, name, value === undefined || value instanceof Date, "Date" );
    	};




    	var createErrorInvalidParameterValue = function( name, value ) {
    		return createError( "E_INVALID_PAR_VALUE", "Invalid `{name}` value ({value}).", {
    			name: name,
    			value: value
    		});
    	};




    	/**
    	 * Create a map between the skeleton fields and their positions, e.g.,
    	 * {
    	 *   G: 0
    	 *   y: 1
    	 *   ...
    	 * }
    	 */
    	var validateSkeletonFieldsPosMap = "GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx".split( "" ).reduce(function( memo, item, i ) {
    		memo[ item ] = i;
    		return memo;
    	}, {});




    	/**
    	 * validateSkeleton( skeleton )
    	 *
    	 * skeleton: Assume `j` has already been converted into a localized hour field.
    	 */
    	var validateSkeleton = function validateSkeleton( skeleton ) {
    		var last,

    			// Using easier to read variable.
    			fieldsPosMap = validateSkeletonFieldsPosMap;

    		// "The fields are from the Date Field Symbol Table in Date Format Patterns"
    		// Ref: http://www.unicode.org/reports/tr35/tr35-dates.html#availableFormats_appendItems
    		// I.e., check for invalid characters.
    		skeleton.replace( /[^GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx]/, function( field ) {
    			throw createError(
    				"E_INVALID_OPTIONS", "Invalid field `{invalidField}` of skeleton `{value}`",
    				{
    					invalidField: field,
    					type: "skeleton",
    					value: skeleton
    				}
    			);
    		});

    		// "The canonical order is from top to bottom in that table; that is, yM not My".
    		// http://www.unicode.org/reports/tr35/tr35-dates.html#availableFormats_appendItems
    		// I.e., check for invalid order.
    		skeleton.split( "" ).every(function( field ) {
    			if ( fieldsPosMap[ field ] < last ) {
    				throw createError(
    					"E_INVALID_OPTIONS", "Invalid order `{invalidField}` of skeleton `{value}`",
    					{
    						invalidField: field,
    						type: "skeleton",
    						value: skeleton
    					}
    				);
    			}
    			last = fieldsPosMap[ field ];
    			return true;
    		});
    	};




    	/**
    	 * Returns a new object created by using `object`'s values as keys, and the keys as values.
    	 */
    	var objectInvert = function( object, fn ) {
    		fn = fn || function( object, key, value ) {
    			object[ value ] = key;
    			return object;
    		};
    		return Object.keys( object ).reduce(function( newObject, key ) {
    			return fn( newObject, key, object[ key ] );
    		}, {});
    	};




    	// Invert key and values, e.g., {"e": "eEc"} ==> {"e": "e", "E": "e", "c": "e"}.
    	var dateExpandPatternSimilarFieldsMap = objectInvert({
    		"e": "eEc",
    		"L": "ML"
    	}, function( object, key, value ) {
    		value.split( "" ).forEach(function( field ) {
    			object[ field ] = key;
    		});
    		return object;
    	});




    	var dateExpandPatternNormalizePatternType = function( character ) {
    		return dateExpandPatternSimilarFieldsMap[ character ] || character;
    	};




    	var datePatternRe = ( /([a-z])\1*|'([^']|'')+'|''|./ig );




    	var stringRepeat = function( str, count ) {
    		var i, result = "";
    		for ( i = 0; i < count; i++ ) {
    			result = result + str;
    		}
    		return result;
    	};




    	function expandBestMatchFormat( skeletonWithoutFractionalSeconds, bestMatchFormat ) {
    		var i, j, bestMatchFormatParts, matchedType, matchedLength, requestedType,
    			requestedLength, requestedSkeletonParts,

    			// Using an easier to read variable.
    			normalizePatternType = dateExpandPatternNormalizePatternType;

    		requestedSkeletonParts = skeletonWithoutFractionalSeconds.match( datePatternRe );
    		bestMatchFormatParts = bestMatchFormat.match( datePatternRe );

    		for ( i = 0; i < bestMatchFormatParts.length; i++ ) {
    			matchedType = bestMatchFormatParts[ i ].charAt( 0 );
    			matchedLength = bestMatchFormatParts[ i ].length;
    			for ( j = 0; j < requestedSkeletonParts.length; j++ ) {
    				requestedType = requestedSkeletonParts[ j ].charAt( 0 );
    				requestedLength = requestedSkeletonParts[ j ].length;
    				if ( normalizePatternType( matchedType ) === normalizePatternType( requestedType ) &&
    					matchedLength < requestedLength
    				) {
    					bestMatchFormatParts[ i ] = stringRepeat( matchedType, requestedLength );
    				}
    			}
    		}

    		return bestMatchFormatParts.join( "" );
    	}

    	// See: http://www.unicode.org/reports/tr35/tr35-dates.html#Matching_Skeletons
    	var dateExpandPatternAugmentFormat = function( requestedSkeleton, bestMatchFormat, decimalSeparator ) {
    		var countOfFractionalSeconds, fractionalSecondMatch, lastSecondIdx,
    			skeletonWithoutFractionalSeconds;

    		fractionalSecondMatch = requestedSkeleton.match( /S/g );
    		countOfFractionalSeconds = fractionalSecondMatch ? fractionalSecondMatch.length : 0;
    		skeletonWithoutFractionalSeconds = requestedSkeleton.replace( /S/g, "" );

    		bestMatchFormat = expandBestMatchFormat( skeletonWithoutFractionalSeconds, bestMatchFormat );

    		lastSecondIdx = bestMatchFormat.lastIndexOf( "s" );
    		if ( lastSecondIdx !== -1 && countOfFractionalSeconds !== 0 ) {
    			bestMatchFormat =
    				bestMatchFormat.slice( 0, lastSecondIdx + 1 ) +
    				decimalSeparator +
    				stringRepeat( "S", countOfFractionalSeconds ) +
    				bestMatchFormat.slice( lastSecondIdx + 1 );
    		}
    		return bestMatchFormat;
    	};




    	var dateExpandPatternCompareFormats = function( formatA, formatB ) {
    		var a, b, distance, lenA, lenB, typeA, typeB, i, j,

    			// Using easier to read variables.
    			normalizePatternType = dateExpandPatternNormalizePatternType;

    		if ( formatA === formatB ) {
    			return 0;
    		}

    		formatA = formatA.match( datePatternRe );
    		formatB = formatB.match( datePatternRe );

    		if ( formatA.length !== formatB.length ) {
    			return -1;
    		}

    		distance = 1;
    		for ( i = 0; i < formatA.length; i++ ) {
    			a = formatA[ i ].charAt( 0 );
    			typeA = normalizePatternType( a );
    			typeB = null;
    			for ( j = 0; j < formatB.length; j++ ) {
    				b = formatB[ j ].charAt( 0 );
    				typeB = normalizePatternType( b );
    				if ( typeA === typeB ) {
    					break;
    				} else {
    					typeB = null;
    				}
    			}
    			if ( typeB === null ) {
    				return -1;
    			}
    			lenA = formatA[ i ].length;
    			lenB = formatB[ j ].length;
    			distance = distance + Math.abs( lenA - lenB );

    			// Most symbols have a small distance from each other, e.g., M ≅ L; E ≅ c; a ≅ b ≅ B;
    			// H ≅ k ≅ h ≅ K; ...
    			if ( a !== b ) {
    				distance += 1;
    			}

    			// Numeric (l<3) and text fields (l>=3) are given a larger distance from each other.
    			if ( ( lenA < 3 && lenB >= 3 ) || ( lenA >= 3 && lenB < 3 ) ) {
    				distance += 20;
    			}
    		}
    		return distance;
    	};




    	var dateExpandPatternGetBestMatchPattern = function( cldr, askedSkeleton ) {
    		var availableFormats, decimalSeparator, pattern, ratedFormats, skeleton,
    			path = "dates/calendars/gregorian/dateTimeFormats/availableFormats",

    			// Using easier to read variables.
    			augmentFormat = dateExpandPatternAugmentFormat,
    			compareFormats = dateExpandPatternCompareFormats;

    		pattern = cldr.main([ path, askedSkeleton ]);

    		if ( askedSkeleton && !pattern ) {
    			availableFormats = cldr.main([ path ]);
    			ratedFormats = [];

    			for ( skeleton in availableFormats ) {
    				ratedFormats.push({
    					skeleton: skeleton,
    					pattern: availableFormats[ skeleton ],
    					rate: compareFormats( askedSkeleton, skeleton )
    				});
    			}

    			ratedFormats = ratedFormats
    				.filter( function( format ) {
    					return format.rate > -1;
    				} )
    				.sort( function( formatA, formatB ) {
    					return formatA.rate - formatB.rate;
    				});

    			if ( ratedFormats.length ) {
    				decimalSeparator = numberSymbol( "decimal", cldr );
    				pattern = augmentFormat( askedSkeleton, ratedFormats[ 0 ].pattern, decimalSeparator );
    			}
    		}

    		return pattern;
    	};




    	/**
    	 * expandPattern( options, cldr )
    	 *
    	 * @options [Object] if String, it's considered a skeleton. Object accepts:
    	 * - skeleton: [String] lookup availableFormat;
    	 * - date: [String] ( "full" | "long" | "medium" | "short" );
    	 * - time: [String] ( "full" | "long" | "medium" | "short" );
    	 * - datetime: [String] ( "full" | "long" | "medium" | "short" );
    	 * - raw: [String] For more info see datetime/format.js.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the corresponding pattern.
    	 * Eg for "en":
    	 * - "GyMMMd" returns "MMM d, y G";
    	 * - { skeleton: "GyMMMd" } returns "MMM d, y G";
    	 * - { date: "full" } returns "EEEE, MMMM d, y";
    	 * - { time: "full" } returns "h:mm:ss a zzzz";
    	 * - { datetime: "full" } returns "EEEE, MMMM d, y 'at' h:mm:ss a zzzz";
    	 * - { raw: "dd/mm" } returns "dd/mm";
    	 */
    	var dateExpandPattern = function( options, cldr ) {
    		var dateSkeleton, result, skeleton, timeSkeleton, type,

    			// Using easier to read variables.
    			getBestMatchPattern = dateExpandPatternGetBestMatchPattern;

    		function combineDateTime( type, datePattern, timePattern ) {
    			return formatMessage(
    				cldr.main([
    					"dates/calendars/gregorian/dateTimeFormats",
    					type
    				]),
    				[ timePattern, datePattern ]
    			);
    		}

    		switch ( true ) {
    			case "skeleton" in options:
    				skeleton = options.skeleton;

    				// Preferred hour (j).
    				skeleton = skeleton.replace( /j/g, function() {
    					return cldr.supplemental.timeData.preferred();
    				});

    				validateSkeleton( skeleton );

    				// Try direct map (note that getBestMatchPattern handles it).
    				// ... or, try to "best match" the whole skeleton.
    				result = getBestMatchPattern(
    					cldr,
    					skeleton
    				);
    				if ( result ) {
    					break;
    				}

    				// ... or, try to "best match" the date and time parts individually.
    				timeSkeleton = skeleton.split( /[^hHKkmsSAzZOvVXx]/ ).slice( -1 )[ 0 ];
    				dateSkeleton = skeleton.split( /[^GyYuUrQqMLlwWdDFgEec]/ )[ 0 ];
    				dateSkeleton = getBestMatchPattern(
    					cldr,
    					dateSkeleton
    				);
    				timeSkeleton = getBestMatchPattern(
    					cldr,
    					timeSkeleton
    				);

    				if ( /(MMMM|LLLL).*[Ec]/.test( dateSkeleton ) ) {
    					type = "full";
    				} else if ( /MMMM|LLLL/.test( dateSkeleton ) ) {
    					type = "long";
    				} else if ( /MMM|LLL/.test( dateSkeleton ) ) {
    					type = "medium";
    				} else {
    					type = "short";
    				}

    				if ( dateSkeleton && timeSkeleton ) {
    					result = combineDateTime( type, dateSkeleton, timeSkeleton );
    				} else {
    					result = dateSkeleton || timeSkeleton;
    				}

    				break;

    			case "date" in options:
    			case "time" in options:
    				result = cldr.main([
    					"dates/calendars/gregorian",
    					"date" in options ? "dateFormats" : "timeFormats",
    					( options.date || options.time )
    				]);
    				break;

    			case "datetime" in options:
    				result = combineDateTime( options.datetime,
    					cldr.main([ "dates/calendars/gregorian/dateFormats", options.datetime ]),
    					cldr.main([ "dates/calendars/gregorian/timeFormats", options.datetime ])
    				);
    				break;

    			case "raw" in options:
    				result = options.raw;
    				break;

    			default:
    				throw createErrorInvalidParameterValue({
    					name: "options",
    					value: options
    				});
    		}

    		return result;
    	};




    	var dateWeekDays = [ "sun", "mon", "tue", "wed", "thu", "fri", "sat" ];




    	/**
    	 * firstDayOfWeek
    	 */
    	var dateFirstDayOfWeek = function( cldr ) {
    		return dateWeekDays.indexOf( cldr.supplemental.weekData.firstDay() );
    	};




    	/**
    	 * getTimeZoneName( length, type )
    	 */
    	var dateGetTimeZoneName = function( length, type, timeZone, cldr ) {
    		var metaZone, result;

    		if ( !timeZone ) {
    			return;
    		}

    		result = cldr.main([
    			"dates/timeZoneNames/zone",
    			timeZone,
    			length < 4 ? "short" : "long",
    			type
    		]);

    		if ( result ) {
    			return result;
    		}

    		// The latest metazone data of the metazone array.
    		// TODO expand to support the historic metazones based on the given date.
    		metaZone = cldr.supplemental([
    			"metaZones/metazoneInfo/timezone", timeZone, 0,
    			"usesMetazone/_mzone"
    		]);

    		return cldr.main([
    			"dates/timeZoneNames/metazone",
    			metaZone,
    			length < 4 ? "short" : "long",
    			type
    		]);
    	};




    	/**
    	 * timezoneHourFormatShortH( hourFormat )
    	 *
    	 * @hourFormat [String]
    	 *
    	 * Unofficial deduction of the short hourFormat given time zone `hourFormat` element.
    	 * Official spec is pending resolution: http://unicode.org/cldr/trac/ticket/8293
    	 *
    	 * Example:
    	 * - "+HH.mm;-HH.mm" => "+H;-H"
    	 * - "+HH:mm;-HH:mm" => "+H;-H"
    	 * - "+HH:mm;−HH:mm" => "+H;−H" (Note MINUS SIGN \u2212)
    	 * - "+HHmm;-HHmm" => "+H:-H"
    	 */
    	var dateTimezoneHourFormatH = function( hourFormat ) {
    		return hourFormat
    			.split( ";" )
    			.map(function( format ) {
    				return format.slice( 0, format.indexOf( "H" ) + 1 );
    			})
    			.join( ";" );
    	};




    	/**
    	 * timezoneHourFormatLongHm( hourFormat )
    	 *
    	 * @hourFormat [String]
    	 *
    	 * Unofficial deduction of the short hourFormat given time zone `hourFormat` element.
    	 * Official spec is pending resolution: http://unicode.org/cldr/trac/ticket/8293
    	 *
    	 * Example (hFormat === "H"): (used for short Hm)
    	 * - "+HH.mm;-HH.mm" => "+H.mm;-H.mm"
    	 * - "+HH:mm;-HH:mm" => "+H:mm;-H:mm"
    	 * - "+HH:mm;−HH:mm" => "+H:mm;−H:mm" (Note MINUS SIGN \u2212)
    	 * - "+HHmm;-HHmm" => "+Hmm:-Hmm"
    	 *
    	 * Example (hFormat === "HH": (used for long Hm)
    	 * - "+HH.mm;-HH.mm" => "+HH.mm;-HH.mm"
    	 * - "+HH:mm;-HH:mm" => "+HH:mm;-HH:mm"
    	 * - "+H:mm;-H:mm"   => "+HH:mm;-HH:mm"
    	 * - "+HH:mm;−HH:mm" => "+HH:mm;−HH:mm" (Note MINUS SIGN \u2212)
    	 * - "+HHmm;-HHmm" => "+HHmm:-HHmm"
    	 */
    	var dateTimezoneHourFormatHm = function( hourFormat, hFormat ) {
    		return hourFormat
    			.split( ";" )
    			.map(function( format ) {
    				var parts = format.split( /H+/ );
    				parts.splice( 1, 0, hFormat );
    				return parts.join( "" );
    			})
    			.join( ";" );
    	};




    	var runtimeCacheDataBind = function( key, data ) {
    		var fn = function() {
    			return data;
    		};
    		fn.dataCacheKey = key;
    		return fn;
    	};




    	/**
    	 * properties( pattern, cldr )
    	 *
    	 * @pattern [String] raw pattern.
    	 * ref: http://www.unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the properties given the pattern and cldr.
    	 *
    	 * TODO Support other calendar types.
    	 */
    	var dateFormatProperties = function( pattern, cldr, timeZone ) {
    		var properties = {
    				numberFormatters: {},
    				pattern: pattern,
    				timeSeparator: numberSymbol( "timeSeparator", cldr )
    			},
    			widths = [ "abbreviated", "wide", "narrow" ];

    		function setNumberFormatterPattern( pad ) {
    			properties.numberFormatters[ pad ] = stringPad( "", pad );
    		}

    		if ( timeZone ) {
    			properties.timeZoneData = runtimeCacheDataBind( "iana/" + timeZone, {
    				offsets: cldr.get([ "globalize-iana/zoneData", timeZone, "offsets" ]),
    				untils: cldr.get([ "globalize-iana/zoneData", timeZone, "untils" ]),
    				isdsts: cldr.get([ "globalize-iana/zoneData", timeZone, "isdsts" ])
    			});
    		}

    		pattern.replace( datePatternRe, function( current ) {
    			var aux, chr, daylightTzName, formatNumber, genericTzName, length, standardTzName;

    			chr = current.charAt( 0 );
    			length = current.length;

    			if ( chr === "j" ) {

    				// Locale preferred hHKk.
    				// http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Data
    				properties.preferredTime = chr = cldr.supplemental.timeData.preferred();
    			}

    			// ZZZZ: same as "OOOO".
    			if ( chr === "Z" && length === 4 ) {
    				chr = "O";
    				length = 4;
    			}

    			// z...zzz: "{shortRegion}", eg. "PST" or "PDT".
    			// zzzz: "{regionName} {Standard Time}" or "{regionName} {Daylight Time}",
    			//       e.g., "Pacific Standard Time" or "Pacific Daylight Time".
    			// http://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    			if ( chr === "z" ) {
    				standardTzName = dateGetTimeZoneName( length, "standard", timeZone, cldr );
    				daylightTzName = dateGetTimeZoneName( length, "daylight", timeZone, cldr );
    				if ( standardTzName ) {
    					properties.standardTzName = standardTzName;
    				}
    				if ( daylightTzName ) {
    					properties.daylightTzName = daylightTzName;
    				}

    				// Fall through the "O" format in case one name is missing.
    				if ( !standardTzName || !daylightTzName ) {
    					chr = "O";
    					if ( length < 4 ) {
    						length = 1;
    					}
    				}
    			}

    			// v...vvv: "{shortRegion}", eg. "PT".
    			// vvvv: "{regionName} {Time}" or "{regionName} {Time}",
    			// e.g., "Pacific Time"
    			// http://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    			if ( chr === "v" ) {
    				genericTzName = dateGetTimeZoneName( length, "generic", timeZone, cldr );

    				// Fall back to "V" format.
    				if ( !genericTzName ) {
    					chr = "V";
    					length = 4;
    				}
    			}

    			switch ( chr ) {

    				// Era
    				case "G":
    					properties.eras = cldr.main([
    						"dates/calendars/gregorian/eras",
    						length <= 3 ? "eraAbbr" : ( length === 4 ? "eraNames" : "eraNarrow" )
    					]);
    					break;

    				// Year
    				case "y":

    					// Plain year.
    					formatNumber = true;
    					break;

    				case "Y":

    					// Year in "Week of Year"
    					properties.firstDay = dateFirstDayOfWeek( cldr );
    					properties.minDays = cldr.supplemental.weekData.minDays();
    					formatNumber = true;
    					break;

    				case "u": // Extended year. Need to be implemented.
    				case "U": // Cyclic year name. Need to be implemented.
    					throw createErrorUnsupportedFeature({
    						feature: "year pattern `" + chr + "`"
    					});

    				// Quarter
    				case "Q":
    				case "q":
    					if ( length > 2 ) {
    						if ( !properties.quarters ) {
    							properties.quarters = {};
    						}
    						if ( !properties.quarters[ chr ] ) {
    							properties.quarters[ chr ] = {};
    						}
    						properties.quarters[ chr ][ length ] = cldr.main([
    							"dates/calendars/gregorian/quarters",
    							chr === "Q" ? "format" : "stand-alone",
    							widths[ length - 3 ]
    						]);
    					} else {
    						formatNumber = true;
    					}
    					break;

    				// Month
    				case "M":
    				case "L":
    					if ( length > 2 ) {
    						if ( !properties.months ) {
    							properties.months = {};
    						}
    						if ( !properties.months[ chr ] ) {
    							properties.months[ chr ] = {};
    						}
    						properties.months[ chr ][ length ] = cldr.main([
    							"dates/calendars/gregorian/months",
    							chr === "M" ? "format" : "stand-alone",
    							widths[ length - 3 ]
    						]);
    					} else {
    						formatNumber = true;
    					}
    					break;

    				// Week - Week of Year (w) or Week of Month (W).
    				case "w":
    				case "W":
    					properties.firstDay = dateFirstDayOfWeek( cldr );
    					properties.minDays = cldr.supplemental.weekData.minDays();
    					formatNumber = true;
    					break;

    				// Day
    				case "d":
    				case "D":
    				case "F":
    					formatNumber = true;
    					break;

    				case "g":

    					// Modified Julian day. Need to be implemented.
    					throw createErrorUnsupportedFeature({
    						feature: "Julian day pattern `g`"
    					});

    				// Week day
    				case "e":
    				case "c":
    					if ( length <= 2 ) {
    						properties.firstDay = dateFirstDayOfWeek( cldr );
    						formatNumber = true;
    						break;
    					}

    				/* falls through */
    				case "E":
    					if ( !properties.days ) {
    						properties.days = {};
    					}
    					if ( !properties.days[ chr ] ) {
    						properties.days[ chr ] = {};
    					}
    					if ( length === 6 ) {

    						// If short day names are not explicitly specified, abbreviated day names are
    						// used instead.
    						// http://www.unicode.org/reports/tr35/tr35-dates.html#months_days_quarters_eras
    						// http://unicode.org/cldr/trac/ticket/6790
    						properties.days[ chr ][ length ] = cldr.main([
    								"dates/calendars/gregorian/days",
    								chr === "c" ? "stand-alone" : "format",
    								"short"
    							]) || cldr.main([
    								"dates/calendars/gregorian/days",
    								chr === "c" ? "stand-alone" : "format",
    								"abbreviated"
    							]);
    					} else {
    						properties.days[ chr ][ length ] = cldr.main([
    							"dates/calendars/gregorian/days",
    							chr === "c" ? "stand-alone" : "format",
    							widths[ length < 3 ? 0 : length - 3 ]
    						]);
    					}
    					break;

    				// Period (AM or PM)
    				case "a":
    					properties.dayPeriods = {
    						am: cldr.main(
    							"dates/calendars/gregorian/dayPeriods/format/wide/am"
    						),
    						pm: cldr.main(
    							"dates/calendars/gregorian/dayPeriods/format/wide/pm"
    						)
    					};
    					break;

    				// Hour
    				case "h": // 1-12
    				case "H": // 0-23
    				case "K": // 0-11
    				case "k": // 1-24

    				// Minute
    				case "m":

    				// Second
    				case "s":
    				case "S":
    				case "A":
    					formatNumber = true;
    					break;

    				// Zone
    				case "v":
    					if ( length !== 1 && length !== 4 ) {
    						throw createErrorUnsupportedFeature({
    							feature: "timezone pattern `" + pattern + "`"
    						});
    					}
    					properties.genericTzName = genericTzName;
    					break;

    				case "V":

    					if ( length === 1 ) {
    						throw createErrorUnsupportedFeature({
    							feature: "timezone pattern `" + pattern + "`"
    						});
    					}

    					if ( timeZone ) {
    						if ( length === 2 ) {
    							properties.timeZoneName = timeZone;
    							break;
    						}

    						var timeZoneName,
    							exemplarCity = cldr.main([
    								"dates/timeZoneNames/zone", timeZone, "exemplarCity"
    							]);

    						if ( length === 3 ) {
    							if ( !exemplarCity ) {
    								exemplarCity = cldr.main([
    									"dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"
    								]);
    							}
    							timeZoneName = exemplarCity;
    						}

    						if ( exemplarCity && length === 4 ) {
    							timeZoneName = formatMessage(
    								cldr.main(
    									"dates/timeZoneNames/regionFormat"
    								),
    								[ exemplarCity ]
    							);
    						}

    						if ( timeZoneName ) {
    							properties.timeZoneName = timeZoneName;
    							break;
    						}
    					}

    					if ( current === "v" ) {
    						length = 1;
    					}

    				/* falls through */
    				case "O":

    					// O: "{gmtFormat}+H;{gmtFormat}-H" or "{gmtZeroFormat}", eg. "GMT-8" or "GMT".
    					// OOOO: "{gmtFormat}{hourFormat}" or "{gmtZeroFormat}", eg. "GMT-08:00" or "GMT".
    					properties.gmtFormat = cldr.main( "dates/timeZoneNames/gmtFormat" );
    					properties.gmtZeroFormat = cldr.main( "dates/timeZoneNames/gmtZeroFormat" );

    					// Unofficial deduction of the hourFormat variations.
    					// Official spec is pending resolution: http://unicode.org/cldr/trac/ticket/8293
    					aux = cldr.main( "dates/timeZoneNames/hourFormat" );
    					properties.hourFormat = length < 4 ?
    						[ dateTimezoneHourFormatH( aux ), dateTimezoneHourFormatHm( aux, "H" ) ] :
    						dateTimezoneHourFormatHm( aux, "HH" );

    				/* falls through */
    				case "Z":
    				case "X":
    				case "x":
    					setNumberFormatterPattern( 1 );
    					setNumberFormatterPattern( 2 );
    					break;
    			}

    			if ( formatNumber ) {
    				setNumberFormatterPattern( length );
    			}
    		});

    		return properties;
    	};




    	var dateFormatterFn = function( dateToPartsFormatter ) {
    		return function dateFormatter( value ) {
    			return partsJoin( dateToPartsFormatter( value ));
    		};
    	};




    	/**
    	 * parseProperties( cldr )
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * @timeZone [String] FIXME.
    	 *
    	 * Return parser properties.
    	 */
    	var dateParseProperties = function( cldr, timeZone ) {
    		var properties = {
    			preferredTimeData: cldr.supplemental.timeData.preferred()
    		};

    		if ( timeZone ) {
    			properties.timeZoneData = runtimeCacheDataBind( "iana/" + timeZone, {
    				offsets: cldr.get([ "globalize-iana/zoneData", timeZone, "offsets" ]),
    				untils: cldr.get([ "globalize-iana/zoneData", timeZone, "untils" ]),
    				isdsts: cldr.get([ "globalize-iana/zoneData", timeZone, "isdsts" ])
    			});
    		}

    		return properties;
    	};


    	var ZonedDateTime = (function() {
    	function definePrivateProperty(object, property, value) {
    	  Object.defineProperty(object, property, {
    	    value: value
    	  });
    	}

    	function getUntilsIndex(original, untils) {
    	  var index = 0;
    	  var originalTime = original.getTime();

    	  // TODO Should we do binary search for improved performance?
    	  while (index < untils.length - 1 && originalTime >= untils[index]) {
    	    index++;
    	  }
    	  return index;
    	}

    	function setWrap(fn) {
    	  var offset1 = this.getTimezoneOffset();
    	  var ret = fn();
    	  this.original.setTime(new Date(this.getTime()));
    	  var offset2 = this.getTimezoneOffset();
    	  if (offset2 - offset1) {
    	    this.original.setMinutes(this.original.getMinutes() + offset2 - offset1);
    	  }
    	  return ret;
    	}

    	var ZonedDateTime = function(date, timeZoneData) {
    	  definePrivateProperty(this, "original", new Date(date.getTime()));
    	  definePrivateProperty(this, "local", new Date(date.getTime()));
    	  definePrivateProperty(this, "timeZoneData", timeZoneData);
    	  definePrivateProperty(this, "setWrap", setWrap);
    	  if (!(timeZoneData.untils && timeZoneData.offsets && timeZoneData.isdsts)) {
    	    throw new Error("Invalid IANA data");
    	  }
    	  this.setTime(this.local.getTime() - this.getTimezoneOffset() * 60 * 1000);
    	};

    	ZonedDateTime.prototype.clone = function() {
    	  return new ZonedDateTime(this.original, this.timeZoneData);
    	};

    	// Date field getters.
    	["getFullYear", "getMonth", "getDate", "getDay", "getHours", "getMinutes",
    	"getSeconds", "getMilliseconds"].forEach(function(method) {
    	  // Corresponding UTC method, e.g., "getUTCFullYear" if method === "getFullYear".
    	  var utcMethod = "getUTC" + method.substr(3);
    	  ZonedDateTime.prototype[method] = function() {
    	    return this.local[utcMethod]();
    	  };
    	});

    	// Note: Define .valueOf = .getTime for arithmetic operations like date1 - date2.
    	ZonedDateTime.prototype.valueOf =
    	ZonedDateTime.prototype.getTime = function() {
    	  return this.local.getTime() + this.getTimezoneOffset() * 60 * 1000;
    	};

    	ZonedDateTime.prototype.getTimezoneOffset = function() {
    	  var index = getUntilsIndex(this.original, this.timeZoneData.untils);
    	  return this.timeZoneData.offsets[index];
    	};

    	// Date field setters.
    	["setFullYear", "setMonth", "setDate", "setHours", "setMinutes", "setSeconds", "setMilliseconds"].forEach(function(method) {
    	  // Corresponding UTC method, e.g., "setUTCFullYear" if method === "setFullYear".
    	  var utcMethod = "setUTC" + method.substr(3);
    	  ZonedDateTime.prototype[method] = function(value) {
    	    var local = this.local;
    	    // Note setWrap is needed for seconds and milliseconds just because
    	    // abs(value) could be >= a minute.
    	    return this.setWrap(function() {
    	      return local[utcMethod](value);
    	    });
    	  };
    	});

    	ZonedDateTime.prototype.setTime = function(time) {
    	  return this.local.setTime(time);
    	};

    	ZonedDateTime.prototype.isDST = function() {
    	  var index = getUntilsIndex(this.original, this.timeZoneData.untils);
    	  return Boolean(this.timeZoneData.isdsts[index]);
    	};

    	ZonedDateTime.prototype.inspect = function() {
    	  var index = getUntilsIndex(this.original, this.timeZoneData.untils);
    	  var abbrs = this.timeZoneData.abbrs;
    	  return this.local.toISOString().replace(/Z$/, "") + " " +
    	    (abbrs && abbrs[index] + " " || (this.getTimezoneOffset() * -1) + " ") +
    	    (this.isDST() ? "(daylight savings)" : "");
    	};

    	ZonedDateTime.prototype.toDate = function() {
    	  return new Date(this.getTime());
    	};

    	// Type cast getters.
    	["toISOString", "toJSON", "toUTCString"].forEach(function(method) {
    	  ZonedDateTime.prototype[method] = function() {
    	    return this.toDate()[method]();
    	  };
    	});

    	return ZonedDateTime;
    	}());


    	/**
    	 * isLeapYear( year )
    	 *
    	 * @year [Number]
    	 *
    	 * Returns an indication whether the specified year is a leap year.
    	 */
    	var dateIsLeapYear = function( year ) {
    		return new Date( year, 1, 29 ).getMonth() === 1;
    	};




    	/**
    	 * lastDayOfMonth( date )
    	 *
    	 * @date [Date]
    	 *
    	 * Return the last day of the given date's month
    	 */
    	var dateLastDayOfMonth = function( date ) {
    		return new Date( date.getFullYear(), date.getMonth() + 1, 0 ).getDate();
    	};




    	/**
    	 * startOf changes the input to the beginning of the given unit.
    	 *
    	 * For example, starting at the start of a day, resets hours, minutes
    	 * seconds and milliseconds to 0. Starting at the month does the same, but
    	 * also sets the date to 1.
    	 *
    	 * Returns the modified date
    	 */
    	var dateStartOf = function( date, unit ) {
    		date = date instanceof ZonedDateTime ? date.clone() : new Date( date.getTime() );
    		switch ( unit ) {
    			case "year":
    				date.setMonth( 0 );
    			/* falls through */
    			case "month":
    				date.setDate( 1 );
    			/* falls through */
    			case "day":
    				date.setHours( 0 );
    			/* falls through */
    			case "hour":
    				date.setMinutes( 0 );
    			/* falls through */
    			case "minute":
    				date.setSeconds( 0 );
    			/* falls through */
    			case "second":
    				date.setMilliseconds( 0 );
    		}
    		return date;
    	};




    	/**
    	 * Differently from native date.setDate(), this function returns a date whose
    	 * day remains inside the month boundaries. For example:
    	 *
    	 * setDate( FebDate, 31 ): a "Feb 28" date.
    	 * setDate( SepDate, 31 ): a "Sep 30" date.
    	 */
    	var dateSetDate = function( date, day ) {
    		var lastDay = new Date( date.getFullYear(), date.getMonth() + 1, 0 ).getDate();

    		date.setDate( day < 1 ? 1 : day < lastDay ? day : lastDay );
    	};




    	/**
    	 * Differently from native date.setMonth(), this function adjusts date if
    	 * needed, so final month is always the one set.
    	 *
    	 * setMonth( Jan31Date, 1 ): a "Feb 28" date.
    	 * setDate( Jan31Date, 8 ): a "Sep 30" date.
    	 */
    	var dateSetMonth = function( date, month ) {
    		var originalDate = date.getDate();

    		date.setDate( 1 );
    		date.setMonth( month );
    		dateSetDate( date, originalDate );
    	};




    	var outOfRange = function( value, low, high ) {
    		return value < low || value > high;
    	};




    	/**
    	 * parse( value, tokens, properties )
    	 *
    	 * @value [String] string date.
    	 *
    	 * @tokens [Object] tokens returned by date/tokenizer.
    	 *
    	 * @properties [Object] output returned by date/tokenizer-properties.
    	 *
    	 * ref: http://www.unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    	 */
    	var dateParse = function( _value, tokens, properties ) {
    		var amPm, day, daysOfYear, month, era, hour, hour12, timezoneOffset, valid,
    			YEAR = 0,
    			MONTH = 1,
    			DAY = 2,
    			HOUR = 3,
    			MINUTE = 4,
    			SECOND = 5,
    			MILLISECONDS = 6,
    			date = new Date(),
    			truncateAt = [],
    			units = [ "year", "month", "day", "hour", "minute", "second", "milliseconds" ];

    		// Create globalize date with given timezone data.
    		if ( properties.timeZoneData ) {
    			date = new ZonedDateTime( date, properties.timeZoneData() );
    		}

    		if ( !tokens.length ) {
    			return null;
    		}

    		valid = tokens.every(function( token ) {
    			var century, chr, value, length;

    			if ( token.type === "literal" ) {

    				// continue
    				return true;
    			}

    			chr = token.type.charAt( 0 );
    			length = token.type.length;

    			if ( chr === "j" ) {

    				// Locale preferred hHKk.
    				// http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Data
    				chr = properties.preferredTimeData;
    			}

    			switch ( chr ) {

    				// Era
    				case "G":
    					truncateAt.push( YEAR );
    					era = +token.value;
    					break;

    				// Year
    				case "y":
    					value = token.value;
    					if ( length === 2 ) {
    						if ( outOfRange( value, 0, 99 ) ) {
    							return false;
    						}

    						// mimic dojo/date/locale: choose century to apply, according to a sliding
    						// window of 80 years before and 20 years after present year.
    						century = Math.floor( date.getFullYear() / 100 ) * 100;
    						value += century;
    						if ( value > date.getFullYear() + 20 ) {
    							value -= 100;
    						}
    					}
    					date.setFullYear( value );
    					truncateAt.push( YEAR );
    					break;

    				case "Y": // Year in "Week of Year"
    					throw createErrorUnsupportedFeature({
    						feature: "year pattern `" + chr + "`"
    					});

    				// Quarter (skip)
    				case "Q":
    				case "q":
    					break;

    				// Month
    				case "M":
    				case "L":
    					if ( length <= 2 ) {
    						value = token.value;
    					} else {
    						value = +token.value;
    					}
    					if ( outOfRange( value, 1, 12 ) ) {
    						return false;
    					}

    					// Setting the month later so that we have the correct year and can determine
    					// the correct last day of February in case of leap year.
    					month = value;
    					truncateAt.push( MONTH );
    					break;

    				// Week (skip)
    				case "w": // Week of Year.
    				case "W": // Week of Month.
    					break;

    				// Day
    				case "d":
    					day = token.value;
    					truncateAt.push( DAY );
    					break;

    				case "D":
    					daysOfYear = token.value;
    					truncateAt.push( DAY );
    					break;

    				case "F":

    					// Day of Week in month. eg. 2nd Wed in July.
    					// Skip
    					break;

    				// Week day
    				case "e":
    				case "c":
    				case "E":

    					// Skip.
    					// value = arrayIndexOf( dateWeekDays, token.value );
    					break;

    				// Period (AM or PM)
    				case "a":
    					amPm = token.value;
    					break;

    				// Hour
    				case "h": // 1-12
    					value = token.value;
    					if ( outOfRange( value, 1, 12 ) ) {
    						return false;
    					}
    					hour = hour12 = true;
    					date.setHours( value === 12 ? 0 : value );
    					truncateAt.push( HOUR );
    					break;

    				case "K": // 0-11
    					value = token.value;
    					if ( outOfRange( value, 0, 11 ) ) {
    						return false;
    					}
    					hour = hour12 = true;
    					date.setHours( value );
    					truncateAt.push( HOUR );
    					break;

    				case "k": // 1-24
    					value = token.value;
    					if ( outOfRange( value, 1, 24 ) ) {
    						return false;
    					}
    					hour = true;
    					date.setHours( value === 24 ? 0 : value );
    					truncateAt.push( HOUR );
    					break;

    				case "H": // 0-23
    					value = token.value;
    					if ( outOfRange( value, 0, 23 ) ) {
    						return false;
    					}
    					hour = true;
    					date.setHours( value );
    					truncateAt.push( HOUR );
    					break;

    				// Minute
    				case "m":
    					value = token.value;
    					if ( outOfRange( value, 0, 59 ) ) {
    						return false;
    					}
    					date.setMinutes( value );
    					truncateAt.push( MINUTE );
    					break;

    				// Second
    				case "s":
    					value = token.value;
    					if ( outOfRange( value, 0, 59 ) ) {
    						return false;
    					}
    					date.setSeconds( value );
    					truncateAt.push( SECOND );
    					break;

    				case "A":
    					date.setHours( 0 );
    					date.setMinutes( 0 );
    					date.setSeconds( 0 );

    				/* falls through */
    				case "S":
    					value = Math.round( token.value * Math.pow( 10, 3 - length ) );
    					date.setMilliseconds( value );
    					truncateAt.push( MILLISECONDS );
    					break;

    				// Zone
    				case "z":
    				case "Z":
    				case "O":
    				case "v":
    				case "V":
    				case "X":
    				case "x":
    					if ( typeof token.value === "number" ) {
    						timezoneOffset = token.value;
    					}
    					break;
    			}

    			return true;
    		});

    		if ( !valid ) {
    			return null;
    		}

    		// 12-hour format needs AM or PM, 24-hour format doesn't, ie. return null
    		// if amPm && !hour12 || !amPm && hour12.
    		if ( hour && !( !amPm ^ hour12 ) ) {
    			return null;
    		}

    		if ( era === 0 ) {

    			// 1 BC = year 0
    			date.setFullYear( date.getFullYear() * -1 + 1 );
    		}

    		if ( month !== undefined ) {
    			dateSetMonth( date, month - 1 );
    		}

    		if ( day !== undefined ) {
    			if ( outOfRange( day, 1, dateLastDayOfMonth( date ) ) ) {
    				return null;
    			}
    			date.setDate( day );
    		} else if ( daysOfYear !== undefined ) {
    			if ( outOfRange( daysOfYear, 1, dateIsLeapYear( date.getFullYear() ) ? 366 : 365 ) ) {
    				return null;
    			}
    			date.setMonth( 0 );
    			date.setDate( daysOfYear );
    		}

    		if ( hour12 && amPm === "pm" ) {
    			date.setHours( date.getHours() + 12 );
    		}

    		if ( timezoneOffset !== undefined ) {
    			date.setMinutes( date.getMinutes() + timezoneOffset - date.getTimezoneOffset() );
    		}

    		// Truncate date at the most precise unit defined. Eg.
    		// If value is "12/31", and pattern is "MM/dd":
    		// => new Date( <current Year>, 12, 31, 0, 0, 0, 0 );
    		truncateAt = Math.max.apply( null, truncateAt );
    		date = dateStartOf( date, units[ truncateAt ] );

    		// Get date back from globalize date.
    		if ( date instanceof ZonedDateTime ) {
    			date = date.toDate();
    		}

    		return date;
    	};


    	/* eslint-disable no-unused-expressions */



    	/**
    	 * tokenizer( value, numberParser, properties )
    	 *
    	 * @value [String] string date.
    	 *
    	 * @numberParser [Function]
    	 *
    	 * @properties [Object] output returned by date/tokenizer-properties.
    	 *
    	 * Returns an Array of tokens, eg. value "5 o'clock PM", pattern "h 'o''clock' a":
    	 * [{
    	 *   type: "h",
    	 *   lexeme: "5"
    	 * }, {
    	 *   type: "literal",
    	 *   lexeme: " "
    	 * }, {
    	 *   type: "literal",
    	 *   lexeme: "o'clock"
    	 * }, {
    	 *   type: "literal",
    	 *   lexeme: " "
    	 * }, {
    	 *   type: "a",
    	 *   lexeme: "PM",
    	 *   value: "pm"
    	 * }]
    	 *
    	 * OBS: lexeme's are always String and may return invalid ranges depending of the token type.
    	 * Eg. "99" for month number.
    	 *
    	 * Return an empty Array when not successfully parsed.
    	 */
    	var dateTokenizer = function( value, numberParser, properties ) {
    		var digitsRe, valid,
    			tokens = [],
    			widths = [ "abbreviated", "wide", "narrow" ];

    		digitsRe = properties.digitsRe;
    		value = looseMatching( value );

    		valid = properties.pattern.match( datePatternRe ).every(function( current ) {
    			var aux, chr, length, numeric, tokenRe,
    				token = {};

    			function hourFormatParse( tokenRe, numberParser ) {
    				var aux, isPositive,
    					match = value.match( tokenRe );
    				numberParser = numberParser || function( value ) {
    					return +value;
    				};

    				if ( !match ) {
    					return false;
    				}

    				isPositive = match[ 1 ];

    				// hourFormat containing H only, e.g., `+H;-H`
    				if ( match.length < 6 ) {
    					aux = isPositive ? 1 : 3;
    					token.value = numberParser( match[ aux ] ) * 60;

    				// hourFormat containing H and m, e.g., `+HHmm;-HHmm`
    				} else if ( match.length < 10 ) {
    					aux = isPositive ? [ 1, 3 ] : [ 5, 7 ];
    					token.value = numberParser( match[ aux[ 0 ] ] ) * 60 +
    						numberParser( match[ aux[ 1 ] ] );

    				// hourFormat containing H, m, and s e.g., `+HHmmss;-HHmmss`
    				} else {
    					aux = isPositive ? [ 1, 3, 5 ] : [ 7, 9, 11 ];
    					token.value = numberParser( match[ aux[ 0 ] ] ) * 60 +
    						numberParser( match[ aux[ 1 ] ] ) +
    						numberParser( match[ aux[ 2 ] ] ) / 60;
    				}

    				if ( isPositive ) {
    					token.value *= -1;
    				}

    				return true;
    			}

    			function oneDigitIfLengthOne() {
    				if ( length === 1 ) {

    					// Unicode equivalent to /\d/
    					numeric = true;
    					return tokenRe = digitsRe;
    				}
    			}

    			function oneOrTwoDigitsIfLengthOne() {
    				if ( length === 1 ) {

    					// Unicode equivalent to /\d\d?/
    					numeric = true;
    					return tokenRe = new RegExp( "^(" + digitsRe.source + "){1,2}" );
    				}
    			}

    			function oneOrTwoDigitsIfLengthOneOrTwo() {
    				if ( length === 1 || length === 2 ) {

    					// Unicode equivalent to /\d\d?/
    					numeric = true;
    					return tokenRe = new RegExp( "^(" + digitsRe.source + "){1,2}" );
    				}
    			}

    			function twoDigitsIfLengthTwo() {
    				if ( length === 2 ) {

    					// Unicode equivalent to /\d\d/
    					numeric = true;
    					return tokenRe = new RegExp( "^(" + digitsRe.source + "){2}" );
    				}
    			}

    			// Brute-force test every locale entry in an attempt to match the given value.
    			// Return the first found one (and set token accordingly), or null.
    			function lookup( path ) {
    				var array = properties[ path.join( "/" ) ];

    				if ( !array ) {
    					return null;
    				}

    				// array of pairs [key, value] sorted by desc value length.
    				array.some(function( item ) {
    					var valueRe = item[ 1 ];
    					if ( valueRe.test( value ) ) {
    						token.value = item[ 0 ];
    						tokenRe = item[ 1 ];
    						return true;
    					}
    				});
    				return null;
    			}

    			token.type = current;
    			chr = current.charAt( 0 );
    			length = current.length;

    			if ( chr === "Z" ) {

    				// Z..ZZZ: same as "xxxx".
    				if ( length < 4 ) {
    					chr = "x";
    					length = 4;

    				// ZZZZ: same as "OOOO".
    				} else if ( length < 5 ) {
    					chr = "O";
    					length = 4;

    				// ZZZZZ: same as "XXXXX"
    				} else {
    					chr = "X";
    					length = 5;
    				}
    			}

    			if ( chr === "z" ) {
    				if ( properties.standardOrDaylightTzName ) {
    					token.value = null;
    					tokenRe = properties.standardOrDaylightTzName;
    				}
    			}

    			// v...vvv: "{shortRegion}", eg. "PT".
    			// vvvv: "{regionName} {Time}" or "{regionName} {Time}",
    			// e.g., "Pacific Time"
    			// http://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    			if ( chr === "v" ) {
    				if ( properties.genericTzName ) {
    					token.value = null;
    					tokenRe = properties.genericTzName;

    				// Fall back to "V" format.
    				} else {
    					chr = "V";
    					length = 4;
    				}
    			}

    			if ( chr === "V" && properties.timeZoneName ) {
    				token.value = length === 2 ? properties.timeZoneName : null;
    				tokenRe = properties.timeZoneNameRe;
    			}

    			switch ( chr ) {

    				// Era
    				case "G":
    					lookup([
    						"gregorian/eras",
    						length <= 3 ? "eraAbbr" : ( length === 4 ? "eraNames" : "eraNarrow" )
    					]);
    					break;

    				// Year
    				case "y":
    				case "Y":
    					numeric = true;

    					// number l=1:+, l=2:{2}, l=3:{3,}, l=4:{4,}, ...
    					if ( length === 1 ) {

    						// Unicode equivalent to /\d+/.
    						tokenRe = new RegExp( "^(" + digitsRe.source + ")+" );
    					} else if ( length === 2 ) {

    						// Lenient parsing: there's no year pattern to indicate non-zero-padded 2-digits
    						// year, so parser accepts both zero-padded and non-zero-padded for `yy`.
    						//
    						// Unicode equivalent to /\d\d?/
    						tokenRe = new RegExp( "^(" + digitsRe.source + "){1,2}" );
    					} else {

    						// Unicode equivalent to /\d{length,}/
    						tokenRe = new RegExp( "^(" + digitsRe.source + "){" + length + ",}" );
    					}
    					break;

    				// Quarter
    				case "Q":
    				case "q":

    					// number l=1:{1}, l=2:{2}.
    					// lookup l=3...
    					oneDigitIfLengthOne() || twoDigitsIfLengthTwo() ||
    						lookup([
    							"gregorian/quarters",
    							chr === "Q" ? "format" : "stand-alone",
    							widths[ length - 3 ]
    						]);
    					break;

    				// Month
    				case "M":
    				case "L":

    					// number l=1:{1,2}, l=2:{2}.
    					// lookup l=3...
    					//
    					// Lenient parsing: skeleton "yMd" (i.e., one M) may include MM for the pattern,
    					// therefore parser accepts both zero-padded and non-zero-padded for M and MM.
    					// Similar for L.
    					oneOrTwoDigitsIfLengthOneOrTwo() || lookup([
    						"gregorian/months",
    						chr === "M" ? "format" : "stand-alone",
    						widths[ length - 3 ]
    					]);
    					break;

    				// Day
    				case "D":

    					// number {l,3}.
    					if ( length <= 3 ) {

    						// Equivalent to /\d{length,3}/
    						numeric = true;
    						tokenRe = new RegExp( "^(" + digitsRe.source + "){" + length + ",3}" );
    					}
    					break;

    				case "W":
    				case "F":

    					// number l=1:{1}.
    					oneDigitIfLengthOne();
    					break;

    				// Week day
    				case "e":
    				case "c":

    					// number l=1:{1}, l=2:{2}.
    					// lookup for length >=3.
    					if ( length <= 2 ) {
    						oneDigitIfLengthOne() || twoDigitsIfLengthTwo();
    						break;
    					}

    				/* falls through */
    				case "E":
    					if ( length === 6 ) {

    						// Note: if short day names are not explicitly specified, abbreviated day
    						// names are used instead http://www.unicode.org/reports/tr35/tr35-dates.html#months_days_quarters_eras
    						lookup([
    							"gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							"short"
    						]) || lookup([
    							"gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							"abbreviated"
    						]);
    					} else {
    						lookup([
    							"gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							widths[ length < 3 ? 0 : length - 3 ]
    						]);
    					}
    					break;

    				// Period (AM or PM)
    				case "a":
    					lookup([
    						"gregorian/dayPeriods/format/wide"
    					]);
    					break;

    				// Week
    				case "w":

    					// number l1:{1,2}, l2:{2}.
    					oneOrTwoDigitsIfLengthOne() || twoDigitsIfLengthTwo();
    					break;

    				// Day, Hour, Minute, or Second
    				case "d":
    				case "h":
    				case "H":
    				case "K":
    				case "k":
    				case "j":
    				case "m":
    				case "s":

    					// number l1:{1,2}, l2:{2}.
    					//
    					// Lenient parsing:
    					// - skeleton "hms" (i.e., one m) always includes mm for the pattern, i.e., it's
    					//   impossible to use a different skeleton to parse non-zero-padded minutes,
    					//   therefore parser accepts both zero-padded and non-zero-padded for m. Similar
    					//   for seconds s.
    					// - skeleton "hms" (i.e., one h) may include h or hh for the pattern, i.e., it's
    					//   impossible to use a different skeleton to parser non-zero-padded hours for some
    					//   locales, therefore parser accepts both zero-padded and non-zero-padded for h.
    					//   Similar for d (in skeleton yMd).
    					oneOrTwoDigitsIfLengthOneOrTwo();
    					break;

    				case "S":

    					// number {l}.

    					// Unicode equivalent to /\d{length}/
    					numeric = true;
    					tokenRe = new RegExp( "^(" + digitsRe.source + "){" + length + "}" );
    					break;

    				case "A":

    					// number {l+5}.

    					// Unicode equivalent to /\d{length+5}/
    					numeric = true;
    					tokenRe = new RegExp( "^(" + digitsRe.source + "){" + ( length + 5 ) + "}" );
    					break;

    				// Zone
    				case "v":
    				case "V":
    				case "z":
    					if ( tokenRe && tokenRe.test( value ) ) {
    						break;
    					}
    					if ( chr === "V" && length === 2 ) {
    						break;
    					}

    				/* falls through */
    				case "O":

    					// O: "{gmtFormat}+H;{gmtFormat}-H" or "{gmtZeroFormat}", eg. "GMT-8" or "GMT".
    					// OOOO: "{gmtFormat}{hourFormat}" or "{gmtZeroFormat}", eg. "GMT-08:00" or "GMT".
    					if ( value === properties[ "timeZoneNames/gmtZeroFormat" ] ) {
    						token.value = 0;
    						tokenRe = properties[ "timeZoneNames/gmtZeroFormatRe" ];
    					} else {
    						aux = properties[ "timeZoneNames/hourFormat" ].some(function( hourFormatRe ) {
    							if ( hourFormatParse( hourFormatRe, numberParser ) ) {
    								tokenRe = hourFormatRe;
    								return true;
    							}
    						});
    						if ( !aux ) {
    							return null;
    						}
    					}
    					break;

    				case "X":

    					// Same as x*, except it uses "Z" for zero offset.
    					if ( value === "Z" ) {
    						token.value = 0;
    						tokenRe = /^Z/;
    						break;
    					}

    				/* falls through */
    				case "x":

    					// x: hourFormat("+HH[mm];-HH[mm]")
    					// xx: hourFormat("+HHmm;-HHmm")
    					// xxx: hourFormat("+HH:mm;-HH:mm")
    					// xxxx: hourFormat("+HHmm[ss];-HHmm[ss]")
    					// xxxxx: hourFormat("+HH:mm[:ss];-HH:mm[:ss]")
    					aux = properties.x.some(function( hourFormatRe ) {
    						if ( hourFormatParse( hourFormatRe ) ) {
    							tokenRe = hourFormatRe;
    							return true;
    						}
    					});
    					if ( !aux ) {
    						return null;
    					}
    					break;

    				case "'":
    					token.type = "literal";
    					tokenRe = new RegExp( "^" + regexpEscape( removeLiteralQuotes( current ) ) );
    					break;

    				default:
    					token.type = "literal";
    					tokenRe = new RegExp( "^" + regexpEscape( current ) );
    			}

    			if ( !tokenRe ) {
    				return false;
    			}

    			// Get lexeme and consume it.
    			value = value.replace( tokenRe, function( lexeme ) {
    				token.lexeme = lexeme;
    				if ( numeric ) {
    					token.value = numberParser( lexeme );
    				}
    				return "";
    			});

    			if ( !token.lexeme ) {
    				return false;
    			}

    			if ( numeric && isNaN( token.value ) ) {
    				return false;
    			}

    			tokens.push( token );
    			return true;
    		});

    		if ( value !== "" ) {
    			valid = false;
    		}

    		return valid ? tokens : [];
    	};




    	var dateParserFn = function( numberParser, parseProperties, tokenizerProperties ) {
    		return function dateParser( value ) {
    			var tokens;

    			validateParameterPresence( value, "value" );
    			validateParameterTypeString( value, "value" );

    			tokens = dateTokenizer( value, numberParser, tokenizerProperties );
    			return dateParse( value, tokens, parseProperties ) || null;
    		};
    	};




    	var objectFilter = function( object, testRe ) {
    		var key,
    			copy = {};

    		for ( key in object ) {
    			if ( testRe.test( key ) ) {
    				copy[ key ] = object[ key ];
    			}
    		}

    		return copy;
    	};




    	/**
    	 * tokenizerProperties( pattern, cldr )
    	 *
    	 * @pattern [String] raw pattern.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return Object with data that will be used by tokenizer.
    	 */
    	var dateTokenizerProperties = function( pattern, cldr, timeZone ) {
    		var digitsReSource,
    			properties = {
    				pattern: looseMatching( pattern )
    			},
    			timeSeparator = numberSymbol( "timeSeparator", cldr ),
    			widths = [ "abbreviated", "wide", "narrow" ];

    		digitsReSource = numberNumberingSystemDigitsMap( cldr );
    		digitsReSource = digitsReSource ? "[" + digitsReSource + "]" : "\\d";
    		properties.digitsRe = new RegExp( digitsReSource );

    		// Transform:
    		// - "+H;-H" -> /\+(\d\d?)|-(\d\d?)/
    		// - "+HH;-HH" -> /\+(\d\d)|-(\d\d)/
    		// - "+HHmm;-HHmm" -> /\+(\d\d)(\d\d)|-(\d\d)(\d\d)/
    		// - "+HH:mm;-HH:mm" -> /\+(\d\d):(\d\d)|-(\d\d):(\d\d)/
    		//
    		// If gmtFormat is GMT{0}, the regexp must fill {0} in each side, e.g.:
    		// - "+H;-H" -> /GMT\+(\d\d?)|GMT-(\d\d?)/
    		function hourFormatRe( hourFormat, gmtFormat, digitsReSource, timeSeparator ) {
    			var re;

    			if ( !digitsReSource ) {
    				digitsReSource = "\\d";
    			}
    			if ( !gmtFormat ) {
    				gmtFormat = "{0}";
    			}

    			re = hourFormat
    				.replace( "+", "\\+" )

    				// Unicode equivalent to (\\d\\d)
    				.replace( /HH|mm|ss/g, "((" + digitsReSource + "){2})" )

    				// Unicode equivalent to (\\d\\d?)
    				.replace( /H|m/g, "((" + digitsReSource + "){1,2})" );

    			if ( timeSeparator ) {
    				re = re.replace( /:/g, timeSeparator );
    			}

    			re = re.split( ";" ).map(function( part ) {
    				return gmtFormat.replace( "{0}", part );
    			}).join( "|" );

    			return new RegExp( "^" + re );
    		}

    		function populateProperties( path, value ) {

    			// Skip
    			var skipRe = /(timeZoneNames\/zone|supplemental\/metaZones|timeZoneNames\/metazone|timeZoneNames\/regionFormat|timeZoneNames\/gmtFormat)/;
    			if ( skipRe.test( path ) ) {
    				return;
    			}

    			if ( !value ) {
    				return;
    			}

    			// The `dates` and `calendars` trim's purpose is to reduce properties' key size only.
    			path = path.replace( /^.*\/dates\//, "" ).replace( /calendars\//, "" );

    			// Specific filter for "gregorian/dayPeriods/format/wide".
    			if ( path === "gregorian/dayPeriods/format/wide" ) {
    				value = objectFilter( value, /^am|^pm/ );
    			}

    			// Transform object into array of pairs [key, /value/], sort by desc value length.
    			if ( isPlainObject( value ) ) {
    				value = Object.keys( value ).map(function( key ) {
    					return [ key, new RegExp( "^" + regexpEscape( looseMatching( value[ key ] ) ) ) ];
    				}).sort(function( a, b ) {
    					return b[ 1 ].source.length - a[ 1 ].source.length;
    				});

    			// If typeof value === "string".
    			} else {
    				value = looseMatching( value );
    			}
    			properties[ path ] = value;
    		}

    		function regexpSourceSomeTerm( terms ) {
    			return "(" + terms.filter(function( item ) {
    				return item;
    			}).reduce(function( memo, item ) {
    				return memo + "|" + item;
    			}) + ")";
    		}

    		cldr.on( "get", populateProperties );

    		pattern.match( datePatternRe ).forEach(function( current ) {
    			var aux, chr, daylightTzName, gmtFormat, length, standardTzName;

    			chr = current.charAt( 0 );
    			length = current.length;

    			if ( chr === "Z" ) {
    				if ( length < 5 ) {
    					chr = "O";
    					length = 4;
    				} else {
    					chr = "X";
    					length = 5;
    				}
    			}

    			// z...zzz: "{shortRegion}", eg. "PST" or "PDT".
    			// zzzz: "{regionName} {Standard Time}" or "{regionName} {Daylight Time}",
    			//       e.g., "Pacific Standard Time" or "Pacific Daylight Time".
    			// http://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    			if ( chr === "z" ) {
    				standardTzName = dateGetTimeZoneName( length, "standard", timeZone, cldr );
    				daylightTzName = dateGetTimeZoneName( length, "daylight", timeZone, cldr );
    				if ( standardTzName ) {
    					standardTzName = regexpEscape( looseMatching( standardTzName ) );
    				}
    				if ( daylightTzName ) {
    					daylightTzName = regexpEscape( looseMatching( daylightTzName ) );
    				}
    				if ( standardTzName || daylightTzName ) {
    					properties.standardOrDaylightTzName = new RegExp(
    						"^" + regexpSourceSomeTerm([ standardTzName, daylightTzName ])
    					);
    				}

    				// Fall through the "O" format in case one name is missing.
    				if ( !standardTzName || !daylightTzName ) {
    					chr = "O";
    					if ( length < 4 ) {
    						length = 1;
    					}
    				}
    			}

    			// v...vvv: "{shortRegion}", eg. "PT".
    			// vvvv: "{regionName} {Time}" or "{regionName} {Time}",
    			// e.g., "Pacific Time"
    			// http://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns
    			if ( chr === "v" ) {
    				if ( length !== 1 && length !== 4 ) {
    					throw createErrorUnsupportedFeature({
    						feature: "timezone pattern `" + pattern + "`"
    					});
    				}
    				var genericTzName = dateGetTimeZoneName( length, "generic", timeZone, cldr );
    				if ( genericTzName ) {
    					properties.genericTzName = new RegExp(
    						"^" + regexpEscape( looseMatching( genericTzName ) )
    					);
    					chr = "O";

    				// Fall back to "V" format.
    				} else {
    					chr = "V";
    					length = 4;
    				}
    			}

    			switch ( chr ) {

    				// Era
    				case "G":
    					cldr.main([
    						"dates/calendars/gregorian/eras",
    						length <= 3 ? "eraAbbr" : ( length === 4 ? "eraNames" : "eraNarrow" )
    					]);
    					break;

    				// Year
    				case "u": // Extended year. Need to be implemented.
    				case "U": // Cyclic year name. Need to be implemented.
    					throw createErrorUnsupportedFeature({
    						feature: "year pattern `" + chr + "`"
    					});

    				// Quarter
    				case "Q":
    				case "q":
    					if ( length > 2 ) {
    						cldr.main([
    							"dates/calendars/gregorian/quarters",
    							chr === "Q" ? "format" : "stand-alone",
    							widths[ length - 3 ]
    						]);
    					}
    					break;

    				// Month
    				case "M":
    				case "L":

    					// number l=1:{1,2}, l=2:{2}.
    					// lookup l=3...
    					if ( length > 2 ) {
    						cldr.main([
    							"dates/calendars/gregorian/months",
    							chr === "M" ? "format" : "stand-alone",
    							widths[ length - 3 ]
    						]);
    					}
    					break;

    				// Day
    				case "g":

    					// Modified Julian day. Need to be implemented.
    					throw createErrorUnsupportedFeature({
    						feature: "Julian day pattern `g`"
    					});

    				// Week day
    				case "e":
    				case "c":

    					// lookup for length >=3.
    					if ( length <= 2 ) {
    						break;
    					}

    				/* falls through */
    				case "E":
    					if ( length === 6 ) {

    						// Note: if short day names are not explicitly specified, abbreviated day
    						// names are used instead http://www.unicode.org/reports/tr35/tr35-dates.html#months_days_quarters_eras
    						// eslint-disable-next-line no-unused-expressions
    						cldr.main([
    							"dates/calendars/gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							"short"
    						]) || cldr.main([
    							"dates/calendars/gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							"abbreviated"
    						]);
    					} else {
    						cldr.main([
    							"dates/calendars/gregorian/days",
    							[ chr === "c" ? "stand-alone" : "format" ],
    							widths[ length < 3 ? 0 : length - 3 ]
    						]);
    					}
    					break;

    				// Period (AM or PM)
    				case "a":
    					cldr.main(
    						"dates/calendars/gregorian/dayPeriods/format/wide"
    					);
    					break;

    				// Zone
    				case "V":

    					if ( length === 1 ) {
    						throw createErrorUnsupportedFeature({
    							feature: "timezone pattern `" + pattern + "`"
    						});
    					}

    					if ( timeZone ) {
    						if ( length === 2 ) {

    							// Skip looseMatching processing since timeZone is a canonical posix value.
    							properties.timeZoneName = timeZone;
    							properties.timeZoneNameRe = new RegExp( "^" + regexpEscape( timeZone ) );
    							break;
    						}

    						var timeZoneName,
    							exemplarCity = cldr.main([
    								"dates/timeZoneNames/zone", timeZone, "exemplarCity"
    							]);

    						if ( length === 3 ) {
    							if ( !exemplarCity ) {
    								exemplarCity = cldr.main([
    									"dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"
    								]);
    							}
    							timeZoneName = exemplarCity;
    						}

    						if ( exemplarCity && length === 4 ) {
    							timeZoneName = formatMessage(
    								cldr.main(
    									"dates/timeZoneNames/regionFormat"
    								),
    								[ exemplarCity ]
    							);
    						}

    						if ( timeZoneName ) {
    							timeZoneName = looseMatching( timeZoneName );
    							properties.timeZoneName = timeZoneName;
    							properties.timeZoneNameRe = new RegExp(
    								"^" + regexpEscape( timeZoneName )
    							);
    						}
    					}

    					if ( current === "v" ) {
    						length = 1;
    					}

    				/* falls through */
    				case "z":
    				case "O":
    					gmtFormat = cldr.main( "dates/timeZoneNames/gmtFormat" );
    					cldr.main( "dates/timeZoneNames/gmtZeroFormat" );
    					cldr.main( "dates/timeZoneNames/hourFormat" );
    					properties[ "timeZoneNames/gmtZeroFormatRe" ] =
    						new RegExp( "^" + regexpEscape( properties[ "timeZoneNames/gmtZeroFormat" ] ) );
    					aux = properties[ "timeZoneNames/hourFormat" ];
    					properties[ "timeZoneNames/hourFormat" ] = (
    						length < 4 ?
    							[ dateTimezoneHourFormatHm( aux, "H" ), dateTimezoneHourFormatH( aux ) ] :
    							[ dateTimezoneHourFormatHm( aux, "HH" ) ]
    					).map(function( hourFormat ) {
    						return hourFormatRe(
    							hourFormat,
    							gmtFormat,
    							digitsReSource,
    							timeSeparator
    						);
    					});

    				/* falls through */
    				case "X":
    				case "x":

    					// x: hourFormat("+HH[mm];-HH[mm]")
    					// xx: hourFormat("+HHmm;-HHmm")
    					// xxx: hourFormat("+HH:mm;-HH:mm")
    					// xxxx: hourFormat("+HHmm[ss];-HHmm[ss]")
    					// xxxxx: hourFormat("+HH:mm[:ss];-HH:mm[:ss]")
    					properties.x = [
    						[ "+HHmm;-HHmm", "+HH;-HH" ],
    						[ "+HHmm;-HHmm" ],
    						[ "+HH:mm;-HH:mm" ],
    						[ "+HHmmss;-HHmmss", "+HHmm;-HHmm" ],
    						[ "+HH:mm:ss;-HH:mm:ss", "+HH:mm;-HH:mm" ]
    					][ length - 1 ].map(function( hourFormat ) {
    						return hourFormatRe( hourFormat );
    					});
    			}
    		});

    		cldr.off( "get", populateProperties );

    		return properties;
    	};




    	/**
    	 * dayOfWeek( date, firstDay )
    	 *
    	 * @date
    	 *
    	 * @firstDay the result of `dateFirstDayOfWeek( cldr )`
    	 *
    	 * Return the day of the week normalized by the territory's firstDay [0-6].
    	 * Eg for "mon":
    	 * - return 0 if territory is GB, or BR, or DE, or FR (week starts on "mon");
    	 * - return 1 if territory is US (week starts on "sun");
    	 * - return 2 if territory is EG (week starts on "sat");
    	 */
    	var dateDayOfWeek = function( date, firstDay ) {
    		return ( date.getDay() - firstDay + 7 ) % 7;
    	};




    	/**
    	 * distanceInDays( from, to )
    	 *
    	 * Return the distance in days between from and to Dates.
    	 */
    	var dateDistanceInDays = function( from, to ) {
    		var inDays = 864e5;
    		return ( to.getTime() - from.getTime() ) / inDays;
    	};




    	/**
    	 * dayOfYear
    	 *
    	 * Return the distance in days of the date to the begin of the year [0-d].
    	 */
    	var dateDayOfYear = function( date ) {
    		return Math.floor( dateDistanceInDays( dateStartOf( date, "year" ), date ) );
    	};




    	// Invert key and values, e.g., {"year": "yY"} ==> {"y": "year", "Y": "year"}
    	var dateFieldsMap = objectInvert({
    		"era": "G",
    		"year": "yY",
    		"quarter": "qQ",
    		"month": "ML",
    		"week": "wW",
    		"day": "dDF",
    		"weekday": "ecE",
    		"dayperiod": "a",
    		"hour": "hHkK",
    		"minute": "m",
    		"second": "sSA",
    		"zone": "zvVOxX"
    	}, function( object, key, value ) {
    		value.split( "" ).forEach(function( symbol ) {
    			object[ symbol ] = key;
    		});
    		return object;
    	});




    	/**
    	 * millisecondsInDay
    	 */
    	var dateMillisecondsInDay = function( date ) {

    		// TODO Handle daylight savings discontinuities
    		return date - dateStartOf( date, "day" );
    	};




    	/**
    	 * hourFormat( date, format, timeSeparator, formatNumber )
    	 *
    	 * Return date's timezone offset according to the format passed.
    	 * Eg for format when timezone offset is 180:
    	 * - "+H;-H": -3
    	 * - "+HHmm;-HHmm": -0300
    	 * - "+HH:mm;-HH:mm": -03:00
    	 * - "+HH:mm:ss;-HH:mm:ss": -03:00:00
    	 */
    	var dateTimezoneHourFormat = function( date, format, timeSeparator, formatNumber ) {
    		var absOffset,
    			offset = date.getTimezoneOffset();

    		absOffset = Math.abs( offset );
    		formatNumber = formatNumber || {
    			1: function( value ) {
    				return stringPad( value, 1 );
    			},
    			2: function( value ) {
    				return stringPad( value, 2 );
    			}
    		};

    		return format

    			// Pick the correct sign side (+ or -).
    			.split( ";" )[ offset > 0 ? 1 : 0 ]

    			// Localize time separator
    			.replace( ":", timeSeparator )

    			// Update hours offset.
    			.replace( /HH?/, function( match ) {
    				return formatNumber[ match.length ]( Math.floor( absOffset / 60 ) );
    			})

    			// Update minutes offset and return.
    			.replace( /mm/, function() {
    				return formatNumber[ 2 ]( Math.floor( absOffset % 60 ) );
    			})

    			// Update minutes offset and return.
    			.replace( /ss/, function() {
    				return formatNumber[ 2 ]( Math.floor( absOffset % 1 * 60 ) );
    			});
    	};




    	/**
    	 * format( date, properties )
    	 *
    	 * @date [Date instance].
    	 *
    	 * @properties
    	 *
    	 * TODO Support other calendar types.
    	 *
    	 * Disclosure: this function borrows excerpts of dojo/date/locale.
    	 */
    	var dateFormat = function( date, numberFormatters, properties ) {
    		var parts = [];

    		var timeSeparator = properties.timeSeparator;

    		// create globalize date with given timezone data
    		if ( properties.timeZoneData ) {
    			date = new ZonedDateTime( date, properties.timeZoneData() );
    		}

    		properties.pattern.replace( datePatternRe, function( current ) {
    			var aux, dateField, type, value,
    				chr = current.charAt( 0 ),
    				length = current.length;

    			if ( chr === "j" ) {

    				// Locale preferred hHKk.
    				// http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Data
    				chr = properties.preferredTime;
    			}

    			if ( chr === "Z" ) {

    				// Z..ZZZ: same as "xxxx".
    				if ( length < 4 ) {
    					chr = "x";
    					length = 4;

    				// ZZZZ: same as "OOOO".
    				} else if ( length < 5 ) {
    					chr = "O";
    					length = 4;

    				// ZZZZZ: same as "XXXXX"
    				} else {
    					chr = "X";
    					length = 5;
    				}
    			}

    			// z...zzz: "{shortRegion}", e.g., "PST" or "PDT".
    			// zzzz: "{regionName} {Standard Time}" or "{regionName} {Daylight Time}",
    			//       e.g., "Pacific Standard Time" or "Pacific Daylight Time".
    			if ( chr === "z" ) {
    				if ( date.isDST ) {
    					value = date.isDST() ? properties.daylightTzName : properties.standardTzName;
    				}

    				// Fall back to "O" format.
    				if ( !value ) {
    					chr = "O";
    					if ( length < 4 ) {
    						length = 1;
    					}
    				}
    			}

    			switch ( chr ) {

    				// Era
    				case "G":
    					value = properties.eras[ date.getFullYear() < 0 ? 0 : 1 ];
    					break;

    				// Year
    				case "y":

    					// Plain year.
    					// The length specifies the padding, but for two letters it also specifies the
    					// maximum length.
    					value = date.getFullYear();
    					if ( length === 2 ) {
    						value = String( value );
    						value = +value.substr( value.length - 2 );
    					}
    					break;

    				case "Y":

    					// Year in "Week of Year"
    					// The length specifies the padding, but for two letters it also specifies the
    					// maximum length.
    					// yearInWeekofYear = date + DaysInAWeek - (dayOfWeek - firstDay) - minDays
    					value = new Date( date.getTime() );
    					value.setDate(
    						value.getDate() + 7 -
    						dateDayOfWeek( date, properties.firstDay ) -
    						properties.firstDay -
    						properties.minDays
    					);
    					value = value.getFullYear();
    					if ( length === 2 ) {
    						value = String( value );
    						value = +value.substr( value.length - 2 );
    					}
    					break;

    				// Quarter
    				case "Q":
    				case "q":
    					value = Math.ceil( ( date.getMonth() + 1 ) / 3 );
    					if ( length > 2 ) {
    						value = properties.quarters[ chr ][ length ][ value ];
    					}
    					break;

    				// Month
    				case "M":
    				case "L":
    					value = date.getMonth() + 1;
    					if ( length > 2 ) {
    						value = properties.months[ chr ][ length ][ value ];
    					}
    					break;

    				// Week
    				case "w":

    					// Week of Year.
    					// woy = ceil( ( doy + dow of 1/1 ) / 7 ) - minDaysStuff ? 1 : 0.
    					// TODO should pad on ww? Not documented, but I guess so.
    					value = dateDayOfWeek( dateStartOf( date, "year" ), properties.firstDay );
    					value = Math.ceil( ( dateDayOfYear( date ) + value ) / 7 ) -
    						( 7 - value >= properties.minDays ? 0 : 1 );
    					break;

    				case "W":

    					// Week of Month.
    					// wom = ceil( ( dom + dow of `1/month` ) / 7 ) - minDaysStuff ? 1 : 0.
    					value = dateDayOfWeek( dateStartOf( date, "month" ), properties.firstDay );
    					value = Math.ceil( ( date.getDate() + value ) / 7 ) -
    						( 7 - value >= properties.minDays ? 0 : 1 );
    					break;

    				// Day
    				case "d":
    					value = date.getDate();
    					break;

    				case "D":
    					value = dateDayOfYear( date ) + 1;
    					break;

    				case "F":

    					// Day of Week in month. eg. 2nd Wed in July.
    					value = Math.floor( date.getDate() / 7 ) + 1;
    					break;

    				// Week day
    				case "e":
    				case "c":
    					if ( length <= 2 ) {

    						// Range is [1-7] (deduced by example provided on documentation)
    						// TODO Should pad with zeros (not specified in the docs)?
    						value = dateDayOfWeek( date, properties.firstDay ) + 1;
    						break;
    					}

    				/* falls through */
    				case "E":
    					value = dateWeekDays[ date.getDay() ];
    					value = properties.days[ chr ][ length ][ value ];
    					break;

    				// Period (AM or PM)
    				case "a":
    					value = properties.dayPeriods[ date.getHours() < 12 ? "am" : "pm" ];
    					break;

    				// Hour
    				case "h": // 1-12
    					value = ( date.getHours() % 12 ) || 12;
    					break;

    				case "H": // 0-23
    					value = date.getHours();
    					break;

    				case "K": // 0-11
    					value = date.getHours() % 12;
    					break;

    				case "k": // 1-24
    					value = date.getHours() || 24;
    					break;

    				// Minute
    				case "m":
    					value = date.getMinutes();
    					break;

    				// Second
    				case "s":
    					value = date.getSeconds();
    					break;

    				case "S":
    					value = Math.round( date.getMilliseconds() * Math.pow( 10, length - 3 ) );
    					break;

    				case "A":
    					value = Math.round( dateMillisecondsInDay( date ) * Math.pow( 10, length - 3 ) );
    					break;

    				// Zone
    				case "z":
    					break;

    				case "v":

    					// v...vvv: "{shortRegion}", eg. "PT".
    					// vvvv: "{regionName} {Time}",
    					//       e.g., "Pacific Time".
    					if ( properties.genericTzName ) {
    						value = properties.genericTzName;
    						break;
    					}

    				/* falls through */
    				case "V":

    					//VVVV: "{explarCity} {Time}", e.g., "Los Angeles Time"
    					if ( properties.timeZoneName ) {
    						value = properties.timeZoneName;
    						break;
    					}

    					if ( current === "v" ) {
    						length = 1;
    					}

    				/* falls through */
    				case "O":

    					// O: "{gmtFormat}+H;{gmtFormat}-H" or "{gmtZeroFormat}", eg. "GMT-8" or "GMT".
    					// OOOO: "{gmtFormat}{hourFormat}" or "{gmtZeroFormat}", eg. "GMT-08:00" or "GMT".
    					if ( date.getTimezoneOffset() === 0 ) {
    						value = properties.gmtZeroFormat;
    					} else {

    						// If O..OOO and timezone offset has non-zero minutes, show minutes.
    						if ( length < 4 ) {
    							aux = date.getTimezoneOffset();
    							aux = properties.hourFormat[ aux % 60 - aux % 1 === 0 ? 0 : 1 ];
    						} else {
    							aux = properties.hourFormat;
    						}

    						value = dateTimezoneHourFormat(
    							date,
    							aux,
    							timeSeparator,
    							numberFormatters
    						);
    						value = properties.gmtFormat.replace( /\{0\}/, value );
    					}
    					break;

    				case "X":

    					// Same as x*, except it uses "Z" for zero offset.
    					if ( date.getTimezoneOffset() === 0 ) {
    						value = "Z";
    						break;
    					}

    				/* falls through */
    				case "x":

    					// x: hourFormat("+HH[mm];-HH[mm]")
    					// xx: hourFormat("+HHmm;-HHmm")
    					// xxx: hourFormat("+HH:mm;-HH:mm")
    					// xxxx: hourFormat("+HHmm[ss];-HHmm[ss]")
    					// xxxxx: hourFormat("+HH:mm[:ss];-HH:mm[:ss]")
    					aux = date.getTimezoneOffset();

    					// If x and timezone offset has non-zero minutes, use xx (i.e., show minutes).
    					if ( length === 1 && aux % 60 - aux % 1 !== 0 ) {
    						length += 1;
    					}

    					// If (xxxx or xxxxx) and timezone offset has zero seconds, use xx or xxx
    					// respectively (i.e., don't show optional seconds).
    					if ( ( length === 4 || length === 5 ) && aux % 1 === 0 ) {
    						length -= 2;
    					}

    					value = [
    						"+HH;-HH",
    						"+HHmm;-HHmm",
    						"+HH:mm;-HH:mm",
    						"+HHmmss;-HHmmss",
    						"+HH:mm:ss;-HH:mm:ss"
    					][ length - 1 ];

    					value = dateTimezoneHourFormat( date, value, ":" );
    					break;

    				// timeSeparator
    				case ":":
    					value = timeSeparator;
    					break;

    				// ' literals.
    				case "'":
    					value = removeLiteralQuotes( current );
    					break;

    				// Anything else is considered a literal, including [ ,:/.@#], chinese, japonese, and
    				// arabic characters.
    				default:
    					value = current;

    			}
    			if ( typeof value === "number" ) {
    				value = numberFormatters[ length ]( value );
    			}

    			dateField = dateFieldsMap[ chr ];
    			type = dateField ? dateField : "literal";

    			partsPush( parts, type, value );
    		});

    		return parts;

    	};




    	var dateToPartsFormatterFn = function( numberFormatters, properties ) {
    		return function dateToPartsFormatter( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeDate( value, "value" );

    			return dateFormat( value, numberFormatters, properties );
    		};

    	};




    	function optionsHasStyle( options ) {
    		return options.skeleton !== undefined ||
    			options.date !== undefined ||
    			options.time !== undefined ||
    			options.datetime !== undefined ||
    			options.raw !== undefined;
    	}

    	function validateRequiredCldr( path, value ) {
    		validateCldr( path, value, {
    			skip: [
    				/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,
    				/dates\/calendars\/gregorian\/days\/.*\/short/,
    				/dates\/timeZoneNames\/zone/,
    				/dates\/timeZoneNames\/metazone/,
    				/globalize-iana/,
    				/supplemental\/metaZones/,
    				/supplemental\/timeData\/(?!001)/,
    				/supplemental\/weekData\/(?!001)/
    			]
    		});
    	}

    	function validateOptionsPreset( options ) {
    		validateOptionsPresetEach( "date", options );
    		validateOptionsPresetEach( "time", options );
    		validateOptionsPresetEach( "datetime", options );
    	}

    	function validateOptionsPresetEach( type, options ) {
    		var value = options[ type ];
    		validate(
    			"E_INVALID_OPTIONS",
    			"Invalid `{{type}: \"{value}\"}`.",
    			value === undefined || [ "short", "medium", "long", "full" ].indexOf( value ) !== -1,
    			{ type: type, value: value }
    		);
    	}

    	function validateOptionsSkeleton( pattern, skeleton ) {
    		validate(
    			"E_INVALID_OPTIONS",
    			"Invalid `{skeleton: \"{value}\"}` based on provided CLDR.",
    			skeleton === undefined || ( typeof pattern === "string" && pattern ),
    			{ type: "skeleton", value: skeleton }
    		);
    	}

    	function validateRequiredIana( timeZone ) {
    		return function( path, value ) {

    			if ( !/globalize-iana/.test( path ) ) {
    				return;
    			}

    			validate(
    				"E_MISSING_IANA_TZ",
    				"Missing required IANA timezone content for `{timeZone}`: `{path}`.",
    				value,
    				{
    					path: path.replace( /globalize-iana\//, "" ),
    					timeZone: timeZone
    				}
    			);
    		};
    	}

    	/**
    	 * .loadTimeZone( json )
    	 *
    	 * @json [JSON]
    	 *
    	 * Load IANA timezone data.
    	 */
    	Globalize.loadTimeZone = function( json ) {
    		var customData = {
    				"globalize-iana": json
    			};

    		validateParameterPresence( json, "json" );
    		validateParameterTypePlainObject( json, "json" );

    		Cldr.load( customData );
    	};

    	/**
    	 * .dateFormatter( options )
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Return a date formatter function (of the form below) according to the given options and the
    	 * default/instance locale.
    	 *
    	 * fn( value )
    	 *
    	 * @value [Date]
    	 *
    	 * Return a function that formats a date according to the given `format` and the default/instance
    	 * locale.
    	 */
    	Globalize.dateFormatter =
    	Globalize.prototype.dateFormatter = function( options ) {
    		var args, dateToPartsFormatter, returnFn;

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};
    		if ( !optionsHasStyle( options ) ) {
    			options.skeleton = "yMd";
    		}
    		args = [ options ];

    		dateToPartsFormatter = this.dateToPartsFormatter( options );
    		returnFn = dateFormatterFn( dateToPartsFormatter );
    		runtimeBind( args, this.cldr, returnFn, [ dateToPartsFormatter ] );

    		return returnFn;
    	};

    	/**
    	 * .dateToPartsFormatter( options )
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Return a date formatter function (of the form below) according to the given options and the
    	 * default/instance locale.
    	 *
    	 * fn( value )
    	 *
    	 * @value [Date]
    	 *
    	 * Return a function that formats a date to parts according to the given `format`
    	 * and the default/instance
    	 * locale.
    	 */
    	Globalize.dateToPartsFormatter =
    	Globalize.prototype.dateToPartsFormatter = function( options ) {
    		var args, cldr, numberFormatters, pad, pattern, properties, returnFn,
    			timeZone, ianaListener;

    		validateParameterTypePlainObject( options, "options" );

    		cldr = this.cldr;
    		options = options || {};
    		if ( !optionsHasStyle( options ) ) {
    			options.skeleton = "yMd";
    		}

    		validateOptionsPreset( options );
    		validateDefaultLocale( cldr );

    		timeZone = options.timeZone;
    		validateParameterTypeString( timeZone, "options.timeZone" );

    		args = [ options ];

    		cldr.on( "get", validateRequiredCldr );
    		if ( timeZone ) {
    			ianaListener = validateRequiredIana( timeZone );
    			cldr.on( "get", ianaListener );
    		}
    		try {
    			pattern = dateExpandPattern( options, cldr );
    			validateOptionsSkeleton( pattern, options.skeleton );
    			properties = dateFormatProperties( pattern, cldr, timeZone );
    		} finally {
    			cldr.off( "get", validateRequiredCldr );
    			if ( ianaListener ) {
    				cldr.off( "get", ianaListener );
    			}
    		}

    		// Create needed number formatters.
    		numberFormatters = properties.numberFormatters;
    		delete properties.numberFormatters;
    		for ( pad in numberFormatters ) {
    			numberFormatters[ pad ] = this.numberFormatter({
    				raw: numberFormatters[ pad ]
    			});
    		}

    		returnFn = dateToPartsFormatterFn( numberFormatters, properties );

    		runtimeBind( args, cldr, returnFn, [ numberFormatters, properties ] );

    		return returnFn;
    	};

    	/**
    	 * .dateParser( options )
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Return a function that parses a string date according to the given `formats` and the
    	 * default/instance locale.
    	 */
    	Globalize.dateParser =
    	Globalize.prototype.dateParser = function( options ) {
    		var args, cldr, numberParser, parseProperties, pattern, returnFn, timeZone,
    			tokenizerProperties;

    		validateParameterTypePlainObject( options, "options" );

    		cldr = this.cldr;
    		options = options || {};
    		if ( !optionsHasStyle( options ) ) {
    			options.skeleton = "yMd";
    		}

    		validateOptionsPreset( options );
    		validateDefaultLocale( cldr );

    		timeZone = options.timeZone;
    		validateParameterTypeString( timeZone, "options.timeZone" );

    		args = [ options ];

    		try {
    			cldr.on( "get", validateRequiredCldr );
    			if ( timeZone ) {
    				cldr.on( "get", validateRequiredIana( timeZone ) );
    			}
    			pattern = dateExpandPattern( options, cldr );
    			validateOptionsSkeleton( pattern, options.skeleton );
    			tokenizerProperties = dateTokenizerProperties( pattern, cldr, timeZone );
    			parseProperties = dateParseProperties( cldr, timeZone );
    		} finally {
    			cldr.off( "get", validateRequiredCldr );
    			if ( timeZone ) {
    				cldr.off( "get", validateRequiredIana( timeZone ) );
    			}
    		}
    		numberParser = this.numberParser({ raw: "0" });

    		returnFn = dateParserFn( numberParser, parseProperties, tokenizerProperties );

    		runtimeBind( args, cldr, returnFn, [ numberParser, parseProperties, tokenizerProperties ] );

    		return returnFn;
    	};

    	/**
    	 * .formatDate( value, options )
    	 *
    	 * @value [Date]
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Formats a date or number according to the given options string and the default/instance locale.
    	 */
    	Globalize.formatDate =
    	Globalize.prototype.formatDate = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeDate( value, "value" );

    		return this.dateFormatter( options )( value );
    	};

    	/**
    	 * .formatDateToParts( value, options )
    	 *
    	 * @value [Date]
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Formats a date or number to parts according to the given options and the default/instance locale.
    	 */
    	Globalize.formatDateToParts =
    	Globalize.prototype.formatDateToParts = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeDate( value, "value" );

    		return this.dateToPartsFormatter( options )( value );
    	};

    	/**
    	 * .parseDate( value, options )
    	 *
    	 * @value [String]
    	 *
    	 * @options [Object] see date/expand_pattern for more info.
    	 *
    	 * Return a Date instance or null.
    	 */
    	Globalize.parseDate =
    	Globalize.prototype.parseDate = function( value, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeString( value, "value" );

    		return this.dateParser( options )( value );
    	};

    	return Globalize;




    	}));
    } (date));

    var relativeTime = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var formatMessage = Globalize._formatMessage,
    		runtimeBind = Globalize._runtimeBind,
    		validateCldr = Globalize._validateCldr,
    		validateDefaultLocale = Globalize._validateDefaultLocale,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterTypeString = Globalize._validateParameterTypeString,
    		validateParameterTypeNumber = Globalize._validateParameterTypeNumber;


    	/**
    	 * format( value, numberFormatter, pluralGenerator, properties )
    	 *
    	 * @value [Number] The number to format
    	 *
    	 * @numberFormatter [String] A numberFormatter from Globalize.numberFormatter
    	 *
    	 * @pluralGenerator [String] A pluralGenerator from Globalize.pluralGenerator
    	 *
    	 * @properties [Object] containing relative time plural message.
    	 *
    	 * Format relative time.
    	 */
    	var relativeTimeFormat = function( value, numberFormatter, pluralGenerator, properties ) {

    		var relativeTime,
    			message = properties[ "relative-type-" + value ];

    		if ( message ) {
    			return message;
    		}

    		relativeTime = value <= 0 ? properties[ "relativeTime-type-past" ] :
    			properties[ "relativeTime-type-future" ];

    		value = Math.abs( value );

    		message = relativeTime[ "relativeTimePattern-count-" + pluralGenerator( value ) ];
    		return formatMessage( message, [ numberFormatter( value ) ] );
    	};




    	var relativeTimeFormatterFn = function( numberFormatter, pluralGenerator, properties ) {
    		return function relativeTimeFormatter( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeNumber( value, "value" );

    			return relativeTimeFormat( value, numberFormatter, pluralGenerator, properties );
    		};

    	};




    	/**
    	 * properties( unit, cldr, options )
    	 *
    	 * @unit [String] eg. "day", "week", "month", etc.
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * @options [Object]
    	 * - form: [String] eg. "short" or "narrow". Or falsy for default long form.
    	 *
    	 * Return relative time properties.
    	 */
    	var relativeTimeProperties = function( unit, cldr, options ) {

    		var form = options.form,
    			raw, properties, key, match;

    		if ( form ) {
    			unit = unit + "-" + form;
    		}

    		raw = cldr.main( [ "dates", "fields", unit ] );
    		properties = {
    			"relativeTime-type-future": raw[ "relativeTime-type-future" ],
    			"relativeTime-type-past": raw[ "relativeTime-type-past" ]
    		};
    		for ( key in raw ) {
    			if ( raw.hasOwnProperty( key ) ) {
    				match = /relative-type-(-?[0-9]+)/.exec( key );
    				if ( match ) {
    					properties[ key ] = raw[ key ];
    				}
    			}
    		}

    		return properties;
    	};




    	/**
    	 * .formatRelativeTime( value, unit [, options] )
    	 *
    	 * @value [Number] The number of unit to format.
    	 *
    	 * @unit [String] see .relativeTimeFormatter() for details.
    	 *
    	 * @options [Object] see .relativeTimeFormatter() for details.
    	 *
    	 * Formats a relative time according to the given unit, options, and the default/instance locale.
    	 */
    	Globalize.formatRelativeTime =
    	Globalize.prototype.formatRelativeTime = function( value, unit, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );

    		return this.relativeTimeFormatter( unit, options )( value );
    	};

    	/**
    	 * .relativeTimeFormatter( unit [, options ])
    	 *
    	 * @unit [String] String value indicating the unit to be formatted. eg. "day", "week", "month", etc.
    	 *
    	 * @options [Object]
    	 * - form: [String] eg. "short" or "narrow". Or falsy for default long form.
    	 *
    	 * Returns a function that formats a relative time according to the given unit, options, and the
    	 * default/instance locale.
    	 */
    	Globalize.relativeTimeFormatter =
    	Globalize.prototype.relativeTimeFormatter = function( unit, options ) {
    		var args, cldr, numberFormatter, pluralGenerator, properties, returnFn;

    		validateParameterPresence( unit, "unit" );
    		validateParameterTypeString( unit, "unit" );

    		cldr = this.cldr;
    		options = options || {};

    		args = [ unit, options ];

    		validateDefaultLocale( cldr );

    		cldr.on( "get", validateCldr );
    		try {
    			properties = relativeTimeProperties( unit, cldr, options );
    		} finally {
    			cldr.off( "get", validateCldr );
    		}
    		numberFormatter = this.numberFormatter( options );
    		pluralGenerator = this.pluralGenerator();

    		returnFn = relativeTimeFormatterFn( numberFormatter, pluralGenerator, properties );

    		runtimeBind( args, cldr, returnFn, [ numberFormatter, pluralGenerator, properties ] );

    		return returnFn;
    	};

    	return Globalize;




    	}));
    } (relativeTime));

    var unit = {exports: {}};

    /**
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module, exports) {
    	/*!
    	 * Globalize v1.7.0 2021-08-02T11:53Z Released under the MIT license
    	 * http://git.io/TrdQbw
    	 */
    	(function( root, factory ) {

    		// UMD returnExports
    		{

    			// Node, CommonJS
    			module.exports = factory( requireNode_main(), globalize.exports );
    		}
    	}(commonjsGlobal, function( Cldr, Globalize ) {

    	var formatMessage = Globalize._formatMessage,
    		runtimeBind = Globalize._runtimeBind,
    		validateParameterPresence = Globalize._validateParameterPresence,
    		validateParameterTypePlainObject = Globalize._validateParameterTypePlainObject,
    		validateParameterTypeNumber = Globalize._validateParameterTypeNumber,
    		validateParameterTypeString = Globalize._validateParameterTypeString;


    	/**
    	 * format( value, numberFormatter, pluralGenerator, unitProperies )
    	 *
    	 * @value [Number]
    	 *
    	 * @numberFormatter [Object]: A numberFormatter from Globalize.numberFormatter.
    	 *
    	 * @pluralGenerator [Object]: A pluralGenerator from Globalize.pluralGenerator.
    	 *
    	 * @unitProperies [Object]: localized unit data from cldr.
    	 *
    	 * Format units such as seconds, minutes, days, weeks, etc.
    	 *
    	 * OBS:
    	 *
    	 * Unit Sequences are not implemented.
    	 * http://www.unicode.org/reports/tr35/tr35-35/tr35-general.html#Unit_Sequences
    	 *
    	 * Duration Unit (for composed time unit durations) is not implemented.
    	 * http://www.unicode.org/reports/tr35/tr35-35/tr35-general.html#durationUnit
    	 */
    	var unitFormat = function( value, numberFormatter, pluralGenerator, unitProperties ) {
    		var compoundUnitPattern = unitProperties.compoundUnitPattern, dividend, dividendProperties,
    			formattedValue, divisor, divisorProperties, message, pluralValue, oneProperty;

    		unitProperties = unitProperties.unitProperties;
    		formattedValue = numberFormatter( value );
    		pluralValue = pluralGenerator( value );

    		// computed compound unit, eg. "megabyte-per-second".
    		if ( unitProperties instanceof Array ) {
    			dividendProperties = unitProperties[ 0 ];
    			divisorProperties = unitProperties[ 1 ];
    			oneProperty = divisorProperties.hasOwnProperty( "one" ) ? "one" : "other";

    			dividend = formatMessage( dividendProperties[ pluralValue ], [ formattedValue ] );
    			divisor = formatMessage( divisorProperties[ oneProperty ], [ "" ] ).trim();

    			return formatMessage( compoundUnitPattern, [ dividend, divisor ] );
    		}

    		message = unitProperties[ pluralValue ];

    		return formatMessage( message, [ formattedValue ] );
    	};




    	var unitFormatterFn = function( numberFormatter, pluralGenerator, unitProperties ) {
    		return function unitFormatter( value ) {
    			validateParameterPresence( value, "value" );
    			validateParameterTypeNumber( value, "value" );

    			return unitFormat( value, numberFormatter, pluralGenerator, unitProperties );
    		};

    	};




    	/**
    	 * categories()
    	 *
    	 * Return all unit categories.
    	 */
    	var unitCategories = [ "acceleration", "angle", "area", "digital", "duration", "length", "mass", "power",
    	"pressure", "speed", "temperature", "volume" ];




    	function stripPluralGarbage( data ) {
    		var aux, pluralCount;

    		if ( data ) {
    			aux = {};
    			for ( pluralCount in data ) {
    				aux[ pluralCount.replace( /unitPattern-count-/, "" ) ] = data[ pluralCount ];
    			}
    		}

    		return aux;
    	}

    	/**
    	 * get( unit, form, cldr )
    	 *
    	 * @unit [String] The full type-unit name (eg. duration-second), or the short unit name
    	 * (eg. second).
    	 *
    	 * @form [String] A string describing the form of the unit representation (eg. long,
    	 * short, narrow).
    	 *
    	 * @cldr [Cldr instance].
    	 *
    	 * Return the plural map of a unit, eg: "second"
    	 * { "one": "{0} second",
    	 *   "other": "{0} seconds" }
    	 * }
    	 *
    	 * Or the Array of plural maps of a compound-unit, eg: "foot-per-second"
    	 * [ { "one": "{0} foot",
    	 *     "other": "{0} feet" },
    	 *   { "one": "{0} second",
    	 *     "other": "{0} seconds" } ]
    	 *
    	 * Uses the precomputed form of a compound-unit if available, eg: "mile-per-hour"
    	 * { "displayName": "miles per hour",
    	 *    "unitPattern-count-one": "{0} mile per hour",
    	 *    "unitPattern-count-other": "{0} miles per hour"
    	 * },
    	 *
    	 * Also supports "/" instead of "-per-", eg. "foot/second", using the precomputed form if
    	 * available.
    	 *
    	 * Or the Array of plural maps of a compound-unit, eg: "foot-per-second"
    	 * [ { "one": "{0} foot",
    	 *     "other": "{0} feet" },
    	 *   { "one": "{0} second",
    	 *     "other": "{0} seconds" } ]
    	 *
    	 * Or undefined in case the unit (or a unit of the compound-unit) doesn't exist.
    	 */
    	var get = function( unit, form, cldr ) {
    		var ret;

    		// Ensure that we get the 'precomputed' form, if present.
    		unit = unit.replace( /\//, "-per-" );

    		// Get unit or <category>-unit (eg. "duration-second").
    		[ "" ].concat( unitCategories ).some(function( category ) {
    			return ret = cldr.main([
    				"units",
    				form,
    				category.length ? category + "-" + unit : unit
    			]);
    		});

    		// Rename keys s/unitPattern-count-//g.
    		ret = stripPluralGarbage( ret );

    		// Compound Unit, eg. "foot-per-second" or "foot/second".
    		if ( !ret && ( /-per-/ ).test( unit ) ) {

    			// "Some units already have 'precomputed' forms, such as kilometer-per-hour;
    			// where such units exist, they should be used in preference" UTS#35.
    			// Note that precomputed form has already been handled above (!ret).

    			// Get both recursively.
    			unit = unit.split( "-per-" );
    			ret = unit.map(function( unit ) {
    				return get( unit, form, cldr );
    			});
    			if ( !ret[ 0 ] || !ret[ 1 ] ) {
    				return;
    			}
    		}

    		return ret;
    	};

    	var unitGet = get;




    	/**
    	 * properties( unit, form, cldr )
    	 *
    	 * @unit [String] The full type-unit name (eg. duration-second), or the short unit name
    	 * (eg. second).
    	 *
    	 * @form [String] A string describing the form of the unit representation (eg. long,
    	 * short, narrow).
    	 *
    	 * @cldr [Cldr instance].
    	 */
    	var unitProperties = function( unit, form, cldr ) {
    		var compoundUnitPattern, unitProperties;

    		compoundUnitPattern = cldr.main( [ "units", form, "per/compoundUnitPattern" ] );
    		unitProperties = unitGet( unit, form, cldr );

    		return {
    			compoundUnitPattern: compoundUnitPattern,
    			unitProperties: unitProperties
    		};
    	};




    	/**
    	 * Globalize.formatUnit( value, unit, options )
    	 *
    	 * @value [Number]
    	 *
    	 * @unit [String]: The unit (e.g "second", "day", "year")
    	 *
    	 * @options [Object]
    	 * - form: [String] "long", "short" (default), or "narrow".
    	 *
    	 * Format units such as seconds, minutes, days, weeks, etc.
    	 */
    	Globalize.formatUnit =
    	Globalize.prototype.formatUnit = function( value, unit, options ) {
    		validateParameterPresence( value, "value" );
    		validateParameterTypeNumber( value, "value" );

    		return this.unitFormatter( unit, options )( value );
    	};

    	/**
    	 * Globalize.unitFormatter( unit, options )
    	 *
    	 * @unit [String]: The unit (e.g "second", "day", "year")
    	 *
    	 * @options [Object]
    	 * - form: [String] "long", "short" (default), or "narrow".
    	 *
    	 * - numberFormatter: [Function] a number formatter function. Defaults to Globalize
    	 *   `.numberFormatter()` for the current locale using the default options.
    	 */
    	Globalize.unitFormatter =
    	Globalize.prototype.unitFormatter = function( unit, options ) {
    		var args, form, numberFormatter, pluralGenerator, returnFn, properties;

    		validateParameterPresence( unit, "unit" );
    		validateParameterTypeString( unit, "unit" );

    		validateParameterTypePlainObject( options, "options" );

    		options = options || {};

    		args = [ unit, options ];
    		form = options.form || "long";
    		properties = unitProperties( unit, form, this.cldr );

    		numberFormatter = options.numberFormatter || this.numberFormatter();
    		pluralGenerator = this.pluralGenerator();
    		returnFn = unitFormatterFn( numberFormatter, pluralGenerator, properties );

    		runtimeBind( args, this.cldr, returnFn, [ numberFormatter, pluralGenerator, properties ] );

    		return returnFn;
    	};

    	return Globalize;




    	}));
    } (unit));

    /*!
     * Globalize v1.7.0
     *
     * https://github.com/globalizejs/globalize
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-08-02T11:53Z
     */

    (function (module) {
    	// Core
    	module.exports = globalize.exports;

    	// Extent core with the following modules




    	// Load after globalize/number



    	// Load after globalize/number and globalize/plural
    } (nodeMain));

    const Globalize = /*@__PURE__*/getDefaultExportFromCjs(nodeMain.exports);

    /** @internal */
    class GlobalizeService {
        constructor(cldrImporters = [...GlobalizeService.MinimalCldrImportets]) {
            this.cldrImporters = cldrImporters;
            this.globalizeCaches = Object.create(null);
        }
        addCldrImporter(cldrImporet) {
            this.cldrImporters.push(cldrImporet);
            this.resetLoadStatus();
        }
        async loadMessages(data) {
            await this.init();
            Globalize.loadMessages(data);
            this.dropCaches();
        }
        async formatMessage(localeId, token, context) {
            const globalize = await this.getFor(localeId);
            // If formatMessage throws - the token is not in the dataset
            try {
                return globalize.formatMessage(token, context);
            }
            catch {
                return;
            }
        }
        async resolveLocales(localeId) {
            const globalize = await this.getFor(localeId);
            const locales = [
                'root',
                globalize.cldr.attributes.minLanguageId,
                globalize.cldr.attributes.maxLanguageId,
            ];
            /* eslint-disable @typescript-eslint/no-explicit-any */
            if (globalize.cldr.attributes.bundle) {
                locales.push(globalize.cldr.attributes.bundle);
            }
            /* eslint-enable @typescript-eslint/no-explicit-any */
            return locales;
        }
        async getFor(localeId) {
            await this.init();
            if (localeId in this.globalizeCaches) {
                return this.globalizeCaches[localeId];
            }
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            return (this.globalizeCaches[localeId] = Globalize(localeId));
        }
        async init() {
            if (this.loadStatus) {
                await this.loadStatus;
                return;
            }
            this.loadStatus = Promise.all(this.cldrImporters.map((cldrImporter) => cldrImporter()));
            Globalize.load(await this.loadStatus);
        }
        dropCaches() {
            this.globalizeCaches = Object.create(null);
        }
        resetLoadStatus() {
            this.loadStatus = undefined;
            this.dropCaches();
        }
    }
    GlobalizeService.MinimalCldrImportets = [
        /* eslint-disable @typescript-eslint/explicit-function-return-type */
        () => Promise.resolve().then(() => likelySubtags$1).then((m) => m.default),
        () => Promise.resolve().then(() => plurals$1).then((m) => m.default),
        /* eslint-enable @typescript-eslint/explicit-function-return-type */
    ];

    const DefaultI18nLoaderConfig = 'FES.DefaultI18nLoaderConfig';
    class DefaultI18nLoader {
        constructor(config = inject(DefaultI18nLoaderConfig, null), globalizeService = inject(GlobalizeService)) {
            this.config = config;
            this.globalizeService = globalizeService;
            this.cache = Object.create(null);
            this.load = this.config?.skipCache
                ? this.loadWithoutCache
                : this.loadWithCache;
        }
        async loadWithCache(localeId) {
            this.cache[localeId] =
                this.cache[localeId] ?? (await this.loadWithoutCache(localeId));
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return this.cache[localeId];
        }
        async loadWithoutCache(localeId) {
            const locales = await this.globalizeService.resolveLocales(localeId);
            const dataBundles = await Promise.all(locales.map((locale) => this.config
                ?.load?.(locale)
                .then((m) => [locale, m.default])
                // Explicitly mark that locale is missing if failed to load
                .catch(() => [locale, {}]) ?? [locale, {}]));
            return Object.fromEntries(dataBundles);
        }
    }

    class DefaultI18nInjectable {
        constructor(options) {
            this.options = options;
            this.tokenPropStart = this.options?.tokenPropStart ?? '\\<';
            this.tokenPropEnd = this.options?.tokenPropEnd ?? '\\>';
            this.tokenPropRegex = new RegExp(`${this.tokenPropStart}([^${this.tokenPropEnd}]+)${this.tokenPropEnd}`, 'g');
        }
        translate(token, context) {
            return this.toReadable(this.select(token), context);
        }
        select(token) {
            return typeof token === 'string' ? token : token[0];
        }
        toReadable(token, context) {
            // Get the last part after all dots
            // For example: one.two.three -> three
            const lastPart = token.slice(token.lastIndexOf('.') + 1);
            // Reset regex global state between calls
            this.tokenPropRegex.lastIndex = 0;
            /* eslint-disable @typescript-eslint/explicit-function-return-type */
            const replacePropValue = context
                ? (prop) => String(context[prop])
                : () => '';
            /* eslint-enable @typescript-eslint/explicit-function-return-type */
            return (lastPart
                // Replace all props with values from context
                .replace(this.tokenPropRegex, (_, prop) => replacePropValue(prop))
                // Replace all dashes with spaces
                .replace(/-/g, ' ')
                // Capitalize first character
                .replace(/^./, (c) => c.toUpperCase())
                // Remove trailing spaces
                .trim());
        }
    }

    const i18nInjectable = new Injectable('FES.I18nInjectable', new DefaultI18nInjectable());

    /**
     * Internationalize token(s) with optional context object.
     *
     * Token should have a domain prefix separated by dot,
     * after that a readable token name should be used in kebab-case
     * (for ex.: `cart.add-to-cart`).
     *
     * By default last part of the token (right-most side after the last dot)
     * will be converted to a capitalized readable text
     * (for ex.: `cart.add-to-cart` -> `Add to cart`).
     *
     * If context is needed for a token use `{` and `}` to mark a prop in the last part of the token
     * (for ex.: to have `count` prop in context use it in token like `cart.{count}-items-in-cart`
     * which will produce a readable string as `5 items in cart` when `count=5`)
     *
     * @example
     * Inside a dom/text node:
     * ```ts
     * <div>${i18n('cart.add-to-cart')}</div>
     * ```
     * Inside attribute value:
     * ```ts
     * <div title="${i18n('cart.add-to-cart')}"</div>
     * ```
     * With context object:
     * ```ts
     * <div>${i18n('cart.{count}-items-in-cart', { count: 10 })}</div>
     * ```
     */
    function i18n(token, context) {
        return i18nInjectable.get().translate(token, context);
    }

    const I18nLoader = 'FES.I18nLoader';

    class DefaultI18nProcessor {
        constructor(localeService = inject(LocaleService), loader = inject(I18nLoader), globalizeService = inject(GlobalizeService), i18nInjectable = new DefaultI18nInjectable()) {
            this.localeService = localeService;
            this.loader = loader;
            this.globalizeService = globalizeService;
            this.i18nInjectable = i18nInjectable;
            this.localeId$ = this.localeService.get().pipe(cjs.distinctUntilChanged(), cjs.switchMap(async (localeId) => {
                const data = await this.loader.load(localeId);
                await this.globalizeService.loadMessages(data);
                return localeId;
            }), cjs.shareReplay(1));
        }
        interpolate(token, context) {
            return cjs.combineLatest([this.localeId$, context]).pipe(cjs.switchMap(([localeId, ctx]) => this.resolveToken(token, ctx, localeId)), cjs.switchMap((text) => text ? cjs.of(text) : this.fallbackInterpolate(token, context)));
        }
        fallbackInterpolate(token, context) {
            return context.pipe(cjs.map((ctx) => this.i18nInjectable.translate(token, ctx)));
        }
        async resolveToken(tokens, context, localeId) {
            if (typeof tokens === 'string') {
                tokens = [tokens];
            }
            for (const token of tokens) {
                const msg = await this.resolveTokenPieces(token, context, localeId);
                if (msg !== undefined) {
                    return msg;
                }
            }
            return;
        }
        async resolveTokenPieces(token, context = {}, localeId) {
            let tokenPart = token;
            let nextDotIdx = -1; // Start from full token with -1 offset
            do {
                tokenPart = tokenPart.slice(nextDotIdx + 1);
                const msg = await this.globalizeService.formatMessage(localeId, tokenPart, context);
                if (msg !== undefined) {
                    return msg;
                }
            } while ((nextDotIdx = tokenPart.indexOf('.')) !== -1);
            return;
        }
    }

    const I18nProcessor = 'FES.I18nProcessor';

    class DefaultI18nService {
        constructor(processor = inject(I18nProcessor)) {
            this.processor = processor;
        }
        translate(token, context) {
            return this.processor
                .interpolate(token, this.normalizeContext(context))
                .pipe(cjs.shareReplay({ refCount: true, bufferSize: 1 }));
        }
        normalizeContext(context) {
            return cjs.isObservable(context) ? context : cjs.of(context);
        }
    }

    /**
     * Adapts {@link I18nService} to {@link I18nInjectable}.
     */
    class I18nServiceInjectableAdapter {
        constructor(i18nService) {
            this.i18nService = i18nService;
        }
        /**
         * Uses {@link asyncValue} directive to convert Observable
         * from {@link I18nService.translate()} to lit render.
         */
        translate(token, context) {
            return asyncValue(this.i18nService.translate(token, context));
        }
    }

    const I18nService = 'FES.I18nService';

    class I18nPlugin {
        getName() {
            return 'fes$i18n';
        }
        apply(app) {
            i18nInjectable.inject(new I18nServiceInjectableAdapter(app.requirePlugin(InjectionPlugin).getInjector().inject(I18nService)));
        }
    }

    const i18nProviders = [
        { provide: I18nService, useClass: DefaultI18nService },
        { provide: I18nLoader, useClass: DefaultI18nLoader },
        { provide: I18nProcessor, useClass: DefaultI18nProcessor },
        { provide: GlobalizeService, useClass: GlobalizeService },
    ];

    class I18nFeature {
        constructor(options) {
            this.plugins = [new I18nPlugin()];
            this.providers = [
                ...i18nProviders,
                options && { provide: DefaultI18nLoaderConfig, useValue: options },
            ].filter(isDefined);
        }
    }

    const AvailabilityNormalizer = 'FES.AvailabilityNormalizer*';
    function availabilityNormalizer(data) {
        if (!data) {
            return;
        }
        const { id, ...availability } = data;
        return {
            ...availability,
            quantity: Number(availability.quantity),
        };
    }

    const ProductLabelsNormalizer = 'FES.ProductLabelsNormalizer*';
    function productLabelNormalizer(data) {
        const normalizeAppearance = (data) => {
            switch (data.frontEndReference) {
                case 'highlight':
                    return "highlight" /* ProductLabelAppearance.Highlight */;
                default:
                    return "info" /* ProductLabelAppearance.Info */;
            }
        };
        return (data ?? []).map((label) => ({
            name: label.name,
            appearance: normalizeAppearance(label),
        }));
    }

    const ProductMediaNormalizer = 'FES.ProductMediaNormalizer*';
    function mediaNormalizer(data) {
        const sources = {};
        if (data) {
            const { externalUrlSmall, externalUrlLarge } = data;
            if (externalUrlSmall) {
                sources["sm" /* Size.Sm */] = externalUrlSmall;
            }
            if (externalUrlLarge !== externalUrlSmall) {
                sources["lg" /* Size.Lg */] = externalUrlLarge;
            }
        }
        return sources;
    }

    const ProductMediaSetNormalizer = 'FES.ProductMediaSetNormalizer*';
    function mediaSetNormalizer(data = [], transformer) {
        return cjs.combineLatest(data.map((set) => cjs.combineLatest(set?.images.map((image) => transformer.transform(image, ProductMediaNormalizer))).pipe(cjs.map((images) => ({ media: images, name: set.name })))));
    }

    const PriceNormalizer = 'FES.PriceNormalizer*';
    function priceNormalizer(data) {
        const normalize = (data) => {
            const value = data?.grossAmount ?? data?.netAmount;
            if (!data || !value) {
                return;
            }
            return {
                value,
                currency: data.currency.code,
                isNet: !!data.netAmount,
            };
        };
        return {
            defaultPrice: normalize(data?.prices?.find((price) => price.priceTypeName === 'DEFAULT')),
            originalPrice: normalize(data?.prices?.find((price) => price.priceTypeName === 'ORIGINAL')),
        };
    }

    const ProductNormalizer = 'FES.ProductNormalizer*';
    function productAttributeNormalizer(data) {
        const { sku, name, description, averageRating, reviewCount, attributes, attributeNames, } = data;
        return {
            sku,
            name,
            description,
            averageRating: averageRating ? Number(averageRating) : 0,
            reviewCount,
            attributes,
            attributeNames,
        };
    }
    function productPriceNormalizer(data, transformer) {
        const priceKey = camelize("concrete-product-prices" /* ApiProductModel.Includes.ConcreteProductPrices */);
        const { [priceKey]: price } = data;
        return transformer
            .transform(price?.[0], PriceNormalizer)
            .pipe(cjs.map((price) => ({ price })));
    }
    function productLabelsNormalizer(data, transformer) {
        const labelsKey = camelize("product-labels" /* ApiProductModel.Includes.Labels */);
        const { [labelsKey]: labels } = data;
        return transformer
            .transform(labels, ProductLabelsNormalizer)
            .pipe(cjs.map((labels) => ({ labels })));
    }
    function productMediaSetNormalizer(data, transformer) {
        const imageKey = camelize("concrete-product-image-sets" /* ApiProductModel.Includes.ConcreteProductImageSets */);
        const { [imageKey]: images } = data;
        return transformer
            .transform(images?.[0].imageSets, ProductMediaSetNormalizer)
            .pipe(cjs.map((sets) => ({ mediaSet: sets })));
    }
    function productAvailabilityNormalizer(data, transformer) {
        const stockKey = camelize("concrete-product-availabilities" /* ApiProductModel.Includes.ConcreteProductAvailabilities */);
        const { [stockKey]: availability } = data;
        return transformer
            .transform(availability?.[0], AvailabilityNormalizer)
            .pipe(cjs.map((availability) => ({ availability })));
    }
    const productNormalizer = [
        {
            provide: ProductNormalizer,
            useValue: productAttributeNormalizer,
        },
        {
            provide: ProductNormalizer,
            useValue: productPriceNormalizer,
        },
        {
            provide: ProductNormalizer,
            useValue: productMediaSetNormalizer,
        },
        {
            provide: ProductNormalizer,
            useValue: productLabelsNormalizer,
        },
        {
            provide: ProductNormalizer,
            useValue: productAvailabilityNormalizer,
        },
    ];

    const ConcreteProductsNormalizer = 'FES.ConcreteProductsNormalizer*';
    function concreteProductsNormalizer(data, transformer) {
        const concreteProductsKey = camelize("concrete-products" /* ApiProductModel.Includes.ConcreteProducts */);
        return cjs.combineLatest(data
            .map((abstract) => abstract[concreteProductsKey])
            .flat()
            .map((concrete) => transformer.transform(concrete, ProductNormalizer)));
    }

    const ProductListNormalizer = 'FES.ProductListNormalizer*';
    function concreteProductNormalizer(data, transformer) {
        const abstractKey = camelize("abstract-products" /* ApiProductListModel.Includes.AbstractProducts */);
        const { [abstractKey]: products } = data[0];
        return transformer
            .transform(products, ConcreteProductsNormalizer)
            .pipe(cjs.map((products) => ({ products })));
    }
    function productFacetsNormalizer(data) {
        const normalize = (facetList) => {
            return facetList.reduce((normalizedFacetList, facet) => {
                const { config, localizedName } = facet;
                const facetValue = Object.prototype.hasOwnProperty.call(facet, 'values')
                    ? facet.values
                    : (() => {
                        const rangeFacet = facet;
                        return {
                            min: rangeFacet.min,
                            max: rangeFacet.max,
                            selected: {
                                max: rangeFacet.activeMax,
                                min: rangeFacet.activeMin,
                            },
                        };
                    })();
                const facetValues = Array.isArray(facetValue)
                    ? facetValue.reduce((facetList, value) => {
                        if (!value.docCount) {
                            return facetList;
                        }
                        const parsedFacedValue = {
                            value: value.value,
                            selected: facet.activeValue ===
                                String(value.value),
                            count: value.docCount,
                        };
                        return [...facetList, parsedFacedValue];
                    }, [])
                    : facetValue;
                if (Array.isArray(facetValues) ? facetValues.length : facetValues) {
                    const normalizedFacet = {
                        name: localizedName,
                        parameter: config.parameterName,
                        count: facet.docCount,
                        values: facetValues,
                    };
                    return [...normalizedFacetList, normalizedFacet];
                }
                return normalizedFacetList;
            }, []);
        };
        const parseCategoryTree = (categoryTree, valuesList) => {
            return categoryTree.reduce((treeList, treeItem) => {
                if (!treeItem.docCount) {
                    return treeList;
                }
                const parsedTree = {
                    ...valuesList.find((valueList) => valueList.value === treeItem.nodeId),
                    name: treeItem.name,
                    children: treeItem.children?.length
                        ? parseCategoryTree(treeItem.children, valuesList)
                        : [],
                };
                return [...treeList, parsedTree];
            }, []);
        };
        const normalizedValueFacets = normalize(data[0].valueFacets);
        const [categoryFacet] = normalizedValueFacets.splice(normalizedValueFacets.findIndex((facet) => facet.parameter === 'category'), 1);
        const { name, parameter, values } = categoryFacet;
        return cjs.of({
            facets: [
                {
                    name,
                    parameter,
                    values: parseCategoryTree(data[0].categoryTreeFilter, values),
                },
                ...normalizedValueFacets,
                ...normalize(data[0].rangeFacets),
            ],
        });
    }
    const productListNormalizer = [
        {
            provide: ProductListNormalizer,
            useValue: concreteProductNormalizer,
        },
        {
            provide: ProductListNormalizer,
            useValue: productFacetsNormalizer,
        },
    ];

    class DefaultProductListAdapter {
        constructor(http = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService)) {
            this.http = http;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.queryEndpoint = 'catalog-search';
            this.alias = {
                minPrice: 'price[min]',
                maxPrice: 'price[max]',
                minRating: 'rating[min]',
                storageCapacity: 'storage_capacity[]',
            };
        }
        getKey(qualifier) {
            const qualifierKeys = Object.keys(qualifier);
            return qualifierKeys.length
                ? qualifierKeys
                    .reduce((params, key) => {
                    const qualifierKey = key;
                    const param = qualifier[qualifierKey];
                    if (param) {
                        params.push(`${this.alias[qualifierKey] ?? qualifierKey}=${param}`);
                    }
                    return params;
                }, [])
                    .join('&')
                : '';
        }
        get(qualifier) {
            return this.http
                .get(`${this.SCOS_BASE_URL}/${this.queryEndpoint}?${this.getKey(qualifier)}&include=${"abstract-products" /* ApiProductModel.Includes.AbstractProducts */},${"concrete-products" /* ApiProductModel.Includes.ConcreteProducts */}`)
                .pipe(this.transformer.do(ProductListNormalizer));
        }
    }

    class DefaultProductAdapter {
        constructor(http = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService)) {
            this.http = http;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.productEndpoint = 'concrete-products';
        }
        getKey(qualifier) {
            return (qualifier.sku ?? '') + qualifier.include?.sort()?.join('');
        }
        get({ sku, include }) {
            include = [
                "concrete-product-image-sets" /* ApiProductModel.Includes.ConcreteProductImageSets */,
                "concrete-product-prices" /* ApiProductModel.Includes.ConcreteProductPrices */,
                "concrete-product-availabilities" /* ApiProductModel.Includes.ConcreteProductAvailabilities */,
                "product-labels" /* ApiProductModel.Includes.Labels */,
                ...(include ?? []),
            ].filter((type, index, arr) => arr.indexOf(type) === index);
            return this.http
                .get(`${this.SCOS_BASE_URL}/${this.productEndpoint}/${sku}${include ? '?include=' : ''}${include?.join(',') || ''}`)
                .pipe(this.transformer.do(ProductNormalizer));
        }
    }

    const ProductListAdapter = 'FES.ProductListAdapter';

    const ProductAdapter = 'FES.ProductAdapter';

    const ProductListService = 'FES.ProductListService';

    class DefaultProductListPageService {
        constructor(routerService = inject(RouterService), productListService = inject(ProductListService)) {
            this.routerService = routerService;
            this.productListService = productListService;
        }
        get() {
            return this.routerService
                .currentQuery()
                .pipe(cjs.switchMap((params) => this.productListService.get(params)));
        }
    }

    class DefaultProductListService {
        constructor(adapter = inject(ProductListAdapter)) {
            this.adapter = adapter;
            this.products = new Map();
            this.productListSearchParams = [
                'q',
                'page',
                'maxPrice',
                'minPrice',
                'minRating',
                'ipp',
                'brand',
                'label',
                'weight',
                'color',
                'category',
                'sort',
            ];
        }
        get(qualifier) {
            return this.getData(qualifier).value;
        }
        getSearchParams(qualifier) {
            return this.productListSearchParams.reduce((params, key) => {
                if (qualifier[key]) {
                    params[key] = qualifier[key];
                }
                return params;
            }, {});
        }
        getError(qualifier) {
            return this.getData(qualifier).error;
        }
        getData(qualifier) {
            const key = this.adapter.getKey(qualifier);
            this.initProducts(qualifier, key);
            return this.products.get(key);
        }
        initProducts(qualifier, key) {
            if (this.products.has(key)) {
                return;
            }
            this.products.set(key, {
                value: new cjs.ReplaySubject(1),
                error: new cjs.ReplaySubject(1),
            });
            const data = this.products.get(key);
            this.adapter.get(qualifier).subscribe({
                next: (productList) => {
                    data.value.next(productList);
                    data.error.next(null);
                },
                error: (error) => {
                    data.error.next(error);
                    data.value.next(null);
                },
            });
        }
    }

    class DefaultProductService {
        constructor(adapter = inject(ProductAdapter)) {
            this.adapter = adapter;
            this.products = new Map();
        }
        get(qualifier) {
            return this.getProductData(qualifier).value;
        }
        getError(qualifier) {
            return this.getProductData(qualifier).error.pipe(cjs.distinctUntilChanged());
        }
        getProductData(qualifier) {
            const key = this.adapter.getKey(qualifier);
            if (!this.products.has(key)) {
                this.products.set(key, {
                    value: new cjs.ReplaySubject(1),
                    error: new cjs.ReplaySubject(1),
                });
                this.reload(qualifier, key);
            }
            return this.products.get(key);
        }
        reload(qualifier, key) {
            if (key === undefined) {
                key = this.adapter.getKey(qualifier);
            }
            const productData = this.products.get(key);
            this.adapter.get(qualifier).subscribe({
                next: (product) => {
                    productData.value.next(product);
                    productData.error.next(null);
                },
                error: (error) => {
                    productData.error.next(error);
                    productData.value.next(null);
                },
            });
        }
    }

    /**
     * Allows to configure product media dimensions, sizes and context per
     * format.
     */
    const ProductMediaConfig = 'FES.ProductMediaConfig';
    const qualityContext = { density: 2, connection: 'fast' };
    const highQualityContext = { density: 3, connection: 'fast' };
    const productMediaConfig = {
        icon: {
            sizes: [
                { size: "xs" /* Size.Xs */ },
                {
                    context: qualityContext,
                    size: "sm" /* Size.Sm */,
                },
            ],
        },
        thumbnail: {
            sizes: [
                { size: "sm" /* Size.Sm */ },
                {
                    context: qualityContext,
                    size: "md" /* Size.Md */,
                },
            ],
        },
        detail: {
            sizes: [
                { size: "md" /* Size.Md */ },
                { size: "lg" /* Size.Lg */, context: qualityContext },
                { size: "xl" /* Size.Xl */, context: highQualityContext },
            ],
        },
        full: { sizes: [{ size: "xl" /* Size.Xl */ }] },
    };

    // we do not know how to sort these...
    const sizes = ["xs" /* Size.Xs */, "sm" /* Size.Sm */, "md" /* Size.Md */, "lg" /* Size.Lg */, "xl" /* Size.Xl */];
    class DefaultProductImageService {
        constructor(mediaConfig = inject(ProductMediaConfig)) {
            this.mediaConfig = mediaConfig;
            // we're caching sorted media sizes for all formats to avoid too much computing
            this.sortedMediaConfigSizes = {};
        }
        /**
         * Resolves the required source(s) for the requested format.
         */
        resolveSources(image, format) {
            if (!image || !format) {
                return [];
            }
            const config = this.mediaConfig[format];
            const sources = [];
            config?.sizes?.forEach(({ size, context }) => {
                const url = image[size];
                if (url && this.compliesWithContext(context)) {
                    sources.push({ url, size, context });
                }
            });
            if (!sources.length) {
                const alternative = this.resolveAlternative(image, format);
                if (alternative) {
                    sources.push(alternative);
                }
            }
            return sources;
        }
        /**
         * Returns an alternative quality image, based on the given size. The lower quality is first evaluated
         * before higher quality is evaluated.
         *
         * Alternative size is indicated by the next size in row. E.g., when the size
         * is `Md`, the quality degradation will evaluate `Sm` and `Xs`. When an image is
         * available for the given size it will return this image source.
         */
        resolveAlternative(image, format) {
            let source = undefined;
            const formatSizes = this.getSortedSizes(format);
            if (formatSizes?.length) {
                // try to find an image size before or after the current size index
                [-1, 1].forEach((nextIndex) => {
                    let alternativeSize = sizes[sizes.indexOf(formatSizes[0]) + nextIndex];
                    while (!source && alternativeSize) {
                        const url = image[alternativeSize];
                        if (url) {
                            source = {
                                url,
                                size: alternativeSize,
                            };
                        }
                        alternativeSize = sizes[sizes.indexOf(alternativeSize) + nextIndex];
                    }
                });
            }
            if (!source) {
                source = this.findUnassignedSize(image);
            }
            return source;
        }
        getSortedSizes(format) {
            if (!this.sortedMediaConfigSizes[format]) {
                this.sortedMediaConfigSizes[format] = this.mediaConfig[format]?.sizes
                    ?.map((format) => format.size)
                    .sort((a, b) => sizes.indexOf(a) - sizes.indexOf(b));
            }
            return this.sortedMediaConfigSizes[format];
        }
        /**
         * Finds the next smallest image. This is used when there's no configuration available
         * that helps to pick the size.
         */
        findUnassignedSize(image) {
            // TODO: remove when es2023 lib for ts will be released https://github.com/microsoft/TypeScript/issues/48829
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            const size = sizes.findLast((size) => !!image[size]);
            return size
                ? {
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    url: image[size],
                    size: size,
                }
                : undefined;
        }
        /**
         * Indicates whether the given context complies with the client setup.
         *
         * This only contains a validation with the connection speed of the user.
         * The connection speed can only be tested client side and doesn't have full
         * browser support.
         *
         * Other context aspect, such as pixel density, are ignored in this validation
         * since the browser will handle them.
         */
        compliesWithContext(context) {
            return context?.connection !== 'fast' || this.hasFastConnection();
        }
        /**
         * This method indicates whether the current connection is 4g or 5g.
         *
         * This will always return false on the server or in browsers that do
         * not (yet) support this API.
         *
         * Note: Safari said it won't support this API because of privacy concerns
         * (fingerprinting).
         */
        hasFastConnection() {
            const effectiveType = window?.navigator?.connection?.effectiveType;
            return !effectiveType || ['4g', '5g'].includes(effectiveType);
        }
    }

    const ProductImageService = 'FES.ProductImageService';

    const ProductListPageService = 'FES.ProductListPageService';

    const componentsProvider$2 = {
        provide: ComponentMapping,
        useValue: {
            ['product-title']: {
                template: (uid, layoutClasses) => y `<product-title
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-title>`,
            },
            ['product-images']: {
                template: (uid, layoutClasses) => y `<product-images
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-images>`,
            },
            ['product-price']: {
                template: (uid, layoutClasses) => y `<product-price
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-price>`,
            },
            ['product-description']: {
                template: (uid, layoutClasses) => y `<product-description
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-description>`,
            },
            ['product-average-rating']: {
                template: (uid, layoutClasses) => y `<product-average-rating
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-average-rating>`,
            },
            ['product-media']: {
                template: (uid, layoutClasses) => y `<product-media
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-media>`,
            },
            ['product-id']: {
                template: (uid, layoutClasses) => y `<product-id
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-id>`,
            },
            ['product-labels']: {
                template: (uid, layoutClasses) => y `<product-labels
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-labels>`,
            },
            ['product-card']: {
                template: (uid, layoutClasses) => y `<product-card
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-card>`,
            },
            ['product-attributes']: {
                template: (uid, layoutClasses) => y `<product-attributes
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-attributes>`,
            },
            ['product-list']: {
                template: (uid, layoutClasses) => y `<product-list
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></product-list>`,
            },
        },
    };

    const ProductService = 'FES.ProductService';

    const productProviders = [
        componentsProvider$2,
        {
            provide: ProductAdapter,
            useClass: DefaultProductAdapter,
        },
        {
            provide: ProductService,
            useClass: DefaultProductService,
        },
        {
            provide: ProductListAdapter,
            useClass: DefaultProductListAdapter,
        },
        {
            provide: ProductListService,
            useClass: DefaultProductListService,
        },
        {
            provide: ProductListPageService,
            useClass: DefaultProductListPageService,
        },
        {
            provide: PriceNormalizer,
            useValue: priceNormalizer,
        },
        {
            provide: AvailabilityNormalizer,
            useValue: availabilityNormalizer,
        },
        {
            provide: ProductLabelsNormalizer,
            useValue: productLabelNormalizer,
        },
        {
            provide: ProductMediaSetNormalizer,
            useValue: mediaSetNormalizer,
        },
        {
            provide: ProductMediaNormalizer,
            useValue: mediaNormalizer,
        },
        {
            provide: ConcreteProductsNormalizer,
            useValue: concreteProductsNormalizer,
        },
        {
            provide: ProductImageService,
            useClass: DefaultProductImageService,
        },
        {
            provide: ProductMediaConfig,
            useValue: productMediaConfig,
        },
        ...productNormalizer,
        ...productListNormalizer,
    ];

    /**
     * Controls product components by providing easy access to the
     * product data based on the context where the component is used.
     */
    class ProductController {
        constructor(host, include = []) {
            this.host = host;
            this.include = include;
            this.productService = resolve(ProductService, null);
            // TODO: fix property assigning outside of constructor, it doesn't work in the storybook now
            this.observe = new ObserveController(host);
            this.context = new ContextController(host);
        }
        getProduct() {
            return this.observe.get('product').pipe(cjs.switchMap((product) => {
                if (product) {
                    return cjs.of(product);
                }
                return this.context
                    .get("sku" /* ProductContext.SKU */, this.observe.get('sku'))
                    .pipe(cjs.switchMap((sku, index) => {
                    if (!sku) {
                        return cjs.of(null);
                    }
                    return (this.productService
                        ?.get({ sku, include: this.include })
                        .pipe(index ? cjs.startWith(null) : cjs.identity) ?? cjs.of(null));
                }));
            }));
        }
    }

    const productAttributesComponent = componentDef({
        name: 'product-attributes',
        impl: () => Promise.resolve().then(() => attributes_component).then((m) => m.ProductAttributesComponent),
    });

    const productAverageRatingComponent = componentDef({
        name: 'product-average-rating',
        impl: () => Promise.resolve().then(() => averageRating_component).then((m) => m.ProductAverageRatingComponent),
    });

    const productCardComponent = componentDef({
        name: 'product-card',
        impl: () => Promise.resolve().then(() => card_component$1).then((m) => m.ProductCardComponent),
    });

    const productDescriptionComponent = componentDef({
        name: 'product-description',
        impl: () => Promise.resolve().then(() => description_component).then((m) => m.ProductDescriptionComponent),
    });

    const productIdComponent = componentDef({
        name: 'product-id',
        impl: () => Promise.resolve().then(() => id_component).then((m) => m.ProductIdComponent),
    });

    const productImagesComponent = componentDef({
        name: 'product-images',
        impl: () => Promise.resolve().then(() => images_component).then((m) => m.ProductImagesComponent),
    });

    const productLabelsComponent = componentDef({
        name: 'product-labels',
        impl: () => Promise.resolve().then(() => label_component).then((m) => m.ProductLabelsComponent),
    });

    const productListComponent = componentDef({
        name: 'product-list',
        impl: () => Promise.resolve().then(() => list_component).then((m) => m.ProductListComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => list_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const productMediaComponent = componentDef({
        name: 'product-media',
        impl: () => Promise.resolve().then(() => media_component).then((m) => m.ProductMediaComponent),
    });

    const productPriceComponent = componentDef({
        name: 'product-price',
        impl: () => Promise.resolve().then(() => price_component).then((m) => m.ProductPriceComponent),
    });

    const productTitleComponent = componentDef({
        name: 'product-title',
        impl: () => Promise.resolve().then(() => title_component).then((m) => m.ProductTitleComponent),
    });

    const components$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        productAttributesComponent,
        productAverageRatingComponent,
        productCardComponent,
        productDescriptionComponent,
        productIdComponent,
        productImagesComponent,
        productLabelsComponent,
        productListComponent,
        productMediaComponent,
        productPriceComponent,
        productTitleComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const productComponents = Object.values(components$3);
    const productFeature = {
        providers: productProviders,
        components: productComponents,
    };

    const ProductComponentMixin = () => {
        class ProductComponent extends ComponentMixin() {
        }
        __decorate([
            e$3({ type: String }),
            __metadata("design:type", String)
        ], ProductComponent.prototype, "sku", void 0);
        __decorate([
            e$3({ type: Object }),
            __metadata("design:type", Object)
        ], ProductComponent.prototype, "product", void 0);
        return ProductComponent;
    };

    var ProductContext;
    (function (ProductContext) {
        ProductContext["SKU"] = "sku";
    })(ProductContext || (ProductContext = {}));

    var SortParamNames;
    (function (SortParamNames) {
        SortParamNames["None"] = "";
        SortParamNames["Rating"] = "rating";
        SortParamNames["NameAsc"] = "name_asc";
        SortParamNames["NameDesc"] = "name_desc";
        SortParamNames["PriceAsc"] = "price_asc";
        SortParamNames["PriceDesc"] = "price_desc";
        SortParamNames["Popularity"] = "popularity";
    })(SortParamNames || (SortParamNames = {}));

    var ApiProductListModel;
    (function (ApiProductListModel) {
        (function (Includes) {
            Includes["AbstractProducts"] = "abstract-products";
            Includes["ValueFacets"] = "value-facets";
            Includes["RangeFacets"] = "range-facets";
            Includes["CategoryTreeFilter"] = "category-tree-filter";
        })(ApiProductListModel.Includes || (ApiProductListModel.Includes = {}));
    })(ApiProductListModel || (ApiProductListModel = {}));

    var ApiProductModel;
    (function (ApiProductModel) {
        (function (Includes) {
            Includes["ConcreteProductImageSets"] = "concrete-product-image-sets";
            Includes["ConcreteProductPrices"] = "concrete-product-prices";
            Includes["AbstractProducts"] = "abstract-products";
            Includes["ConcreteProducts"] = "concrete-products";
            Includes["Labels"] = "product-labels";
            Includes["ConcreteProductAvailabilities"] = "concrete-product-availabilities";
        })(ApiProductModel.Includes || (ApiProductModel.Includes = {}));
    })(ApiProductModel || (ApiProductModel = {}));

    var ProductLabelAppearance;
    (function (ProductLabelAppearance) {
        ProductLabelAppearance["Highlight"] = "highlight";
        ProductLabelAppearance["Info"] = "info";
    })(ProductLabelAppearance || (ProductLabelAppearance = {}));
    /**
     * TODO: move size to utility package as it's a generic reusable Size.
     *
     * Product media are typically provided in different sizes, so that an
     * optimised experience can be created for each product image usage and
     * user device/screen size.
     *
     * The `ProductMediaSize` provides all sizes potentially available. While
     * Spryker only provides `small` and `large`, project implementation can
     * extend the product data model or integrate with 3rd party services to
     * generate more image sizes.
     *
     * The media size is not directly related to a device, as different sizes
     * can be used in different context. For example, a small image might be used for
     * an icon-sized media on a double-density device on a high-speed connection.
     *
     * The actual size (width/height) of each media is provided additionally.
     */
    var Size$1;
    (function (Size) {
        Size["Xs"] = "xs";
        Size["Sm"] = "sm";
        Size["Md"] = "md";
        Size["Lg"] = "lg";
        Size["Xl"] = "xl";
    })(Size$1 || (Size$1 = {}));
    /**
     * The media format represents the semantic usage of the media.
     */
    var ProductMediaContainerSize;
    (function (ProductMediaContainerSize) {
        ProductMediaContainerSize["Icon"] = "icon";
        ProductMediaContainerSize["Thumbnail"] = "thumbnail";
        ProductMediaContainerSize["Detail"] = "detail";
        ProductMediaContainerSize["Full"] = "full";
    })(ProductMediaContainerSize || (ProductMediaContainerSize = {}));

    const searchBoxComponent = componentDef({
        name: 'search-box',
        impl: () => Promise.resolve().then(() => box_component).then((m) => m.SearchBoxComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$2).then((m) => [
                    ...m.screenStyles,
                    ...m.searchboxScreenStyles,
                ]),
            },
        ],
    });

    const facetsComponent = componentDef({
        name: 'search-facet-navigation',
        impl: () => Promise.resolve().then(() => facetNavigation_component).then((m) => m.SearchFacetNavigationComponent),
    });

    const components$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        searchBoxComponent,
        facetsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const SuggestionNormalizer = 'FES.SuggestionNormalizer*';
    function suggestionAttributesNormalizer(data) {
        const { completion, categories, cmsPages } = data[0];
        return {
            completion,
            categories,
            cmsPages,
        };
    }
    function suggestionProductNormalizer(data, transformer) {
        const abstractsKey = camelize("abstract-products" /* ApiProductModel.Includes.AbstractProducts */);
        const { [abstractsKey]: products } = data[0];
        return transformer
            .transform(products, ConcreteProductsNormalizer)
            .pipe(cjs.map((products) => ({ products })));
    }
    const suggestionNormalizer = [
        {
            provide: SuggestionNormalizer,
            useValue: suggestionAttributesNormalizer,
        },
        {
            provide: SuggestionNormalizer,
            useValue: suggestionProductNormalizer,
        },
    ];

    class DefaultSuggestionAdapter {
        constructor(http = inject(HttpService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService)) {
            this.http = http;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.queryEndpoint = 'catalog-search-suggestions';
        }
        getKey({ query }) {
            return query ?? '';
        }
        get({ query }) {
            return this.http
                .get(`${this.SCOS_BASE_URL}/${this.queryEndpoint}?q=${query}&include=abstract-products,concrete-products,concrete-product-image-sets,concrete-product-prices`)
                .pipe(this.transformer.do(SuggestionNormalizer));
        }
    }

    const SuggestionAdapter = 'FES.SuggestionAdapter';

    class DefaultSuggestionService {
        constructor(adapter = inject(SuggestionAdapter)) {
            this.adapter = adapter;
            this.suggestions = new Map();
        }
        get(qualifier) {
            return this.getData(qualifier).value;
        }
        getError(qualifier) {
            return this.getData(qualifier).error;
        }
        getData(qualifier) {
            const key = this.adapter.getKey(qualifier);
            if (!this.suggestions.has(key)) {
                this.suggestions.set(key, {
                    value: new cjs.ReplaySubject(1),
                    error: new cjs.ReplaySubject(1),
                });
                this.reload(qualifier, key);
            }
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return this.suggestions.get(key);
        }
        reload(qualifier, key) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            const data = this.suggestions.get(key);
            this.adapter.get(qualifier).subscribe({
                next: (product) => {
                    data.value.next(product);
                    data.error.next(null);
                },
                error: (error) => {
                    data.error.next(error);
                    data.value.next(null);
                },
            });
        }
    }

    const SuggestionService = 'FES.SuggestionService';

    const componentsProvider$1 = {
        provide: ComponentMapping,
        useValue: {
            ['search-box']: {
                template: (uid, layoutClasses) => y `<search-box
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></search-box>`,
            },
            ['search-facet-navigation']: {
                template: (uid, layoutClasses) => y `<search-facet-navigation
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></search-facet-navigation>`,
            },
        },
    };

    class DefaultFacetListService {
        constructor(productListService = inject(ProductListPageService)) {
            this.productListService = productListService;
        }
        get() {
            return this.productListService.get().pipe(cjs.map((pl) => pl?.facets ?? []));
        }
    }

    const FacetListService = 'FES.FacetListService';

    const searchProviders = [
        componentsProvider$1,
        {
            provide: SuggestionAdapter,
            useClass: DefaultSuggestionAdapter,
        },
        {
            provide: SuggestionService,
            useClass: DefaultSuggestionService,
        },
        {
            provide: FacetListService,
            useClass: DefaultFacetListService,
        },
        ...suggestionNormalizer,
    ];

    const searchComponents = Object.values(components$2);
    const searchFeature = {
        providers: searchProviders,
        components: searchComponents,
    };

    const buttonComponent = componentDef({
        name: 'oryx-button',
        impl: () => Promise.resolve().then(() => button_component).then((m) => m.ButtonComponent),
    });

    const iconButtonComponent = componentDef({
        name: 'oryx-icon-button',
        impl: () => Promise.resolve().then(() => iconButton_component).then((m) => m.IconButtonComponent),
        stylesheets: [
            {
                theme: 'storefront',
                rules: () => Promise.resolve().then(() => storefront_styles$2).then((m) => m.iconButtonStorefrontUI),
            },
        ],
    });

    const linkComponent = componentDef({
        name: 'oryx-link',
        impl: () => Promise.resolve().then(() => link_component).then((m) => m.LinkComponent),
    });

    const toggleIconComponent = componentDef({
        name: 'oryx-toggle-icon',
        impl: () => Promise.resolve().then(() => toggleIcon_component).then((m) => m.ToggleIconComponent),
    });

    const toggleComponent = componentDef({
        name: 'oryx-toggle',
        impl: () => Promise.resolve().then(() => toggle_component).then((m) => m.ToggleComponent),
    });

    const cardComponent = componentDef({
        name: 'oryx-card',
        impl: () => Promise.resolve().then(() => card_component).then((m) => m.CardComponent),
    });

    const collapsibleComponent = componentDef({
        name: 'oryx-collapsible',
        impl: () => Promise.resolve().then(() => collapsible_component).then((m) => m.CollapsibleComponent),
        stylesheets: [
            {
                theme: 'backoffice',
                rules: () => Promise.resolve().then(() => backoffice_styles$1).then((m) => m.collapsibleBackofficeUI),
            },
            {
                theme: 'storefront',
                rules: () => Promise.resolve().then(() => storefront_styles$1).then((m) => m.collapsibleStorefrontUI),
            },
        ],
    });

    const errorMessageComponent = componentDef({
        name: 'oryx-error-message',
        impl: () => Promise.resolve().then(() => errorMessage_component).then((m) => m.ErrorMessageComponent),
    });

    const checkboxComponent = componentDef({
        name: 'oryx-checkbox',
        impl: () => Promise.resolve().then(() => checkbox_component).then((m) => m.CheckboxComponent),
    });

    const inputListComponent = componentDef({
        name: 'oryx-input-list',
        impl: () => Promise.resolve().then(() => inputList_component).then((m) => m.InputListComponent),
    });

    const inputComponent = componentDef({
        name: 'oryx-input',
        impl: () => Promise.resolve().then(() => input_component).then((m) => m.InputComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => input_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const passwordInputComponent = componentDef({
        name: 'oryx-password-input',
        impl: () => Promise.resolve().then(() => passwordInput_component).then((m) => m.PasswordInputComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => passwordInput_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const radioComponent = componentDef({
        name: 'oryx-radio',
        impl: () => Promise.resolve().then(() => radio_component).then((m) => m.RadioComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => radio_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const selectComponent = componentDef({
        name: 'oryx-select',
        impl: () => Promise.resolve().then(() => select_component).then((m) => m.SelectComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => index$1).then((m) => m.screenStyles),
            },
        ],
    });

    const tagComponent = componentDef({
        name: 'oryx-tag',
        impl: () => Promise.resolve().then(() => tag_component).then((m) => m.TagComponent),
    });

    const chipComponent = componentDef({
        name: 'oryx-chip',
        impl: () => Promise.resolve().then(() => chip_component).then((m) => m.ChipComponent),
        stylesheets: [
            {
                theme: 'backoffice',
                rules: () => Promise.resolve().then(() => backoffice_styles).then((m) => m.chipBackofficeUI),
            },
            {
                theme: 'storefront',
                rules: () => Promise.resolve().then(() => storefront_styles).then((m) => m.chipStorefrontUI),
            },
        ],
    });

    const iconComponent = componentDef({
        name: 'oryx-icon',
        impl: () => Promise.resolve().then(() => icon_component).then((m) => m.IconComponent),
    });

    const imageComponent = componentDef({
        name: 'oryx-image',
        impl: () => Promise.resolve().then(() => image_component).then((m) => m.ImageComponent),
    });

    const ratingComponent = componentDef({
        name: 'oryx-rating',
        impl: () => Promise.resolve().then(() => rating_component).then((m) => m.RatingComponent),
    });

    const spinnerComponent = componentDef({
        name: 'oryx-spinner',
        impl: () => Promise.resolve().then(() => spinner_component).then((m) => m.SpinnerComponent),
    });

    const navigationItemComponent = componentDef({
        name: 'oryx-navigation-item',
        impl: () => Promise.resolve().then(() => navigationItem_component).then((m) => m.NavigationItemComponent),
    });

    const navigationComponent = componentDef({
        name: 'oryx-navigation',
        impl: () => Promise.resolve().then(() => navigation_component).then((m) => m.NavigationComponent),
    });

    const pageNavigationItemComponent = componentDef({
        name: 'oryx-page-navigation-item',
        impl: () => Promise.resolve().then(() => pageNavigationItem_component).then((m) => m.PageNavigationItemComponent),
    });

    const pageNavigationComponent = componentDef({
        name: 'oryx-page-navigation',
        impl: () => Promise.resolve().then(() => pageNavigation_component).then((m) => m.PageNavigationComponent),
    });

    const paginationComponent = componentDef({
        name: 'oryx-pagination',
        impl: () => Promise.resolve().then(() => pagination_component).then((m) => m.PaginationComponent),
    });

    const tabComponent = componentDef({
        name: 'oryx-tab',
        impl: () => Promise.resolve().then(() => tab_component).then((m) => m.TabComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => tab_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const tabsComponent = componentDef({
        name: 'oryx-tabs',
        impl: () => Promise.resolve().then(() => tabs_component).then((m) => m.TabsComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => tabs_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const optionComponent = componentDef({
        name: 'oryx-option',
        impl: () => Promise.resolve().then(() => option_component).then((m) => m.OptionComponent),
    });

    const TAG_NAME$2 = 'oryx-drawer';

    const drawerComponent = componentDef({
        name: TAG_NAME$2,
        impl: () => window.HTMLDialogElement
            ? Promise.resolve().then(() => drawer_component$1).then((m) => m.DrawerComponent)
            : Promise.resolve().then(() => drawer_component).then((m) => m.NDSDrawerComponent),
    });

    const dropdownComponent = componentDef({
        name: 'oryx-dropdown',
        impl: () => Promise.resolve().then(() => dropdown_component).then((m) => m.DropdownComponent),
    });

    const modalComponent = componentDef({
        name: 'oryx-modal',
        impl: () => window.HTMLDialogElement
            ? Promise.resolve().then(() => modal_component$1).then((m) => m.ModalComponent)
            : Promise.resolve().then(() => modal_component).then((m) => m.NDSModalComponent),
    });

    const TAG_NAME$1 = 'oryx-notification-center';

    const notificationCenterComponent = componentDef({
        name: TAG_NAME$1,
        impl: () => Promise.resolve().then(() => notificationCenter_component$1).then((m) => m.NotificationCenterComponent),
    });

    const TAG_NAME = 'oryx-popover';

    const popoverComponent = componentDef({
        name: TAG_NAME,
        impl: () => Promise.resolve().then(() => popover_component).then((m) => m.PopoverComponent),
    });

    const searchboxComponent = componentDef({
        name: 'oryx-search',
        impl: () => Promise.resolve().then(() => searchbox_component).then((m) => m.SearchboxComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => searchbox_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const typeheadComponent = componentDef({
        name: 'oryx-typeahead',
        impl: () => Promise.resolve().then(() => typeahead_component).then((m) => m.TypeaheadComponent),
        stylesheets: [
            {
                rules: () => Promise.resolve().then(() => typeahead_styles).then((m) => m.screenStyles),
            },
        ],
    });

    const headlineComponent = componentDef({
        name: 'oryx-headline',
        impl: () => Promise.resolve().then(() => headline_component).then((m) => m.HeadlineComponent),
    });

    const textComponent = componentDef({
        name: 'oryx-text',
        impl: () => Promise.resolve().then(() => text_component).then((m) => m.TextComponent),
    });

    const tileComponent = componentDef({
        name: 'oryx-tile',
        impl: () => Promise.resolve().then(() => tile_component).then((m) => m.TileComponent),
    });

    const components$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        buttonComponent,
        iconButtonComponent,
        linkComponent,
        toggleIconComponent,
        toggleComponent,
        cardComponent,
        collapsibleComponent,
        errorMessageComponent,
        checkboxComponent,
        inputListComponent,
        inputComponent,
        passwordInputComponent,
        radioComponent,
        selectComponent,
        tagComponent,
        chipComponent,
        iconComponent,
        imageComponent,
        ratingComponent,
        spinnerComponent,
        navigationItemComponent,
        navigationComponent,
        pageNavigationItemComponent,
        pageNavigationComponent,
        paginationComponent,
        tabComponent,
        tabsComponent,
        optionComponent,
        drawerComponent,
        dropdownComponent,
        modalComponent,
        notificationCenterComponent,
        notificationComponent,
        popoverComponent,
        searchboxComponent,
        typeheadComponent,
        headlineComponent,
        textComponent,
        tileComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const uiComponents = Object.values(components$1);
    const uiFeature = {
        components: uiComponents,
    };

    const addressFormComponent = componentDef({
        name: 'oryx-address-form',
        impl: () => Promise.resolve().then(() => addressForm_component).then((m) => m.AddressFormComponent),
    });

    const addressListComponent = componentDef({
        name: 'oryx-address-list',
        impl: () => Promise.resolve().then(() => addressList_component).then((m) => m.AddressListComponent),
    });

    const contactFormComponent = componentDef({
        name: 'user-contact-form',
        impl: () => Promise.resolve().then(() => contactForm_component).then((m) => m.ContactFormComponent),
    });

    const components = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        addressFormComponent,
        addressListComponent,
        contactFormComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const AddressFormAdapter = 'FES.AddressFormAdapter';

    const AddressAdapter = 'FES.AddressAdapter';

    class DefaultAddressFormAdapter {
        constructor(httpService = inject(HttpService)) {
            this.httpService = httpService;
        }
        get(qualifier) {
            return this.httpService.get(`${location.origin}/assets/addresses/${qualifier.country}.json`);
        }
    }

    const AddressNormalizer = 'FES.AddressNormalizer*';
    function addressAttributesNormalizer(data) {
        return Object.entries(data).reduce((acc, [key, value]) => ({
            ...acc,
            ...(value !== null && { [key]: value }),
        }), {});
    }
    const addressNormalizer = [
        {
            provide: AddressNormalizer,
            useValue: addressAttributesNormalizer,
        },
    ];

    const AddressesNormalizer = 'FES.AddressesNormalizer*';
    function addressesListNormalizer(data, transformer) {
        return cjs.combineLatest(data.map((address) => transformer.transform(address, AddressNormalizer)));
    }
    const addressesNormalizer = [
        {
            provide: AddressesNormalizer,
            useValue: addressesListNormalizer,
        },
    ];

    const AddressSerializer = 'FES.AddressSerializer*';
    function addressAttributesSerializer(attributes) {
        return {
            type: 'addresses',
            attributes,
        };
    }
    const addressSerializers = [
        {
            provide: AddressSerializer,
            useValue: addressAttributesSerializer,
        },
    ];

    class DefaultAddressAdapter {
        constructor(identityService = inject(IdentityService), SCOS_BASE_URL = inject('SCOS_BASE_URL'), transformer = inject(JsonAPITransformerService), storage = inject(StorageService), httpService = inject(HttpService)) {
            this.identityService = identityService;
            this.SCOS_BASE_URL = SCOS_BASE_URL;
            this.transformer = transformer;
            this.storage = storage;
            this.httpService = httpService;
            this.CURRENT_ADDRESS = 'address';
        }
        getAll() {
            return this.identityService.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                if (identity.anonymous) {
                    return this.storage
                        .get(this.CURRENT_ADDRESS, "session" /* StorageType.SESSION */)
                        .pipe(cjs.map((address) => {
                        if (address) {
                            return [address];
                        }
                        return [];
                    }));
                }
                return this.httpService
                    .get(`${this.SCOS_BASE_URL}/customers/${identity.id}/addresses`)
                    .pipe(this.transformer.do(AddressesNormalizer));
            }));
        }
        add(data) {
            return this.modify(data, ({ payload, identity }) => this.httpService.post(this.generateUrl(identity.id), payload));
        }
        update(data) {
            return this.modify(data, ({ payload, identity }) => this.httpService.patch(this.generateUrl(identity.id, data.id), payload));
        }
        clear() {
            this.storage.remove(this.CURRENT_ADDRESS, "session" /* StorageType.SESSION */);
            return cjs.of(undefined);
        }
        modify(data, request) {
            return this.identityService.get().pipe(cjs.take(1), cjs.switchMap((identity) => {
                if (identity.anonymous) {
                    data.isDefaultBilling = true;
                    data.isDefaultShipping = true;
                    this.storage.set(this.CURRENT_ADDRESS, data, "session" /* StorageType.SESSION */);
                    return cjs.of(data);
                }
                return this.transformer.serialize(data, AddressSerializer).pipe(cjs.switchMap((serializedData) => {
                    return request({ payload: serializedData, identity }).pipe(this.transformer.do(AddressNormalizer));
                }));
            }));
        }
        generateUrl(id, address) {
            return `${this.SCOS_BASE_URL}/customers/${id}/addresses${address ? `/${address}` : ''}`;
        }
    }

    const AddressFormService = 'FES.AddressFormService';

    const AddressService = 'FES.AddressService';

    class DefaultAddressService {
        constructor(adapter = inject(AddressAdapter), identity = inject(IdentityService)) {
            this.adapter = adapter;
            this.identity = identity;
            this.addresses$ = new cjs.BehaviorSubject(null);
            this.currentAddress$ = new cjs.BehaviorSubject(null);
            this.subscription = new cjs.Subscription();
            this.userChanged$ = new cjs.BehaviorSubject(true);
        }
        getCurrentAddress() {
            return cjs.combineLatest([this.userChanged$, this.currentAddress$]).pipe(cjs.switchMap(([userChanged, address]) => {
                if (userChanged) {
                    return this.loadAddresses().pipe(cjs.map((addresses) => address));
                }
                return cjs.of(address);
            }));
        }
        getAddresses() {
            return cjs.combineLatest([this.userChanged$, this.addresses$]).pipe(cjs.switchMap(([userChanged, addresses]) => {
                if (userChanged) {
                    return this.loadAddresses();
                }
                return cjs.of(addresses);
            }));
        }
        addAddress(data) {
            return this.adapter
                .add(data)
                .pipe(cjs.switchMap((address) => this.saveAddress(address)));
        }
        updateAddress(data) {
            return this.adapter
                .update(data)
                .pipe(cjs.switchMap((address) => this.saveAddress(address)));
        }
        clearCurrentAddress() {
            this.adapter.clear();
            this.currentAddress$.next(null);
            return cjs.of(undefined);
        }
        onDestroy() {
            this.subscription.unsubscribe();
        }
        initSubscriptions() {
            // TODO - authService.isAuthenticated() still has race condition weirdness
            // using identity.get() for now
            this.userChanged$.next(false);
            const loadAddressesSubs = this.identity
                .get()
                .pipe(cjs.skip(1), cjs.switchMap(() => {
                this.clearCurrentAddress();
                return cjs.of(null);
            }), cjs.take(1), cjs.tap(() => {
                this.userChanged$.next(true);
            }))
                .subscribe();
            this.subscription.add(loadAddressesSubs);
        }
        loadAddresses() {
            this.initSubscriptions();
            return this.adapter.getAll().pipe(cjs.switchMap((addresses) => {
                this.addresses$.next(addresses);
                if (!addresses || !addresses.length) {
                    return cjs.of([]);
                }
                for (let i = 0; i < addresses.length; i++) {
                    const address = addresses[i];
                    if (address.isDefaultBilling || address.isDefaultShipping) {
                        this.currentAddress$.next(address);
                        break;
                    }
                }
                return cjs.of(addresses);
            }));
        }
        saveAddress(address) {
            if (address.isDefaultBilling || address.isDefaultShipping) {
                this.currentAddress$.next(address);
            }
            return cjs.of(undefined);
        }
    }

    const componentsProvider = {
        provide: ComponentMapping,
        useValue: {
            ['address-list']: {
                template: (uid, layoutClasses) => y `<oryx-address-list
          uid="${uid}"
          class=${l$1(layoutClasses)}
        ></oryx-address-list>`,
            },
        },
    };

    class DefaultAddressFormService {
        constructor(adapter = inject(AddressFormAdapter), errorService = inject(ErrorService)) {
            this.adapter = adapter;
            this.errorService = errorService;
        }
        getForm(qualifier) {
            return this.adapter.get(qualifier).pipe(cjs.catchError((e) => {
                //TODO - still under consideration
                /*
                if (e.status !== 404) {
                  return of(null);
                }
                */
                const error = new ErrorEvent('error', {
                    message: 'We could not load the address form details for the given country.',
                });
                this.errorService.dispatchError(error);
                return cjs.of(null);
            }));
        }
    }

    const userProviders = [
        componentsProvider,
        {
            provide: AddressService,
            useClass: DefaultAddressService,
        },
        {
            provide: AddressAdapter,
            useClass: DefaultAddressAdapter,
        },
        {
            provide: AddressFormAdapter,
            useClass: DefaultAddressFormAdapter,
        },
        {
            provide: AddressFormService,
            useClass: DefaultAddressFormService,
        },
        ...addressesNormalizer,
        ...addressNormalizer,
        ...addressSerializers,
    ];

    const userComponents = Object.values(components);
    const userFeature = {
        providers: userProviders,
        components: userComponents,
    };

    function formatAddress(address) {
        return `
    ${address.salutation}. ${address.firstName} ${address.lastName},
    ${address?.company ? `${address.company},` : ''}
    ${address.address1} ${address.address2} ${address?.address3},
    ${address.zipCode} ${address.city},
    ${address?.country}
    `;
    }

    const isPreview = new URLSearchParams(new URL(window.location.href).search).has('ebPreview');
    const b2cFeatures = [
        uiFeature,
        coreFeature,
        cartFeature,
        checkoutFeature,
        contentFeature,
        formFeature,
        experienceFeature,
        isPreview ? experiencePreviewFeature : {},
        productFeature,
        searchFeature,
        siteFeature,
        applicationFeature,
        userFeature,
        authFeature,
        new I18nFeature(),
        { providers: coreServerProviders } ,
    ];

    const defaultBreakpoints = {
        ["sm" /* Size.Sm */]: {
            min: 0,
        },
        ["md" /* Size.Md */]: {
            min: 768,
        },
        ["lg" /* Size.Lg */]: {
            min: 1024,
        },
    };

    const smScreen = {
        ["screen" /* ThemeDefaultMedia.Screen */]: "sm" /* Size.Sm */,
    };
    const mdScreen = {
        ["screen" /* ThemeDefaultMedia.Screen */]: "md" /* Size.Md */,
    };
    const lgScreen = {
        ["screen" /* ThemeDefaultMedia.Screen */]: "lg" /* Size.Lg */,
    };

    var IconTypes;
    (function (IconTypes) {
        IconTypes["Add"] = "add";
        IconTypes["CartAdd"] = "cart-add";
        IconTypes["Cart"] = "cart";
        IconTypes["Close"] = "close";
        IconTypes["Collapse"] = "collapse";
        IconTypes["DropUp"] = "drop-up";
        IconTypes["Dropdown"] = "dropdown";
        IconTypes["Expand"] = "expand";
        IconTypes["Image"] = "image";
        IconTypes["Decrease"] = "decrease";
        IconTypes["Increase"] = "increase";
        IconTypes["Info"] = "info";
        IconTypes["InputError"] = "inputError";
        IconTypes["Mark"] = "mark";
        IconTypes["Minus"] = "minus";
        IconTypes["Remove"] = "remove";
        IconTypes["Rocket"] = "rocket";
        IconTypes["Search"] = "search";
        IconTypes["Trash"] = "trash";
        IconTypes["Visible"] = "visible";
        IconTypes["Invisible"] = "invisible";
        IconTypes["Wishlist"] = "wishlist";
        IconTypes["Administration"] = "administration";
        IconTypes["Catalog"] = "catalog";
        IconTypes["Content"] = "content";
        IconTypes["Customer"] = "customer";
        IconTypes["Dashboard"] = "dashboard";
        IconTypes["Maintenance"] = "maintenance";
        IconTypes["Marketplace"] = "marketplace";
        IconTypes["Merchandising"] = "merchandising";
        IconTypes["MerchantProfile"] = "merchantProfile";
        IconTypes["Ratings"] = "ratings";
        IconTypes["Sales"] = "sales";
        IconTypes["Users"] = "users";
        IconTypes["DarkMode"] = "darkMode";
        IconTypes["Dashboards"] = "dashboards";
        IconTypes["LightMode"] = "lightMode";
        IconTypes["Merchant"] = "merchant";
        IconTypes["Orders"] = "orders";
        IconTypes["Products"] = "products";
        IconTypes["Profile"] = "profile";
        IconTypes["Desktop"] = "desktop";
        IconTypes["Mobile"] = "mobile";
        IconTypes["Tablet"] = "tablet";
        IconTypes["Error"] = "error";
        IconTypes["Success"] = "success";
        IconTypes["Warning"] = "warning";
        IconTypes["America"] = "america";
        IconTypes["France"] = "france";
        IconTypes["Germany"] = "germany";
        IconTypes["Planet"] = "planet";
        IconTypes["Spain"] = "spain";
        IconTypes["Actions"] = "actions";
        IconTypes["ActionsHorizontal"] = "actionsHorizontal";
        IconTypes["Back"] = "back";
        IconTypes["Bottom"] = "bottom";
        IconTypes["Calendar"] = "calendar";
        IconTypes["Copy"] = "copy";
        IconTypes["Create"] = "create";
        IconTypes["Disconnect"] = "disconnect";
        IconTypes["Drag"] = "drag";
        IconTypes["DragSmall"] = "dragSmall";
        IconTypes["Edit"] = "edit";
        IconTypes["FastForward"] = "fastForward";
        IconTypes["File"] = "file";
        IconTypes["Filters"] = "filters";
        IconTypes["Front"] = "front";
        IconTypes["Help"] = "help";
        IconTypes["Imports"] = "imports";
        IconTypes["InputStepper"] = "inputStepper";
        IconTypes["Integration"] = "integration";
        IconTypes["Link"] = "link";
        IconTypes["Loader"] = "loader";
        IconTypes["Locker"] = "locker";
        IconTypes["Maximize"] = "maximize";
        IconTypes["Menu"] = "menu";
        IconTypes["Minimize"] = "minimize";
        IconTypes["NavigationArrow"] = "navigationArrow";
        IconTypes["Placeholder"] = "placeholder";
        IconTypes["Reset"] = "reset";
        IconTypes["Settings"] = "settings";
        IconTypes["Sort"] = "sort";
        IconTypes["Star"] = "star";
        IconTypes["TextAreaResizable"] = "textAreaResizable";
        IconTypes["Top"] = "top";
        IconTypes["Filter"] = "filter";
        IconTypes["GoldPartner"] = "goldPartner";
        IconTypes["Popular"] = "popular";
        IconTypes["SilverPartner"] = "silverPartner";
        IconTypes["BackArrow"] = "backArrow";
        IconTypes["Refresh"] = "refresh";
        IconTypes["CheckMark"] = "checkMark";
        IconTypes["FreezerCategory"] = "freezerCategory";
        IconTypes["FreshCategory"] = "freshCategory";
        IconTypes["ChillerCategory"] = "chillerCategory";
        IconTypes["AmbientCategory"] = "ambientCategory";
        IconTypes["Carrier"] = "carrier";
    })(IconTypes || (IconTypes = {}));

    ({
        [IconTypes.Add]: () => Promise.resolve().then(() => add$5).then((s) => s.default),
        [IconTypes.CartAdd]: () => Promise.resolve().then(() => cartAdd$3).then((s) => s.default),
        [IconTypes.Cart]: () => Promise.resolve().then(() => cart$5).then((s) => s.default),
        [IconTypes.Close]: () => Promise.resolve().then(() => close$5).then((s) => s.default),
        [IconTypes.Collapse]: () => Promise.resolve().then(() => collapse$3).then((s) => s.default),
        [IconTypes.DropUp]: () => Promise.resolve().then(() => dropUp$3).then((s) => s.default),
        [IconTypes.Dropdown]: () => Promise.resolve().then(() => dropdown$3).then((s) => s.default),
        [IconTypes.Expand]: () => Promise.resolve().then(() => expand$3).then((s) => s.default),
        [IconTypes.Image]: () => Promise.resolve().then(() => image$3).then((s) => s.default),
        [IconTypes.Info]: () => Promise.resolve().then(() => info$5).then((s) => s.default),
        [IconTypes.InputError]: () => Promise.resolve().then(() => inputError$3).then((s) => s.default),
        [IconTypes.Mark]: () => Promise.resolve().then(() => mark$3).then((s) => s.default),
        [IconTypes.Minus]: () => Promise.resolve().then(() => minus$5).then((s) => s.default),
        [IconTypes.Remove]: () => Promise.resolve().then(() => remove$5).then((s) => s.default),
        [IconTypes.Rocket]: () => Promise.resolve().then(() => rocket$3).then((s) => s.default),
        [IconTypes.Search]: () => Promise.resolve().then(() => search$5).then((s) => s.default),
        [IconTypes.Trash]: () => Promise.resolve().then(() => trash$3).then((s) => s.default),
        [IconTypes.Visible]: () => Promise.resolve().then(() => visible$5).then((s) => s.default),
        [IconTypes.Invisible]: () => Promise.resolve().then(() => invisible$5).then((s) => s.default),
        [IconTypes.Wishlist]: () => Promise.resolve().then(() => wishlist$3).then((s) => s.default),
        [IconTypes.Administration]: () => Promise.resolve().then(() => administration$1).then((s) => s.default),
        [IconTypes.Catalog]: () => Promise.resolve().then(() => catalog$1).then((s) => s.default),
        [IconTypes.Content]: () => Promise.resolve().then(() => content$1).then((s) => s.default),
        [IconTypes.Customer]: () => Promise.resolve().then(() => customer$1).then((s) => s.default),
        [IconTypes.Dashboard]: () => Promise.resolve().then(() => dashboard$1).then((s) => s.default),
        [IconTypes.Maintenance]: () => Promise.resolve().then(() => maintenance$1).then((s) => s.default),
        [IconTypes.Marketplace]: () => Promise.resolve().then(() => marketplace$1).then((s) => s.default),
        [IconTypes.Merchandising]: () => Promise.resolve().then(() => merchandising$1).then((s) => s.default),
        [IconTypes.MerchantProfile]: () => Promise.resolve().then(() => merchantProfile$1).then((s) => s.default),
        [IconTypes.Ratings]: () => Promise.resolve().then(() => ratings$1).then((s) => s.default),
        [IconTypes.Sales]: () => Promise.resolve().then(() => sales$1).then((s) => s.default),
        [IconTypes.Users]: () => Promise.resolve().then(() => users$1).then((s) => s.default),
        [IconTypes.DarkMode]: () => Promise.resolve().then(() => darkMode$1).then((s) => s.default),
        [IconTypes.Dashboards]: () => Promise.resolve().then(() => dashboards$1).then((s) => s.default),
        [IconTypes.LightMode]: () => Promise.resolve().then(() => lightMode$1).then((s) => s.default),
        [IconTypes.Merchant]: () => Promise.resolve().then(() => merchant$1).then((s) => s.default),
        [IconTypes.Orders]: () => Promise.resolve().then(() => orders$1).then((s) => s.default),
        [IconTypes.Products]: () => Promise.resolve().then(() => products$1).then((s) => s.default),
        [IconTypes.Profile]: () => Promise.resolve().then(() => profile$3).then((s) => s.default),
        [IconTypes.Desktop]: () => Promise.resolve().then(() => desktop$1).then((s) => s.default),
        [IconTypes.Mobile]: () => Promise.resolve().then(() => mobile$1).then((s) => s.default),
        [IconTypes.Tablet]: () => Promise.resolve().then(() => tablet$1).then((s) => s.default),
        [IconTypes.Error]: () => Promise.resolve().then(() => error$1).then((s) => s.default),
        [IconTypes.Success]: () => Promise.resolve().then(() => success$1).then((s) => s.default),
        [IconTypes.Warning]: () => Promise.resolve().then(() => warning$1).then((s) => s.default),
        [IconTypes.America]: () => Promise.resolve().then(() => america$1).then((s) => s.default),
        [IconTypes.France]: () => Promise.resolve().then(() => france$1).then((s) => s.default),
        [IconTypes.Germany]: () => Promise.resolve().then(() => germany$1).then((s) => s.default),
        [IconTypes.Planet]: () => Promise.resolve().then(() => planet$1).then((s) => s.default),
        [IconTypes.Spain]: () => Promise.resolve().then(() => spain$1).then((s) => s.default),
        [IconTypes.Actions]: () => Promise.resolve().then(() => actions$1).then((s) => s.default),
        [IconTypes.ActionsHorizontal]: () => Promise.resolve().then(() => actionsHorizontal$1).then((s) => s.default),
        [IconTypes.Back]: () => Promise.resolve().then(() => back$1).then((s) => s.default),
        [IconTypes.Bottom]: () => Promise.resolve().then(() => bottom$1).then((s) => s.default),
        [IconTypes.Calendar]: () => Promise.resolve().then(() => calendar$1).then((s) => s.default),
        [IconTypes.Copy]: () => Promise.resolve().then(() => copy$1).then((s) => s.default),
        [IconTypes.Create]: () => Promise.resolve().then(() => create$1).then((s) => s.default),
        [IconTypes.Disconnect]: () => Promise.resolve().then(() => disconnect$1).then((s) => s.default),
        [IconTypes.Drag]: () => Promise.resolve().then(() => drag$1).then((s) => s.default),
        [IconTypes.DragSmall]: () => Promise.resolve().then(() => dragSmall$1).then((s) => s.default),
        [IconTypes.Edit]: () => Promise.resolve().then(() => edit$3).then((s) => s.default),
        [IconTypes.FastForward]: () => Promise.resolve().then(() => fastForward$1).then((s) => s.default),
        [IconTypes.File]: () => Promise.resolve().then(() => file$1).then((s) => s.default),
        [IconTypes.Filters]: () => Promise.resolve().then(() => filters$1).then((s) => s.default),
        [IconTypes.Front]: () => Promise.resolve().then(() => front$1).then((s) => s.default),
        [IconTypes.Help]: () => Promise.resolve().then(() => help$1).then((s) => s.default),
        [IconTypes.Imports]: () => Promise.resolve().then(() => imports$1).then((s) => s.default),
        [IconTypes.InputStepper]: () => Promise.resolve().then(() => inputStepper$1).then((s) => s.default),
        [IconTypes.Integration]: () => Promise.resolve().then(() => integration$1).then((s) => s.default),
        [IconTypes.Link]: () => Promise.resolve().then(() => link$1).then((s) => s.default),
        [IconTypes.Loader]: () => Promise.resolve().then(() => loader$3).then((s) => s.default),
        [IconTypes.Locker]: () => Promise.resolve().then(() => locker$1).then((s) => s.default),
        [IconTypes.Maximize]: () => Promise.resolve().then(() => maximize$1).then((s) => s.default),
        [IconTypes.Menu]: () => Promise.resolve().then(() => menu$1).then((s) => s.default),
        [IconTypes.Minimize]: () => Promise.resolve().then(() => minimize$1).then((s) => s.default),
        [IconTypes.NavigationArrow]: () => Promise.resolve().then(() => navigationArrow$1).then((s) => s.default),
        [IconTypes.Placeholder]: () => Promise.resolve().then(() => placeholder$1).then((s) => s.default),
        [IconTypes.Reset]: () => Promise.resolve().then(() => reset$1).then((s) => s.default),
        [IconTypes.Settings]: () => Promise.resolve().then(() => settings$1).then((s) => s.default),
        [IconTypes.Sort]: () => Promise.resolve().then(() => sort$1).then((s) => s.default),
        [IconTypes.Star]: () => Promise.resolve().then(() => star$1).then((s) => s.default),
        [IconTypes.TextAreaResizable]: () => Promise.resolve().then(() => textAreaResizable$1).then((s) => s.default),
        [IconTypes.Top]: () => Promise.resolve().then(() => top$1).then((s) => s.default),
        [IconTypes.Filter]: () => Promise.resolve().then(() => filter$3).then((s) => s.default),
        [IconTypes.GoldPartner]: () => Promise.resolve().then(() => goldPartner$1).then((s) => s.default),
        [IconTypes.Popular]: () => Promise.resolve().then(() => popular$1).then((s) => s.default),
        [IconTypes.SilverPartner]: () => Promise.resolve().then(() => silverPartner$1).then((s) => s.default),
        /** Alias to minus */
        [IconTypes.Decrease]: () => Promise.resolve().then(() => minus$5).then((s) => s.default),
        /** Alias to add */
        [IconTypes.Increase]: () => Promise.resolve().then(() => add$5).then((s) => s.default),
    });

    ({
        [IconTypes.BackArrow]: () => Promise.resolve().then(() => backArrow$1).then((s) => s.default),
        [IconTypes.Search]: () => Promise.resolve().then(() => search$3).then((s) => s.default),
        [IconTypes.Close]: () => Promise.resolve().then(() => close$3).then((s) => s.default),
        [IconTypes.Edit]: () => Promise.resolve().then(() => edit$1).then((s) => s.default),
        [IconTypes.Remove]: () => Promise.resolve().then(() => remove$3).then((s) => s.default),
        [IconTypes.Filter]: () => Promise.resolve().then(() => filter$1).then((s) => s.default),
        [IconTypes.Profile]: () => Promise.resolve().then(() => profile$1).then((s) => s.default),
        [IconTypes.Visible]: () => Promise.resolve().then(() => visible$3).then((s) => s.default),
        [IconTypes.Invisible]: () => Promise.resolve().then(() => invisible$3).then((s) => s.default),
        [IconTypes.Refresh]: () => Promise.resolve().then(() => refresh$1).then((s) => s.default),
        [IconTypes.Info]: () => Promise.resolve().then(() => info$3).then((s) => s.default),
        [IconTypes.Cart]: () => Promise.resolve().then(() => cart$3).then((s) => s.default),
        [IconTypes.CheckMark]: () => Promise.resolve().then(() => checkMark$1).then((s) => s.default),
        [IconTypes.Loader]: () => Promise.resolve().then(() => loader$1).then((s) => s.default),
        [IconTypes.FreezerCategory]: () => Promise.resolve().then(() => freezerCategory$1).then((s) => s.default),
        [IconTypes.FreshCategory]: () => Promise.resolve().then(() => freshCategory$1).then((s) => s.default),
        [IconTypes.ChillerCategory]: () => Promise.resolve().then(() => chillerCategory$1).then((s) => s.default),
        [IconTypes.AmbientCategory]: () => Promise.resolve().then(() => ambientCategory$1).then((s) => s.default),
        [IconTypes.Add]: () => Promise.resolve().then(() => add$3).then((s) => s.default),
        [IconTypes.Minus]: () => Promise.resolve().then(() => minus$3).then((s) => s.default),
        /** Alias to minus */
        [IconTypes.Decrease]: () => Promise.resolve().then(() => minus$3).then((s) => s.default),
        /** Alias to add */
        [IconTypes.Increase]: () => Promise.resolve().then(() => add$3).then((s) => s.default),
    });

    const storefrontIcons = {
        [IconTypes.Add]: () => Promise.resolve().then(() => add$1).then((s) => s.default),
        [IconTypes.Carrier]: () => Promise.resolve().then(() => carrier$1).then((s) => s.default),
        [IconTypes.Increase]: () => Promise.resolve().then(() => minus$1).then((s) => s.default),
        [IconTypes.CartAdd]: () => Promise.resolve().then(() => cartAdd$1).then((s) => s.default),
        [IconTypes.Cart]: () => Promise.resolve().then(() => cart$1).then((s) => s.default),
        [IconTypes.Close]: () => Promise.resolve().then(() => close$1).then((s) => s.default),
        [IconTypes.Collapse]: () => Promise.resolve().then(() => collapse$1).then((s) => s.default),
        [IconTypes.DropUp]: () => Promise.resolve().then(() => dropUp$1).then((s) => s.default),
        [IconTypes.Dropdown]: () => Promise.resolve().then(() => dropdown$1).then((s) => s.default),
        [IconTypes.Expand]: () => Promise.resolve().then(() => expand$1).then((s) => s.default),
        [IconTypes.Image]: () => Promise.resolve().then(() => image$1).then((s) => s.default),
        [IconTypes.Info]: () => Promise.resolve().then(() => info$1).then((s) => s.default),
        [IconTypes.InputError]: () => Promise.resolve().then(() => inputError$1).then((s) => s.default),
        [IconTypes.Mark]: () => Promise.resolve().then(() => mark$1).then((s) => s.default),
        [IconTypes.Minus]: () => Promise.resolve().then(() => minus$1).then((s) => s.default),
        [IconTypes.Remove]: () => Promise.resolve().then(() => remove$1).then((s) => s.default),
        [IconTypes.Rocket]: () => Promise.resolve().then(() => rocket$1).then((s) => s.default),
        [IconTypes.Search]: () => Promise.resolve().then(() => search$1).then((s) => s.default),
        [IconTypes.Trash]: () => Promise.resolve().then(() => trash$1).then((s) => s.default),
        [IconTypes.Visible]: () => Promise.resolve().then(() => visible$1).then((s) => s.default),
        [IconTypes.Invisible]: () => Promise.resolve().then(() => invisible$1).then((s) => s.default),
        [IconTypes.Wishlist]: () => Promise.resolve().then(() => wishlist$1).then((s) => s.default),
        /** Alias to minus */
        [IconTypes.Decrease]: () => Promise.resolve().then(() => minus$1).then((s) => s.default),
        /** Alias to add */
        [IconTypes.Increase]: () => Promise.resolve().then(() => add$1).then((s) => s.default),
    };

    const storefrontTheme = {
        name: 'storefront',
        breakpoints: defaultBreakpoints,
        icons: storefrontIcons,
        designTokens: () => Promise.resolve().then(() => index).then((s) => s.storefrontTokens),
    };

    const app = appBuilder().withFeature(b2cFeatures).withTheme(storefrontTheme).create();

    const render = (config) => renderApp(
      {
        ...config,
        element: y`<root-app></root-app>`
      },
      app
    );

    const styles$s = i$7 `
  :host {
    display: block;
    font-family: var(--oryx-font);
    font-size: var(--oryx-font-size-base);
    font-weight: var(--oryx-font-weight-medium);
    letter-spacing: 0.005em;
    color: var(--oryx-color-ink);
    background-color: var(--oryx-color-canvas-100);
  }

  @media (max-width: 767px) {
    :host {
      --oryx-font-size-base: 16px;
      --oryx-font-weight-medium: 600;
    }
  }

  ::placeholder {
    color: var(--oryx-color-placeholder);
  }

  nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  nav .products {
    display: flex;
    justify-content: right;
    align-items: center;
    flex: 1;
    font-size: 0.8em;
  }

  nav .link {
    margin: 0 12px;
    color: var(--oryx-color-canvas-100, #ffffff);
  }
`;

    let RootAppComponent = class RootAppComponent extends s$5 {
        constructor() {
            super();
            this.context = new ContextController(this);
            this.routerService = resolve(RouterService);
            this._routes = new DefaultRouter(this, routes);
            this.route$ = this.routerService.currentParams().pipe(cjs.tap((params) => {
                this.context.provide("sku" /* ProductContext.SKU */, params?.sku);
            }));
            {
                // Workaround to properly set SKU context on the SSR
                this.route$.pipe(cjs.take(1)).subscribe();
            }
        }
        render() {
            return y ` ${asyncValue(this.route$, () => y `<experience-composition uid="header"></experience-composition>
          ${this._routes.outlet()}
          <experience-composition uid="footer"></experience-composition>`)}`;
        }
    };
    RootAppComponent.styles = styles$s;
    RootAppComponent = __decorate([
        hydratable(),
        __metadata("design:paramtypes", [])
    ], RootAppComponent);

    const rootApp_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get RootAppComponent () { return RootAppComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseLayoutStyles = i$7 `
  @layer layout {
    :host {
      --oryx-layout-height: auto;

      display: flex;
      flex-direction: column;
      gap: var(--oryx-layout-gap);
      align-items: flex-start;
      margin: var(--oryx-layout-margin, 0);
      padding: var(--oryx-layout-padding, 0);
      width: 100%;
    }

    :host,
    :host([class*='-layout-']) > * {
      box-sizing: border-box;
      min-width: 0;
      height: auto;
    }

    :host([class*='-layout-']) > * {
      width: 100%;
      height: var(--oryx-layout-height, 100%);
    }

    :host([class*='-layout-']) > *[class*='has-padding'] {
      padding: var(--oryx-layout-padding, 0);
    }

    :host([class*='-layout-']) > *[class*='has-margin'] {
      margin: var(--oryx-layout-margin, 0);
      width: calc(100% - (var(--oryx-layout-margin, 0px) * 2));
      height: calc(
        var(--oryx-layout-height, 100%) - (var(--oryx-layout-margin, 0px) * 2)
      );
    }
  }
`;
    const layoutMediumScreen = i$7 `
  :host {
    --oryx-layout-item-count: 2;
  }
`;
    const layoutLargeScreen = i$7 `
  :host {
    --oryx-layout-item-count: 4;
  }
`;
    const baseLayoutScreenStyles = [
        {
            media: mdScreen,
            css: layoutMediumScreen,
        },
        {
            media: lgScreen,
            css: layoutLargeScreen,
        },
    ];

    /**
     * Provides carousel layout for compositions or components by adding a scrollable
     * element that contains child elements that are divided by item count (`--oryx-layout-item-count`).
     */
    const carouselLayout = (breakpoint) => i$7 `
  :host(.${r$5(breakpoint)}-layout-carousel) {
    display: flex;
    flex-direction: row;
    overflow-x: auto;
    overscroll-behavior-x: contain;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    align-items: stretch;
  }

  :host(.${r$5(breakpoint)}-layout-carousel) > * {
    scroll-snap-align: start;
    flex: 0 0
      var(
        --oryx-layout-item-width,
        calc(
          (100% / var(--oryx-layout-item-count, 1) * var(--oryx-layout-span, 1)) -
            (
              var(--oryx-layout-gap, 0px) *
                (var(--oryx-layout-item-count, 1) - 1) /
                (var(--oryx-layout-item-count, 1) * var(--oryx-layout-span, 1)) +
                var(--oryx-layout-margin, 0px) * 2
            )
        )
      );
  }
`;

    /**
     * Allows to render composition items in a single column. Column items
     * will not wrap to the next line and can have custom widths.
     *
     * The item width added inline in each composition item but default
     * (by browser nature) to a `flex: auto`, which means that they are equally
     * divided over the horizontal axis.
     */
    const columnLayout = (breakpoint) => i$7 `
  :host(.${r$5(breakpoint)}-layout-column) {
    display: flex;
    flex-wrap: nowrap;
    align-items: flex-start;
    flex-direction: row;
  }
`;

    /**
     * Provides a capability to add container to the layout. A container is a centered area on the page that will
     * not let it's children render outside the area. The container width is limited to either 100% of the available
     * space or a global container width (using `--oryx-container-width`).
     *
     * When the container is combined with a jumbotron (spanning the full width), the container margins are mimic with
     * a padding. Please note that this is not bullet proof, as it can cause issues with:
     * - additional composition padding
     * - overflowing of carousel items in the jumbotron space
     */
    const containerLayoutStyles = i$7 `
  :host([class*='-container']:not([class*='-jumbotron'])) {
    margin: auto;
    max-width: min(100%, var(--oryx-container-width));
  }

  :host([class*='-container'][class*='-has-margin']:not([class*='-jumbotron'])) {
    margin: var(--oryx-layout-margin, 0px)
      calc(
        (100% - min(var(--oryx-container-width), 100%)) / 2 +
          (2 * var(--oryx-layout-margin, 0px))
      );
  }

  :host([class*='-container'][class*='-jumbotron'][class*='-has-margin']) {
    padding-inline: calc(
      ((100% - var(--oryx-container-width)) / 2) +
        (2 * var(--oryx-layout-margin, 0px))
    );
  }

  :host([class*='-container'][class*='-jumbotron']) {
    padding-inline: calc((100% - var(--oryx-container-width)) / 2);
  }
`;

    /**
     * Provides style rules for a grid based layout. Grid items are organised over the grid
     * columns, using 4, 2 or 1 column by default.
     */
    const gridLayout = (breakpoint) => i$7 `
  :host(.${r$5(breakpoint)}-layout-grid) {
    display: grid;
    grid-template-rows: repeat(auto-fit, var(--oryx-layout-height));
    grid-auto-rows: var(--oryx-layout-height, minmax(min-content, max-content));
    grid-template-columns: repeat(var(--oryx-layout-item-count, 1), 1fr);
  }

  :host(.${r$5(breakpoint)}-layout-grid) > * {
    grid-column: span
      min(var(--oryx-layout-span, 1), var(--oryx-layout-item-count, 1));
  }
`;

    /**
     * Provides layout features for stickiness of a composition.
     *
     * We'll use a sticky position in combination with a (default) 0 offset from the top.
     * To avoid a conflict with a lengthy height blocking stickiness, we'll default the height to 0%.
     *
     * We'll force the height to be 0% in case of a sticky layout
     * since stickiness will otherwise stop working.
     *
     */
    const stickyLayout = (breakpoint) => i$7 `
  .${r$5(breakpoint)}-sticky {
    position: sticky;
    top: 0px;
    height: 0% !important;
  }
`;

    const layoutStylesGenerator = (bp) => i$7 `
  @layer layout {
    ${stickyLayout(bp)}
    ${columnLayout(bp)}
    ${gridLayout(bp)}
    ${carouselLayout(bp)}
  }
`;
    /**
     * the ordering of styles is very important for their correct cascading
     * need to keep the order to prevent wrong priorities of styles,
     * especially for different sizes of the screens
     */
    const layoutStyles = [baseLayoutStyles, containerLayoutStyles];
    const layoutScreenStyles = [
        ...baseLayoutScreenStyles,
        {
            media: smScreen,
            css: layoutStylesGenerator("sm" /* Size.Sm */),
        },
        {
            media: mdScreen,
            css: layoutStylesGenerator("md" /* Size.Md */),
        },
        {
            media: lgScreen,
            css: layoutStylesGenerator("lg" /* Size.Lg */),
        },
    ];

    const index$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseLayoutStyles,
        layoutMediumScreen,
        layoutLargeScreen,
        baseLayoutScreenStyles,
        carouselLayout,
        columnLayout,
        containerLayoutStyles,
        gridLayout,
        layoutStyles,
        layoutScreenStyles,
        stickyLayout
    }, Symbol.toStringTag, { value: 'Module' }));

    let ExperienceCompositionComponent = class ExperienceCompositionComponent extends ComponentMixin() {
        constructor() {
            super();
            this.uid = '';
            this.uid$ = new cjs.BehaviorSubject(this.uid);
            this.route = '';
            this.route$ = new cjs.BehaviorSubject(this.route);
            this.experienceService = resolve(ExperienceService, null);
            this.registryService = resolve(ComponentsRegistryService);
            this.ssrAwaiter = resolve(SSRAwaiterService, null);
            this.hasSSR = false;
            this.isHydrated = false;
            this.layoutBuilder = resolve(LayoutBuilder);
            this.components$ = cjs.combineLatest([this.uid$, this.route$]).pipe(cjs.switchMap(([uid, route], index) => {
                /**
                 * Provides ability to rerender components for the same route pattern.
                 */
                if (index > 0) {
                    this.isHydrated = true;
                }
                return (this.experienceService?.getComponent({ uid, route }) ||
                    cjs.of({}));
            }), cjs.map((component) => component?.components ?? []));
            this.hasSSR = !!this.renderRoot;
        }
        isEmpty() {
            /**
             * Lit is using adoptedStyleSheets native feature for the styles are specified by
             * static 'styles' property:
             * https://www.w3.org/TR/cssom-1/#extensions-to-the-document-or-shadow-root-interface
             * That is not yet supported by safari:
             * https://caniuse.com/mdn-api_document_adoptedstylesheets
             *
             * In result safari uses the common approach and just creates bunch of <style> elements
             * inside components, that makes them not empty
             *
             * To overcome this limitation need to check presence of any other elements
             * inside component, except for style elements
             */
            return !this.renderRoot.querySelector(':not(style)');
        }
        shouldRenderChildren() {
            return (!!this.renderRoot && !this.isEmpty() && !o$8 && !this.isHydrated);
        }
        // Can be safely used any time on or after calling getUpdateComplete().
        hydrateOnDemand() {
            if (!this.isHydrated) {
                this.isHydrated = true;
                this.requestUpdate();
            }
        }
        render() {
            return y `
      ${asyncValue(this.components$, (components) => this.shouldRenderChildren()
            ? y `${[...this.renderRoot.children]}`
            : components
                ? y `${c(components, (component) => component.id, (component) => y `${this.registryService.resolveTemplate(component.type, 
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                component.id, this.getLayoutClasses(component))} `)}
              ${this.addInlineStyles(components)}`
                : y ``, () => y `Loading...`)}
    `;
        }
        /**
         * collects the inline styles for the list of components and writes them
         * in a `<style>` tag.
         * The styles are unique to the component and are not reusable, hence it's
         * ok to render them inline. Rendering them inline will improve loading them
         * as additional resources, which would cause a layout shift.
         */
        addInlineStyles(components) {
            if (!components)
                return y ``;
            const styles = this.layoutBuilder.collectStyles(components);
            if (styles !== '') {
                return y `${o$7(`<style>${styles}</style>`)}`;
            }
            return y ``;
        }
        /**
         * returns the CSS classes for the given composition.
         */
        getLayoutClasses(component) {
            if (!component.options?.data) {
                return undefined;
            }
            return this.layoutBuilder.getLayoutClasses(component.options.data);
        }
    };
    ExperienceCompositionComponent.styles = layoutStyles;
    __decorate([
        t$1(),
        __metadata("design:type", Array)
    ], ExperienceCompositionComponent.prototype, "components", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], ExperienceCompositionComponent.prototype, "uid", void 0);
    __decorate([
        observe(),
        __metadata("design:type", Object)
    ], ExperienceCompositionComponent.prototype, "uid$", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], ExperienceCompositionComponent.prototype, "route", void 0);
    __decorate([
        observe(),
        __metadata("design:type", Object)
    ], ExperienceCompositionComponent.prototype, "route$", void 0);
    ExperienceCompositionComponent = __decorate([
        hydratable(),
        __metadata("design:paramtypes", [])
    ], ExperienceCompositionComponent);

    const experienceComposition_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ExperienceCompositionComponent () { return ExperienceCompositionComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const previewStyles = i$7 `
  .eb-preview-focus {
    position: relative;
  }
  .eb-preview-focus:before {
    content: '';
    outline: 4px solid var(--oryx-color-primary-300);
    outline-offset: -4px;
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: var(--oryx-overlay-z-index, 3);
  }

  .eb-preview-focus:after {
    content: attr(name);
    position: absolute;
    left: 0;
    top: 0;
    color: #fff;
    font-size: 16px;
    line-height: 22px;
    font-weight: 500;
    font-family: 'Montserrat';
    padding: 2px 5px;
    background-color: var(--oryx-color-primary-300);
    z-index: var(--oryx-overlay-z-index, 3);
  }
`;

    const EB_PREVIEW_FOCUS_CLASS = 'eb-preview-focus';
    class ExperienceCompositionPreviewComponent extends ExperienceCompositionComponent {
        constructor() {
            super(...arguments);
            this.interaction$ = this.experienceService?.getInteractionData();
            this.interactionMouseEvent$ = this.interaction$.pipe(cjs.filter((data) => data.action === 'mouseover' || data.action === 'mouseout'));
            // TODO: do we need to react on composition item click?
            this.interactionClickEvent$ = this.interaction$.pipe(cjs.filter((data) => data.action === 'click'), cjs.tap((data) => {
                // TODO: scroll to target component
            }));
            this.interactionAddComponentEvent$ = this.interaction$.pipe(cjs.filter((data) => data.action === 'add'), cjs.tap((data) => {
                // TODO: scroll to target component
            }));
            this.selectedComponent$ = cjs.merge(this.interactionMouseEvent$, this.interactionClickEvent$, this.interactionAddComponentEvent$).pipe(cjs.tap((data) => {
                const focusedNameAttr = 'name';
                const root = this.shadowRoot;
                const focusedComponent = root?.querySelector(`.${EB_PREVIEW_FOCUS_CLASS}`);
                const targetComponent = root?.querySelector(` [uid='${data.component.id}']`);
                if (targetComponent &&
                    getComputedStyle(targetComponent).display === 'inline') {
                    targetComponent?.style.setProperty('display', 'block');
                }
                focusedComponent?.classList.remove(EB_PREVIEW_FOCUS_CLASS);
                focusedComponent?.removeAttribute(focusedNameAttr);
                focusedComponent?.style.removeProperty('display');
                if (data.action !== 'mouseout') {
                    targetComponent?.classList.add(EB_PREVIEW_FOCUS_CLASS);
                    targetComponent?.setAttribute(focusedNameAttr, data.component.name);
                }
            }));
        }
        render() {
            return y `
      ${asyncValue(this.components$, (components) => y `${components
            ? c(components, (component) => component.id, (component) => this.registryService.resolveTemplate(component.type, component.id, this.getLayoutClasses(component)))
            : ``}
          ${this.addInlineStyles(components)}`, () => y `Loading...`)}
    `;
        }
    }
    ExperienceCompositionPreviewComponent.styles = [...layoutStyles, previewStyles];
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], ExperienceCompositionPreviewComponent.prototype, "selectedComponent$", void 0);

    const experienceCompositionPreview_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ExperienceCompositionPreviewComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$r = i$7 `
  oryx-card form > * {
    margin: 10px 0;
  }

  .options {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
`;

    let AuthLoginComponent = class AuthLoginComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.contentController = new ContentController(this);
            this.routerService = resolve(RouterService);
            this.authService = resolve(AuthService);
            this.options$ = this.contentController.getOptions();
            this.success$ = new cjs.BehaviorSubject(true);
            this.loading$ = new cjs.BehaviorSubject(false);
            this.data$ = cjs.combineLatest([
                this.options$,
                this.loading$,
                this.success$,
            ]);
            this.authTrigger$ = new cjs.ReplaySubject(1);
            this.auth$ = this.authTrigger$.pipe(cjs.tap(() => this.loading$.next(true)), cjs.switchMap((user) => this.authService
                .login({
                username: user.email,
                password: user.password,
                remember: user.rememberme,
            })
                .pipe(cjs.catchError((e) => {
                this.success$.next(false);
                this.loading$.next(false);
                return cjs.EMPTY;
            }))), cjs.withLatestFrom(this.options$), cjs.switchMap(([success, options]) => {
                if (!success) {
                    this.success$.next(success);
                    return cjs.of(undefined);
                }
                if (options.disableRedirect) {
                    return cjs.of(undefined);
                }
                if (options.url) {
                    this.routerService.navigate(options.url);
                    return cjs.of(undefined);
                }
                return this.routerService.previousRoute().pipe(cjs.tap((previousPage) => {
                    if (previousPage) {
                        this.routerService.navigate(previousPage);
                        return;
                    }
                    this.routerService.navigate('/');
                }));
            }), cjs.tap({
                next: () => this.success$.next(true),
                complete: () => this.loading$.next(false),
            }));
        }
        handleLogin(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            this.authTrigger$.next({
                email: formData.get('email'),
                password: formData.get('password'),
                rememberme: !!formData.get('rememberme'),
            });
        }
        render() {
            return y `${asyncValue(this.data$, ([options, loading, success]) => {
            return y `<oryx-card>
      <h1 slot="header">
        ${options?.title ?? 'Access your account'}
      </h1>
      ${success
                ? ''
                : y `<oryx-notification type="error">
              The email or/and password entered is not valid. Please try again.
            </oryx-notification>`}
      <form @submit=${this.handleLogin} method="post">
        <oryx-input label="Email *" ?haserror="${!success}"><input type="email" name="email" placeholder="Email" required/></oryx-input>
        <oryx-password-input ?haserror="${!success}" label="Password *" strategy="${l$1(options.strategy)}"/><input type="password" name="password" placeholder="Password" required/></oryx-password-input>
        <div class="options">
          ${n$1(options.showRememberMe, () => y ` <oryx-checkbox>
              <input type="checkbox" name="rememberme" />
              Remember me
            </oryx-checkbox>`, () => y `<span></span>`)}
          <oryx-link><a href="#">Forgot Password?</a></oryx-link>
        </div>
        <oryx-button size="small"><button type="submit" ?disabled=${loading}>Login</button></oryx-button>
      </form>
    </oryx-card>`;
        })}`;
        }
    };
    AuthLoginComponent.styles = styles$r;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], AuthLoginComponent.prototype, "auth$", void 0);
    AuthLoginComponent = __decorate([
        hydratable(['mouseover', 'focus'])
    ], AuthLoginComponent);

    const login_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get AuthLoginComponent () { return AuthLoginComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    let AuthLogoutComponent = class AuthLogoutComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.routerService = resolve(RouterService);
            this.authService = resolve(AuthService);
            this.options$ = new ContentController(this).getOptions();
            this.logoutTrigger$ = new cjs.ReplaySubject(1);
            this.logout$ = this.logoutTrigger$.pipe(cjs.withLatestFrom(this.options$), cjs.switchMap(([_, options]) => {
                return this.authService.logout().pipe(cjs.finalize(() => {
                    this.routerService.navigate(options.customRedirect ? `/${options.customRedirect}` : '');
                }));
            }));
        }
        render() {
            return y `
      ${asyncValue(this.authService.isAuthenticated(), (isAuthenticated) => isAuthenticated
            ? y `
              <oryx-button
                size="small"
                @click=${() => this.logoutTrigger$.next()}
              >
                <button type="submit">Logout</button>
              </oryx-button>
            `
            : y ``)}
    `;
        }
    };
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], AuthLogoutComponent.prototype, "logout$", void 0);
    AuthLogoutComponent = __decorate([
        hydratable('window:load')
    ], AuthLogoutComponent);

    const logout_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get AuthLogoutComponent () { return AuthLogoutComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const isSafari = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
    const nonFocusableOnClickInSafari = [
        'button',
        'input[type="radio"]',
        'input[type="checkbox"]',
        'input[type="submit"]',
    ];

    var Size;
    (function (Size) {
        Size["large"] = "large";
        Size["medium"] = "medium";
        Size["small"] = "small";
    })(Size || (Size = {}));
    var Position$1;
    (function (Position) {
        Position["START"] = "start";
        Position["END"] = "end";
    })(Position$1 || (Position$1 = {}));
    var Direction;
    (function (Direction) {
        Direction["horizontal"] = "horizontal";
        Direction["vertical"] = "vertical";
    })(Direction || (Direction = {}));

    var ButtonType;
    (function (ButtonType) {
        ButtonType["Primary"] = "primary";
        ButtonType["Secondary"] = "secondary";
        ButtonType["Critical"] = "critical";
        ButtonType["Text"] = "text";
    })(ButtonType || (ButtonType = {}));

    const buttonStyles = i$7 `
  :host {
    --oryx-icon-size: 13.3px;
    --_color-text: var(--oryx-color-canvas-100);
    --_color-accent: var(--oryx-color-primary-300);
    --_color-active: var(--oryx-color-primary-400);

    display: flex;
    align-items: baseline;
    transition: var(--oryx-transition-time);
  }

  ::slotted(*) {
    all: unset;
    display: flex;
    flex: 100%;
    align-items: center;
    justify-content: center;
    gap: 9px;
    padding: var(--_margin, 11px 26px);
    line-height: 24px;
    color: var(--_color-text);
    background-color: var(--_color-accent);
    border: var(--oryx-border-thin) solid var(--_color-accent);
    border-radius: var(--oryx-border-radius);
    cursor: pointer;
    transition: var(--oryx-transition-time);
    position: relative;
  }

  :host([size='medium']) {
    --_margin: 8px 19px;
  }

  :host([size='small']) {
    --_margin: 6px 15px;
  }

  :host([size='large'][icon]:not([type='text'])) {
    --_margin: 11px 15px;
  }

  :host([size='medium'][icon]:not([type='text'])) {
    --_margin: 8px 15px;
  }

  :host([size='small'][icon]:not([type='text'])) {
    --_margin: 6px 15px;
  }

  ::slotted(:hover:not(:active)) {
    box-shadow: var(--oryx-elevation-1) var(--oryx-elevation-color);
  }

  ::slotted(*:active) {
    background-color: var(--_color-active);
    border-color: var(--_color-active);
  }

  ::slotted(*:focus-visible:not(:active):not([disabled])) {
    border-color: var(--oryx-color-canvas-100);
    box-shadow: 0 0 4px var(--oryx-color-focus);
  }

  :host([outline]) {
    --oryx-icon-color: var(--oryx-color-primary-300);
    --_color-text: var(--oryx-color-primary-300);
    --_color-accent: var(--oryx-color-primary-300);
    --_color-active: var(--oryx-color-canvas-200);
  }

  :host([outline]) ::slotted(*:not([disabled])) {
    background-color: var(--oryx-color-canvas-100);
  }

  :host([outline]) ::slotted(*:active) {
    border-color: var(--_color-accent);
    background-color: var(--_color-active);
  }

  :host([outline][type='critical']) {
    --oryx-icon-color: var(--oryx-color-error-300);
    --_color-text: var(--oryx-color-error-300);
    --_color-accent: var(--oryx-color-error-300);
    --_color-active: var(--oryx-color-canvas-200);
  }

  :host([type='secondary']) {
    --oryx-icon-color: var(--oryx-color-neutral-400);
    --_color-text: var(--oryx-color-neutral-400);
    --_color-accent: var(--oryx-color-neutral-200);
    --_color-active: var(--oryx-color-canvas-200);
  }

  :host([type='secondary']) ::slotted(*),
  :host([type='secondary']) ::slotted(*:active) {
    border-color: var(--oryx-color-neutral-200);
  }

  :host([outline]) ::slotted(*:focus-visible:not(:active):not([disabled])) {
    border-color: var(--oryx-color-canvas-100);
  }

  :host([outline])
    ::slotted(*:focus-visible:not(:active):not([disabled]))::before {
    content: '';
    position: absolute;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    border: 1px solid var(--_color-accent);
  }

  :host([type='secondary'])
    ::slotted(*:focus-visible:not(:active):not([disabled])) {
    border-color: var(--oryx-color-canvas-100);
  }

  :host([type='critical']) {
    --_color-accent: var(--oryx-color-error-300);
    --_color-active: var(--oryx-color-error-400);
  }

  :host([type='text']) ::slotted(*) {
    border-radius: var(--oryx-border-radius-small);
    box-shadow: none;
    line-height: 22px;
    padding: 0 2px;
  }

  :host([type='text']) {
    --_margin: 4px 2px;
    --oryx-icon-color: var(--oryx-color-neutral-300);
    --_color-text: var(--oryx-color-ink);
    --_color-accent: transparent;
    --_color-active: var(--oryx-color-canvas-100);
  }

  :host([type='text']) ::slotted(*:hover) {
    --oryx-icon-color: var(--oryx-color-primary-300);
    --_color-text: var(--oryx-color-primary-300);
  }

  :host([type='text']) ::slotted(*:active) {
    --oryx-icon-color: var(--oryx-color-primary-400);
    --_color-text: var(--oryx-color-primary-400);
  }

  :host([type='text']) ::slotted([disabled]) {
    --oryx-icon-color: var(--oryx-color-neutral-200);
    --_color-text: var(--oryx-color-neutral-200);
    --_color-accent: var(--oryx-color-canvas-100);
  }

  :host([type='text']:not([loading]))
    ::slotted(*:focus-visible:not(:active):not([disabled])) {
    --oryx-icon-color: var(--oryx-color-primary-300);
    --_color-text: var(--oryx-color-primary-300);
  }

  ::slotted([disabled]) {
    --oryx-icon-color: var(--oryx-color-neutral-300);
    --_color-text: var(--oryx-color-neutral-300);
    --_color-accent: var(--oryx-color-canvas-500);

    position: relative;
    pointer-events: none;
  }

  :host(:is([loading], [confirmed])) ::slotted(*) {
    --oryx-icon-color: transparent;

    position: relative;
    pointer-events: none;
    background-color: var(--oryx-color-canvas-100);
    border-color: var(--oryx-color-primary-200);
    color: transparent;
    user-select: none;
  }

  :host(:is([loading], [confirmed])) ::slotted(*)::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 16px;
  }

  :host([loading]) ::slotted(*)::before {
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2317b497"%3E%3Cg%3E%3Cellipse opacity="0.7" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 11.925 4.87503)" /%3E%3Cellipse rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 20.1242 10.9278)" /%3E%3Cellipse opacity="0.4" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 5.87224 13.0723)" /%3E%3Cellipse opacity="0.3" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 14.0695 19.125)" /%3E%3CanimateTransform attributeName="transform" type="rotate" from="0 12 12" to="-360 12 12" dur="3s" repeatCount="indefinite" /%3E%3C/g%3E%3C/svg%3E');
  }

  :host([confirmed]) ::slotted(*)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2317b497'%3E%3Cpath d='M20.4357 8.37056L10.6396 18.4215C10.2624 18.8065 9.77177 19 9.27917 19C8.78657 19 8.29398 18.8065 7.91876 18.4215L3.56427 13.9538C2.81191 13.1838 2.81191 11.9341 3.56427 11.1622C4.31664 10.3902 5.53274 10.3902 6.2851 11.1622L9.27917 14.2341L17.7149 5.57895C18.4673 4.80702 19.6834 4.80702 20.4357 5.57895C21.1881 6.35089 21.1881 7.59863 20.4357 8.37056Z'/%3E%3C/svg%3E");
  }

  :host([loading][type='text']) ::slotted(*) {
    --oryx-icon-color: transparent;

    color: var(--oryx-color-neutral-300);
    background-color: transparent;
    border-color: var(--oryx-color-canvas-100);
  }

  :host([loading][type='text']) ::slotted(*)::before {
    position: relative;
    width: 16px;
    height: 16px;
  }

  :host([loading][type='text'][icon]) ::slotted(*)::before {
    position: absolute;
    width: 100%;
    height: 100%;
    background-position: left center;
  }

  :host([type='secondary'][loading]) ::slotted(*) {
    background-color: var(--oryx-color-canvas-100);
    border-color: var(--oryx-color-neutral-200);
  }

  :host([type='critical'][loading]) ::slotted(*)::before {
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"%3E%3Cg%3E%3Cellipse opacity="0.7" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 11.925 4.87503)" /%3E%3Cellipse rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 20.1242 10.9278)" /%3E%3Cellipse opacity="0.4" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 5.87224 13.0723)" /%3E%3Cellipse opacity="0.3" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 14.0695 19.125)" /%3E%3CanimateTransform attributeName="transform" type="rotate" from="0 12 12" to="-360 12 12" dur="3s" repeatCount="indefinite" /%3E%3C/g%3E%3C/svg%3E');
  }

  :host([type='critical'][loading]) ::slotted(*) {
    background-color: var(--oryx-color-pink-light);
    border-color: #f9d3ce;
  }

  :host([outline][type='critical'][loading]) ::slotted(*) {
    background-color: var(--oryx-color-canvas-100);
    border-color: #f9d3ce;
  }
`;

    class ButtonComponent extends s$5 {
        render() {
            return y `<slot ?inert=${this.loading}></slot>`;
        }
    }
    ButtonComponent.styles = buttonStyles;
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], ButtonComponent.prototype, "size", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], ButtonComponent.prototype, "type", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], ButtonComponent.prototype, "loading", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], ButtonComponent.prototype, "confirmed", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], ButtonComponent.prototype, "outline", void 0);

    const button_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ButtonComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    /**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const e=()=>new o;class o{}const h=new WeakMap,n=e$7(class extends c$2{render(t){return b}update(t,[s]){var e;const o=s!==this.Y;return o&&void 0!==this.Y&&this.rt(void 0),(o||this.lt!==this.ct)&&(this.Y=s,this.dt=null===(e=t.options)||void 0===e?void 0:e.host,this.rt(this.ct=t.element)),b}rt(i){var t;if("function"==typeof this.Y){const s=null!==(t=this.dt)&&void 0!==t?t:globalThis;let e=h.get(s);void 0===e&&(e=new WeakMap,h.set(s,e)),void 0!==e.get(this.Y)&&this.Y.call(this.dt,void 0),e.set(this.Y,i),void 0!==i&&this.Y.call(this.dt,i);}else this.Y.value=i;}get lt(){var i,t,s;return "function"==typeof this.Y?null===(t=h.get(null!==(i=this.dt)&&void 0!==i?i:globalThis))||void 0===t?void 0:t.get(this.Y):null===(s=this.Y)||void 0===s?void 0:s.value}disconnected(){this.lt===this.ct&&this.rt(void 0);}reconnected(){this.rt(this.ct);}});

    const styles$q = i$7 `
  :host {
    display: flex;
    flex-wrap: wrap;
    gap: 12px 17px;
  }

  form {
    display: contents;
  }

  oryx-button {
    flex: auto;
  }

  button {
    --oryx-icon-size: 24px;

    height: 28px;
  }
`;

    let CartAddComponent = class CartAddComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.cartService = resolve(CartService);
            this.options$ = new ContentController(this).getOptions();
            this.product$ = new ProductController(this).getProduct();
            this.data$ = cjs.combineLatest([
                this.options$,
                this.product$,
                this.cartService.getEntries(),
            ]).pipe(cjs.shareReplay({ bufferSize: 1, refCount: true }));
            this.min$ = this.data$.pipe(cjs.map(([_, product, entries]) => this.calculateMin(product, entries)), cjs.shareReplay({ bufferSize: 1, refCount: true }));
            this.max$ = this.data$.pipe(cjs.map(([_, product, entries]) => this.calculateMax(product, entries)), cjs.shareReplay({ bufferSize: 1, refCount: true }));
            this.isBusy$ = new cjs.BehaviorSubject(false);
            this.isQuantityInvalid$ = new cjs.BehaviorSubject(false);
            this.isConfirmed$ = new cjs.BehaviorSubject(false);
            this.isDisabled$ = cjs.combineLatest([
                this.min$.pipe(cjs.map((m) => m === 0)),
                this.isBusy$,
                this.isConfirmed$,
                this.isQuantityInvalid$,
            ]).pipe(cjs.map((a) => !!a.find((a) => !!a)));
            this.triggerEntry$ = new cjs.Subject();
            this.quantityInputRef = e();
            this.add$ = this.triggerEntry$.pipe(cjs.tap(() => this.isBusy$.next(true)), cjs.withLatestFrom(this.product$), cjs.switchMap(([quantity, product]) => 
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            this.cartService.addEntry({ sku: product.sku, quantity })), cjs.tap(() => {
                this.isBusy$.next(false);
                this.isConfirmed$.next(true);
            }), cjs.delay(800), cjs.tap(() => this.isConfirmed$.next(false)), cjs.catchError(() => {
                this.isBusy$.next(false);
                return cjs.of(null);
            }));
        }
        render() {
            return y ` ${asyncValue(this.data$, ([options, product]) => product?.sku
            ? y `${this.renderQuantity(options)} ${this.renderButton(options)}`
            : y ``)}`;
        }
        renderQuantity(options) {
            if (options.hideQuantityInput) {
                return y ``;
            }
            return y `<oryx-cart-quantity-input
      ${n(this.quantityInputRef)}
      .min=${asyncValue(this.min$)}
      .value=${asyncValue(this.min$)}
      .max=${asyncValue(this.max$)}
      @update=${this.onUpdate}
      @submit=${this.onSubmit}
    ></oryx-cart-quantity-input>`;
        }
        renderButton(options) {
            return y ` <oryx-button
      size=${Size.small}
      ?loading=${asyncValue(this.isBusy$)}
      ?confirmed=${asyncValue(this.isConfirmed$)}
      type=${ButtonType.Primary}
      ?outline=${options.outlined}
    >
      <button
        ?disabled=${asyncValue(this.isDisabled$)}
        ?inert=${asyncValue(this.isBusy$)}
        @click=${this.onSubmit}
      >
        <oryx-icon .type=${IconTypes.CartAdd} size=${Size.large}></oryx-icon>
        ${i18n('cart.add-to-cart')}
      </button>
    </oryx-button>`;
        }
        /**
         * Returns 0 when the max available quantity is smaller than the min order quantity.
         */
        calculateMin(product, entries) {
            const maxAvailable = this.calculateMax(product, entries);
            const minOrderQuantity = 1;
            return maxAvailable !== undefined && maxAvailable < minOrderQuantity
                ? 0
                : minOrderQuantity;
        }
        /**
         * When the product has a maximum quantity defined, we take the cumulated quantity from
         * the active cart, and subtract this number from the available quantity.
         */
        calculateMax(product, entries) {
            const cumulatedEntryCount = entries
                .filter((entry) => entry.sku === product?.sku)
                .map((entry) => entry.quantity)
                .reduce((a, b) => a + b, 0);
            return product?.availability?.quantity
                ? product?.availability?.quantity - cumulatedEntryCount
                : undefined;
        }
        onUpdate(e) {
            this.isQuantityInvalid$.next(!!e.detail.isInvalid);
        }
        onSubmit(e) {
            this.triggerEntry$.next(e.detail?.quantity ??
                this.quantityInputRef.value?.value ??
                1);
        }
    };
    CartAddComponent.styles = styles$q;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CartAddComponent.prototype, "add$", void 0);
    CartAddComponent = __decorate([
        hydratable(['click', 'focusin'])
    ], CartAddComponent);

    const add_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CartAddComponent () { return CartAddComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$p = i$7 `
  :host,
  oryx-collapsible::part(content) {
    display: flex;
    flex-direction: column;
    gap: var(--oryx-space-4);
  }

  oryx-collapsible::part(content) {
    padding-block: var(--oryx-space-4);
  }

  section {
    --oryx-icon-size: 40px;

    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--oryx-space-4);
    background: var(--oryx-color-canvas-200);
  }

  section p {
    margin-block: 14px 25px;
  }

  [slot='header'] {
    display: flex;
    align-items: center;
  }

  oryx-chip {
    margin-inline-start: var(--oryx-space-2);
  }
`;

    let CartEntriesComponent = class CartEntriesComponent extends CartComponentMixin() {
        constructor() {
            super(...arguments);
            this.cartService = resolve(CartService);
            this.productService = resolve(ProductService);
            this.contentController = new ContentController(this);
            this.options$ = this.contentController.getOptions();
            this.currentlyUpdated$ = new cjs.BehaviorSubject(null);
            this.loading$ = this.cartService.getLoadingState();
            this.entries$ = this.options$.pipe(cjs.switchMap(({ cartId }) => this.cartService.getEntries({ cartId }).pipe(cjs.switchMap((entries) => entries?.reduce((acc$, entry) => acc$.pipe(cjs.switchMap((acc) => this.productService
                .get({ sku: entry.sku })
                .pipe(cjs.map((product) => [
                ...acc,
                { ...entry, availability: product?.availability },
            ])))), cjs.of([])) ?? cjs.of([])), cjs.tap(() => {
                this.currentlyUpdated$.next(null);
            }))));
            this.entriesData$ = cjs.combineLatest([
                this.entries$,
                this.loading$,
                this.currentlyUpdated$,
                this.options$,
            ]).pipe(cjs.map(([entries, loading, currentlyUpdated, options]) => ({
                entries,
                loading,
                currentlyUpdated,
                options,
            })));
        }
        onUpdate(e, { groupKey, sku }) {
            this.currentlyUpdated$.next(groupKey);
            this.cartService
                .updateEntry({ groupKey, sku, quantity: e.detail.quantity })
                .subscribe();
        }
        onRemove({ groupKey }) {
            this.cartService.deleteEntry({ groupKey }).subscribe();
        }
        renderEmpty() {
            return y `
      <section>
        <oryx-icon type="cart"></oryx-icon>
        <p>Your shopping cart is empty</p>
        <oryx-button size="large">
          <button>Shop now</button>
        </oryx-button>
      </section>
    `;
        }
        renderEntries(entriesData) {
            const { entries, loading, currentlyUpdated, options } = entriesData;
            return y `${entries.map((entry) => y `
        <cart-entry
          ?inert=${loading}
          .options=${{
            ...options,
            ...entry,
            disabled: loading,
            updating: entry.groupKey === currentlyUpdated,
        }}
          @submit=${(e) => this.onUpdate(e, entry)}
          @oryx.remove=${() => this.onRemove(entry)}
        ></cart-entry>
      `)}`;
        }
        renderItemsCount(entriesData) {
            const { options, entries } = entriesData;
            if (options.hideItemsCount) {
                return y ``;
            }
            const count = entries.reduce((acc, { quantity }) => quantity + acc, 0);
            return y `
      <oryx-chip>${count} ${count === 1 ? 'item' : 'items'}</oryx-chip>
    `;
        }
        renderCollapsibleContainer(entriesData) {
            const { options } = entriesData;
            return y `
      <oryx-collapsible ?open=${options.expanded}>
        <span slot="header">
          Products in the order ${this.renderItemsCount(entriesData)}
        </span>

        ${this.renderEntries(entriesData)}
      </oryx-collapsible>
    `;
        }
        render() {
            return y `
      ${asyncValue(this.entriesData$, (entriesData) => {
            const { entries, options } = entriesData;
            if (!entries.length) {
                return this.renderEmpty();
            }
            if (options?.collapsible) {
                return this.renderCollapsibleContainer(entriesData);
            }
            return this.renderEntries(entriesData);
        })}
    `;
        }
    };
    CartEntriesComponent.styles = styles$p;
    CartEntriesComponent = __decorate([
        hydratable('window:load')
    ], CartEntriesComponent);

    const entries_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CartEntriesComponent () { return CartEntriesComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const confirmationBaseStyles = i$7 `
  oryx-notification {
    margin-inline: var(--oryx-space-4);
    margin-block-start: var(--oryx-space-4);
  }

  oryx-button button {
    line-height: 20px;
    padding-top: 2px;
    padding-bottom: 2px;
    border: none;
  }

  oryx-notification > :not(:last-child) {
    margin-bottom: var(--oryx-space-2);
  }
`;
    const mediumScreen$b = i$7 `
  oryx-notification {
    flex-direction: row;
    align-items: center;
  }

  oryx-notification > :not(:last-child) {
    padding-inline-end: var(--oryx-space-4);
    margin-bottom: 0;
  }
`;
    const confirmationScreenStyles = [
        {
            media: mdScreen,
            css: mediumScreen$b,
        },
    ];

    const confirmation_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        confirmationBaseStyles,
        confirmationScreenStyles
    }, Symbol.toStringTag, { value: 'Module' }));

    class CartEntryConfirmationComponent extends s$5 {
        onRemove() {
            this.dispatchEvent(new CustomEvent('remove'));
        }
        onCancel() {
            this.dispatchEvent(new CustomEvent('cancel'));
        }
        render() {
            return y `
      <oryx-notification
        type="warning"
        scheme="dark"
        closable
        @oryx.close=${this.onCancel}
      >
        <span>Do you want to delete the product(s)?</span>

        <oryx-button type="text">
          <button @click=${this.onRemove}>Delete product(s)</button>
        </oryx-button>

        <oryx-button type="text">
          <button @click=${this.onCancel}>Cancel</button>
        </oryx-button>
      </oryx-notification>
    `;
        }
    }
    CartEntryConfirmationComponent.styles = confirmationBaseStyles;

    const confirmation_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryConfirmationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var RemoveByQuantity;
    (function (RemoveByQuantity) {
        /**
         * Shows the bin icon at the minus control whenever the quantity is `1`.
         */
        RemoveByQuantity["ShowBin"] = "showBin";
        /**
         * Allows to remove the product from cart when the quantity becomes zero.
         */
        RemoveByQuantity["AllowZero"] = "allowZero";
    })(RemoveByQuantity || (RemoveByQuantity = {}));
    const REMOVE_EVENT = 'oryx.remove';

    const contentBaseStyles = i$7 `
  product-title {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
  }

  product-title,
  product-id {
    margin: 0 0 2px;
    padding-inline-end: calc(var(--oryx-space-2) * 3);
  }

  .seller {
    margin-bottom: var(--oryx-space-4);
  }

  .seller,
  .row {
    display: flex;
  }

  .seller,
  product-id {
    color: var(--oryx-color-neutral-400);
  }

  .seller :last-child {
    color: var(--oryx-color-primary-300);
    margin-inline-start: var(--oryx-space-2);
  }

  cart-entry-price oryx-icon {
    --oryx-icon-size: 11px;

    color: var(--oryx-color-neutral-400);
    margin-inline-end: 3.5px;
  }

  section {
    display: flex;
    flex-direction: column;
    margin-bottom: var(--oryx-space-2);
  }

  .col {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex: 1 1;
  }

  .col:first-child {
    margin-bottom: var(--oryx-space-2);
  }

  .readonly-quantity {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
  }

  .readonly-quantity :first-child {
    font-size: 12px;
    line-height: 16px;
    color: var(--oryx-color-neutral-400);
  }
`;
    const mediumScreen$a = i$7 `
  h3 {
    font-size: 14px;
    line-height: inherit;
    padding-inline-end: calc(var(--oryx-space-2) * 3);
  }

  .seller {
    margin-bottom: var(--oryx-space-2);
  }
`;
    const largeScreen$2 = i$7 `
  section {
    flex-direction: row;
  }

  .col:first-child {
    margin-bottom: 0;
    margin-inline-end: 13px;
  }

  .col:last-child {
    margin-inline-start: 13px;
  }

  .readonly-quantity {
    flex-basis: 50%;
  }
`;
    const contentScreenStyles = [
        {
            media: mdScreen,
            css: mediumScreen$a,
        },
        {
            media: lgScreen,
            css: largeScreen$2,
        },
    ];

    const content_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        contentBaseStyles,
        contentScreenStyles
    }, Symbol.toStringTag, { value: 'Module' }));

    class CartEntryContentComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.quantityInputRef = e();
        }
        updated() {
            //align quantity and input's value
            if (!this.options?.updating &&
                !this.options?.confirmationRequired &&
                this.quantityInputRef.value &&
                this.quantityInputRef.value?.value !== this.options?.quantity) {
                this.quantityInputRef.value.value = this
                    .options?.quantity;
            }
        }
        getDecreaseIcon() {
            return this.options?.removeByQuantity === RemoveByQuantity.ShowBin &&
                this.options?.quantity === 1
                ? 'trash'
                : undefined;
        }
        render() {
            return y `
      <product-title .options=${{ link: true }}></product-title>

      <product-id></product-id>

      <!-- TODO: adjust seller's section -->
      <div class="seller">
        <span>Sold by</span>
        <span>Spryker</span>
      </div>

      <section>
        <div class="col">
          <!-- TODO: replace by product configuration -->
          <span>Product config section</span>

          <cart-entry-price
            .price="${this.options?.calculations?.unitPrice}"
            ?loading="${this.options?.updating}"
          >
            <!-- TODO: replace by tooltip -->
            <oryx-icon type="inputError"></oryx-icon>
            Price
          </cart-entry-price>
        </div>

        <div class="col">
          ${n$1(!this.options?.readonly, () => y `
              <oryx-cart-quantity-input
                ${n(this.quantityInputRef)}
                min=${!this.options?.removeByQuantity ? 1 : 0}
                max=${this.options?.availability?.quantity ?? Infinity}
                .value=${this.options?.quantity}
                ?disabled=${this.disabled || this.options?.disabled}
                decrease-icon=${l$1(this.getDecreaseIcon())}
                submitOnChange
              ></oryx-cart-quantity-input>
            `, () => y `
              <div class="readonly-quantity">
                <span>Quantity</span>
                <span>${this.options?.quantity}</span>
              </div>
            `)}

          <cart-entry-price
            .price="${this.options?.calculations?.sumPrice}"
            ?loading="${this.options?.updating}"
          >
            Subtotal
          </cart-entry-price>
        </div>
      </section>
    `;
        }
    }
    CartEntryContentComponent.styles = contentBaseStyles;
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], CartEntryContentComponent.prototype, "disabled", void 0);

    const content_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryContentComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const optionsBaseStyles = i$7 `
  :host {
    display: block;
  }

  :host(:not([show-options])) ul {
    display: none;
  }

  :host > span {
    display: flex;
    align-items: center;
    padding-block: var(--oryx-space-2);
    border-block-start: 2px solid var(--oryx-color-canvas-300);
  }

  oryx-button {
    --_color-text: var(--oryx-color-primary-300);

    margin-inline-start: var(--oryx-space-2);
  }

  ul {
    margin: 0;
    padding-block-end: var(--oryx-space-2);
    padding-inline: 0;
    list-style: none;
  }

  li {
    display: flex;
    justify-content: space-between;
  }

  li:not(:last-child) {
    margin-bottom: var(--oryx-space);
  }

  li span {
    margin-inline-end: var(--oryx-space);
  }
`;
    const mediumScreen$9 = i$7 `
  :host {
    margin-inline-end: calc(-1 * var(--oryx-space-4));
  }

  ul {
    padding-inline-end: var(--oryx-space-4);
  }
`;
    const optionsScreenStyles = [
        {
            media: mdScreen,
            css: mediumScreen$9,
        },
    ];

    const options_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        optionsBaseStyles,
        optionsScreenStyles
    }, Symbol.toStringTag, { value: 'Module' }));

    class CartEntryOptionsComponent extends ComponentMixin() {
        onToggle(state) {
            this.dispatchEvent(new CustomEvent('toggle', { detail: { state } }));
        }
        render() {
            const selectedProductOptions = this.options?.selectedProductOptions;
            return y `
      <span>
        Product options (${selectedProductOptions?.length}):
        <oryx-button type="text">
          <button @click=${() => this.onToggle(!this.showOptions)}>
            ${this.showOptions ? 'Hide' : 'Show'}
          </button>
        </oryx-button>
      </span>

      <!-- TODO: Replace by product-options -->
      <ul>
        ${selectedProductOptions?.map(({ optionName, price }) => y `<li>
            <span>${optionName}</span>
            <cart-entry-price
              .price="${price}"
              ?loading="${this.options?.updating}"
            ></cart-entry-price>
          </li>`)}
      </ul>
    `;
        }
    }
    CartEntryOptionsComponent.styles = optionsBaseStyles;
    __decorate([
        e$3({ type: Boolean, attribute: 'show-options' }),
        __metadata("design:type", Boolean)
    ], CartEntryOptionsComponent.prototype, "showOptions", void 0);

    const options_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryOptionsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const cartEntryPriceStyles = i$7 `
  :host {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
  }

  slot {
    display: flex;
    align-items: center;
    font-size: 12px;
    line-height: 16px;
    margin-inline-end: 2px;
    color: var(--oryx-color-neutral-400);
  }

  span {
    position: relative;
  }

  span::before {
    content: '';
    position: absolute;
    display: none;
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    border-radius: var(--oryx-border-radius-small);
    background: var(--oryx-color-canvas-500);
  }

  :host([loading]) span::before {
    display: block;
  }
`;

    class CartEntryPriceComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.loading = false;
            this.pricingService = resolve(PricingService);
            this.price$ = new cjs.BehaviorSubject(this.price);
            this.formattedPrice$ = this.price$.pipe(cjs.switchMap((price) => this.pricingService.format(price)));
        }
        render() {
            return y `
      <slot></slot>
      ${asyncValue(this.formattedPrice$, (value) => y `<span part="price">${value}</span>`)}
    `;
        }
    }
    CartEntryPriceComponent.styles = cartEntryPriceStyles;
    __decorate([
        e$3(),
        __metadata("design:type", Number)
    ], CartEntryPriceComponent.prototype, "price", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], CartEntryPriceComponent.prototype, "loading", void 0);
    __decorate([
        observe(),
        __metadata("design:type", Object)
    ], CartEntryPriceComponent.prototype, "price$", void 0);
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CartEntryPriceComponent.prototype, "formattedPrice$", void 0);

    const price_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryPriceComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const cartEntryTotalsStyles = i$7 `
  :host {
    display: flex;
    justify-content: flex-end;
    padding: 7px var(--oryx-space-4);
    background: var(--oryx-color-canvas-200);
  }

  cart-entry-price::part(price) {
    font-size: 16px;
    line-height: 24px;
    font-weight: 600;
  }
`;

    class CartEntryTotalsComponent extends ComponentMixin() {
        render() {
            const price = this.options?.calculations?.sumPriceToPayAggregation;
            return y `
      <cart-entry-price .price="${price}" ?loading="${this.options?.updating}">
        Total price
      </cart-entry-price>
    `;
        }
    }
    CartEntryTotalsComponent.styles = cartEntryTotalsStyles;

    const totals_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryTotalsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$a = i$7 `
  :host {
    display: block;
    position: relative;
    line-height: 22px;
  }

  oryx-icon-button {
    position: absolute;
    top: var(--oryx-space-2);
    inset-inline-end: var(--oryx-space-2);
  }

  oryx-icon-button oryx-icon {
    --oryx-icon-size: var(--oryx-icon-size-small);
  }

  .entry {
    display: flex;
    flex-direction: column;
    padding-inline: var(--oryx-space-4);
    padding-block-start: var(--oryx-space-4);
  }

  section {
    flex: 1 1 auto;
  }

  product-media {
    display: flex;
    width: 80px;
    height: 80px;
    margin-bottom: var(--oryx-space-2);
    align-self: center;
  }
`;
    const mediumScreen$8 = i$7 `
  .entry {
    flex-direction: row;
    align-items: flex-start;
  }

  product-media {
    margin-bottom: 0;
    margin-inline-end: var(--oryx-space-4);
    width: 100px;
    height: 100px;
    align-self: inherit;
  }
`;
    const screenStyles$b = [
        {
            media: mdScreen,
            css: mediumScreen$8,
        },
    ];

    const styles$o = i$7 `
  :host {
    border-radius: var(--oryx-border-radius-small);
    border: 2px solid var(--oryx-color-canvas-300);
    background: var(--oryx-color-canvas-100);
  }
`;

    const index$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$a,
        screenStyles: screenStyles$b,
        styles: styles$o
    }, Symbol.toStringTag, { value: 'Module' }));

    class CartEntryComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.context = new ContextController(this);
            this.options$ = new ContentController(this).getOptions();
            this.triggerConfirmationRequired$ = new cjs.BehaviorSubject(false);
            this.confirmation$ = cjs.combineLatest([
                this.triggerConfirmationRequired$,
                this.options$,
            ]).pipe(cjs.map(([confirmationRequired, entry]) => ({ confirmationRequired, entry })));
            this.triggerShowOptions$ = new cjs.Subject();
            this.showOptions$ = cjs.merge(this.triggerShowOptions$, this.options$.pipe(cjs.take(1), cjs.map(({ defaultExpandedOptions }) => !!defaultExpandedOptions)));
            this.sku$ = this.options$.pipe(cjs.tap(({ sku }) => {
                this.context.provide("sku" /* ProductContext.SKU */, sku);
            }));
        }
        toggleOptions(e) {
            this.triggerShowOptions$.next(e.detail.state);
        }
        dispatchRemoveEvent() {
            this.dispatchEvent(new CustomEvent(REMOVE_EVENT, { bubbles: true, composed: true }));
        }
        onQuantityChange(e, isInstant) {
            if (e.detail.quantity === 0) {
                e.stopPropagation();
                if (isInstant) {
                    this.dispatchRemoveEvent();
                    return;
                }
                this.triggerConfirmationRequired$.next(true);
            }
        }
        onRemove(instant) {
            if (instant) {
                this.dispatchRemoveEvent();
                this.triggerConfirmationRequired$.next(false);
                return;
            }
            this.triggerConfirmationRequired$.next(true);
        }
        onCancelRemoving() {
            this.triggerConfirmationRequired$.next(false);
        }
        render() {
            return y `${asyncValue(this.options$, (entry) => {
            const { hidePreview, silentRemove, selectedProductOptions } = entry;
            const hasOptions = !!selectedProductOptions?.length;
            return y `
        ${asyncValue(this.confirmation$, ({ confirmationRequired, entry }) => {
                if (entry.readonly) {
                    return y ``;
                }
                return y `${n$1(confirmationRequired, () => y `
              <cart-entry-confirmation
                .options=${entry}
                @remove=${() => this.onRemove(entry.silentRemove || confirmationRequired)}
                @cancel=${this.onCancelRemoving}
              ></cart-entry-confirmation>
            `, () => y `
              <oryx-icon-button>
                <button
                  @click=${() => this.onRemove(entry.silentRemove || confirmationRequired)}
                  aria-label="remove"
                >
                  <oryx-icon
                    .type=${entry.removeButtonIcon ?? 'close'}
                  ></oryx-icon>
                </button>
              </oryx-icon-button>
            `)}`;
            })}

        <div class="entry">
          ${n$1(!hidePreview, () => y `
              <product-media
                .options=${{
                containerSize: "thumbnail" /* ProductMediaContainerSize.Thumbnail */,
            }}
              ></product-media>
            `)}

          <section>
            <cart-entry-content
              .options=${entry}
              ?disabled=${asyncValue(this.triggerConfirmationRequired$)}
              @submit=${(e) => this.onQuantityChange(e, !!silentRemove)}
            ></cart-entry-content>

            ${n$1(hasOptions, () => y `
                  <cart-entry-options
                    .options=${entry}
                    ?show-options=${asyncValue(this.showOptions$)}
                    @toggle=${this.toggleOptions}
                  ></cart-entry-options>
                `)}
          </section>
        </div>

        <cart-entry-totals .options=${entry}></cart-entry-totals>
      `;
        })}`;
        }
    }
    CartEntryComponent.styles = [baseStyles$a, styles$o];
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CartEntryComponent.prototype, "sku$", void 0);

    const entry_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CartEntryComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$n = i$7 `
  a {
    display: inline-flex;
    padding: 8px;
    border-radius: 4px;
    outline: none;
    background: var(--oryx-color-canvas-200);
    font-size: 12px;
    text-transform: uppercase;
    text-decoration: none;
    color: var(--oryx-color-ink);
    width: 53px;
    height: 50px;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    border: 2px solid var(--oryx-color-canvas-200);
  }

  a:hover {
    background: var(--oryx-color-canvas-300);
    border-color: var(--oryx-color-canvas-300);
  }

  a:active {
    background: var(--oryx-color-canvas-300);
    border-color: var(--oryx-color-canvas-300);
  }

  a:focus-visible {
    border-color: var(--oryx-color-primary-400);
    box-shadow: 0 0 3px var(--oryx-color-primary-400);
  }

  oryx-icon {
    --oryx-icon-size: 38px;

    display: block;
    padding-inline-start: 6px;
  }

  .badge + oryx-icon {
    margin-inline-start: 1px;
    padding-inline-start: 0;
  }

  .badge {
    border-radius: 2px;
    background: var(--oryx-color-primary-400);
    color: var(--oryx-color-canvas-100);
    position: absolute;
    inset-inline-end: 6px;
    top: 6px;
    padding: 1px 6px;
    font-weight: 500;
    line-height: 16px;
    text-align: center;
  }

  span {
    text-align: center;
    font-weight: 600;
  }

  /* TODO: refactor with theme BP's */
  @media (max-width: 375px) {
    a {
      display: inline-flex;
      flex-direction: row-reverse;
      align-items: center;
      justify-content: center;
      width: auto;
      height: auto;
      gap: 6px;
      border-radius: 0;
      min-width: 41px;
      padding-top: 7px;
      padding-bottom: 7px;
    }

    .badge {
      position: static;
    }

    oryx-icon {
      --oryx-icon-size: 24px;

      padding-inline-start: 0;
      margin-inline-start: 0;
    }

    span {
      display: none;
    }
  }
`;

    let MiniCartComponent = class MiniCartComponent extends CartComponentMixin() {
        constructor() {
            super(...arguments);
            this.contentController = new ContentController(this);
            this.cartController = new CartController(this);
            this.maxVisibleQuantity = 99;
            this.quantity$ = cjs.combineLatest([
                this.cartController.getTotalQuantity(),
                this.contentController.getOptions(),
            ]).pipe(cjs.map(([cartQuantity, options]) => {
                return options.quantity ?? cartQuantity;
            }));
        }
        render() {
            return y `
      <a href="/cart">
        ${asyncValue(this.quantity$, (quantity) => y `${n$1(quantity, () => y `
                <div class="badge">
                  ${Number(quantity) > this.maxVisibleQuantity
            ? `${this.maxVisibleQuantity}+`
            : quantity}
                </div>
              `)} `)}
        <oryx-icon type="cart"></oryx-icon>
        <span>Cart</span>
      </a>
    `;
        }
    };
    MiniCartComponent.styles = styles$n;
    MiniCartComponent = __decorate([
        hydratable('window:load')
    ], MiniCartComponent);

    const miniCart_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get MiniCartComponent () { return MiniCartComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const UPDATE_EVENT = 'update';
    const SUBMIT_EVENT = 'submit';

    const styles$m = i$7 `
  :host {
    --oryx-icon-size: 22px;

    display: inline-flex;
  }

  :host([label]:not([label=''])) {
    position: relative;
    padding-top: 22px;
  }

  input {
    appearance: textfield;
    text-align: center;
  }

  oryx-input {
    --oryx-border-radius: 0;

    width: var(--oryx-cart-quantity-input-width, 75px);
  }

  oryx-input:not([hasError]) {
    border-color: var(--oryx-cart-quantity-input-button-border-color);
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    appearance: none;
  }

  button:nth-of-type(1) {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
    margin-inline-end: -2px;
  }

  button:nth-of-type(2) {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
    margin-inline-start: -2px;
  }

  button {
    display: flex;
    align-items: center;
    padding: 10px;
    cursor: pointer;
    background: var(--oryx-cart-quantity-input-button-background-color);
    color: var(--oryx-cart-quantity-input-button-color);
    border: 2px solid var(--oryx-cart-quantity-input-button-border-color);
    outline: none;
    border-radius: 2px;
    margin: 0;
  }

  button[disabled] {
    color: var(--oryx-cart-quantity-input-button-disabled-color);
    cursor: default;
    pointer-events: none;
  }

  button:hover {
    background: var(--oryx-cart-quantity-input-button-hover-background-color);
    border-color: var(--oryx-cart-quantity-input-button-border-color);
  }

  button:active,
  oryx-input:hover,
  oryx-input:active {
    z-index: 1;
  }

  oryx-input:not([hasError]):hover,
  oryx-input:not([hasError]):active {
    border-color: var(--oryx-cart-quantity-input-input-border-color);
  }

  button:focus-visible {
    border: 2px solid var(--oryx-color-primary-300);
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
    z-index: 1;
  }

  oryx-input::part(label) {
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    text-transform: unset;
  }
`;
    const mediumScreen$7 = i$7 `
  :host {
    --oryx-icon-size: 18px;
  }
`;
    const screenStyles$a = [
        {
            media: mdScreen,
            css: mediumScreen$7,
        },
    ];

    const quantityInput_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        styles: styles$m,
        screenStyles: screenStyles$a
    }, Symbol.toStringTag, { value: 'Module' }));

    /**
     * The quantity input component provides controls to conveniently increase and
     * decrease the quantity. The component is typically used to change the quantity
     * of a cart item, but it can be used in any context.
     *
     * The html min, max and step attribute are used on the input component, so that
     * the quantity stays in the appropriate boundaries and increases with the right step.
     *
     * The quantity control dispatches an update or submit event. The submit event will be
     * dispatched when the Enter key is dispatched, To submit on each change even, the
     * `submitOnChange` property can be set.
     */
    let QuantityInputComponent = class QuantityInputComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.min = 1;
            this.step = 1;
            this.submitOnChange = false;
            this.disabled = false;
            this.hasError = false;
            this.inputRef = e();
        }
        render() {
            return y `
      <button
        @click=${this.decrease}
        aria-label=${i18n('cart.quantity.decrease')}
        tabindex="-1"
        ?disabled=${this.isMinDisabled()}
        part="decrease"
      >
        <oryx-icon .type=${IconTypes.Decrease}></oryx-icon>
      </button>
      <oryx-input ?hasError=${this.hasError}>
        <input
          ${n(this.inputRef)}
          aria-label=${i18n('cart.quantity')}
          type="number"
          value=${this.getValue()}
          min=${l$1(this.min)}
          max=${l$1(this.max)}
          step=${this.step}
          required
          ?disabled=${this.disabled ||
            (this.max !== undefined && this.max === 0)}
          @input=${this.onInput}
          @change=${this.onChange}
          @keydown=${this.onKeydown}
          @focus=${this.onFocus}
        />
      </oryx-input>
      <button
        @click=${this.increase}
        aria-label=${i18n('cart.quantity.increase')}
        tabindex="-1"
        ?disabled=${this.isMaxDisabled()}
        part="increase"
      >
        <oryx-icon .type=${IconTypes.Increase}></oryx-icon>
      </button>
    `;
        }
        focus() {
            this.input?.focus();
        }
        firstUpdated() {
            this.checkValidity();
        }
        getValue() {
            return this.value?.toString() ?? this.min?.toString() ?? '1';
        }
        onFocus() {
            this.checkValidity();
        }
        isMinDisabled() {
            return (this.disabled || (this.value !== undefined && this.value <= this.min));
        }
        isMaxDisabled() {
            return (this.disabled ||
                (this.value !== undefined &&
                    this.max !== undefined &&
                    this.value >= this.max));
        }
        /**
         * Increases the input value by a single step
         * and triggers the change event.
         *
         * The step is configurable.
         */
        increase() {
            this.input.stepUp();
            this.onChange();
        }
        /**
         * Decreases the input value by a single step
         * and triggers the change event.
         *
         * The step is configurable.
         */
        decrease() {
            this.input.stepDown();
            this.onChange();
        }
        /**
         * Updates the value.
         *
         * Triggers validity reporting so that native browser validation appears.
         */
        onInput(e) {
            this.updateValue(e.target.value);
            this.dispatch(UPDATE_EVENT);
        }
        /**
         * Dispatches an update event
         */
        onChange() {
            this.updateValue();
            if (this.submitOnChange && this.input.validity.valid) {
                this.dispatch(SUBMIT_EVENT);
            }
            else {
                this.dispatch(UPDATE_EVENT);
            }
        }
        updateValue(value) {
            this.value = Number(value ?? this.input.value);
            this.checkValidity();
        }
        checkValidity() {
            this.hasError = !this.input.reportValidity();
        }
        /**
         * Dispatches a submit event when the Enter key is triggered
         * and the input is valid.
         *
         * When the input is invalid, we'll trigger a report on the validity
         * so that the user understands why the input is not submitted.
         */
        onKeydown(ev) {
            if (ev.key !== 'Enter') {
                return;
            }
            if (this.input.validity.valid) {
                this.dispatch(SUBMIT_EVENT);
            }
            else {
                this.checkValidity();
            }
        }
        dispatch(eventName) {
            const detail = { quantity: Number(this.input.value) };
            if (!this.input.validity.valid) {
                detail.isInvalid = true;
            }
            this.dispatchEvent(new CustomEvent(eventName, { detail, bubbles: true, composed: true }));
        }
        get input() {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            return this.inputRef.value;
        }
    };
    QuantityInputComponent.styles = styles$m;
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], QuantityInputComponent.prototype, "min", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Number)
    ], QuantityInputComponent.prototype, "value", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Number)
    ], QuantityInputComponent.prototype, "max", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], QuantityInputComponent.prototype, "step", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], QuantityInputComponent.prototype, "submitOnChange", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], QuantityInputComponent.prototype, "disabled", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], QuantityInputComponent.prototype, "hasError", void 0);
    QuantityInputComponent = __decorate([
        hydratable(['window:load'])
    ], QuantityInputComponent);

    const quantityInput_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get QuantityInputComponent () { return QuantityInputComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$l = i$7 `
  :host {
    --oryx-icon-size-small: 15px;

    background-color: var(--oryx-color-canvas-200);
    border-radius: var(--oryx-border-radius-small);
    font-size: var(--oryx-font-size-medium);
    line-height: 1.5;
  }

  h4 {
    padding-top: var(--oryx-space-4);
  }

  :host > * {
    padding-inline: var(--oryx-space-4);
  }

  :host > dl:last-child {
    margin-top: var(--oryx-space-2);
    padding-top: var(--oryx-space-3);
    padding-bottom: var(--oryx-space-4);
    border-top: solid 1px var(--oryx-color-canvas-500);
    font-weight: 600;
  }

  :host > dl:last-child dd {
    font-size: var(--oryx-font-size-large);
  }

  small {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--oryx-color-neutral-200);
  }

  small.tax-message {
    font-size: var(--oryx-font-size-medium);
    font-weight: 500;
    display: block;
  }

  h4,
  dl,
  dt,
  dd,
  p {
    margin: 0;
  }

  dl {
    display: grid;
    grid-template-columns: auto 1fr;
    grid-gap: var(--oryx-space-2);
  }

  dd {
    justify-self: end;
    text-align: end;
  }

  [slot='aside'],
  oryx-collapsible dd {
    color: var(--oryx-color-highlight-300);
  }

  dl,
  oryx-collapsible {
    margin-top: var(--oryx-space-4);
  }

  oryx-collapsible :is(dt, dd) {
    font-size: 1rem;
  }

  oryx-collapsible dl {
    margin-top: var(--oryx-space-2);
  }
`;

    let CartTotalsComponent = class CartTotalsComponent extends CartComponentMixin() {
        constructor() {
            super(...arguments);
            this.cartTotals$ = cjs.combineLatest([
                new CartController(this).getTotals(),
                new ContentController(this).getOptions(),
            ]);
        }
        render() {
            return y `
      ${asyncValue(this.cartTotals$, ([totals, options]) => {
            if (!totals) {
                return y ``;
            }
            return y `
          <h4>Summary</h4>
          ${this.renderSubtotal(options, totals)}
          ${this.renderDiscounts(options, totals)}
          ${this.renderExpense(options, totals)}
          ${this.renderTax(options, totals)}
          ${this.renderDelivery(options, totals)}
          ${this.renderSummary(options, totals)}
        `;
        })}
    `;
        }
        renderSubtotal(options, totals) {
            return !options.hideSubtotal
                ? this.renderSection('subtotal', y `
            Subtotal
            <span
              >(${totals.itemsQuantity}
              item${totals.itemsQuantity === 1 ? '' : 's'})</span
            >
          `, String(totals.calculations?.subtotal))
                : y ``;
        }
        renderDiscounts(options, totals) {
            return y `
      ${n$1(!options.hideDiscounts && totals.calculations.discountTotal, () => y `
          <oryx-collapsible
            class="discounts"
            appearance="${"inline" /* CollapsibleAppearance.Inline */}"
            header="Discounts"
            ?open=${!options.collapseDiscounts}
          >
            <span slot="aside">${totals.calculations.discountTotal}</span>

            ${totals?.discounts?.map(({ displayName, amount }) => this.renderSection('discount', displayName, amount))}
          </oryx-collapsible>
        `)}
    `;
        }
        renderExpense(options, totals) {
            return totals.calculations.expenseTotal && !options.hideExpense
                ? this.renderSection('expense', 'Expense', String(totals.calculations.expenseTotal))
                : y ``;
        }
        renderTax(options, totals) {
            return totals.calculations.taxTotal && !options.hideTaxAmount
                ? this.renderSection('tax', 'Tax', String(totals.calculations.taxTotal))
                : y ``;
        }
        renderDelivery(options, 
        // eslint-disable-next-line @typescript-eslint/no-unused-vars
        totals) {
            return options.hideDelivery
                ? y ``
                : this.renderSection('delivery', 'Delivery', y `
            <small class="delivery-message">
              ${options?.deliveryMessage ?? ''}
              <oryx-icon-button size="small">
                <a href="#" title="Click here to read about delivery options">
                  <oryx-icon type="info"></oryx-icon>
                </a>
              </oryx-icon-button>
            </small>
          `);
        }
        renderSummary(options, totals) {
            return this.renderSection('summary', 'Total', y ` ${totals.calculations.priceToPay}
      ${n$1(!options.hideTaxMessage, () => y `<small class="tax-message">
            ${totals.priceMode === PriceMode.GrossMode
            ? 'incl. tax'
            : 'excl. tax'}
          </small>`)}`);
        }
        renderSection(type, title, content) {
            return y `
      <dl class=${type}>
        <dt>${title}</dt>
        <dd>${content}</dd>
      </dl>
    `;
        }
    };
    CartTotalsComponent.styles = styles$l;
    CartTotalsComponent = __decorate([
        hydratable('window:load')
    ], CartTotalsComponent);

    const totals_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CartTotalsComponent () { return CartTotalsComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    var Positions;
    (function (Positions) {
        Positions["TOP_START"] = "top-start";
        Positions["TOP_END"] = "top-end";
        Positions["BOTTOM_START"] = "bottom-start";
        Positions["BOTTOM_END"] = "bottom-end";
    })(Positions || (Positions = {}));

    const notificationCenterBaseStyles = i$7 `
  :host {
    display: flex;
    flex-direction: column;
  }

  :host([position]) {
    position: fixed;
    z-index: var(--oryx-notification-z-index, 1001);
    max-width: 470px;
    width: 100%;
  }

  :host([position='${r$5(Positions.TOP_START)}']),
  :host([position='${r$5(Positions.TOP_END)}']) {
    flex-direction: column-reverse;
  }

  :host([position='${r$5(Positions.TOP_START)}']) {
    top: 40px;
    inset-inline-start: 30px;
  }

  :host([position='${r$5(Positions.TOP_END)}']) {
    top: 40px;
    inset-inline-end: 30px;
  }

  :host([position='${r$5(Positions.BOTTOM_START)}']) {
    bottom: 40px;
    inset-inline-start: 30px;
  }

  :host([position='${r$5(Positions.BOTTOM_END)}']) {
    bottom: 40px;
    inset-inline-end: 30px;
  }

  /* TODO: refactor with theme BP's */
  @media (max-width: 530px) {
    :host([position='${r$5(Positions.TOP_END)}']),
    :host([position='${r$5(Positions.TOP_START)}']),
    :host([position='${r$5(Positions.BOTTOM_START)}']),
    :host([position='${r$5(Positions.BOTTOM_END)}']) {
      max-width: calc(100% - 60px);
    }
  }

  :host > * {
    margin-bottom: 10px;
    opacity: 0;
    transition-property: opacity;
    transition-duration: var(--oryx-transition-time-long);
  }

  :host([position='${r$5(Positions.BOTTOM_START)}']) :last-child,
  :host([position='${r$5(Positions.BOTTOM_END)}']) :last-child {
    margin-bottom: 0;
  }

  :host > [visible] {
    opacity: 1;
    transition-duration: var(--oryx-transition-time-medium);
  }
`;

    const createKey = (registry) => {
        return String(Number(registry
            .filter(({ key }) => !!key)
            .sort((a, b) => Number(b.key) - Number(a.key))[0]?.key || Date.now()) + 1);
    };
    class RegistryController {
        constructor(host) {
            this.host = host;
            this._registry = [];
            this._delayedCallbacks = {};
            this.host.addController(this);
        }
        set registry(newRegistry) {
            //need to add keys and delayed callback to the new Notification items
            const newRegistryWithParams = newRegistry.map((item) => {
                if (!item.key) {
                    //get last key or generate new one
                    const key = createKey(this.registry);
                    const mergedStrategy = {
                        ...defaultStrategy,
                        ...item,
                    };
                    //add auto-close handler
                    if (mergedStrategy.autoClose) {
                        this._delayedCallbacks[key] = setTimeout(() => {
                            this.toggleVisibility(key);
                        }, mergedStrategy.autoCloseTime);
                    }
                    return {
                        ...mergedStrategy,
                        key,
                        visible: false,
                    };
                }
                return item;
            });
            this._registry = newRegistryWithParams;
            this.host.requestUpdate();
        }
        get registry() {
            return this._registry;
        }
        preventAutoClose(targetKey) {
            if (this.notificationIsVisible(targetKey)) {
                clearTimeout(this._delayedCallbacks[targetKey]);
                return;
            }
            this.toggleVisibility(targetKey);
        }
        handleNotificationClose(key) {
            this.removeFromRegistry(key, true);
        }
        handleTransitionEnd(key) {
            if (!this.notificationIsVisible(key)) {
                this.removeFromRegistry(key);
            }
        }
        removeFromRegistry(targetKey, force = false) {
            if (force) {
                //should clear the delayed callback
                this.preventAutoClose(targetKey);
            }
            this.registry = this.registry.filter(({ key }) => targetKey !== key);
        }
        toggleVisibility(targetKey) {
            this.registry = this.registry.map((item) => {
                if (item.key === targetKey) {
                    return {
                        ...item,
                        visible: !item.visible,
                        _mounted: true,
                    };
                }
                return item;
            });
        }
        notificationIsVisible(targetKey) {
            return Boolean(this.registry.find(({ key }) => key === targetKey)?.visible);
        }
        //need to set visible attr to true for new notifications to run animation
        ensureNotificationMountedState() {
            if (this.registry.some(({ key, _mounted }) => key && !_mounted)) {
                setTimeout(() => {
                    this.registry = this.registry.map((strategy) => ({
                        ...strategy,
                        visible: true,
                        _mounted: true,
                    }));
                }, 0);
            }
        }
        hostUpdated() {
            this.ensureNotificationMountedState();
        }
    }

    const defaultStrategy = {
        scheme: Schemes.LIGHT,
        autoClose: true,
        autoCloseTime: 4000,
        closable: true,
        floating: true,
    };
    class NotificationCenterComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.registryController = new RegistryController(this);
        }
        get registry() {
            return this.registryController.registry;
        }
        open(strategy) {
            this.registryController.registry = [
                ...this.registryController.registry,
                strategy,
            ];
            return this.registry[this.registry.length - 1].key;
        }
        close(key) {
            this.registryController.handleNotificationClose(key);
        }
        renderNotification(registry) {
            return y `
      <oryx-notification
        type=${l$1(registry.type)}
        scheme=${l$1(registry.scheme)}
        ?closable=${registry.closable}
        ?floating=${registry.floating}
        ?visible=${registry.visible}
        @oryx.close=${() => this.registryController.handleNotificationClose(registry.key)}
        @mouseenter=${() => this.registryController.preventAutoClose(registry.key)}
        @transitionend=${() => this.registryController.handleTransitionEnd(registry.key)}
      >
        ${registry.content}
        ${n$1(registry.subtext, () => y `<span slot="subtext">${registry.subtext}</span>`)}
      </oryx-notification>
    `;
        }
        render() {
            return y `
      ${c(this.registry, ({ key }) => key, (item) => this.renderNotification(item))}
    `;
        }
    }
    NotificationCenterComponent.styles = [notificationCenterBaseStyles];
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], NotificationCenterComponent.prototype, "position", void 0);
    __decorate([
        t$1(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [])
    ], NotificationCenterComponent.prototype, "registry", null);

    const notificationCenter_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        defaultStrategy,
        NotificationCenterComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const ensurePosition = (position) => position ? `[position=${position}]` : '';
    class NotificationService {
        getCenter(parentSelector = 'body', position) {
            let center = document.querySelector(`${parentSelector} ${TAG_NAME$1}${ensurePosition(position)}`);
            if (!(center instanceof NotificationCenterComponent)) {
                center = this.createCenter(parentSelector, position);
            }
            return center;
        }
        createCenter(parentSelector = 'body', position) {
            const parent = document.querySelector(parentSelector);
            if (!parent) {
                throw new Error('Parent element not found for the creation of a new NotificationCenter');
            }
            const notificationCenter = document.createElement(TAG_NAME$1);
            if (position) {
                notificationCenter.setAttribute('position', position);
            }
            parent.append(notificationCenter);
            return notificationCenter;
        }
    }

    let SiteNotificationCenterComponent = class SiteNotificationCenterComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.notificationService = new NotificationService();
            this.siteNotificationService = resolve(NotificationService$1);
            this.contentController = new ContentController(this);
            this.options$ = this.contentController.getOptions();
            this.centerRef = e();
            this.notification$ = this.siteNotificationService.get().pipe(cjs.filter((notification) => !!notification), cjs.tap(async (notification) => {
                if (!(this.centerRef.value && 'open' in this.centerRef.value)) {
                    await customElements.whenDefined('oryx-notification-center');
                }
                this.centerRef.value?.open?.(notification);
            }));
        }
        render() {
            return y `${asyncValue(this.options$, (options) => y `<oryx-notification-center
        position="${options.position ?? 'top-end'}"
        ${n(this.centerRef)}
      ></oryx-notification-center>`)}`;
        }
    };
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], SiteNotificationCenterComponent.prototype, "notification$", void 0);
    SiteNotificationCenterComponent = __decorate([
        hydratable('window:oryx-notify')
    ], SiteNotificationCenterComponent);

    const notificationCenter_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get SiteNotificationCenterComponent () { return SiteNotificationCenterComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    class CheckoutAddressComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.checkoutDataService = resolve(CheckoutDataService);
            this.addressService = resolve(AddressService);
            this.selectedAddress = null;
            this.addresses$ = this.addressService.getAddresses();
            this.formRef = e();
        }
        getFormElement() {
            return this.formRef.value?.getForm?.();
        }
        submit(report = false) {
            const form = this.getFormElement();
            if (!form?.checkValidity() && !this.selectedAddress) {
                if (report) {
                    form?.reportValidity();
                }
                else {
                    this.checkoutDataService.setAddressDetails(null);
                }
                return false;
            }
            const data = form
                ? Object.fromEntries(new FormData(form).entries())
                : this.selectedAddress;
            this.checkoutDataService.setAddressDetails(data);
            return true;
        }
        handleAddressFromList(e) {
            this.selectedAddress = e.detail.address;
        }
        render() {
            return y `${asyncValue(this.addresses$, (addresses) => {
            if (!addresses?.length) {
                return y `
          <p>${i18n('checkout.address-details')}</p>
          <oryx-address-form ${n(this.formRef)}></oryx-address-form>
        `;
            }
            return y `
        <oryx-address-list
          .options=${{ selectable: true }}
          @oryx.address-change=${(e) => this.handleAddressFromList(e)}
        ></oryx-address-list>
      `;
        })}`;
        }
    }
    __decorate([
        t$1(),
        __metadata("design:type", Object)
    ], CheckoutAddressComponent.prototype, "selectedAddress", void 0);

    const address_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CheckoutAddressComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$k = i$7 `
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-block-end: var(--oryx-space-4);
  }

  h1 {
    margin: 0;
    font-size: 22px;
    line-height: 30px;
    font-weight: 500;
  }
`;

    let CheckoutCompositionComponent = class CheckoutCompositionComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.checkoutDataService = resolve(CheckoutDataService);
            this.orchestrationService = resolve(CheckoutOrchestrationService);
            this.options$ = new ContentController(this).getOptions();
            this.isEmptyCart$ = resolve(CartService).isEmpty();
            this.isAuthenticated$ = resolve(AuthService).isAuthenticated();
            this.isGuestCheckout$ = this.checkoutDataService.isGuestCheckout();
            this.steps$ = this.orchestrationService.getValidity();
            this.deliveryCompleted$ = this.steps$.pipe(cjs.map((steps) => {
                return !!(steps.find((step) => step.id === 'delivery')?.validity ===
                    Validity.Valid);
            }));
            //just for preview. Need to drop after implementation of additional steps
            this.testData$ = cjs.combineLatest([
                this.checkoutDataService.getContactDetails(),
                this.checkoutDataService.getAddressDetails(),
            ]);
            this.checkout$ = cjs.combineLatest([
                this.isEmptyCart$,
                this.isAuthenticated$,
                this.isGuestCheckout$,
                this.deliveryCompleted$,
                this.options$,
                this.testData$,
            ]);
        }
        renderGuestCheckoutHeading() {
            return y `
      <header>
        <h1>${i18n('checkout.guest-checkout')}</h1>

        <oryx-button type="text">
          <button
            @click=${() => {
            this.checkoutDataService.setIsGuestCheckout(false);
        }}
          >
            ${i18n('checkout.checkout-as-register')}
          </button>
        </oryx-button>
      </header>
    `;
        }
        render() {
            return y ` <!-- TODO: just for demonstration -->
      ${asyncValue(this.steps$, (steps) => y `
          <ul>
            ${steps.map(({ id, validity }) => y ` <li>${id}: ${validity}</li> `)}
          </ul>
        `)}
      ${asyncValue(this.checkout$, ([isEmptyCart, isAuthenticated, isGuestCheckout, deliveryCompleted, options, testData,]) => {
            if (isEmptyCart) {
                return y ``;
            }
            if (!(isAuthenticated || isGuestCheckout)) {
                return y `
              <checkout-login
                @oryx.guest-submit=${() => {
                    this.checkoutDataService.setIsGuestCheckout();
                }}
                .options=${{ disableGuest: options.disableGuest }}
              ></checkout-login>
            `;
            }
            return y `
            ${n$1(isGuestCheckout, () => y `${this.renderGuestCheckoutHeading()}`)}
            ${n$1(deliveryCompleted, () => y `
                <h3>2. Shipping</h3>
                <p style="word-break: break-all;">
                  ${JSON.stringify(testData[0])}
                </p>

                <p style="word-break: break-all;">
                  ${JSON.stringify(testData[1])}
                </p>
              `, () => y ` <checkout-delivery></checkout-delivery> `)}
          `;
        })}`;
        }
    };
    CheckoutCompositionComponent.styles = styles$k;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CheckoutCompositionComponent.prototype, "steps$", void 0);
    CheckoutCompositionComponent = __decorate([
        hydratable('window:load')
    ], CheckoutCompositionComponent);

    const composition_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutCompositionComponent () { return CheckoutCompositionComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    class CheckoutContactComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.checkoutDataService = resolve(CheckoutDataService);
            this.formRef = e();
        }
        getFormElement() {
            return this.formRef.value?.getForm?.();
        }
        submit(report = false) {
            const form = this.getFormElement();
            if (!form?.checkValidity()) {
                if (report) {
                    form?.reportValidity();
                }
                else {
                    this.checkoutDataService.setAddressDetails(null);
                }
                return false;
            }
            const data = Object.fromEntries(new FormData(form).entries());
            this.checkoutDataService.setContactDetails(data);
            return true;
        }
        render() {
            return y `
      <p>${i18n('checkout.contact-details')}</p>
      <user-contact-form ${n(this.formRef)}></user-contact-form>
    `;
        }
    }

    const contact_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CheckoutContactComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$j = i$7 `
  section {
    margin-block-end: 30px;
  }
`;

    class CheckoutDeliveryComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.isAuthenticated$ = resolve(AuthService).isAuthenticated();
            this.orchestrationService = resolve(CheckoutOrchestrationService);
            this.submitTrigger$ = this.orchestrationService
                .getTrigger(CheckoutSteps.Delivery)
                .pipe(cjs.tap((trigger) => {
                console.log(trigger);
                if (trigger === CheckoutTrigger.Check) {
                    this.checkAndSubmit();
                }
                if (trigger === CheckoutTrigger.Report) {
                    this.report();
                }
            }));
        }
        get forms() {
            return this.renderRoot.querySelectorAll('section > *');
        }
        checkAndSubmit() {
            let isValid = true;
            for (const form of this.forms) {
                if (!form.submit()) {
                    isValid = false;
                }
            }
            this.orchestrationService.report(CheckoutSteps.Delivery, isValid);
        }
        report() {
            for (const form of this.forms) {
                if (!form.submit(true)) {
                    break;
                }
            }
        }
        render() {
            return y `${asyncValue(this.isAuthenticated$, (isAuthenticated) => y `
        <h3>${i18n('checkout.delivery-details')}</h3>

        <section>
          ${n$1(!isAuthenticated, () => y `<checkout-contact></checkout-contact>`)}
          <checkout-address></checkout-address>
        </section>

        <oryx-button>
          <button
            @click=${() => this.orchestrationService.submit(CheckoutSteps.Delivery)}
          >
            ${i18n('checkout.use-this-address')}
          </button>
        </oryx-button>
      `)}`;
        }
    }
    CheckoutDeliveryComponent.styles = styles$j;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CheckoutDeliveryComponent.prototype, "submitTrigger$", void 0);

    const delivery_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CheckoutDeliveryComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const GUEST_SUBMIT_EVENT = 'oryx.guest-submit';

    let CheckoutGuestComponent = class CheckoutGuestComponent extends CheckoutComponentMixin() {
        constructor() {
            super(...arguments);
            this.routerService = resolve(RouterService);
            this.options$ = new ContentController(this).getOptions();
            this.handleTrigger$ = new cjs.Subject();
            this.handle$ = this.handleTrigger$.pipe(cjs.switchMap(() => this.options$.pipe(cjs.take(1), cjs.tap((options) => {
                this.dispatchEvent(new CustomEvent(GUEST_SUBMIT_EVENT, {
                    bubbles: true,
                    composed: true,
                }));
                if (options.url) {
                    this.routerService.navigate(options.url);
                }
            }))));
        }
        handleProceed() {
            this.handleTrigger$.next();
        }
        render() {
            return y `<oryx-card>
      <h2 slot="header">Guest checkout</h2>

      <slot name="content">
        You can checkout without creating an account. You will have a chance to
        create an account later.
      </slot>

      <oryx-button slot="footer" size="small">
        <button @click=${this.handleProceed}>Checkout as a guest</button>
      </oryx-button>
    </oryx-card>`;
        }
    };
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], CheckoutGuestComponent.prototype, "handle$", void 0);
    CheckoutGuestComponent = __decorate([
        hydratable('window:load')
    ], CheckoutGuestComponent);

    const guest_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutGuestComponent () { return CheckoutGuestComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$i = i$7 `
  :host {
    display: contents;
  }
`;

    let CheckoutLinkComponent = class CheckoutLinkComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.contentController = new ContentController(this);
            this.cartService = resolve(CartService);
            this.data$ = cjs.combineLatest([
                this.cartService.isEmpty(),
                this.cartService.getLoadingState(),
            ]);
        }
        render() {
            return y `
      ${asyncValue(this.data$, ([isEmptyCart, loading]) => {
            if (isEmptyCart) {
                return y ``;
            }
            return y `
          <content-link
            .options="${{
                type: SemanticLinkType.Checkout,
                disabled: loading,
                button: true,
            }}"
          >
            Checkout
          </content-link>
        `;
        })}
    `;
        }
    };
    CheckoutLinkComponent.styles = styles$i;
    CheckoutLinkComponent = __decorate([
        hydratable(['window:load'])
    ], CheckoutLinkComponent);

    const link_component$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutLinkComponent () { return CheckoutLinkComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const index$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ExperienceCompositionPreviewComponent,
        get ExperienceCompositionComponent () { return ExperienceCompositionComponent; },
        baseLayoutStyles,
        layoutMediumScreen,
        layoutLargeScreen,
        baseLayoutScreenStyles,
        carouselLayout,
        columnLayout,
        containerLayoutStyles,
        gridLayout,
        layoutStyles,
        layoutScreenStyles,
        stickyLayout
    }, Symbol.toStringTag, { value: 'Module' }));

    let CheckoutLoginComponent = class CheckoutLoginComponent extends CheckoutComponentMixin() {
        constructor() {
            super(...arguments);
            this.data$ = cjs.combineLatest([
                resolve(AuthService).isAuthenticated(),
                new ContentController(this).getOptions(),
            ]);
        }
        render() {
            return y `${asyncValue(this.data$, ([isAuthenticated, options]) => y `
        ${n$1(!isAuthenticated, () => {
            const { guestUrl, loginUrl, disableGuest } = options;
            return y ` ${n$1(!disableGuest, () => y `<checkout-guest
                .options="${{
                ...(guestUrl && { url: guestUrl }),
            }}"
              ></checkout-guest>`)}
            <auth-login
              .options="${{
                title: 'Have an account? Login',
                disableRedirect: true,
                showRememberMe: true,
                ...(loginUrl && { url: loginUrl }),
            }}"
            ></auth-login>`;
        })}
      `)}`;
        }
    };
    CheckoutLoginComponent.styles = layoutStyles;
    CheckoutLoginComponent = __decorate([
        hydratable('window:load')
    ], CheckoutLoginComponent);

    const login_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutLoginComponent () { return CheckoutLoginComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$h = i$7 `
  :host {
    --oryx-tile-padding: 0;

    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .no-methods {
    text-align: center;
    line-height: 22px;
  }

  oryx-radio::part(label) {
    padding: 20px;
  }
`;

    let CheckoutPaymentSelectorComponent = class CheckoutPaymentSelectorComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.service = resolve(CheckoutPaymentService);
            this.methods$ = this.service.getMethods();
            this.currentMethod$ = new cjs.BehaviorSubject(null);
        }
        render() {
            return y `${asyncValue(cjs.combineLatest([this.methods$, this.currentMethod$]), ([methods, currentMethod]) => methods?.length
            ? y `${methods.map((method, i) => this.renderMethod(method, currentMethod ? currentMethod === method.name : i === 0))}`
            : this.renderEmpty())}`;
        }
        renderMethod(method, selected) {
            return y `<oryx-tile ?selected="${selected}">
      <oryx-radio>
        <input
          name="payment-method"
          type="radio"
          ?checked="${selected}"
          @change="${() => {
            this.currentMethod$.next(method.name);
        }}"
        />
        ${method.name}
        <small slot="subtext">
          ${i18n('checkout.payment.select-<method>', {
            method: method.name,
        })}
        </small>
      </oryx-radio>
    </oryx-tile>`;
        }
        renderEmpty() {
            return y `<p class="no-methods">
      ${i18n('checkout.payment.no-methods-available')}
    </p>`;
        }
    };
    CheckoutPaymentSelectorComponent.styles = styles$h;
    CheckoutPaymentSelectorComponent = __decorate([
        hydratable('window:load')
    ], CheckoutPaymentSelectorComponent);

    const paymentSelector_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutPaymentSelectorComponent () { return CheckoutPaymentSelectorComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$g = i$7 `
  :host {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .no-methods {
    text-align: center;
    line-height: 22px;

    --oryx-icon-size: 40px;
  }

  h3 {
    line-height: 24px;
    margin: 0;
    font-size: var(--oryx-font-size-medium);
  }

  oryx-radio {
    flex: 1;
  }

  .content {
    display: flex;
    flex-wrap: wrap;
  }

  .price {
    font-weight: 600;
    font-size: var(--oryx-font-size-medium);
  }

  .delivery {
    flex-basis: 100%;
    font-weight: 600;
    color: var(--oryx-color-neutral-200);
    margin-inline-start: calc(var(--oryx-radio-size, 18px) + 8px);
  }
`;

    let CheckoutShipmentSelectorComponent = class CheckoutShipmentSelectorComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.shipmentService = resolve(CheckoutShipmentService);
            this.priceService = resolve(PricingService);
            this.localeService = resolve(LocaleService);
            this.carriers$ = this.shipmentService.getCarriers();
            this.currentMethod$ = new cjs.BehaviorSubject(null);
            this.selectedShipmentMethod$ = this.shipmentService.getSelectedShipmentMethod();
        }
        renderMethod(method, selected = false) {
            return y `<oryx-tile ?selected="${selected}">
      <div class="content">
        <oryx-radio>
          <input
            name="shipment-method"
            type="radio"
            ?checked="${selected}"
            @change="${() => {
            this.currentMethod$.next(method.id);
        }}"
          />${method.name}
        </oryx-radio>
        <span class="price">
          ${asyncValue(this.priceService.format(method.price), (price) => y `${price}`)}
        </span>
        ${n$1(method.deliveryTime, () => y `${asyncValue(this.localeService.formatDate(method.deliveryTime), (date) => y `<small class="delivery">
                ${i18n('checkout.delivered-at-<date>', { date })}
              </small>`)}`)}
      </div>
    </oryx-tile>`;
        }
        render() {
            return y `${asyncValue(cjs.combineLatest([
            this.carriers$,
            this.selectedShipmentMethod$,
            this.currentMethod$,
        ]), ([carriers, selectedShipmentMethod, currentMethod]) => {
            if (!carriers?.length) {
                return y `<oryx-icon type="carrier"></oryx-icon>
            <div class="no-methods">
              ${i18n('checkout.no-shipment-methods-available')}
            </div>`;
            }
            return y `${carriers.map((carrier, i) => y `${n$1(carriers.length > 1, () => y `<h3>${carrier.name}</h3>`)}
          ${carrier.shipmentMethods.map((item, j) => this.renderMethod(item, currentMethod
                ? currentMethod === item.id
                : selectedShipmentMethod === 0
                    ? i === 0 && j === 0
                    : selectedShipmentMethod == item.id))}`)}`;
        })}`;
        }
    };
    CheckoutShipmentSelectorComponent.styles = styles$g;
    CheckoutShipmentSelectorComponent = __decorate([
        hydratable('window:load')
    ], CheckoutShipmentSelectorComponent);

    const shipmentSelector_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get CheckoutShipmentSelectorComponent () { return CheckoutShipmentSelectorComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$f = i$7 `
  :host {
    display: flex;
    position: relative;
    width: 100%;
    overflow: hidden;
    color: white;
  }

  a {
    color: white;
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
  }

  .overlay {
    position: absolute;
    top: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    box-sizing: border-box;
    height: 100%;
    width: 100%;
    padding: 0 5.5rem;
  }

  h1 {
    font-size: 3.125rem;
    line-height: 3rem;
    font-weight: 500;
    margin-bottom: 1.6875rem;
    margin-top: 0;
  }

  h2 {
    font-size: 1.375rem;
    line-height: 1.75rem;
    font-weight: 500;
    margin: 0;
  }
`;

    let BannerComponent = class BannerComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.contentController = new ContentController(this);
            this.content$ = this.contentController.getContent();
            this.options$ = this.contentController.getOptions();
            this.data$ = cjs.combineLatest([this.content$, this.options$]);
        }
        render() {
            return y `${asyncValue(this.data$, ([content, options]) => {
            const contents = y `
        <oryx-image .src=${content?.image} .alt=${options.alt}></oryx-image>
        <div class="overlay">
          ${n$1(content?.title, () => y `<h1 aria-label="title">${content?.title}</h1>`)}
          ${n$1(content?.content, () => y `<h2>${content?.content}</h2>`)}
        </div>
      `;
            return y ` ${n$1(options.link, () => y `<a
          href=${l$1(options.link)}
          target=${l$1(options.urlTarget)}
          aria-label=${l$1(options.linkLabel)}
        >
          ${contents}
        </a>`, () => y `${contents}`)}`;
        })}`;
        }
    };
    BannerComponent.styles = styles$f;
    BannerComponent = __decorate([
        hydratable('click')
    ], BannerComponent);

    const banner_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get BannerComponent () { return BannerComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    class ContentLinkComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.contentController = new ContentController(this);
            this.semanticLinkService = resolve(SemanticLinkService);
            this.options$ = this.contentController.getOptions();
            this.data$ = this.options$.pipe(cjs.switchMap((options) => {
                return cjs.combineLatest([
                    this.options$,
                    ...(!options.type || options.type === "rawUrl" /* LinkType.RawUrl */
                        ? [cjs.of(options.id)]
                        : [
                            this.semanticLinkService.get({
                                type: options.type,
                                id: options.id,
                                params: options.params,
                            }),
                        ]),
                ]);
            }));
        }
        getRel(options) {
            return [options?.noopener && 'noopener', options?.nofollow && 'nofollow']
                .filter((rel) => !!rel)
                .join(' ');
        }
        renderLink(link, options) {
            return y `
      <a
        part="link"
        href="${link}"
        aria-label="${l$1(options.label)}"
        target="${l$1(options.target)}"
        rel="${l$1(this.getRel(options))}"
        ?disabled=${options?.disabled}
        ><slot>${options?.text}</slot></a
      >
    `;
        }
        render() {
            return y `${asyncValue(this.data$, ([options, link]) => {
            if (!link) {
                return y ``;
            }
            if (options.button) {
                return y `<oryx-button
          part="wrapper"
          icon="${l$1(options.icon?.trim())}"
        >
          ${this.renderLink(link, options)}
        </oryx-button>`;
            }
            return y `<oryx-link
        part="wrapper"
        icon="${l$1(options.icon?.trim())}"
        ?disabled=${options?.disabled}
      >
        ${this.renderLink(link, options)}
      </oryx-link>`;
        })}`;
        }
    }

    const link_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ContentLinkComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const supplemental$1 = {
    	version: {
    		_unicodeVersion: "12.1.0",
    		_cldrVersion: "36"
    	},
    	likelySubtags: {
    		aa: "aa-Latn-ET",
    		aai: "aai-Latn-ZZ",
    		aak: "aak-Latn-ZZ",
    		aau: "aau-Latn-ZZ",
    		ab: "ab-Cyrl-GE",
    		abi: "abi-Latn-ZZ",
    		abq: "abq-Cyrl-ZZ",
    		abr: "abr-Latn-GH",
    		abt: "abt-Latn-ZZ",
    		aby: "aby-Latn-ZZ",
    		acd: "acd-Latn-ZZ",
    		ace: "ace-Latn-ID",
    		ach: "ach-Latn-UG",
    		ada: "ada-Latn-GH",
    		ade: "ade-Latn-ZZ",
    		adj: "adj-Latn-ZZ",
    		adp: "adp-Tibt-BT",
    		ady: "ady-Cyrl-RU",
    		adz: "adz-Latn-ZZ",
    		ae: "ae-Avst-IR",
    		aeb: "aeb-Arab-TN",
    		aey: "aey-Latn-ZZ",
    		af: "af-Latn-ZA",
    		agc: "agc-Latn-ZZ",
    		agd: "agd-Latn-ZZ",
    		agg: "agg-Latn-ZZ",
    		agm: "agm-Latn-ZZ",
    		ago: "ago-Latn-ZZ",
    		agq: "agq-Latn-CM",
    		aha: "aha-Latn-ZZ",
    		ahl: "ahl-Latn-ZZ",
    		aho: "aho-Ahom-IN",
    		ajg: "ajg-Latn-ZZ",
    		ak: "ak-Latn-GH",
    		akk: "akk-Xsux-IQ",
    		ala: "ala-Latn-ZZ",
    		ali: "ali-Latn-ZZ",
    		aln: "aln-Latn-XK",
    		alt: "alt-Cyrl-RU",
    		am: "am-Ethi-ET",
    		amm: "amm-Latn-ZZ",
    		amn: "amn-Latn-ZZ",
    		amo: "amo-Latn-NG",
    		amp: "amp-Latn-ZZ",
    		an: "an-Latn-ES",
    		anc: "anc-Latn-ZZ",
    		ank: "ank-Latn-ZZ",
    		ann: "ann-Latn-ZZ",
    		any: "any-Latn-ZZ",
    		aoj: "aoj-Latn-ZZ",
    		aom: "aom-Latn-ZZ",
    		aoz: "aoz-Latn-ID",
    		apc: "apc-Arab-ZZ",
    		apd: "apd-Arab-TG",
    		ape: "ape-Latn-ZZ",
    		apr: "apr-Latn-ZZ",
    		aps: "aps-Latn-ZZ",
    		apz: "apz-Latn-ZZ",
    		ar: "ar-Arab-EG",
    		arc: "arc-Armi-IR",
    		"arc-Nbat": "arc-Nbat-JO",
    		"arc-Palm": "arc-Palm-SY",
    		arh: "arh-Latn-ZZ",
    		arn: "arn-Latn-CL",
    		aro: "aro-Latn-BO",
    		arq: "arq-Arab-DZ",
    		ars: "ars-Arab-SA",
    		ary: "ary-Arab-MA",
    		arz: "arz-Arab-EG",
    		as: "as-Beng-IN",
    		asa: "asa-Latn-TZ",
    		ase: "ase-Sgnw-US",
    		asg: "asg-Latn-ZZ",
    		aso: "aso-Latn-ZZ",
    		ast: "ast-Latn-ES",
    		ata: "ata-Latn-ZZ",
    		atg: "atg-Latn-ZZ",
    		atj: "atj-Latn-CA",
    		auy: "auy-Latn-ZZ",
    		av: "av-Cyrl-RU",
    		avl: "avl-Arab-ZZ",
    		avn: "avn-Latn-ZZ",
    		avt: "avt-Latn-ZZ",
    		avu: "avu-Latn-ZZ",
    		awa: "awa-Deva-IN",
    		awb: "awb-Latn-ZZ",
    		awo: "awo-Latn-ZZ",
    		awx: "awx-Latn-ZZ",
    		ay: "ay-Latn-BO",
    		ayb: "ayb-Latn-ZZ",
    		az: "az-Latn-AZ",
    		"az-Arab": "az-Arab-IR",
    		"az-IQ": "az-Arab-IQ",
    		"az-IR": "az-Arab-IR",
    		"az-RU": "az-Cyrl-RU",
    		ba: "ba-Cyrl-RU",
    		bal: "bal-Arab-PK",
    		ban: "ban-Latn-ID",
    		bap: "bap-Deva-NP",
    		bar: "bar-Latn-AT",
    		bas: "bas-Latn-CM",
    		bav: "bav-Latn-ZZ",
    		bax: "bax-Bamu-CM",
    		bba: "bba-Latn-ZZ",
    		bbb: "bbb-Latn-ZZ",
    		bbc: "bbc-Latn-ID",
    		bbd: "bbd-Latn-ZZ",
    		bbj: "bbj-Latn-CM",
    		bbp: "bbp-Latn-ZZ",
    		bbr: "bbr-Latn-ZZ",
    		bcf: "bcf-Latn-ZZ",
    		bch: "bch-Latn-ZZ",
    		bci: "bci-Latn-CI",
    		bcm: "bcm-Latn-ZZ",
    		bcn: "bcn-Latn-ZZ",
    		bco: "bco-Latn-ZZ",
    		bcq: "bcq-Ethi-ZZ",
    		bcu: "bcu-Latn-ZZ",
    		bdd: "bdd-Latn-ZZ",
    		be: "be-Cyrl-BY",
    		bef: "bef-Latn-ZZ",
    		beh: "beh-Latn-ZZ",
    		bej: "bej-Arab-SD",
    		bem: "bem-Latn-ZM",
    		bet: "bet-Latn-ZZ",
    		bew: "bew-Latn-ID",
    		bex: "bex-Latn-ZZ",
    		bez: "bez-Latn-TZ",
    		bfd: "bfd-Latn-CM",
    		bfq: "bfq-Taml-IN",
    		bft: "bft-Arab-PK",
    		bfy: "bfy-Deva-IN",
    		bg: "bg-Cyrl-BG",
    		bgc: "bgc-Deva-IN",
    		bgn: "bgn-Arab-PK",
    		bgx: "bgx-Grek-TR",
    		bhb: "bhb-Deva-IN",
    		bhg: "bhg-Latn-ZZ",
    		bhi: "bhi-Deva-IN",
    		bhl: "bhl-Latn-ZZ",
    		bho: "bho-Deva-IN",
    		bhy: "bhy-Latn-ZZ",
    		bi: "bi-Latn-VU",
    		bib: "bib-Latn-ZZ",
    		big: "big-Latn-ZZ",
    		bik: "bik-Latn-PH",
    		bim: "bim-Latn-ZZ",
    		bin: "bin-Latn-NG",
    		bio: "bio-Latn-ZZ",
    		biq: "biq-Latn-ZZ",
    		bjh: "bjh-Latn-ZZ",
    		bji: "bji-Ethi-ZZ",
    		bjj: "bjj-Deva-IN",
    		bjn: "bjn-Latn-ID",
    		bjo: "bjo-Latn-ZZ",
    		bjr: "bjr-Latn-ZZ",
    		bjt: "bjt-Latn-SN",
    		bjz: "bjz-Latn-ZZ",
    		bkc: "bkc-Latn-ZZ",
    		bkm: "bkm-Latn-CM",
    		bkq: "bkq-Latn-ZZ",
    		bku: "bku-Latn-PH",
    		bkv: "bkv-Latn-ZZ",
    		blt: "blt-Tavt-VN",
    		bm: "bm-Latn-ML",
    		bmh: "bmh-Latn-ZZ",
    		bmk: "bmk-Latn-ZZ",
    		bmq: "bmq-Latn-ML",
    		bmu: "bmu-Latn-ZZ",
    		bn: "bn-Beng-BD",
    		bng: "bng-Latn-ZZ",
    		bnm: "bnm-Latn-ZZ",
    		bnp: "bnp-Latn-ZZ",
    		bo: "bo-Tibt-CN",
    		boj: "boj-Latn-ZZ",
    		bom: "bom-Latn-ZZ",
    		bon: "bon-Latn-ZZ",
    		bpy: "bpy-Beng-IN",
    		bqc: "bqc-Latn-ZZ",
    		bqi: "bqi-Arab-IR",
    		bqp: "bqp-Latn-ZZ",
    		bqv: "bqv-Latn-CI",
    		br: "br-Latn-FR",
    		bra: "bra-Deva-IN",
    		brh: "brh-Arab-PK",
    		brx: "brx-Deva-IN",
    		brz: "brz-Latn-ZZ",
    		bs: "bs-Latn-BA",
    		bsj: "bsj-Latn-ZZ",
    		bsq: "bsq-Bass-LR",
    		bss: "bss-Latn-CM",
    		bst: "bst-Ethi-ZZ",
    		bto: "bto-Latn-PH",
    		btt: "btt-Latn-ZZ",
    		btv: "btv-Deva-PK",
    		bua: "bua-Cyrl-RU",
    		buc: "buc-Latn-YT",
    		bud: "bud-Latn-ZZ",
    		bug: "bug-Latn-ID",
    		buk: "buk-Latn-ZZ",
    		bum: "bum-Latn-CM",
    		buo: "buo-Latn-ZZ",
    		bus: "bus-Latn-ZZ",
    		buu: "buu-Latn-ZZ",
    		bvb: "bvb-Latn-GQ",
    		bwd: "bwd-Latn-ZZ",
    		bwr: "bwr-Latn-ZZ",
    		bxh: "bxh-Latn-ZZ",
    		bye: "bye-Latn-ZZ",
    		byn: "byn-Ethi-ER",
    		byr: "byr-Latn-ZZ",
    		bys: "bys-Latn-ZZ",
    		byv: "byv-Latn-CM",
    		byx: "byx-Latn-ZZ",
    		bza: "bza-Latn-ZZ",
    		bze: "bze-Latn-ML",
    		bzf: "bzf-Latn-ZZ",
    		bzh: "bzh-Latn-ZZ",
    		bzw: "bzw-Latn-ZZ",
    		ca: "ca-Latn-ES",
    		can: "can-Latn-ZZ",
    		cbj: "cbj-Latn-ZZ",
    		cch: "cch-Latn-NG",
    		ccp: "ccp-Cakm-BD",
    		ce: "ce-Cyrl-RU",
    		ceb: "ceb-Latn-PH",
    		cfa: "cfa-Latn-ZZ",
    		cgg: "cgg-Latn-UG",
    		ch: "ch-Latn-GU",
    		chk: "chk-Latn-FM",
    		chm: "chm-Cyrl-RU",
    		cho: "cho-Latn-US",
    		chp: "chp-Latn-CA",
    		chr: "chr-Cher-US",
    		cic: "cic-Latn-US",
    		cja: "cja-Arab-KH",
    		cjm: "cjm-Cham-VN",
    		cjv: "cjv-Latn-ZZ",
    		ckb: "ckb-Arab-IQ",
    		ckl: "ckl-Latn-ZZ",
    		cko: "cko-Latn-ZZ",
    		cky: "cky-Latn-ZZ",
    		cla: "cla-Latn-ZZ",
    		cme: "cme-Latn-ZZ",
    		cmg: "cmg-Soyo-MN",
    		co: "co-Latn-FR",
    		cop: "cop-Copt-EG",
    		cps: "cps-Latn-PH",
    		cr: "cr-Cans-CA",
    		crh: "crh-Cyrl-UA",
    		crj: "crj-Cans-CA",
    		crk: "crk-Cans-CA",
    		crl: "crl-Cans-CA",
    		crm: "crm-Cans-CA",
    		crs: "crs-Latn-SC",
    		cs: "cs-Latn-CZ",
    		csb: "csb-Latn-PL",
    		csw: "csw-Cans-CA",
    		ctd: "ctd-Pauc-MM",
    		cu: "cu-Cyrl-RU",
    		"cu-Glag": "cu-Glag-BG",
    		cv: "cv-Cyrl-RU",
    		cy: "cy-Latn-GB",
    		da: "da-Latn-DK",
    		dad: "dad-Latn-ZZ",
    		daf: "daf-Latn-ZZ",
    		dag: "dag-Latn-ZZ",
    		dah: "dah-Latn-ZZ",
    		dak: "dak-Latn-US",
    		dar: "dar-Cyrl-RU",
    		dav: "dav-Latn-KE",
    		dbd: "dbd-Latn-ZZ",
    		dbq: "dbq-Latn-ZZ",
    		dcc: "dcc-Arab-IN",
    		ddn: "ddn-Latn-ZZ",
    		de: "de-Latn-DE",
    		ded: "ded-Latn-ZZ",
    		den: "den-Latn-CA",
    		dga: "dga-Latn-ZZ",
    		dgh: "dgh-Latn-ZZ",
    		dgi: "dgi-Latn-ZZ",
    		dgl: "dgl-Arab-ZZ",
    		dgr: "dgr-Latn-CA",
    		dgz: "dgz-Latn-ZZ",
    		dia: "dia-Latn-ZZ",
    		dje: "dje-Latn-NE",
    		dnj: "dnj-Latn-CI",
    		dob: "dob-Latn-ZZ",
    		doi: "doi-Arab-IN",
    		dop: "dop-Latn-ZZ",
    		dow: "dow-Latn-ZZ",
    		drh: "drh-Mong-CN",
    		dri: "dri-Latn-ZZ",
    		drs: "drs-Ethi-ZZ",
    		dsb: "dsb-Latn-DE",
    		dtm: "dtm-Latn-ML",
    		dtp: "dtp-Latn-MY",
    		dts: "dts-Latn-ZZ",
    		dty: "dty-Deva-NP",
    		dua: "dua-Latn-CM",
    		duc: "duc-Latn-ZZ",
    		dud: "dud-Latn-ZZ",
    		dug: "dug-Latn-ZZ",
    		dv: "dv-Thaa-MV",
    		dva: "dva-Latn-ZZ",
    		dww: "dww-Latn-ZZ",
    		dyo: "dyo-Latn-SN",
    		dyu: "dyu-Latn-BF",
    		dz: "dz-Tibt-BT",
    		dzg: "dzg-Latn-ZZ",
    		ebu: "ebu-Latn-KE",
    		ee: "ee-Latn-GH",
    		efi: "efi-Latn-NG",
    		egl: "egl-Latn-IT",
    		egy: "egy-Egyp-EG",
    		eka: "eka-Latn-ZZ",
    		eky: "eky-Kali-MM",
    		el: "el-Grek-GR",
    		ema: "ema-Latn-ZZ",
    		emi: "emi-Latn-ZZ",
    		en: "en-Latn-US",
    		"en-Shaw": "en-Shaw-GB",
    		enn: "enn-Latn-ZZ",
    		enq: "enq-Latn-ZZ",
    		eo: "eo-Latn-001",
    		eri: "eri-Latn-ZZ",
    		es: "es-Latn-ES",
    		esg: "esg-Gonm-IN",
    		esu: "esu-Latn-US",
    		et: "et-Latn-EE",
    		etr: "etr-Latn-ZZ",
    		ett: "ett-Ital-IT",
    		etu: "etu-Latn-ZZ",
    		etx: "etx-Latn-ZZ",
    		eu: "eu-Latn-ES",
    		ewo: "ewo-Latn-CM",
    		ext: "ext-Latn-ES",
    		fa: "fa-Arab-IR",
    		faa: "faa-Latn-ZZ",
    		fab: "fab-Latn-ZZ",
    		fag: "fag-Latn-ZZ",
    		fai: "fai-Latn-ZZ",
    		fan: "fan-Latn-GQ",
    		ff: "ff-Latn-SN",
    		"ff-Adlm": "ff-Adlm-GN",
    		ffi: "ffi-Latn-ZZ",
    		ffm: "ffm-Latn-ML",
    		fi: "fi-Latn-FI",
    		fia: "fia-Arab-SD",
    		fil: "fil-Latn-PH",
    		fit: "fit-Latn-SE",
    		fj: "fj-Latn-FJ",
    		flr: "flr-Latn-ZZ",
    		fmp: "fmp-Latn-ZZ",
    		fo: "fo-Latn-FO",
    		fod: "fod-Latn-ZZ",
    		fon: "fon-Latn-BJ",
    		"for": "for-Latn-ZZ",
    		fpe: "fpe-Latn-ZZ",
    		fqs: "fqs-Latn-ZZ",
    		fr: "fr-Latn-FR",
    		frc: "frc-Latn-US",
    		frp: "frp-Latn-FR",
    		frr: "frr-Latn-DE",
    		frs: "frs-Latn-DE",
    		fub: "fub-Arab-CM",
    		fud: "fud-Latn-WF",
    		fue: "fue-Latn-ZZ",
    		fuf: "fuf-Latn-GN",
    		fuh: "fuh-Latn-ZZ",
    		fuq: "fuq-Latn-NE",
    		fur: "fur-Latn-IT",
    		fuv: "fuv-Latn-NG",
    		fuy: "fuy-Latn-ZZ",
    		fvr: "fvr-Latn-SD",
    		fy: "fy-Latn-NL",
    		ga: "ga-Latn-IE",
    		gaa: "gaa-Latn-GH",
    		gaf: "gaf-Latn-ZZ",
    		gag: "gag-Latn-MD",
    		gah: "gah-Latn-ZZ",
    		gaj: "gaj-Latn-ZZ",
    		gam: "gam-Latn-ZZ",
    		gan: "gan-Hans-CN",
    		gaw: "gaw-Latn-ZZ",
    		gay: "gay-Latn-ID",
    		gba: "gba-Latn-ZZ",
    		gbf: "gbf-Latn-ZZ",
    		gbm: "gbm-Deva-IN",
    		gby: "gby-Latn-ZZ",
    		gbz: "gbz-Arab-IR",
    		gcr: "gcr-Latn-GF",
    		gd: "gd-Latn-GB",
    		gde: "gde-Latn-ZZ",
    		gdn: "gdn-Latn-ZZ",
    		gdr: "gdr-Latn-ZZ",
    		geb: "geb-Latn-ZZ",
    		gej: "gej-Latn-ZZ",
    		gel: "gel-Latn-ZZ",
    		gez: "gez-Ethi-ET",
    		gfk: "gfk-Latn-ZZ",
    		ggn: "ggn-Deva-NP",
    		ghs: "ghs-Latn-ZZ",
    		gil: "gil-Latn-KI",
    		gim: "gim-Latn-ZZ",
    		gjk: "gjk-Arab-PK",
    		gjn: "gjn-Latn-ZZ",
    		gju: "gju-Arab-PK",
    		gkn: "gkn-Latn-ZZ",
    		gkp: "gkp-Latn-ZZ",
    		gl: "gl-Latn-ES",
    		glk: "glk-Arab-IR",
    		gmm: "gmm-Latn-ZZ",
    		gmv: "gmv-Ethi-ZZ",
    		gn: "gn-Latn-PY",
    		gnd: "gnd-Latn-ZZ",
    		gng: "gng-Latn-ZZ",
    		god: "god-Latn-ZZ",
    		gof: "gof-Ethi-ZZ",
    		goi: "goi-Latn-ZZ",
    		gom: "gom-Deva-IN",
    		gon: "gon-Telu-IN",
    		gor: "gor-Latn-ID",
    		gos: "gos-Latn-NL",
    		got: "got-Goth-UA",
    		grb: "grb-Latn-ZZ",
    		grc: "grc-Cprt-CY",
    		"grc-Linb": "grc-Linb-GR",
    		grt: "grt-Beng-IN",
    		grw: "grw-Latn-ZZ",
    		gsw: "gsw-Latn-CH",
    		gu: "gu-Gujr-IN",
    		gub: "gub-Latn-BR",
    		guc: "guc-Latn-CO",
    		gud: "gud-Latn-ZZ",
    		gur: "gur-Latn-GH",
    		guw: "guw-Latn-ZZ",
    		gux: "gux-Latn-ZZ",
    		guz: "guz-Latn-KE",
    		gv: "gv-Latn-IM",
    		gvf: "gvf-Latn-ZZ",
    		gvr: "gvr-Deva-NP",
    		gvs: "gvs-Latn-ZZ",
    		gwc: "gwc-Arab-ZZ",
    		gwi: "gwi-Latn-CA",
    		gwt: "gwt-Arab-ZZ",
    		gyi: "gyi-Latn-ZZ",
    		ha: "ha-Latn-NG",
    		"ha-CM": "ha-Arab-CM",
    		"ha-SD": "ha-Arab-SD",
    		hag: "hag-Latn-ZZ",
    		hak: "hak-Hans-CN",
    		ham: "ham-Latn-ZZ",
    		haw: "haw-Latn-US",
    		haz: "haz-Arab-AF",
    		hbb: "hbb-Latn-ZZ",
    		hdy: "hdy-Ethi-ZZ",
    		he: "he-Hebr-IL",
    		hhy: "hhy-Latn-ZZ",
    		hi: "hi-Deva-IN",
    		hia: "hia-Latn-ZZ",
    		hif: "hif-Latn-FJ",
    		hig: "hig-Latn-ZZ",
    		hih: "hih-Latn-ZZ",
    		hil: "hil-Latn-PH",
    		hla: "hla-Latn-ZZ",
    		hlu: "hlu-Hluw-TR",
    		hmd: "hmd-Plrd-CN",
    		hmt: "hmt-Latn-ZZ",
    		hnd: "hnd-Arab-PK",
    		hne: "hne-Deva-IN",
    		hnj: "hnj-Hmng-LA",
    		hnn: "hnn-Latn-PH",
    		hno: "hno-Arab-PK",
    		ho: "ho-Latn-PG",
    		hoc: "hoc-Deva-IN",
    		hoj: "hoj-Deva-IN",
    		hot: "hot-Latn-ZZ",
    		hr: "hr-Latn-HR",
    		hsb: "hsb-Latn-DE",
    		hsn: "hsn-Hans-CN",
    		ht: "ht-Latn-HT",
    		hu: "hu-Latn-HU",
    		hui: "hui-Latn-ZZ",
    		hy: "hy-Armn-AM",
    		hz: "hz-Latn-NA",
    		ia: "ia-Latn-001",
    		ian: "ian-Latn-ZZ",
    		iar: "iar-Latn-ZZ",
    		iba: "iba-Latn-MY",
    		ibb: "ibb-Latn-NG",
    		iby: "iby-Latn-ZZ",
    		ica: "ica-Latn-ZZ",
    		ich: "ich-Latn-ZZ",
    		id: "id-Latn-ID",
    		idd: "idd-Latn-ZZ",
    		idi: "idi-Latn-ZZ",
    		idu: "idu-Latn-ZZ",
    		ife: "ife-Latn-TG",
    		ig: "ig-Latn-NG",
    		igb: "igb-Latn-ZZ",
    		ige: "ige-Latn-ZZ",
    		ii: "ii-Yiii-CN",
    		ijj: "ijj-Latn-ZZ",
    		ik: "ik-Latn-US",
    		ikk: "ikk-Latn-ZZ",
    		ikt: "ikt-Latn-CA",
    		ikw: "ikw-Latn-ZZ",
    		ikx: "ikx-Latn-ZZ",
    		ilo: "ilo-Latn-PH",
    		imo: "imo-Latn-ZZ",
    		"in": "in-Latn-ID",
    		inh: "inh-Cyrl-RU",
    		io: "io-Latn-001",
    		iou: "iou-Latn-ZZ",
    		iri: "iri-Latn-ZZ",
    		is: "is-Latn-IS",
    		it: "it-Latn-IT",
    		iu: "iu-Cans-CA",
    		iw: "iw-Hebr-IL",
    		iwm: "iwm-Latn-ZZ",
    		iws: "iws-Latn-ZZ",
    		izh: "izh-Latn-RU",
    		izi: "izi-Latn-ZZ",
    		ja: "ja-Jpan-JP",
    		jab: "jab-Latn-ZZ",
    		jam: "jam-Latn-JM",
    		jbo: "jbo-Latn-001",
    		jbu: "jbu-Latn-ZZ",
    		jen: "jen-Latn-ZZ",
    		jgk: "jgk-Latn-ZZ",
    		jgo: "jgo-Latn-CM",
    		ji: "ji-Hebr-UA",
    		jib: "jib-Latn-ZZ",
    		jmc: "jmc-Latn-TZ",
    		jml: "jml-Deva-NP",
    		jra: "jra-Latn-ZZ",
    		jut: "jut-Latn-DK",
    		jv: "jv-Latn-ID",
    		jw: "jw-Latn-ID",
    		ka: "ka-Geor-GE",
    		kaa: "kaa-Cyrl-UZ",
    		kab: "kab-Latn-DZ",
    		kac: "kac-Latn-MM",
    		kad: "kad-Latn-ZZ",
    		kai: "kai-Latn-ZZ",
    		kaj: "kaj-Latn-NG",
    		kam: "kam-Latn-KE",
    		kao: "kao-Latn-ML",
    		kbd: "kbd-Cyrl-RU",
    		kbm: "kbm-Latn-ZZ",
    		kbp: "kbp-Latn-ZZ",
    		kbq: "kbq-Latn-ZZ",
    		kbx: "kbx-Latn-ZZ",
    		kby: "kby-Arab-NE",
    		kcg: "kcg-Latn-NG",
    		kck: "kck-Latn-ZW",
    		kcl: "kcl-Latn-ZZ",
    		kct: "kct-Latn-ZZ",
    		kde: "kde-Latn-TZ",
    		kdh: "kdh-Arab-TG",
    		kdl: "kdl-Latn-ZZ",
    		kdt: "kdt-Thai-TH",
    		kea: "kea-Latn-CV",
    		ken: "ken-Latn-CM",
    		kez: "kez-Latn-ZZ",
    		kfo: "kfo-Latn-CI",
    		kfr: "kfr-Deva-IN",
    		kfy: "kfy-Deva-IN",
    		kg: "kg-Latn-CD",
    		kge: "kge-Latn-ID",
    		kgf: "kgf-Latn-ZZ",
    		kgp: "kgp-Latn-BR",
    		kha: "kha-Latn-IN",
    		khb: "khb-Talu-CN",
    		khn: "khn-Deva-IN",
    		khq: "khq-Latn-ML",
    		khs: "khs-Latn-ZZ",
    		kht: "kht-Mymr-IN",
    		khw: "khw-Arab-PK",
    		khz: "khz-Latn-ZZ",
    		ki: "ki-Latn-KE",
    		kij: "kij-Latn-ZZ",
    		kiu: "kiu-Latn-TR",
    		kiw: "kiw-Latn-ZZ",
    		kj: "kj-Latn-NA",
    		kjd: "kjd-Latn-ZZ",
    		kjg: "kjg-Laoo-LA",
    		kjs: "kjs-Latn-ZZ",
    		kjy: "kjy-Latn-ZZ",
    		kk: "kk-Cyrl-KZ",
    		"kk-AF": "kk-Arab-AF",
    		"kk-Arab": "kk-Arab-CN",
    		"kk-CN": "kk-Arab-CN",
    		"kk-IR": "kk-Arab-IR",
    		"kk-MN": "kk-Arab-MN",
    		kkc: "kkc-Latn-ZZ",
    		kkj: "kkj-Latn-CM",
    		kl: "kl-Latn-GL",
    		kln: "kln-Latn-KE",
    		klq: "klq-Latn-ZZ",
    		klt: "klt-Latn-ZZ",
    		klx: "klx-Latn-ZZ",
    		km: "km-Khmr-KH",
    		kmb: "kmb-Latn-AO",
    		kmh: "kmh-Latn-ZZ",
    		kmo: "kmo-Latn-ZZ",
    		kms: "kms-Latn-ZZ",
    		kmu: "kmu-Latn-ZZ",
    		kmw: "kmw-Latn-ZZ",
    		kn: "kn-Knda-IN",
    		knf: "knf-Latn-GW",
    		knp: "knp-Latn-ZZ",
    		ko: "ko-Kore-KR",
    		koi: "koi-Cyrl-RU",
    		kok: "kok-Deva-IN",
    		kol: "kol-Latn-ZZ",
    		kos: "kos-Latn-FM",
    		koz: "koz-Latn-ZZ",
    		kpe: "kpe-Latn-LR",
    		kpf: "kpf-Latn-ZZ",
    		kpo: "kpo-Latn-ZZ",
    		kpr: "kpr-Latn-ZZ",
    		kpx: "kpx-Latn-ZZ",
    		kqb: "kqb-Latn-ZZ",
    		kqf: "kqf-Latn-ZZ",
    		kqs: "kqs-Latn-ZZ",
    		kqy: "kqy-Ethi-ZZ",
    		kr: "kr-Latn-ZZ",
    		krc: "krc-Cyrl-RU",
    		kri: "kri-Latn-SL",
    		krj: "krj-Latn-PH",
    		krl: "krl-Latn-RU",
    		krs: "krs-Latn-ZZ",
    		kru: "kru-Deva-IN",
    		ks: "ks-Arab-IN",
    		ksb: "ksb-Latn-TZ",
    		ksd: "ksd-Latn-ZZ",
    		ksf: "ksf-Latn-CM",
    		ksh: "ksh-Latn-DE",
    		ksj: "ksj-Latn-ZZ",
    		ksr: "ksr-Latn-ZZ",
    		ktb: "ktb-Ethi-ZZ",
    		ktm: "ktm-Latn-ZZ",
    		kto: "kto-Latn-ZZ",
    		ktr: "ktr-Latn-MY",
    		ku: "ku-Latn-TR",
    		"ku-Arab": "ku-Arab-IQ",
    		"ku-LB": "ku-Arab-LB",
    		kub: "kub-Latn-ZZ",
    		kud: "kud-Latn-ZZ",
    		kue: "kue-Latn-ZZ",
    		kuj: "kuj-Latn-ZZ",
    		kum: "kum-Cyrl-RU",
    		kun: "kun-Latn-ZZ",
    		kup: "kup-Latn-ZZ",
    		kus: "kus-Latn-ZZ",
    		kv: "kv-Cyrl-RU",
    		kvg: "kvg-Latn-ZZ",
    		kvr: "kvr-Latn-ID",
    		kvx: "kvx-Arab-PK",
    		kw: "kw-Latn-GB",
    		kwj: "kwj-Latn-ZZ",
    		kwo: "kwo-Latn-ZZ",
    		kwq: "kwq-Latn-ZZ",
    		kxa: "kxa-Latn-ZZ",
    		kxc: "kxc-Ethi-ZZ",
    		kxe: "kxe-Latn-ZZ",
    		kxm: "kxm-Thai-TH",
    		kxp: "kxp-Arab-PK",
    		kxw: "kxw-Latn-ZZ",
    		kxz: "kxz-Latn-ZZ",
    		ky: "ky-Cyrl-KG",
    		"ky-Arab": "ky-Arab-CN",
    		"ky-CN": "ky-Arab-CN",
    		"ky-Latn": "ky-Latn-TR",
    		"ky-TR": "ky-Latn-TR",
    		kye: "kye-Latn-ZZ",
    		kyx: "kyx-Latn-ZZ",
    		kzj: "kzj-Latn-MY",
    		kzr: "kzr-Latn-ZZ",
    		kzt: "kzt-Latn-MY",
    		la: "la-Latn-VA",
    		lab: "lab-Lina-GR",
    		lad: "lad-Hebr-IL",
    		lag: "lag-Latn-TZ",
    		lah: "lah-Arab-PK",
    		laj: "laj-Latn-UG",
    		las: "las-Latn-ZZ",
    		lb: "lb-Latn-LU",
    		lbe: "lbe-Cyrl-RU",
    		lbu: "lbu-Latn-ZZ",
    		lbw: "lbw-Latn-ID",
    		lcm: "lcm-Latn-ZZ",
    		lcp: "lcp-Thai-CN",
    		ldb: "ldb-Latn-ZZ",
    		led: "led-Latn-ZZ",
    		lee: "lee-Latn-ZZ",
    		lem: "lem-Latn-ZZ",
    		lep: "lep-Lepc-IN",
    		leq: "leq-Latn-ZZ",
    		leu: "leu-Latn-ZZ",
    		lez: "lez-Cyrl-RU",
    		lg: "lg-Latn-UG",
    		lgg: "lgg-Latn-ZZ",
    		li: "li-Latn-NL",
    		lia: "lia-Latn-ZZ",
    		lid: "lid-Latn-ZZ",
    		lif: "lif-Deva-NP",
    		"lif-Limb": "lif-Limb-IN",
    		lig: "lig-Latn-ZZ",
    		lih: "lih-Latn-ZZ",
    		lij: "lij-Latn-IT",
    		lis: "lis-Lisu-CN",
    		ljp: "ljp-Latn-ID",
    		lki: "lki-Arab-IR",
    		lkt: "lkt-Latn-US",
    		lle: "lle-Latn-ZZ",
    		lln: "lln-Latn-ZZ",
    		lmn: "lmn-Telu-IN",
    		lmo: "lmo-Latn-IT",
    		lmp: "lmp-Latn-ZZ",
    		ln: "ln-Latn-CD",
    		lns: "lns-Latn-ZZ",
    		lnu: "lnu-Latn-ZZ",
    		lo: "lo-Laoo-LA",
    		loj: "loj-Latn-ZZ",
    		lok: "lok-Latn-ZZ",
    		lol: "lol-Latn-CD",
    		lor: "lor-Latn-ZZ",
    		los: "los-Latn-ZZ",
    		loz: "loz-Latn-ZM",
    		lrc: "lrc-Arab-IR",
    		lt: "lt-Latn-LT",
    		ltg: "ltg-Latn-LV",
    		lu: "lu-Latn-CD",
    		lua: "lua-Latn-CD",
    		luo: "luo-Latn-KE",
    		luy: "luy-Latn-KE",
    		luz: "luz-Arab-IR",
    		lv: "lv-Latn-LV",
    		lwl: "lwl-Thai-TH",
    		lzh: "lzh-Hans-CN",
    		lzz: "lzz-Latn-TR",
    		mad: "mad-Latn-ID",
    		maf: "maf-Latn-CM",
    		mag: "mag-Deva-IN",
    		mai: "mai-Deva-IN",
    		mak: "mak-Latn-ID",
    		man: "man-Latn-GM",
    		"man-GN": "man-Nkoo-GN",
    		"man-Nkoo": "man-Nkoo-GN",
    		mas: "mas-Latn-KE",
    		maw: "maw-Latn-ZZ",
    		maz: "maz-Latn-MX",
    		mbh: "mbh-Latn-ZZ",
    		mbo: "mbo-Latn-ZZ",
    		mbq: "mbq-Latn-ZZ",
    		mbu: "mbu-Latn-ZZ",
    		mbw: "mbw-Latn-ZZ",
    		mci: "mci-Latn-ZZ",
    		mcp: "mcp-Latn-ZZ",
    		mcq: "mcq-Latn-ZZ",
    		mcr: "mcr-Latn-ZZ",
    		mcu: "mcu-Latn-ZZ",
    		mda: "mda-Latn-ZZ",
    		mde: "mde-Arab-ZZ",
    		mdf: "mdf-Cyrl-RU",
    		mdh: "mdh-Latn-PH",
    		mdj: "mdj-Latn-ZZ",
    		mdr: "mdr-Latn-ID",
    		mdx: "mdx-Ethi-ZZ",
    		med: "med-Latn-ZZ",
    		mee: "mee-Latn-ZZ",
    		mek: "mek-Latn-ZZ",
    		men: "men-Latn-SL",
    		mer: "mer-Latn-KE",
    		met: "met-Latn-ZZ",
    		meu: "meu-Latn-ZZ",
    		mfa: "mfa-Arab-TH",
    		mfe: "mfe-Latn-MU",
    		mfn: "mfn-Latn-ZZ",
    		mfo: "mfo-Latn-ZZ",
    		mfq: "mfq-Latn-ZZ",
    		mg: "mg-Latn-MG",
    		mgh: "mgh-Latn-MZ",
    		mgl: "mgl-Latn-ZZ",
    		mgo: "mgo-Latn-CM",
    		mgp: "mgp-Deva-NP",
    		mgy: "mgy-Latn-TZ",
    		mh: "mh-Latn-MH",
    		mhi: "mhi-Latn-ZZ",
    		mhl: "mhl-Latn-ZZ",
    		mi: "mi-Latn-NZ",
    		mif: "mif-Latn-ZZ",
    		min: "min-Latn-ID",
    		mis: "mis-Hatr-IQ",
    		"mis-Medf": "mis-Medf-NG",
    		miw: "miw-Latn-ZZ",
    		mk: "mk-Cyrl-MK",
    		mki: "mki-Arab-ZZ",
    		mkl: "mkl-Latn-ZZ",
    		mkp: "mkp-Latn-ZZ",
    		mkw: "mkw-Latn-ZZ",
    		ml: "ml-Mlym-IN",
    		mle: "mle-Latn-ZZ",
    		mlp: "mlp-Latn-ZZ",
    		mls: "mls-Latn-SD",
    		mmo: "mmo-Latn-ZZ",
    		mmu: "mmu-Latn-ZZ",
    		mmx: "mmx-Latn-ZZ",
    		mn: "mn-Cyrl-MN",
    		"mn-CN": "mn-Mong-CN",
    		"mn-Mong": "mn-Mong-CN",
    		mna: "mna-Latn-ZZ",
    		mnf: "mnf-Latn-ZZ",
    		mni: "mni-Beng-IN",
    		mnw: "mnw-Mymr-MM",
    		mo: "mo-Latn-RO",
    		moa: "moa-Latn-ZZ",
    		moe: "moe-Latn-CA",
    		moh: "moh-Latn-CA",
    		mos: "mos-Latn-BF",
    		mox: "mox-Latn-ZZ",
    		mpp: "mpp-Latn-ZZ",
    		mps: "mps-Latn-ZZ",
    		mpt: "mpt-Latn-ZZ",
    		mpx: "mpx-Latn-ZZ",
    		mql: "mql-Latn-ZZ",
    		mr: "mr-Deva-IN",
    		mrd: "mrd-Deva-NP",
    		mrj: "mrj-Cyrl-RU",
    		mro: "mro-Mroo-BD",
    		ms: "ms-Latn-MY",
    		"ms-CC": "ms-Arab-CC",
    		"ms-ID": "ms-Arab-ID",
    		mt: "mt-Latn-MT",
    		mtc: "mtc-Latn-ZZ",
    		mtf: "mtf-Latn-ZZ",
    		mti: "mti-Latn-ZZ",
    		mtr: "mtr-Deva-IN",
    		mua: "mua-Latn-CM",
    		mur: "mur-Latn-ZZ",
    		mus: "mus-Latn-US",
    		mva: "mva-Latn-ZZ",
    		mvn: "mvn-Latn-ZZ",
    		mvy: "mvy-Arab-PK",
    		mwk: "mwk-Latn-ML",
    		mwr: "mwr-Deva-IN",
    		mwv: "mwv-Latn-ID",
    		mww: "mww-Hmnp-US",
    		mxc: "mxc-Latn-ZW",
    		mxm: "mxm-Latn-ZZ",
    		my: "my-Mymr-MM",
    		myk: "myk-Latn-ZZ",
    		mym: "mym-Ethi-ZZ",
    		myv: "myv-Cyrl-RU",
    		myw: "myw-Latn-ZZ",
    		myx: "myx-Latn-UG",
    		myz: "myz-Mand-IR",
    		mzk: "mzk-Latn-ZZ",
    		mzm: "mzm-Latn-ZZ",
    		mzn: "mzn-Arab-IR",
    		mzp: "mzp-Latn-ZZ",
    		mzw: "mzw-Latn-ZZ",
    		mzz: "mzz-Latn-ZZ",
    		na: "na-Latn-NR",
    		nac: "nac-Latn-ZZ",
    		naf: "naf-Latn-ZZ",
    		nak: "nak-Latn-ZZ",
    		nan: "nan-Hans-CN",
    		nap: "nap-Latn-IT",
    		naq: "naq-Latn-NA",
    		nas: "nas-Latn-ZZ",
    		nb: "nb-Latn-NO",
    		nca: "nca-Latn-ZZ",
    		nce: "nce-Latn-ZZ",
    		ncf: "ncf-Latn-ZZ",
    		nch: "nch-Latn-MX",
    		nco: "nco-Latn-ZZ",
    		ncu: "ncu-Latn-ZZ",
    		nd: "nd-Latn-ZW",
    		ndc: "ndc-Latn-MZ",
    		nds: "nds-Latn-DE",
    		ne: "ne-Deva-NP",
    		neb: "neb-Latn-ZZ",
    		"new": "new-Deva-NP",
    		nex: "nex-Latn-ZZ",
    		nfr: "nfr-Latn-ZZ",
    		ng: "ng-Latn-NA",
    		nga: "nga-Latn-ZZ",
    		ngb: "ngb-Latn-ZZ",
    		ngl: "ngl-Latn-MZ",
    		nhb: "nhb-Latn-ZZ",
    		nhe: "nhe-Latn-MX",
    		nhw: "nhw-Latn-MX",
    		nif: "nif-Latn-ZZ",
    		nii: "nii-Latn-ZZ",
    		nij: "nij-Latn-ID",
    		nin: "nin-Latn-ZZ",
    		niu: "niu-Latn-NU",
    		niy: "niy-Latn-ZZ",
    		niz: "niz-Latn-ZZ",
    		njo: "njo-Latn-IN",
    		nkg: "nkg-Latn-ZZ",
    		nko: "nko-Latn-ZZ",
    		nl: "nl-Latn-NL",
    		nmg: "nmg-Latn-CM",
    		nmz: "nmz-Latn-ZZ",
    		nn: "nn-Latn-NO",
    		nnf: "nnf-Latn-ZZ",
    		nnh: "nnh-Latn-CM",
    		nnk: "nnk-Latn-ZZ",
    		nnm: "nnm-Latn-ZZ",
    		nnp: "nnp-Wcho-IN",
    		no: "no-Latn-NO",
    		nod: "nod-Lana-TH",
    		noe: "noe-Deva-IN",
    		non: "non-Runr-SE",
    		nop: "nop-Latn-ZZ",
    		nou: "nou-Latn-ZZ",
    		nqo: "nqo-Nkoo-GN",
    		nr: "nr-Latn-ZA",
    		nrb: "nrb-Latn-ZZ",
    		nsk: "nsk-Cans-CA",
    		nsn: "nsn-Latn-ZZ",
    		nso: "nso-Latn-ZA",
    		nss: "nss-Latn-ZZ",
    		ntm: "ntm-Latn-ZZ",
    		ntr: "ntr-Latn-ZZ",
    		nui: "nui-Latn-ZZ",
    		nup: "nup-Latn-ZZ",
    		nus: "nus-Latn-SS",
    		nuv: "nuv-Latn-ZZ",
    		nux: "nux-Latn-ZZ",
    		nv: "nv-Latn-US",
    		nwb: "nwb-Latn-ZZ",
    		nxq: "nxq-Latn-CN",
    		nxr: "nxr-Latn-ZZ",
    		ny: "ny-Latn-MW",
    		nym: "nym-Latn-TZ",
    		nyn: "nyn-Latn-UG",
    		nzi: "nzi-Latn-GH",
    		oc: "oc-Latn-FR",
    		ogc: "ogc-Latn-ZZ",
    		okr: "okr-Latn-ZZ",
    		okv: "okv-Latn-ZZ",
    		om: "om-Latn-ET",
    		ong: "ong-Latn-ZZ",
    		onn: "onn-Latn-ZZ",
    		ons: "ons-Latn-ZZ",
    		opm: "opm-Latn-ZZ",
    		or: "or-Orya-IN",
    		oro: "oro-Latn-ZZ",
    		oru: "oru-Arab-ZZ",
    		os: "os-Cyrl-GE",
    		osa: "osa-Osge-US",
    		ota: "ota-Arab-ZZ",
    		otk: "otk-Orkh-MN",
    		ozm: "ozm-Latn-ZZ",
    		pa: "pa-Guru-IN",
    		"pa-Arab": "pa-Arab-PK",
    		"pa-PK": "pa-Arab-PK",
    		pag: "pag-Latn-PH",
    		pal: "pal-Phli-IR",
    		"pal-Phlp": "pal-Phlp-CN",
    		pam: "pam-Latn-PH",
    		pap: "pap-Latn-AW",
    		pau: "pau-Latn-PW",
    		pbi: "pbi-Latn-ZZ",
    		pcd: "pcd-Latn-FR",
    		pcm: "pcm-Latn-NG",
    		pdc: "pdc-Latn-US",
    		pdt: "pdt-Latn-CA",
    		ped: "ped-Latn-ZZ",
    		peo: "peo-Xpeo-IR",
    		pex: "pex-Latn-ZZ",
    		pfl: "pfl-Latn-DE",
    		phl: "phl-Arab-ZZ",
    		phn: "phn-Phnx-LB",
    		pil: "pil-Latn-ZZ",
    		pip: "pip-Latn-ZZ",
    		pka: "pka-Brah-IN",
    		pko: "pko-Latn-KE",
    		pl: "pl-Latn-PL",
    		pla: "pla-Latn-ZZ",
    		pms: "pms-Latn-IT",
    		png: "png-Latn-ZZ",
    		pnn: "pnn-Latn-ZZ",
    		pnt: "pnt-Grek-GR",
    		pon: "pon-Latn-FM",
    		ppa: "ppa-Deva-IN",
    		ppo: "ppo-Latn-ZZ",
    		pra: "pra-Khar-PK",
    		prd: "prd-Arab-IR",
    		prg: "prg-Latn-001",
    		ps: "ps-Arab-AF",
    		pss: "pss-Latn-ZZ",
    		pt: "pt-Latn-BR",
    		ptp: "ptp-Latn-ZZ",
    		puu: "puu-Latn-GA",
    		pwa: "pwa-Latn-ZZ",
    		qu: "qu-Latn-PE",
    		quc: "quc-Latn-GT",
    		qug: "qug-Latn-EC",
    		rai: "rai-Latn-ZZ",
    		raj: "raj-Deva-IN",
    		rao: "rao-Latn-ZZ",
    		rcf: "rcf-Latn-RE",
    		rej: "rej-Latn-ID",
    		rel: "rel-Latn-ZZ",
    		res: "res-Latn-ZZ",
    		rgn: "rgn-Latn-IT",
    		rhg: "rhg-Arab-MM",
    		ria: "ria-Latn-IN",
    		rif: "rif-Tfng-MA",
    		"rif-NL": "rif-Latn-NL",
    		rjs: "rjs-Deva-NP",
    		rkt: "rkt-Beng-BD",
    		rm: "rm-Latn-CH",
    		rmf: "rmf-Latn-FI",
    		rmo: "rmo-Latn-CH",
    		rmt: "rmt-Arab-IR",
    		rmu: "rmu-Latn-SE",
    		rn: "rn-Latn-BI",
    		rna: "rna-Latn-ZZ",
    		rng: "rng-Latn-MZ",
    		ro: "ro-Latn-RO",
    		rob: "rob-Latn-ID",
    		rof: "rof-Latn-TZ",
    		roo: "roo-Latn-ZZ",
    		rro: "rro-Latn-ZZ",
    		rtm: "rtm-Latn-FJ",
    		ru: "ru-Cyrl-RU",
    		rue: "rue-Cyrl-UA",
    		rug: "rug-Latn-SB",
    		rw: "rw-Latn-RW",
    		rwk: "rwk-Latn-TZ",
    		rwo: "rwo-Latn-ZZ",
    		ryu: "ryu-Kana-JP",
    		sa: "sa-Deva-IN",
    		saf: "saf-Latn-GH",
    		sah: "sah-Cyrl-RU",
    		saq: "saq-Latn-KE",
    		sas: "sas-Latn-ID",
    		sat: "sat-Latn-IN",
    		sav: "sav-Latn-SN",
    		saz: "saz-Saur-IN",
    		sba: "sba-Latn-ZZ",
    		sbe: "sbe-Latn-ZZ",
    		sbp: "sbp-Latn-TZ",
    		sc: "sc-Latn-IT",
    		sck: "sck-Deva-IN",
    		scl: "scl-Arab-ZZ",
    		scn: "scn-Latn-IT",
    		sco: "sco-Latn-GB",
    		scs: "scs-Latn-CA",
    		sd: "sd-Arab-PK",
    		"sd-Deva": "sd-Deva-IN",
    		"sd-Khoj": "sd-Khoj-IN",
    		"sd-Sind": "sd-Sind-IN",
    		sdc: "sdc-Latn-IT",
    		sdh: "sdh-Arab-IR",
    		se: "se-Latn-NO",
    		sef: "sef-Latn-CI",
    		seh: "seh-Latn-MZ",
    		sei: "sei-Latn-MX",
    		ses: "ses-Latn-ML",
    		sg: "sg-Latn-CF",
    		sga: "sga-Ogam-IE",
    		sgs: "sgs-Latn-LT",
    		sgw: "sgw-Ethi-ZZ",
    		sgz: "sgz-Latn-ZZ",
    		shi: "shi-Tfng-MA",
    		shk: "shk-Latn-ZZ",
    		shn: "shn-Mymr-MM",
    		shu: "shu-Arab-ZZ",
    		si: "si-Sinh-LK",
    		sid: "sid-Latn-ET",
    		sig: "sig-Latn-ZZ",
    		sil: "sil-Latn-ZZ",
    		sim: "sim-Latn-ZZ",
    		sjr: "sjr-Latn-ZZ",
    		sk: "sk-Latn-SK",
    		skc: "skc-Latn-ZZ",
    		skr: "skr-Arab-PK",
    		sks: "sks-Latn-ZZ",
    		sl: "sl-Latn-SI",
    		sld: "sld-Latn-ZZ",
    		sli: "sli-Latn-PL",
    		sll: "sll-Latn-ZZ",
    		sly: "sly-Latn-ID",
    		sm: "sm-Latn-WS",
    		sma: "sma-Latn-SE",
    		smj: "smj-Latn-SE",
    		smn: "smn-Latn-FI",
    		smp: "smp-Samr-IL",
    		smq: "smq-Latn-ZZ",
    		sms: "sms-Latn-FI",
    		sn: "sn-Latn-ZW",
    		snc: "snc-Latn-ZZ",
    		snk: "snk-Latn-ML",
    		snp: "snp-Latn-ZZ",
    		snx: "snx-Latn-ZZ",
    		sny: "sny-Latn-ZZ",
    		so: "so-Latn-SO",
    		sog: "sog-Sogd-UZ",
    		sok: "sok-Latn-ZZ",
    		soq: "soq-Latn-ZZ",
    		sou: "sou-Thai-TH",
    		soy: "soy-Latn-ZZ",
    		spd: "spd-Latn-ZZ",
    		spl: "spl-Latn-ZZ",
    		sps: "sps-Latn-ZZ",
    		sq: "sq-Latn-AL",
    		sr: "sr-Cyrl-RS",
    		"sr-ME": "sr-Latn-ME",
    		"sr-RO": "sr-Latn-RO",
    		"sr-RU": "sr-Latn-RU",
    		"sr-TR": "sr-Latn-TR",
    		srb: "srb-Sora-IN",
    		srn: "srn-Latn-SR",
    		srr: "srr-Latn-SN",
    		srx: "srx-Deva-IN",
    		ss: "ss-Latn-ZA",
    		ssd: "ssd-Latn-ZZ",
    		ssg: "ssg-Latn-ZZ",
    		ssy: "ssy-Latn-ER",
    		st: "st-Latn-ZA",
    		stk: "stk-Latn-ZZ",
    		stq: "stq-Latn-DE",
    		su: "su-Latn-ID",
    		sua: "sua-Latn-ZZ",
    		sue: "sue-Latn-ZZ",
    		suk: "suk-Latn-TZ",
    		sur: "sur-Latn-ZZ",
    		sus: "sus-Latn-GN",
    		sv: "sv-Latn-SE",
    		sw: "sw-Latn-TZ",
    		swb: "swb-Arab-YT",
    		swc: "swc-Latn-CD",
    		swg: "swg-Latn-DE",
    		swp: "swp-Latn-ZZ",
    		swv: "swv-Deva-IN",
    		sxn: "sxn-Latn-ID",
    		sxw: "sxw-Latn-ZZ",
    		syl: "syl-Beng-BD",
    		syr: "syr-Syrc-IQ",
    		szl: "szl-Latn-PL",
    		ta: "ta-Taml-IN",
    		taj: "taj-Deva-NP",
    		tal: "tal-Latn-ZZ",
    		tan: "tan-Latn-ZZ",
    		taq: "taq-Latn-ZZ",
    		tbc: "tbc-Latn-ZZ",
    		tbd: "tbd-Latn-ZZ",
    		tbf: "tbf-Latn-ZZ",
    		tbg: "tbg-Latn-ZZ",
    		tbo: "tbo-Latn-ZZ",
    		tbw: "tbw-Latn-PH",
    		tbz: "tbz-Latn-ZZ",
    		tci: "tci-Latn-ZZ",
    		tcy: "tcy-Knda-IN",
    		tdd: "tdd-Tale-CN",
    		tdg: "tdg-Deva-NP",
    		tdh: "tdh-Deva-NP",
    		tdu: "tdu-Latn-MY",
    		te: "te-Telu-IN",
    		ted: "ted-Latn-ZZ",
    		tem: "tem-Latn-SL",
    		teo: "teo-Latn-UG",
    		tet: "tet-Latn-TL",
    		tfi: "tfi-Latn-ZZ",
    		tg: "tg-Cyrl-TJ",
    		"tg-Arab": "tg-Arab-PK",
    		"tg-PK": "tg-Arab-PK",
    		tgc: "tgc-Latn-ZZ",
    		tgo: "tgo-Latn-ZZ",
    		tgu: "tgu-Latn-ZZ",
    		th: "th-Thai-TH",
    		thl: "thl-Deva-NP",
    		thq: "thq-Deva-NP",
    		thr: "thr-Deva-NP",
    		ti: "ti-Ethi-ET",
    		tif: "tif-Latn-ZZ",
    		tig: "tig-Ethi-ER",
    		tik: "tik-Latn-ZZ",
    		tim: "tim-Latn-ZZ",
    		tio: "tio-Latn-ZZ",
    		tiv: "tiv-Latn-NG",
    		tk: "tk-Latn-TM",
    		tkl: "tkl-Latn-TK",
    		tkr: "tkr-Latn-AZ",
    		tkt: "tkt-Deva-NP",
    		tl: "tl-Latn-PH",
    		tlf: "tlf-Latn-ZZ",
    		tlx: "tlx-Latn-ZZ",
    		tly: "tly-Latn-AZ",
    		tmh: "tmh-Latn-NE",
    		tmy: "tmy-Latn-ZZ",
    		tn: "tn-Latn-ZA",
    		tnh: "tnh-Latn-ZZ",
    		to: "to-Latn-TO",
    		tof: "tof-Latn-ZZ",
    		tog: "tog-Latn-MW",
    		toq: "toq-Latn-ZZ",
    		tpi: "tpi-Latn-PG",
    		tpm: "tpm-Latn-ZZ",
    		tpz: "tpz-Latn-ZZ",
    		tqo: "tqo-Latn-ZZ",
    		tr: "tr-Latn-TR",
    		tru: "tru-Latn-TR",
    		trv: "trv-Latn-TW",
    		trw: "trw-Arab-ZZ",
    		ts: "ts-Latn-ZA",
    		tsd: "tsd-Grek-GR",
    		tsf: "tsf-Deva-NP",
    		tsg: "tsg-Latn-PH",
    		tsj: "tsj-Tibt-BT",
    		tsw: "tsw-Latn-ZZ",
    		tt: "tt-Cyrl-RU",
    		ttd: "ttd-Latn-ZZ",
    		tte: "tte-Latn-ZZ",
    		ttj: "ttj-Latn-UG",
    		ttr: "ttr-Latn-ZZ",
    		tts: "tts-Thai-TH",
    		ttt: "ttt-Latn-AZ",
    		tuh: "tuh-Latn-ZZ",
    		tul: "tul-Latn-ZZ",
    		tum: "tum-Latn-MW",
    		tuq: "tuq-Latn-ZZ",
    		tvd: "tvd-Latn-ZZ",
    		tvl: "tvl-Latn-TV",
    		tvu: "tvu-Latn-ZZ",
    		twh: "twh-Latn-ZZ",
    		twq: "twq-Latn-NE",
    		txg: "txg-Tang-CN",
    		ty: "ty-Latn-PF",
    		tya: "tya-Latn-ZZ",
    		tyv: "tyv-Cyrl-RU",
    		tzm: "tzm-Latn-MA",
    		ubu: "ubu-Latn-ZZ",
    		udm: "udm-Cyrl-RU",
    		ug: "ug-Arab-CN",
    		"ug-Cyrl": "ug-Cyrl-KZ",
    		"ug-KZ": "ug-Cyrl-KZ",
    		"ug-MN": "ug-Cyrl-MN",
    		uga: "uga-Ugar-SY",
    		uk: "uk-Cyrl-UA",
    		uli: "uli-Latn-FM",
    		umb: "umb-Latn-AO",
    		und: "en-Latn-US",
    		"und-002": "en-Latn-NG",
    		"und-003": "en-Latn-US",
    		"und-005": "pt-Latn-BR",
    		"und-009": "en-Latn-AU",
    		"und-011": "en-Latn-NG",
    		"und-013": "es-Latn-MX",
    		"und-014": "sw-Latn-TZ",
    		"und-015": "ar-Arab-EG",
    		"und-017": "sw-Latn-CD",
    		"und-018": "en-Latn-ZA",
    		"und-019": "en-Latn-US",
    		"und-021": "en-Latn-US",
    		"und-029": "es-Latn-CU",
    		"und-030": "zh-Hans-CN",
    		"und-034": "hi-Deva-IN",
    		"und-035": "id-Latn-ID",
    		"und-039": "it-Latn-IT",
    		"und-053": "en-Latn-AU",
    		"und-054": "en-Latn-PG",
    		"und-057": "en-Latn-GU",
    		"und-061": "sm-Latn-WS",
    		"und-142": "zh-Hans-CN",
    		"und-143": "uz-Latn-UZ",
    		"und-145": "ar-Arab-SA",
    		"und-150": "ru-Cyrl-RU",
    		"und-151": "ru-Cyrl-RU",
    		"und-154": "en-Latn-GB",
    		"und-155": "de-Latn-DE",
    		"und-202": "en-Latn-NG",
    		"und-419": "es-Latn-419",
    		"und-AD": "ca-Latn-AD",
    		"und-Adlm": "ff-Adlm-GN",
    		"und-AE": "ar-Arab-AE",
    		"und-AF": "fa-Arab-AF",
    		"und-Aghb": "lez-Aghb-RU",
    		"und-Ahom": "aho-Ahom-IN",
    		"und-AL": "sq-Latn-AL",
    		"und-AM": "hy-Armn-AM",
    		"und-AO": "pt-Latn-AO",
    		"und-AQ": "und-Latn-AQ",
    		"und-AR": "es-Latn-AR",
    		"und-Arab": "ar-Arab-EG",
    		"und-Arab-CC": "ms-Arab-CC",
    		"und-Arab-CN": "ug-Arab-CN",
    		"und-Arab-GB": "ks-Arab-GB",
    		"und-Arab-ID": "ms-Arab-ID",
    		"und-Arab-IN": "ur-Arab-IN",
    		"und-Arab-KH": "cja-Arab-KH",
    		"und-Arab-MM": "rhg-Arab-MM",
    		"und-Arab-MN": "kk-Arab-MN",
    		"und-Arab-MU": "ur-Arab-MU",
    		"und-Arab-NG": "ha-Arab-NG",
    		"und-Arab-PK": "ur-Arab-PK",
    		"und-Arab-TG": "apd-Arab-TG",
    		"und-Arab-TH": "mfa-Arab-TH",
    		"und-Arab-TJ": "fa-Arab-TJ",
    		"und-Arab-TR": "az-Arab-TR",
    		"und-Arab-YT": "swb-Arab-YT",
    		"und-Armi": "arc-Armi-IR",
    		"und-Armn": "hy-Armn-AM",
    		"und-AS": "sm-Latn-AS",
    		"und-AT": "de-Latn-AT",
    		"und-Avst": "ae-Avst-IR",
    		"und-AW": "nl-Latn-AW",
    		"und-AX": "sv-Latn-AX",
    		"und-AZ": "az-Latn-AZ",
    		"und-BA": "bs-Latn-BA",
    		"und-Bali": "ban-Bali-ID",
    		"und-Bamu": "bax-Bamu-CM",
    		"und-Bass": "bsq-Bass-LR",
    		"und-Batk": "bbc-Batk-ID",
    		"und-BD": "bn-Beng-BD",
    		"und-BE": "nl-Latn-BE",
    		"und-Beng": "bn-Beng-BD",
    		"und-BF": "fr-Latn-BF",
    		"und-BG": "bg-Cyrl-BG",
    		"und-BH": "ar-Arab-BH",
    		"und-Bhks": "sa-Bhks-IN",
    		"und-BI": "rn-Latn-BI",
    		"und-BJ": "fr-Latn-BJ",
    		"und-BL": "fr-Latn-BL",
    		"und-BN": "ms-Latn-BN",
    		"und-BO": "es-Latn-BO",
    		"und-Bopo": "zh-Bopo-TW",
    		"und-BQ": "pap-Latn-BQ",
    		"und-BR": "pt-Latn-BR",
    		"und-Brah": "pka-Brah-IN",
    		"und-Brai": "fr-Brai-FR",
    		"und-BT": "dz-Tibt-BT",
    		"und-Bugi": "bug-Bugi-ID",
    		"und-Buhd": "bku-Buhd-PH",
    		"und-BV": "und-Latn-BV",
    		"und-BY": "be-Cyrl-BY",
    		"und-Cakm": "ccp-Cakm-BD",
    		"und-Cans": "cr-Cans-CA",
    		"und-Cari": "xcr-Cari-TR",
    		"und-CD": "sw-Latn-CD",
    		"und-CF": "fr-Latn-CF",
    		"und-CG": "fr-Latn-CG",
    		"und-CH": "de-Latn-CH",
    		"und-Cham": "cjm-Cham-VN",
    		"und-Cher": "chr-Cher-US",
    		"und-CI": "fr-Latn-CI",
    		"und-CL": "es-Latn-CL",
    		"und-CM": "fr-Latn-CM",
    		"und-CN": "zh-Hans-CN",
    		"und-CO": "es-Latn-CO",
    		"und-Copt": "cop-Copt-EG",
    		"und-CP": "und-Latn-CP",
    		"und-Cprt": "grc-Cprt-CY",
    		"und-CR": "es-Latn-CR",
    		"und-CU": "es-Latn-CU",
    		"und-CV": "pt-Latn-CV",
    		"und-CW": "pap-Latn-CW",
    		"und-CY": "el-Grek-CY",
    		"und-Cyrl": "ru-Cyrl-RU",
    		"und-Cyrl-AL": "mk-Cyrl-AL",
    		"und-Cyrl-BA": "sr-Cyrl-BA",
    		"und-Cyrl-GE": "ab-Cyrl-GE",
    		"und-Cyrl-GR": "mk-Cyrl-GR",
    		"und-Cyrl-MD": "uk-Cyrl-MD",
    		"und-Cyrl-RO": "bg-Cyrl-RO",
    		"und-Cyrl-SK": "uk-Cyrl-SK",
    		"und-Cyrl-TR": "kbd-Cyrl-TR",
    		"und-Cyrl-XK": "sr-Cyrl-XK",
    		"und-CZ": "cs-Latn-CZ",
    		"und-DE": "de-Latn-DE",
    		"und-Deva": "hi-Deva-IN",
    		"und-Deva-BT": "ne-Deva-BT",
    		"und-Deva-FJ": "hif-Deva-FJ",
    		"und-Deva-MU": "bho-Deva-MU",
    		"und-Deva-PK": "btv-Deva-PK",
    		"und-DJ": "aa-Latn-DJ",
    		"und-DK": "da-Latn-DK",
    		"und-DO": "es-Latn-DO",
    		"und-Dogr": "doi-Dogr-IN",
    		"und-Dupl": "fr-Dupl-FR",
    		"und-DZ": "ar-Arab-DZ",
    		"und-EA": "es-Latn-EA",
    		"und-EC": "es-Latn-EC",
    		"und-EE": "et-Latn-EE",
    		"und-EG": "ar-Arab-EG",
    		"und-Egyp": "egy-Egyp-EG",
    		"und-EH": "ar-Arab-EH",
    		"und-Elba": "sq-Elba-AL",
    		"und-Elym": "arc-Elym-IR",
    		"und-ER": "ti-Ethi-ER",
    		"und-ES": "es-Latn-ES",
    		"und-ET": "am-Ethi-ET",
    		"und-Ethi": "am-Ethi-ET",
    		"und-EU": "en-Latn-GB",
    		"und-EZ": "de-Latn-EZ",
    		"und-FI": "fi-Latn-FI",
    		"und-FO": "fo-Latn-FO",
    		"und-FR": "fr-Latn-FR",
    		"und-GA": "fr-Latn-GA",
    		"und-GE": "ka-Geor-GE",
    		"und-Geor": "ka-Geor-GE",
    		"und-GF": "fr-Latn-GF",
    		"und-GH": "ak-Latn-GH",
    		"und-GL": "kl-Latn-GL",
    		"und-Glag": "cu-Glag-BG",
    		"und-GN": "fr-Latn-GN",
    		"und-Gong": "wsg-Gong-IN",
    		"und-Gonm": "esg-Gonm-IN",
    		"und-Goth": "got-Goth-UA",
    		"und-GP": "fr-Latn-GP",
    		"und-GQ": "es-Latn-GQ",
    		"und-GR": "el-Grek-GR",
    		"und-Gran": "sa-Gran-IN",
    		"und-Grek": "el-Grek-GR",
    		"und-Grek-TR": "bgx-Grek-TR",
    		"und-GS": "und-Latn-GS",
    		"und-GT": "es-Latn-GT",
    		"und-Gujr": "gu-Gujr-IN",
    		"und-Guru": "pa-Guru-IN",
    		"und-GW": "pt-Latn-GW",
    		"und-Hanb": "zh-Hanb-TW",
    		"und-Hang": "ko-Hang-KR",
    		"und-Hani": "zh-Hani-CN",
    		"und-Hano": "hnn-Hano-PH",
    		"und-Hans": "zh-Hans-CN",
    		"und-Hant": "zh-Hant-TW",
    		"und-Hatr": "mis-Hatr-IQ",
    		"und-Hebr": "he-Hebr-IL",
    		"und-Hebr-CA": "yi-Hebr-CA",
    		"und-Hebr-GB": "yi-Hebr-GB",
    		"und-Hebr-SE": "yi-Hebr-SE",
    		"und-Hebr-UA": "yi-Hebr-UA",
    		"und-Hebr-US": "yi-Hebr-US",
    		"und-Hira": "ja-Hira-JP",
    		"und-HK": "zh-Hant-HK",
    		"und-Hluw": "hlu-Hluw-TR",
    		"und-HM": "und-Latn-HM",
    		"und-Hmng": "hnj-Hmng-LA",
    		"und-Hmnp": "mww-Hmnp-US",
    		"und-HN": "es-Latn-HN",
    		"und-HR": "hr-Latn-HR",
    		"und-HT": "ht-Latn-HT",
    		"und-HU": "hu-Latn-HU",
    		"und-Hung": "hu-Hung-HU",
    		"und-IC": "es-Latn-IC",
    		"und-ID": "id-Latn-ID",
    		"und-IL": "he-Hebr-IL",
    		"und-IN": "hi-Deva-IN",
    		"und-IQ": "ar-Arab-IQ",
    		"und-IR": "fa-Arab-IR",
    		"und-IS": "is-Latn-IS",
    		"und-IT": "it-Latn-IT",
    		"und-Ital": "ett-Ital-IT",
    		"und-Jamo": "ko-Jamo-KR",
    		"und-Java": "jv-Java-ID",
    		"und-JO": "ar-Arab-JO",
    		"und-JP": "ja-Jpan-JP",
    		"und-Jpan": "ja-Jpan-JP",
    		"und-Kali": "eky-Kali-MM",
    		"und-Kana": "ja-Kana-JP",
    		"und-KE": "sw-Latn-KE",
    		"und-KG": "ky-Cyrl-KG",
    		"und-KH": "km-Khmr-KH",
    		"und-Khar": "pra-Khar-PK",
    		"und-Khmr": "km-Khmr-KH",
    		"und-Khoj": "sd-Khoj-IN",
    		"und-KM": "ar-Arab-KM",
    		"und-Knda": "kn-Knda-IN",
    		"und-Kore": "ko-Kore-KR",
    		"und-KP": "ko-Kore-KP",
    		"und-KR": "ko-Kore-KR",
    		"und-Kthi": "bho-Kthi-IN",
    		"und-KW": "ar-Arab-KW",
    		"und-KZ": "ru-Cyrl-KZ",
    		"und-LA": "lo-Laoo-LA",
    		"und-Lana": "nod-Lana-TH",
    		"und-Laoo": "lo-Laoo-LA",
    		"und-Latn-AF": "tk-Latn-AF",
    		"und-Latn-AM": "ku-Latn-AM",
    		"und-Latn-CN": "za-Latn-CN",
    		"und-Latn-CY": "tr-Latn-CY",
    		"und-Latn-DZ": "fr-Latn-DZ",
    		"und-Latn-ET": "en-Latn-ET",
    		"und-Latn-GE": "ku-Latn-GE",
    		"und-Latn-IR": "tk-Latn-IR",
    		"und-Latn-KM": "fr-Latn-KM",
    		"und-Latn-MA": "fr-Latn-MA",
    		"und-Latn-MK": "sq-Latn-MK",
    		"und-Latn-MM": "kac-Latn-MM",
    		"und-Latn-MO": "pt-Latn-MO",
    		"und-Latn-MR": "fr-Latn-MR",
    		"und-Latn-RU": "krl-Latn-RU",
    		"und-Latn-SY": "fr-Latn-SY",
    		"und-Latn-TN": "fr-Latn-TN",
    		"und-Latn-TW": "trv-Latn-TW",
    		"und-Latn-UA": "pl-Latn-UA",
    		"und-LB": "ar-Arab-LB",
    		"und-Lepc": "lep-Lepc-IN",
    		"und-LI": "de-Latn-LI",
    		"und-Limb": "lif-Limb-IN",
    		"und-Lina": "lab-Lina-GR",
    		"und-Linb": "grc-Linb-GR",
    		"und-Lisu": "lis-Lisu-CN",
    		"und-LK": "si-Sinh-LK",
    		"und-LS": "st-Latn-LS",
    		"und-LT": "lt-Latn-LT",
    		"und-LU": "fr-Latn-LU",
    		"und-LV": "lv-Latn-LV",
    		"und-LY": "ar-Arab-LY",
    		"und-Lyci": "xlc-Lyci-TR",
    		"und-Lydi": "xld-Lydi-TR",
    		"und-MA": "ar-Arab-MA",
    		"und-Mahj": "hi-Mahj-IN",
    		"und-Maka": "mak-Maka-ID",
    		"und-Mand": "myz-Mand-IR",
    		"und-Mani": "xmn-Mani-CN",
    		"und-Marc": "bo-Marc-CN",
    		"und-MC": "fr-Latn-MC",
    		"und-MD": "ro-Latn-MD",
    		"und-ME": "sr-Latn-ME",
    		"und-Medf": "mis-Medf-NG",
    		"und-Mend": "men-Mend-SL",
    		"und-Merc": "xmr-Merc-SD",
    		"und-Mero": "xmr-Mero-SD",
    		"und-MF": "fr-Latn-MF",
    		"und-MG": "mg-Latn-MG",
    		"und-MK": "mk-Cyrl-MK",
    		"und-ML": "bm-Latn-ML",
    		"und-Mlym": "ml-Mlym-IN",
    		"und-MM": "my-Mymr-MM",
    		"und-MN": "mn-Cyrl-MN",
    		"und-MO": "zh-Hant-MO",
    		"und-Modi": "mr-Modi-IN",
    		"und-Mong": "mn-Mong-CN",
    		"und-MQ": "fr-Latn-MQ",
    		"und-MR": "ar-Arab-MR",
    		"und-Mroo": "mro-Mroo-BD",
    		"und-MT": "mt-Latn-MT",
    		"und-Mtei": "mni-Mtei-IN",
    		"und-MU": "mfe-Latn-MU",
    		"und-Mult": "skr-Mult-PK",
    		"und-MV": "dv-Thaa-MV",
    		"und-MX": "es-Latn-MX",
    		"und-MY": "ms-Latn-MY",
    		"und-Mymr": "my-Mymr-MM",
    		"und-Mymr-IN": "kht-Mymr-IN",
    		"und-Mymr-TH": "mnw-Mymr-TH",
    		"und-MZ": "pt-Latn-MZ",
    		"und-NA": "af-Latn-NA",
    		"und-Nand": "sa-Nand-IN",
    		"und-Narb": "xna-Narb-SA",
    		"und-Nbat": "arc-Nbat-JO",
    		"und-NC": "fr-Latn-NC",
    		"und-NE": "ha-Latn-NE",
    		"und-Newa": "new-Newa-NP",
    		"und-NI": "es-Latn-NI",
    		"und-Nkoo": "man-Nkoo-GN",
    		"und-NL": "nl-Latn-NL",
    		"und-NO": "nb-Latn-NO",
    		"und-NP": "ne-Deva-NP",
    		"und-Nshu": "zhx-Nshu-CN",
    		"und-Ogam": "sga-Ogam-IE",
    		"und-Olck": "sat-Olck-IN",
    		"und-OM": "ar-Arab-OM",
    		"und-Orkh": "otk-Orkh-MN",
    		"und-Orya": "or-Orya-IN",
    		"und-Osge": "osa-Osge-US",
    		"und-Osma": "so-Osma-SO",
    		"und-PA": "es-Latn-PA",
    		"und-Palm": "arc-Palm-SY",
    		"und-Pauc": "ctd-Pauc-MM",
    		"und-PE": "es-Latn-PE",
    		"und-Perm": "kv-Perm-RU",
    		"und-PF": "fr-Latn-PF",
    		"und-PG": "tpi-Latn-PG",
    		"und-PH": "fil-Latn-PH",
    		"und-Phag": "lzh-Phag-CN",
    		"und-Phli": "pal-Phli-IR",
    		"und-Phlp": "pal-Phlp-CN",
    		"und-Phnx": "phn-Phnx-LB",
    		"und-PK": "ur-Arab-PK",
    		"und-PL": "pl-Latn-PL",
    		"und-Plrd": "hmd-Plrd-CN",
    		"und-PM": "fr-Latn-PM",
    		"und-PR": "es-Latn-PR",
    		"und-Prti": "xpr-Prti-IR",
    		"und-PS": "ar-Arab-PS",
    		"und-PT": "pt-Latn-PT",
    		"und-PW": "pau-Latn-PW",
    		"und-PY": "gn-Latn-PY",
    		"und-QA": "ar-Arab-QA",
    		"und-QO": "en-Latn-DG",
    		"und-RE": "fr-Latn-RE",
    		"und-Rjng": "rej-Rjng-ID",
    		"und-RO": "ro-Latn-RO",
    		"und-Rohg": "rhg-Rohg-MM",
    		"und-RS": "sr-Cyrl-RS",
    		"und-RU": "ru-Cyrl-RU",
    		"und-Runr": "non-Runr-SE",
    		"und-RW": "rw-Latn-RW",
    		"und-SA": "ar-Arab-SA",
    		"und-Samr": "smp-Samr-IL",
    		"und-Sarb": "xsa-Sarb-YE",
    		"und-Saur": "saz-Saur-IN",
    		"und-SC": "fr-Latn-SC",
    		"und-SD": "ar-Arab-SD",
    		"und-SE": "sv-Latn-SE",
    		"und-Sgnw": "ase-Sgnw-US",
    		"und-Shaw": "en-Shaw-GB",
    		"und-Shrd": "sa-Shrd-IN",
    		"und-SI": "sl-Latn-SI",
    		"und-Sidd": "sa-Sidd-IN",
    		"und-Sind": "sd-Sind-IN",
    		"und-Sinh": "si-Sinh-LK",
    		"und-SJ": "nb-Latn-SJ",
    		"und-SK": "sk-Latn-SK",
    		"und-SM": "it-Latn-SM",
    		"und-SN": "fr-Latn-SN",
    		"und-SO": "so-Latn-SO",
    		"und-Sogd": "sog-Sogd-UZ",
    		"und-Sogo": "sog-Sogo-UZ",
    		"und-Sora": "srb-Sora-IN",
    		"und-Soyo": "cmg-Soyo-MN",
    		"und-SR": "nl-Latn-SR",
    		"und-ST": "pt-Latn-ST",
    		"und-Sund": "su-Sund-ID",
    		"und-SV": "es-Latn-SV",
    		"und-SY": "ar-Arab-SY",
    		"und-Sylo": "syl-Sylo-BD",
    		"und-Syrc": "syr-Syrc-IQ",
    		"und-Tagb": "tbw-Tagb-PH",
    		"und-Takr": "doi-Takr-IN",
    		"und-Tale": "tdd-Tale-CN",
    		"und-Talu": "khb-Talu-CN",
    		"und-Taml": "ta-Taml-IN",
    		"und-Tang": "txg-Tang-CN",
    		"und-Tavt": "blt-Tavt-VN",
    		"und-TD": "fr-Latn-TD",
    		"und-Telu": "te-Telu-IN",
    		"und-TF": "fr-Latn-TF",
    		"und-Tfng": "zgh-Tfng-MA",
    		"und-TG": "fr-Latn-TG",
    		"und-Tglg": "fil-Tglg-PH",
    		"und-TH": "th-Thai-TH",
    		"und-Thaa": "dv-Thaa-MV",
    		"und-Thai": "th-Thai-TH",
    		"und-Thai-CN": "lcp-Thai-CN",
    		"und-Thai-KH": "kdt-Thai-KH",
    		"und-Thai-LA": "kdt-Thai-LA",
    		"und-Tibt": "bo-Tibt-CN",
    		"und-Tirh": "mai-Tirh-IN",
    		"und-TJ": "tg-Cyrl-TJ",
    		"und-TK": "tkl-Latn-TK",
    		"und-TL": "pt-Latn-TL",
    		"und-TM": "tk-Latn-TM",
    		"und-TN": "ar-Arab-TN",
    		"und-TO": "to-Latn-TO",
    		"und-TR": "tr-Latn-TR",
    		"und-TV": "tvl-Latn-TV",
    		"und-TW": "zh-Hant-TW",
    		"und-TZ": "sw-Latn-TZ",
    		"und-UA": "uk-Cyrl-UA",
    		"und-UG": "sw-Latn-UG",
    		"und-Ugar": "uga-Ugar-SY",
    		"und-UY": "es-Latn-UY",
    		"und-UZ": "uz-Latn-UZ",
    		"und-VA": "it-Latn-VA",
    		"und-Vaii": "vai-Vaii-LR",
    		"und-VE": "es-Latn-VE",
    		"und-VN": "vi-Latn-VN",
    		"und-VU": "bi-Latn-VU",
    		"und-Wara": "hoc-Wara-IN",
    		"und-Wcho": "nnp-Wcho-IN",
    		"und-WF": "fr-Latn-WF",
    		"und-WS": "sm-Latn-WS",
    		"und-XK": "sq-Latn-XK",
    		"und-Xpeo": "peo-Xpeo-IR",
    		"und-Xsux": "akk-Xsux-IQ",
    		"und-YE": "ar-Arab-YE",
    		"und-Yiii": "ii-Yiii-CN",
    		"und-YT": "fr-Latn-YT",
    		"und-Zanb": "cmg-Zanb-MN",
    		"und-ZW": "sn-Latn-ZW",
    		unr: "unr-Beng-IN",
    		"unr-Deva": "unr-Deva-NP",
    		"unr-NP": "unr-Deva-NP",
    		unx: "unx-Beng-IN",
    		uok: "uok-Latn-ZZ",
    		ur: "ur-Arab-PK",
    		uri: "uri-Latn-ZZ",
    		urt: "urt-Latn-ZZ",
    		urw: "urw-Latn-ZZ",
    		usa: "usa-Latn-ZZ",
    		utr: "utr-Latn-ZZ",
    		uvh: "uvh-Latn-ZZ",
    		uvl: "uvl-Latn-ZZ",
    		uz: "uz-Latn-UZ",
    		"uz-AF": "uz-Arab-AF",
    		"uz-Arab": "uz-Arab-AF",
    		"uz-CN": "uz-Cyrl-CN",
    		vag: "vag-Latn-ZZ",
    		vai: "vai-Vaii-LR",
    		van: "van-Latn-ZZ",
    		ve: "ve-Latn-ZA",
    		vec: "vec-Latn-IT",
    		vep: "vep-Latn-RU",
    		vi: "vi-Latn-VN",
    		vic: "vic-Latn-SX",
    		viv: "viv-Latn-ZZ",
    		vls: "vls-Latn-BE",
    		vmf: "vmf-Latn-DE",
    		vmw: "vmw-Latn-MZ",
    		vo: "vo-Latn-001",
    		vot: "vot-Latn-RU",
    		vro: "vro-Latn-EE",
    		vun: "vun-Latn-TZ",
    		vut: "vut-Latn-ZZ",
    		wa: "wa-Latn-BE",
    		wae: "wae-Latn-CH",
    		waj: "waj-Latn-ZZ",
    		wal: "wal-Ethi-ET",
    		wan: "wan-Latn-ZZ",
    		war: "war-Latn-PH",
    		wbp: "wbp-Latn-AU",
    		wbq: "wbq-Telu-IN",
    		wbr: "wbr-Deva-IN",
    		wci: "wci-Latn-ZZ",
    		wer: "wer-Latn-ZZ",
    		wgi: "wgi-Latn-ZZ",
    		whg: "whg-Latn-ZZ",
    		wib: "wib-Latn-ZZ",
    		wiu: "wiu-Latn-ZZ",
    		wiv: "wiv-Latn-ZZ",
    		wja: "wja-Latn-ZZ",
    		wji: "wji-Latn-ZZ",
    		wls: "wls-Latn-WF",
    		wmo: "wmo-Latn-ZZ",
    		wnc: "wnc-Latn-ZZ",
    		wni: "wni-Arab-KM",
    		wnu: "wnu-Latn-ZZ",
    		wo: "wo-Latn-SN",
    		wob: "wob-Latn-ZZ",
    		wos: "wos-Latn-ZZ",
    		wrs: "wrs-Latn-ZZ",
    		wsg: "wsg-Gong-IN",
    		wsk: "wsk-Latn-ZZ",
    		wtm: "wtm-Deva-IN",
    		wuu: "wuu-Hans-CN",
    		wuv: "wuv-Latn-ZZ",
    		wwa: "wwa-Latn-ZZ",
    		xav: "xav-Latn-BR",
    		xbi: "xbi-Latn-ZZ",
    		xcr: "xcr-Cari-TR",
    		xes: "xes-Latn-ZZ",
    		xh: "xh-Latn-ZA",
    		xla: "xla-Latn-ZZ",
    		xlc: "xlc-Lyci-TR",
    		xld: "xld-Lydi-TR",
    		xmf: "xmf-Geor-GE",
    		xmn: "xmn-Mani-CN",
    		xmr: "xmr-Merc-SD",
    		xna: "xna-Narb-SA",
    		xnr: "xnr-Deva-IN",
    		xog: "xog-Latn-UG",
    		xon: "xon-Latn-ZZ",
    		xpr: "xpr-Prti-IR",
    		xrb: "xrb-Latn-ZZ",
    		xsa: "xsa-Sarb-YE",
    		xsi: "xsi-Latn-ZZ",
    		xsm: "xsm-Latn-ZZ",
    		xsr: "xsr-Deva-NP",
    		xwe: "xwe-Latn-ZZ",
    		yam: "yam-Latn-ZZ",
    		yao: "yao-Latn-MZ",
    		yap: "yap-Latn-FM",
    		yas: "yas-Latn-ZZ",
    		yat: "yat-Latn-ZZ",
    		yav: "yav-Latn-CM",
    		yay: "yay-Latn-ZZ",
    		yaz: "yaz-Latn-ZZ",
    		yba: "yba-Latn-ZZ",
    		ybb: "ybb-Latn-CM",
    		yby: "yby-Latn-ZZ",
    		yer: "yer-Latn-ZZ",
    		ygr: "ygr-Latn-ZZ",
    		ygw: "ygw-Latn-ZZ",
    		yi: "yi-Hebr-001",
    		yko: "yko-Latn-ZZ",
    		yle: "yle-Latn-ZZ",
    		ylg: "ylg-Latn-ZZ",
    		yll: "yll-Latn-ZZ",
    		yml: "yml-Latn-ZZ",
    		yo: "yo-Latn-NG",
    		yon: "yon-Latn-ZZ",
    		yrb: "yrb-Latn-ZZ",
    		yre: "yre-Latn-ZZ",
    		yrl: "yrl-Latn-BR",
    		yss: "yss-Latn-ZZ",
    		yua: "yua-Latn-MX",
    		yue: "yue-Hant-HK",
    		"yue-CN": "yue-Hans-CN",
    		"yue-Hans": "yue-Hans-CN",
    		yuj: "yuj-Latn-ZZ",
    		yut: "yut-Latn-ZZ",
    		yuw: "yuw-Latn-ZZ",
    		za: "za-Latn-CN",
    		zag: "zag-Latn-SD",
    		zdj: "zdj-Arab-KM",
    		zea: "zea-Latn-NL",
    		zgh: "zgh-Tfng-MA",
    		zh: "zh-Hans-CN",
    		"zh-AU": "zh-Hant-AU",
    		"zh-BN": "zh-Hant-BN",
    		"zh-Bopo": "zh-Bopo-TW",
    		"zh-GB": "zh-Hant-GB",
    		"zh-GF": "zh-Hant-GF",
    		"zh-Hanb": "zh-Hanb-TW",
    		"zh-Hant": "zh-Hant-TW",
    		"zh-HK": "zh-Hant-HK",
    		"zh-ID": "zh-Hant-ID",
    		"zh-MO": "zh-Hant-MO",
    		"zh-MY": "zh-Hant-MY",
    		"zh-PA": "zh-Hant-PA",
    		"zh-PF": "zh-Hant-PF",
    		"zh-PH": "zh-Hant-PH",
    		"zh-SR": "zh-Hant-SR",
    		"zh-TH": "zh-Hant-TH",
    		"zh-TW": "zh-Hant-TW",
    		"zh-US": "zh-Hant-US",
    		"zh-VN": "zh-Hant-VN",
    		zhx: "zhx-Nshu-CN",
    		zia: "zia-Latn-ZZ",
    		zlm: "zlm-Latn-TG",
    		zmi: "zmi-Latn-MY",
    		zne: "zne-Latn-ZZ",
    		zu: "zu-Latn-ZA",
    		zza: "zza-Latn-TR"
    	}
    };
    const likelySubtags = {
    	supplemental: supplemental$1
    };

    const likelySubtags$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        supplemental: supplemental$1,
        default: likelySubtags
    }, Symbol.toStringTag, { value: 'Module' }));

    const supplemental = {
    	version: {
    		_unicodeVersion: "12.1.0",
    		_cldrVersion: "36"
    	},
    	"plurals-type-cardinal": {
    		af: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ak: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		am: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		an: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ar: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-few": "n % 100 = 3..10 @integer 3~10, 103~110, 1003, … @decimal 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 103.0, 1003.0, …",
    			"pluralRule-count-many": "n % 100 = 11..99 @integer 11~26, 111, 1011, … @decimal 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 111.0, 1011.0, …",
    			"pluralRule-count-other": " @integer 100~102, 200~202, 300~302, 400~402, 500~502, 600, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ars: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-few": "n % 100 = 3..10 @integer 3~10, 103~110, 1003, … @decimal 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 103.0, 1003.0, …",
    			"pluralRule-count-many": "n % 100 = 11..99 @integer 11~26, 111, 1011, … @decimal 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 111.0, 1011.0, …",
    			"pluralRule-count-other": " @integer 100~102, 200~202, 300~302, 400~402, 500~502, 600, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		as: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		asa: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ast: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		az: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		be: {
    			"pluralRule-count-one": "n % 10 = 1 and n % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 1.0, 21.0, 31.0, 41.0, 51.0, 61.0, 71.0, 81.0, 101.0, 1001.0, …",
    			"pluralRule-count-few": "n % 10 = 2..4 and n % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, … @decimal 2.0, 3.0, 4.0, 22.0, 23.0, 24.0, 32.0, 33.0, 102.0, 1002.0, …",
    			"pluralRule-count-many": "n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14 @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": "   @decimal 0.1~0.9, 1.1~1.7, 10.1, 100.1, 1000.1, …"
    		},
    		bem: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bez: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bg: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bho: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bm: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bn: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		br: {
    			"pluralRule-count-one": "n % 10 = 1 and n % 100 != 11,71,91 @integer 1, 21, 31, 41, 51, 61, 81, 101, 1001, … @decimal 1.0, 21.0, 31.0, 41.0, 51.0, 61.0, 81.0, 101.0, 1001.0, …",
    			"pluralRule-count-two": "n % 10 = 2 and n % 100 != 12,72,92 @integer 2, 22, 32, 42, 52, 62, 82, 102, 1002, … @decimal 2.0, 22.0, 32.0, 42.0, 52.0, 62.0, 82.0, 102.0, 1002.0, …",
    			"pluralRule-count-few": "n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99 @integer 3, 4, 9, 23, 24, 29, 33, 34, 39, 43, 44, 49, 103, 1003, … @decimal 3.0, 4.0, 9.0, 23.0, 24.0, 29.0, 33.0, 34.0, 103.0, 1003.0, …",
    			"pluralRule-count-many": "n != 0 and n % 1000000 = 0 @integer 1000000, … @decimal 1000000.0, 1000000.00, 1000000.000, …",
    			"pluralRule-count-other": " @integer 0, 5~8, 10~20, 100, 1000, 10000, 100000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, …"
    		},
    		brx: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		bs: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, … @decimal 0.2~0.4, 1.2~1.4, 2.2~2.4, 3.2~3.4, 4.2~4.4, 5.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ca: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ce: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ceb: {
    			"pluralRule-count-one": "v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9 @integer 0~3, 5, 7, 8, 10~13, 15, 17, 18, 20, 21, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.3, 0.5, 0.7, 0.8, 1.0~1.3, 1.5, 1.7, 1.8, 2.0, 2.1, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 4, 6, 9, 14, 16, 19, 24, 26, 104, 1004, … @decimal 0.4, 0.6, 0.9, 1.4, 1.6, 1.9, 2.4, 2.6, 10.4, 100.4, 1000.4, …"
    		},
    		cgg: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		chr: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ckb: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		cs: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-few": "i = 2..4 and v = 0 @integer 2~4",
    			"pluralRule-count-many": "v != 0   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …"
    		},
    		cy: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-few": "n = 3 @integer 3 @decimal 3.0, 3.00, 3.000, 3.0000",
    			"pluralRule-count-many": "n = 6 @integer 6 @decimal 6.0, 6.00, 6.000, 6.0000",
    			"pluralRule-count-other": " @integer 4, 5, 7~20, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		da: {
    			"pluralRule-count-one": "n = 1 or t != 0 and i = 0,1 @integer 1 @decimal 0.1~1.6",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 2.0~3.4, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		de: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		dsb: {
    			"pluralRule-count-one": "v = 0 and i % 100 = 1 or f % 100 = 1 @integer 1, 101, 201, 301, 401, 501, 601, 701, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-two": "v = 0 and i % 100 = 2 or f % 100 = 2 @integer 2, 102, 202, 302, 402, 502, 602, 702, 1002, … @decimal 0.2, 1.2, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-few": "v = 0 and i % 100 = 3..4 or f % 100 = 3..4 @integer 3, 4, 103, 104, 203, 204, 303, 304, 403, 404, 503, 504, 603, 604, 703, 704, 1003, … @decimal 0.3, 0.4, 1.3, 1.4, 2.3, 2.4, 3.3, 3.4, 4.3, 4.4, 5.3, 5.4, 6.3, 6.4, 7.3, 7.4, 10.3, 100.3, 1000.3, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		dv: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		dz: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ee: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		el: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		en: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		eo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		es: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		et: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		eu: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fa: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ff: {
    			"pluralRule-count-one": "i = 0,1 @integer 0, 1 @decimal 0.0~1.5",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fi: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fil: {
    			"pluralRule-count-one": "v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9 @integer 0~3, 5, 7, 8, 10~13, 15, 17, 18, 20, 21, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.3, 0.5, 0.7, 0.8, 1.0~1.3, 1.5, 1.7, 1.8, 2.0, 2.1, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 4, 6, 9, 14, 16, 19, 24, 26, 104, 1004, … @decimal 0.4, 0.6, 0.9, 1.4, 1.6, 1.9, 2.4, 2.6, 10.4, 100.4, 1000.4, …"
    		},
    		fo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fr: {
    			"pluralRule-count-one": "i = 0,1 @integer 0, 1 @decimal 0.0~1.5",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fur: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		fy: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ga: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-few": "n = 3..6 @integer 3~6 @decimal 3.0, 4.0, 5.0, 6.0, 3.00, 4.00, 5.00, 6.00, 3.000, 4.000, 5.000, 6.000, 3.0000, 4.0000, 5.0000, 6.0000",
    			"pluralRule-count-many": "n = 7..10 @integer 7~10 @decimal 7.0, 8.0, 9.0, 10.0, 7.00, 8.00, 9.00, 10.00, 7.000, 8.000, 9.000, 10.000, 7.0000, 8.0000, 9.0000, 10.0000",
    			"pluralRule-count-other": " @integer 0, 11~25, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		gd: {
    			"pluralRule-count-one": "n = 1,11 @integer 1, 11 @decimal 1.0, 11.0, 1.00, 11.00, 1.000, 11.000, 1.0000",
    			"pluralRule-count-two": "n = 2,12 @integer 2, 12 @decimal 2.0, 12.0, 2.00, 12.00, 2.000, 12.000, 2.0000",
    			"pluralRule-count-few": "n = 3..10,13..19 @integer 3~10, 13~19 @decimal 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 3.00",
    			"pluralRule-count-other": " @integer 0, 20~34, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		gl: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		gsw: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		gu: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		guw: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		gv: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 @integer 1, 11, 21, 31, 41, 51, 61, 71, 101, 1001, …",
    			"pluralRule-count-two": "v = 0 and i % 10 = 2 @integer 2, 12, 22, 32, 42, 52, 62, 72, 102, 1002, …",
    			"pluralRule-count-few": "v = 0 and i % 100 = 0,20,40,60,80 @integer 0, 20, 40, 60, 80, 100, 120, 140, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-many": "v != 0   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 3~10, 13~19, 23, 103, 1003, …"
    		},
    		ha: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		haw: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		he: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-two": "i = 2 and v = 0 @integer 2",
    			"pluralRule-count-many": "v = 0 and n != 0..10 and n % 10 = 0 @integer 20, 30, 40, 50, 60, 70, 80, 90, 100, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-other": " @integer 0, 3~17, 101, 1001, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		hi: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		hr: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, … @decimal 0.2~0.4, 1.2~1.4, 2.2~2.4, 3.2~3.4, 4.2~4.4, 5.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		hsb: {
    			"pluralRule-count-one": "v = 0 and i % 100 = 1 or f % 100 = 1 @integer 1, 101, 201, 301, 401, 501, 601, 701, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-two": "v = 0 and i % 100 = 2 or f % 100 = 2 @integer 2, 102, 202, 302, 402, 502, 602, 702, 1002, … @decimal 0.2, 1.2, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-few": "v = 0 and i % 100 = 3..4 or f % 100 = 3..4 @integer 3, 4, 103, 104, 203, 204, 303, 304, 403, 404, 503, 504, 603, 604, 703, 704, 1003, … @decimal 0.3, 0.4, 1.3, 1.4, 2.3, 2.4, 3.3, 3.4, 4.3, 4.4, 5.3, 5.4, 6.3, 6.4, 7.3, 7.4, 10.3, 100.3, 1000.3, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		hu: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		hy: {
    			"pluralRule-count-one": "i = 0,1 @integer 0, 1 @decimal 0.0~1.5",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ia: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		id: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ig: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ii: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		"in": {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		io: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		is: {
    			"pluralRule-count-one": "t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1~1.6, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		it: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		iu: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		iw: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-two": "i = 2 and v = 0 @integer 2",
    			"pluralRule-count-many": "v = 0 and n != 0..10 and n % 10 = 0 @integer 20, 30, 40, 50, 60, 70, 80, 90, 100, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-other": " @integer 0, 3~17, 101, 1001, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ja: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		jbo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		jgo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ji: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		jmc: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		jv: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		jw: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ka: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kab: {
    			"pluralRule-count-one": "i = 0,1 @integer 0, 1 @decimal 0.0~1.5",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kaj: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kcg: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kde: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kea: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kk: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kkj: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kl: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		km: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kn: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ko: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ks: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ksb: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ksh: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ku: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		kw: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n % 100 = 2,22,42,62,82 or n % 1000 = 0 and n % 100000 = 1000..20000,40000,60000,80000 or n != 0 and n % 1000000 = 100000 @integer 2, 22, 42, 62, 82, 102, 122, 142, 1000, 10000, 100000, … @decimal 2.0, 22.0, 42.0, 62.0, 82.0, 102.0, 122.0, 142.0, 1000.0, 10000.0, 100000.0, …",
    			"pluralRule-count-few": "n % 100 = 3,23,43,63,83 @integer 3, 23, 43, 63, 83, 103, 123, 143, 1003, … @decimal 3.0, 23.0, 43.0, 63.0, 83.0, 103.0, 123.0, 143.0, 1003.0, …",
    			"pluralRule-count-many": "n != 1 and n % 100 = 1,21,41,61,81 @integer 21, 41, 61, 81, 101, 121, 141, 161, 1001, … @decimal 21.0, 41.0, 61.0, 81.0, 101.0, 121.0, 141.0, 161.0, 1001.0, …",
    			"pluralRule-count-other": " @integer 4~19, 100, 1004, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.1, 1000000.0, …"
    		},
    		ky: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lag: {
    			"pluralRule-count-zero": "n = 0 @integer 0 @decimal 0.0, 0.00, 0.000, 0.0000",
    			"pluralRule-count-one": "i = 0,1 and n != 0 @integer 1 @decimal 0.1~1.6",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lb: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lg: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lkt: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ln: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lt: {
    			"pluralRule-count-one": "n % 10 = 1 and n % 100 != 11..19 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 1.0, 21.0, 31.0, 41.0, 51.0, 61.0, 71.0, 81.0, 101.0, 1001.0, …",
    			"pluralRule-count-few": "n % 10 = 2..9 and n % 100 != 11..19 @integer 2~9, 22~29, 102, 1002, … @decimal 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 22.0, 102.0, 1002.0, …",
    			"pluralRule-count-many": "f != 0   @decimal 0.1~0.9, 1.1~1.7, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-other": " @integer 0, 10~20, 30, 40, 50, 60, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		lv: {
    			"pluralRule-count-zero": "n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19 @integer 0, 10~20, 30, 40, 50, 60, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-one": "n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.0, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-other": " @integer 2~9, 22~29, 102, 1002, … @decimal 0.2~0.9, 1.2~1.9, 10.2, 100.2, 1000.2, …"
    		},
    		mas: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mg: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mgo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mk: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.2~1.0, 1.2~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ml: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mo: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-few": "v != 0 or n = 0 or n % 100 = 2..19 @integer 0, 2~16, 102, 1002, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 20~35, 100, 1000, 10000, 100000, 1000000, …"
    		},
    		mr: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ms: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		mt: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-few": "n = 0 or n % 100 = 2..10 @integer 0, 2~10, 102~107, 1002, … @decimal 0.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 10.0, 102.0, 1002.0, …",
    			"pluralRule-count-many": "n % 100 = 11..19 @integer 11~19, 111~117, 1011, … @decimal 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 111.0, 1011.0, …",
    			"pluralRule-count-other": " @integer 20~35, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		my: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nah: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		naq: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nb: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nd: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ne: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nl: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nnh: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		no: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nqo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nr: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nso: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ny: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		nyn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		om: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		or: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		os: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		osa: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		pa: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		pap: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		pl: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, …",
    			"pluralRule-count-many": "v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14 @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-other": "   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		prg: {
    			"pluralRule-count-zero": "n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19 @integer 0, 10~20, 30, 40, 50, 60, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-one": "n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.0, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-other": " @integer 2~9, 22~29, 102, 1002, … @decimal 0.2~0.9, 1.2~1.9, 10.2, 100.2, 1000.2, …"
    		},
    		ps: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		pt: {
    			"pluralRule-count-one": "i = 0..1 @integer 0, 1 @decimal 0.0~1.5",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 2.0~3.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		"pt-PT": {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		rm: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ro: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-few": "v != 0 or n = 0 or n % 100 = 2..19 @integer 0, 2~16, 102, 1002, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 20~35, 100, 1000, 10000, 100000, 1000000, …"
    		},
    		rof: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		root: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ru: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, …",
    			"pluralRule-count-many": "v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14 @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-other": "   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		rwk: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sah: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		saq: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sc: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		scn: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sd: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sdh: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		se: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		seh: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ses: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sg: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sh: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, … @decimal 0.2~0.4, 1.2~1.4, 2.2~2.4, 3.2~3.4, 4.2~4.4, 5.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		shi: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-few": "n = 2..10 @integer 2~10 @decimal 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 2.00, 3.00, 4.00, 5.00, 6.00, 7.00, 8.00",
    			"pluralRule-count-other": " @integer 11~26, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~1.9, 2.1~2.7, 10.1, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		si: {
    			"pluralRule-count-one": "n = 0,1 or i = 0 and f = 1 @integer 0, 1 @decimal 0.0, 0.1, 1.0, 0.00, 0.01, 1.00, 0.000, 0.001, 1.000, 0.0000, 0.0001, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.2~0.9, 1.1~1.8, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sk: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-few": "i = 2..4 and v = 0 @integer 2~4",
    			"pluralRule-count-many": "v != 0   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …"
    		},
    		sl: {
    			"pluralRule-count-one": "v = 0 and i % 100 = 1 @integer 1, 101, 201, 301, 401, 501, 601, 701, 1001, …",
    			"pluralRule-count-two": "v = 0 and i % 100 = 2 @integer 2, 102, 202, 302, 402, 502, 602, 702, 1002, …",
    			"pluralRule-count-few": "v = 0 and i % 100 = 3..4 or v != 0 @integer 3, 4, 103, 104, 203, 204, 303, 304, 403, 404, 503, 504, 603, 604, 703, 704, 1003, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …"
    		},
    		sma: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		smi: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		smj: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		smn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sms: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-two": "n = 2 @integer 2 @decimal 2.0, 2.00, 2.000, 2.0000",
    			"pluralRule-count-other": " @integer 0, 3~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		so: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sq: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sr: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, … @decimal 0.1, 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 7.1, 10.1, 100.1, 1000.1, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, … @decimal 0.2~0.4, 1.2~1.4, 2.2~2.4, 3.2~3.4, 4.2~4.4, 5.2, 10.2, 100.2, 1000.2, …",
    			"pluralRule-count-other": " @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ss: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ssy: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		st: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		su: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sv: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		sw: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		syr: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ta: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		te: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		teo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		th: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ti: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		tig: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		tk: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		tl: {
    			"pluralRule-count-one": "v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9 @integer 0~3, 5, 7, 8, 10~13, 15, 17, 18, 20, 21, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.3, 0.5, 0.7, 0.8, 1.0~1.3, 1.5, 1.7, 1.8, 2.0, 2.1, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …",
    			"pluralRule-count-other": " @integer 4, 6, 9, 14, 16, 19, 24, 26, 104, 1004, … @decimal 0.4, 0.6, 0.9, 1.4, 1.6, 1.9, 2.4, 2.6, 10.4, 100.4, 1000.4, …"
    		},
    		tn: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		to: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		tr: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ts: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		tzm: {
    			"pluralRule-count-one": "n = 0..1 or n = 11..99 @integer 0, 1, 11~24 @decimal 0.0, 1.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0",
    			"pluralRule-count-other": " @integer 2~10, 100~106, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ug: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		uk: {
    			"pluralRule-count-one": "v = 0 and i % 10 = 1 and i % 100 != 11 @integer 1, 21, 31, 41, 51, 61, 71, 81, 101, 1001, …",
    			"pluralRule-count-few": "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 @integer 2~4, 22~24, 32~34, 42~44, 52~54, 62, 102, 1002, …",
    			"pluralRule-count-many": "v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14 @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, …",
    			"pluralRule-count-other": "   @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ur: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		uz: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		ve: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		vi: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		vo: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		vun: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		wa: {
    			"pluralRule-count-one": "n = 0..1 @integer 0, 1 @decimal 0.0, 1.0, 0.00, 1.00, 0.000, 1.000, 0.0000, 1.0000",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 0.1~0.9, 1.1~1.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		wae: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		wo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		xh: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		xog: {
    			"pluralRule-count-one": "n = 1 @integer 1 @decimal 1.0, 1.00, 1.000, 1.0000",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~0.9, 1.1~1.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		yi: {
    			"pluralRule-count-one": "i = 1 and v = 0 @integer 1",
    			"pluralRule-count-other": " @integer 0, 2~16, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		yo: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		yue: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		zh: {
    			"pluralRule-count-other": " @integer 0~15, 100, 1000, 10000, 100000, 1000000, … @decimal 0.0~1.5, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		},
    		zu: {
    			"pluralRule-count-one": "i = 0 or n = 1 @integer 0, 1 @decimal 0.0~1.0, 0.00~0.04",
    			"pluralRule-count-other": " @integer 2~17, 100, 1000, 10000, 100000, 1000000, … @decimal 1.1~2.6, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, …"
    		}
    	}
    };
    const plurals = {
    	supplemental: supplemental
    };

    const plurals$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        supplemental,
        default: plurals
    }, Symbol.toStringTag, { value: 'Module' }));

    const ProductAttributeStyles = i$7 `
  :host {
    --column-count: 2;
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    column-count: var(--column-count);
  }

  li {
    break-inside: avoid;
    display: flex;
    flex-direction: column;
    row-gap: 5px;
    margin-bottom: 20px;
  }

  li > div {
    margin: 0;
    color: var(--oryx-color-neutral-300);
    font-size: 14px;
  }

  li > div:first-child {
    font-weight: bold;
    font-size: 16px;
    color: var(--oryx-color-ink);
  }
`;

    let ProductAttributesComponent = class ProductAttributesComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.product$ = new ProductController(this).getProduct();
            this.options$ = new ContentController(this).getOptions();
            this.optionsObserver = this.options$.pipe(cjs.tap((options) => {
                if (!options?.columnCount) {
                    this.removeAttribute('style');
                    return;
                }
                this.setAttribute('style', `--column-count: ${options.columnCount}`);
            }));
            this.attributes$ = this.product$.pipe(cjs.map((product) => {
                if (!product) {
                    return [];
                }
                const { attributes, attributeNames = {} } = product;
                const attributesList = [];
                for (const attributesKey in attributes) {
                    attributesList.push({
                        key: attributesKey,
                        label: attributeNames[attributesKey],
                        value: attributes[attributesKey],
                    });
                }
                return attributesList;
            }));
        }
        render() {
            return y `
      ${asyncValue(this.attributes$, (attributes) => {
            return y `
          <ul>
            ${c(attributes, (attribute) => attribute.key, (attribute) => y `
                <li>
                  <div>${attribute.label}</div>
                  <div>${attribute.value}</div>
                </li>
              `)}
          </ul>
        `;
        })}
    `;
        }
    };
    ProductAttributesComponent.styles = ProductAttributeStyles;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], ProductAttributesComponent.prototype, "optionsObserver", void 0);
    ProductAttributesComponent = __decorate([
        hydratable()
    ], ProductAttributesComponent);

    const attributes_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductAttributesComponent () { return ProductAttributesComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    let ProductAverageRatingComponent = class ProductAverageRatingComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.product$ = new ProductController(this).getProduct();
            this.options$ = new ContentController(this).getOptions();
            this.rating$ = cjs.combineLatest([this.product$, this.options$]).pipe(cjs.map(([product, options]) => {
                const reviewCount = options?.hideReviewCount
                    ? undefined
                    : product?.reviewCount ?? 0;
                return {
                    rating: product?.averageRating,
                    reviewCount,
                    size: options?.size,
                };
            }));
        }
        render() {
            return y `
      ${asyncValue(this.rating$, ({ rating, reviewCount, size }) => {
            return y `
          <oryx-rating
            readonly
            .size=${size}
            .value=${rating}
            .reviewCount=${reviewCount}
          ></oryx-rating>
        `;
        })}
    `;
        }
    };
    ProductAverageRatingComponent = __decorate([
        hydratable()
    ], ProductAverageRatingComponent);

    const averageRating_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductAverageRatingComponent () { return ProductAverageRatingComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const ProductCardStyles = i$7 `
  :host {
    --line-clamp: var(--oryx-product-card-title-line-clamp, 1);

    transition: all var(--oryx-transition-time);
    background-color: var(--oryx-color-canvas-100);
    min-height: calc(
      408px -
        calc(
          var(--_title-offset, 0px) +
            calc(var(--_price-offset, 0px) + var(--_rating-offset, 0px))
        )
    );
    box-sizing: border-box;
    border: var(--oryx-border-thin) solid var(--oryx-color-canvas-200);
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color-2);
  }

  :host(:is(:hover, :focus-within)) {
    --line-clamp: 0;

    z-index: 1;
    box-shadow: var(--oryx-elevation-1) var(--oryx-elevation-color-2);
    border-color: var(--oryx-color-canvas-500);
  }

  :host(:is(:hover, :focus-within)) product-title {
    white-space: normal;
  }

  :host([hide-title]) {
    --_title-offset: 24px;
  }

  :host([hide-price]) {
    --_price-offset: 34px;
  }

  :host([hide-rating]) {
    --_rating-offset: 24px;
  }

  :host,
  content-link,
  content-link::part(wrapper),
  content-link::part(link) {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
  }

  content-link,
  content-link::part(wrapper),
  content-link::part(link) {
    width: 100%;
  }

  :host,
  content-link {
    border-radius: var(--oryx-border-radius-small);
  }

  content-link {
    position: relative;
    color: #333;
    text-decoration: none;
    overflow: hidden;
  }

  content-link::part(link) {
    justify-content: flex-end;
    padding: 0;
    border-radius: 0;
    border: none;
    background-color: transparent;
  }

  content-link > div {
    display: flex;
    align-items: flex-start;
    padding-inline: 16px;
    padding-block: 8px;
    justify-content: space-between;
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 250px;
    box-sizing: border-box;
  }

  product-labels,
  oryx-icon-button {
    position: relative;
    z-index: 1;
  }

  oryx-icon-button:first-child {
    margin-inline-start: auto;
  }

  product-labels {
    flex-wrap: wrap;
  }

  button {
    padding: 6px;
    background-color: var(--oryx-color-canvas-100);
  }

  oryx-icon {
    --oryx-icon-size: 24px;

    color: var(--oryx-color-ink);
  }

  product-media {
    max-height: auto;
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
  }

  product-media::part(fallback) {
    --oryx-icon-size: 100px;

    background: transparent;
  }

  section {
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: var(--oryx-color-canvas-100);
    padding-inline: 16px;
    padding-block: 12px 16px;
    min-height: calc(
      156px -
        calc(
          var(--_title-offset, 0px) +
            calc(var(--_price-offset, 0px) + var(--_rating-offset, 0px))
        )
    );
    position: relative;
  }

  product-title,
  section > div > :not(:last-child) {
    margin-bottom: 8px;
  }

  product-price {
    font-size: 18px;
    line-height: 26px;
    font-weight: 700;
    gap: 4px;
    align-items: center;
  }

  product-price::part(default-original) {
    color: var(--oryx-color-ink);
  }

  product-price::part(original) {
    font-size: 12px;
    line-height: 18px;
    font-weight: 500;
    color: #4c4c4c;
    text-decoration: line-through;
  }

  product-price::part(original)::before {
    display: none;
  }

  product-average-rating {
    --oryx-icon-size: 12px;

    display: block;
  }

  product-title {
    color: var(--oryx-color-ink);
    font-size: 12px;
    line-height: 16px;
    margin-block-end: auto;
    white-space: normal;
  }

  section > div:only-child {
    margin-block-start: auto;
  }
`;

    let ProductCardComponent = class ProductCardComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.hideTitle = false;
            this.hidePrice = false;
            this.hideRating = false;
            this.observe = new ObserveController(this);
            this.context = new ContextController(this);
            this.options$ = new ContentController(this).getOptions().pipe(cjs.tap((options) => {
                // We have an issue during ssr that don't allow us
                // to use methods of the class
                // ie this.toggleAttribute('hide-title', !!options.hideTitle);
                // Issue happens because component is not defined when code is called
                // this solution uses lit-properties and should be replaced by more
                // convenient in the future
                this.hideTitle = !!options.hideTitle;
                this.hidePrice = !!options.hidePrice;
                this.hideRating = !!options.hideRating;
            }));
            this.product$ = new ProductController(this).getProduct();
            this.card$ = cjs.combineLatest([this.product$, this.options$]).pipe(cjs.tap(([product, options]) => {
                if (options && 'truncateTitleAfter' in options) {
                    this.style?.setProperty('--oryx-product-card-title-line-clamp', String(options.truncateTitleAfter));
                }
            }));
            this.sku$ = cjs.combineLatest([
                this.options$,
                // TODO: investigate issue observe decorator with mixin
                this.observe.get('sku'),
            ]).pipe(cjs.filter(([options, propSku]) => Boolean(options.sku ?? propSku)), cjs.tap(([options, propSku]) => this.context.provide("sku" /* ProductContext.SKU */, options.sku ?? propSku)));
        }
        preventPropagating(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        render() {
            return y `${asyncValue(this.card$, ([product, options]) => product
            ? y `
            <content-link
              .options="${{
                type: SemanticLinkType.Product,
                id: product.sku,
            }}"
            >
              <div>
                ${n$1(!options?.hideLabels, () => y `<product-labels></product-labels>`)}
                ${n$1(!options?.hideFavorites, () => y `
                    <oryx-icon-button>
                      <button
                        tabindex="-1"
                        aria-label="add-to-favorites"
                        @click=${this.preventPropagating}
                      >
                        <oryx-icon type="wishlist"></oryx-icon>
                      </button>
                    </oryx-icon-button>
                  `)}

                <product-media
                  .options=${{
                containerSize: "thumbnail" /* ProductMediaContainerSize.Thumbnail */,
            }}
                ></product-media>
              </div>

              <section>
                ${n$1(!options?.hideTitle, () => y `
                    <product-title
                      .options="${{ link: false }}"
                    ></product-title>
                  `)}

                <div>
                  ${n$1(!options?.hidePrice, () => y `<product-price></product-price>`)}
                  ${n$1(!options?.hideRating, () => y `
                      <product-average-rating
                        .options=${{ size: 'small' }}
                      ></product-average-rating>
                    `)}

                  <oryx-cart-add
                    tabindex="-1"
                    .options="${{
                outlined: true,
                hideQuantityInput: true,
            }}"
                    @click=${this.preventPropagating}
                  ></oryx-cart-add>
                </div>
              </section>
            </content-link>
          `
            : y ``)}`;
        }
    };
    ProductCardComponent.styles = ProductCardStyles;
    __decorate([
        e$3({ type: Boolean, reflect: true, attribute: 'hide-title' }),
        __metadata("design:type", Object)
    ], ProductCardComponent.prototype, "hideTitle", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true, attribute: 'hide-price' }),
        __metadata("design:type", Object)
    ], ProductCardComponent.prototype, "hidePrice", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true, attribute: 'hide-rating' }),
        __metadata("design:type", Object)
    ], ProductCardComponent.prototype, "hideRating", void 0);
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], ProductCardComponent.prototype, "sku$", void 0);
    ProductCardComponent = __decorate([
        hydratable(['mouseover', 'focusin'])
    ], ProductCardComponent);

    const card_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductCardComponent () { return ProductCardComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    /**
     * converts single line feeds to `<br />` and splits text with double
     * line breaks into paragraphs (`<p>...</p>`).
     */
    function convertLineFeedsToHTML(text) {
        return text
            .split(/(\r?\n\s*){2}/)
            .map((s) => s.trim())
            .filter((s) => s.length)
            .map((s) => `<p>${s}</p>`)
            .join('')
            .split(/(\r?\n\s*){1}/)
            .map((s) => (s.startsWith('\n') ? '<br />' : s.trim()))
            .join('');
    }

    let ProductDescriptionComponent = class ProductDescriptionComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.options$ = new ContentController(this).getOptions();
            this.product$ = new ProductController(this).getProduct();
        }
        render() {
            return n$7 `
      ${asyncValue(this.options$, (options) => n$7 `<oryx-text
          .style=${`--line-clamp: ${options.truncateAfter ?? 0}`}
          .hideToggle=${!!options.hideToggle}
          .defaultExpanded=${!!options.defaultExpanded}
        >
          ${asyncValue(this.product$, (product) => n$7 `${o$7(this.convert(product?.description))}`)}
        </oryx-text>`)}
    `;
        }
        convert(text) {
            return convertLineFeedsToHTML(text ?? '');
        }
    };
    ProductDescriptionComponent = __decorate([
        hydratable(['mouseover', 'window:resize'])
    ], ProductDescriptionComponent);

    const description_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductDescriptionComponent () { return ProductDescriptionComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    let ProductIdComponent = class ProductIdComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.product$ = new ProductController(this).getProduct();
            this.options$ = new ContentController(this).getOptions();
            this.data$ = cjs.combineLatest([this.options$, this.product$]);
        }
        render() {
            return n$7 `
      ${asyncValue(this.data$, ([options, product]) => n$7 `${options.prefix ?? 'SKU'}: ${product?.sku}`)}
    `;
        }
    };
    ProductIdComponent = __decorate([
        hydratable()
    ], ProductIdComponent);

    const id_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductIdComponent () { return ProductIdComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const hasNoMain = r$5(`[main-layout='${"none" /* PIPL.None */}']`);
    const isMainToggle = r$5(`[main-layout='${"toggle" /* PIPL.Toggle */}']`);
    const isPosBottom = r$5(`[nav-position='${"bottom" /* PINP.Bottom */}']`);
    const isPosTop = r$5(`[nav-position='${"top" /* PINP.Top */}']`);
    const isPosStart = r$5(`[nav-position='${"start" /* PINP.Start */}']`);
    const isPosEnd = r$5(`[nav-position='${"end" /* PINP.End */}']`);
    const isPosStartOrEnd = r$5(`:is(${isPosStart}, ${isPosEnd})`);
    const isGrid = r$5(`[nav-layout='${"grid" /* PINL.Grid */}']`);
    const isFloating = r$5(`[nav-display='${"floating" /* PIND.Floating */}']`);
    const isDisplayNone = r$5(`[nav-display='${"none" /* PIND.None */}']`);
    const isNavAlignCenter = r$5(`[nav-align='${"center" /* PINA.Center */}']`);
    const isNavAlignEnd = r$5(`[nav-align='${"end" /* PINA.End */}']`);
    const mainHeight = i$7 `var(--product-images-main-height, 300px)`;
    const thumbWidth = i$7 `var(--product-images-thumb-width, var(--product-images-thumb-height, min(15vw, 80px)))`;
    const thumbHeight = i$7 `var(--product-images-thumb-height, var(--product-images-thumb-width, min(15vw, 80px)))`;

    const mainImageStyles = i$7 `
  section {
    position: relative;
    height: ${mainHeight};
    width: var(--product-images-main-width, 100%);
  }

  section product-media {
    box-sizing: border-box;
    min-height: 1px;
  }

  slot:not(${isMainToggle}) section {
    display: flex;
    flex-grow: 1;
    scrollbar-width: none;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }

  slot:not(${isMainToggle}) section product-media {
    flex: 1 0 100%;
    scroll-snap-align: start;
  }

  slot${isMainToggle} section product-media {
    position: absolute;
    inset: 0;
    opacity: 0;
    transition: opacity var(--oryx-transition-time) ease;
  }

  slot${isMainToggle} section product-media[active] {
    opacity: 1;
  }
`;

    const carouselNavigation = i$7 `
  :not(${isGrid}) .nav {
    min-width: 0;
    overflow: auto;
    scroll-behavior: smooth;
  }

  :not(${isGrid}):not(${isPosStartOrEnd}) .nav {
    overscroll-behavior-x: contain;
    scroll-snap-type: x mandatory;
  }

  :not(${isGrid})${isPosStartOrEnd} .nav {
    overscroll-behavior-y: contain;
    scroll-snap-type: y mandatory;
  }

  slot${isPosStartOrEnd}:not(${isGrid}) .nav {
    height: inherit;
  }
`;
    const gridNavigation = i$7 `
  slot:not(${isPosStartOrEnd})${isGrid} .nav {
    flex-wrap: wrap;
  }

  slot${isGrid} {
    align-items: start;
  }

  slot${isPosStartOrEnd}${isGrid} .nav {
    display: grid;
    grid-template-rows: repeat(var(--oryx-grid-items-per-column, 3), 1fr);
    grid-auto-flow: column;
    min-width: 0;
  }
`;
    /**
     * Floating navigations are not based on a grid layout, and force the navigation
     * to float on top of the main image.
     */
    const floatingNavigation = i$7 `
  slot${isFloating} {
    overflow: hidden;
  }

  slot${isFloating}:not(${hasNoMain}) .nav {
    position: absolute;
    z-index: 1;
  }

  slot${isFloating}:not(${isPosStartOrEnd}) .nav {
    width: inherit;
  }

  slot${isFloating}${isPosEnd} .nav {
    inset-inline-end: 0;
  }

  slot${isFloating}:not([nav-position]) .nav,
  slot${isFloating}${isPosBottom} .nav {
    bottom: 0;
  }
`;
    /**
     * The navigation can be aligned in 3 directions: start, center and end. The alignment
     * is either on the horizontal or vertical axes, depending on the top/bottom or start/end
     * position.
     */
    const navigationAlignment = i$7 `
  slot:not(${isGrid}):not(${isPosStartOrEnd}):not([nav-align])
    label:first-child,
  slot:not(${isGrid}):not(${isPosStartOrEnd}):is(${isNavAlignCenter},
      ${isNavAlignEnd})
    label:first-child {
    margin-inline-start: auto;
  }

  slot:not(${isGrid}):not(${isPosStartOrEnd}):not([nav-align]) label:last-child,
  slot:not(${isGrid}):not(${isPosStartOrEnd})${isNavAlignCenter}
    label:last-child {
    margin-inline-end: auto;
  }

  slot:not(${isGrid})${isPosStartOrEnd}:is(${isNavAlignCenter}, ${isNavAlignEnd})
    label:first-child {
    margin-block-start: auto;
  }

  slot:not(${isGrid})${isPosStartOrEnd}${isNavAlignCenter} label:last-child {
    margin-block-end: auto;
  }

  slot${isGrid}:not([nav-align]) .nav,
  slot${isGrid}${isNavAlignCenter} .nav {
    justify-content: center;
  }

  slot${isPosStartOrEnd}${isGrid}:not([nav-align]) .nav,
  slot${isPosStartOrEnd}${isGrid}${isNavAlignCenter} .nav {
    align-self: center;
  }

  slot${isGrid}${isNavAlignEnd} .nav {
    justify-content: end;
    align-self: end;
  }
`;
    const navigationStyles$1 = i$7 `
  .nav {
    display: flex;
    align-items: center;
    align-content: start;
    gap: var(--product-images-navigation-gap, var(--oryx-space-2));
    border: none;
    margin: 0;
    box-sizing: border-box;
    padding: 4px;
  }

  slot${isPosStartOrEnd} .nav {
    flex-direction: column;
    box-sizing: border-box;
  }

  slot${isPosStart}, slot${isPosEnd} {
    height: ${mainHeight};
  }

  ${carouselNavigation}
  ${gridNavigation}
  ${floatingNavigation}
  ${navigationAlignment}

  .nav label {
    position: relative;
    scroll-snap-align: start;
    height: ${thumbHeight};
    width: ${thumbWidth};
    padding: 10px;
    box-sizing: border-box;
    background-color: var(--oryx-color-canvas-100);
  }

  slot${isPosStartOrEnd} .nav label {
    flex: 0 0 ${thumbHeight};
  }

  slot:not(${isPosStartOrEnd}) .nav label {
    flex: 0 0 ${thumbWidth};
  }

  .nav input {
    appearance: none;
    margin: 0;
    inset: 0;
    cursor: pointer;
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 1;
    outline: none;
    border-radius: 2px;
  }

  .nav input:focus:focus-visible,
  .nav input:checked,
  .nav input:hover {
    border: solid var(--oryx-border-thin) var(--oryx-color-neutral-400);
  }

  .nav input:hover:not(:checked) {
    border-color: var(--oryx-color-neutral-200);
  }

  .nav input:focus:focus-visible {
    box-shadow: 0 0 4px var(--oryx-color-focus);
    border-color: var(--oryx-color-focus);
  }
`;

    /**
     * The layout for the main image and thumbnail navigation is driven by a grid system.
     * The grid rows and columns depend on the dynamic component definition, since the
     * navigation can be put on the top, bottom, start or end.
     *
     * The grid system allows us to render the layout properly in both ltr and rtl direction.
     *
     * When there's no navigation or main image to be rendered, we neutralise the grid system
     * by using a single row/column.
     */
    const hostLayout = i$7 `
  :host {
    width: 100%;
  }

  slot {
    display: grid;
    gap: var(--oryx-layout-gap);
    width: var(--product-images-main-width, 100%);
    position: relative;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  slot:not([nav-position]),
  slot${isPosBottom} {
    grid-template-rows: ${mainHeight} min-content;
  }

  slot${isPosTop} {
    grid-template-rows: min-content ${mainHeight};
  }

  slot${isPosStart} {
    grid-template-columns: min-content var(--product-images-main-width, 1fr);
  }

  slot${isPosEnd} {
    grid-template-columns: var(--product-images-main-width, 1fr) min-content;
  }

  slot[without-nav],
  slot${hasNoMain}, slot${isFloating}, slot${isDisplayNone} {
    grid-template-rows: 1fr;
    grid-template-columns: 1fr;
  }
`;
    const styles$e = i$7 `
  ${hostLayout}
  ${mainImageStyles}
  ${navigationStyles$1}
`;

    let ProductImagesComponent = class ProductImagesComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.product$ = new ProductController(this)
                .getProduct()
                .pipe((product) => this.reset(product));
            this.options$ = new ContentController(this)
                .getOptions()
                .pipe((options) => this.reset(options));
            this.active$ = new cjs.BehaviorSubject(0);
        }
        render() {
            return y `
      ${asyncValue(cjs.combineLatest([this.product$, this.options$, this.active$]), ([product, options, active]) => {
            const media = this.resolveImages(product, options);
            return this.wrap(options, this.renderMain(options, media, active), this.renderNavigation(options, media, active));
        })}
    `;
        }
        resolveImages(product, options) {
            const set = !options.mediaSet
                ? product?.mediaSet?.[0]
                : product?.mediaSet?.find((set) => set.name === options.mediaSet);
            return set?.media ?? [];
        }
        /**
         * Wrapper element that reflects layout options. The DOM order of the main
         * image and the navigation are _adapted_ based on the configured layout.
         * The order of the preview and navigation as well as the reflected options
         * are crucial for proper styling.
         *
         * We cannot set those on the host element, since there's no support for `style.setAttribute`
         * and `toggleAttribute` on the host in lit ssr.
         */
        wrap(options, main, navigation) {
            const cssVar = (prop, value) => value ? `${prop}:${value}${isNaN(value) ? '' : 'px'};` : '';
            let style = '';
            style += cssVar('--product-images-main-height', options.mainImageHeight);
            style += cssVar('--product-images-main-width', options.mainImageWidth);
            style += cssVar('--product-images-thumb-height', options.thumbHeight);
            style += cssVar('--product-images-thumb-width', options.thumbWidth);
            if (options.gridItemsPerColumn) {
                style += `--oryx-grid-items-per-column: ${options.gridItemsPerColumn}`;
            }
            return y ` <slot
      main-layout=${l$1(options.mainLayout)}
      nav-position=${l$1(options.navigationPosition)}
      nav-layout=${l$1(options.navigationLayout)}
      nav-display=${l$1(options.navigationDisplay)}
      nav-align=${l$1(options.navigationAlignment)}
      ?without-nav=${!navigation.values.length}
      style=${style}
    >
      ${n$1(options.navigationPosition === "top" /* ProductImagesNavigationPosition.Top */ ||
            options.navigationPosition === "start" /* ProductImagesNavigationPosition.Start */, () => y `${navigation}${main}`, () => y `${main}${navigation}`)}
    </slot>`;
        }
        /**
         * Renders the main product image, aka the preview image.
         *
         * The preview image can be toggled when there are multiple images
         * available, using the image navigation.
         *
         * An empty image is returned when the `previewLayout` is `none`.
         */
        renderMain(options, images, active) {
            if (options.mainLayout === "none" /* ProductImagesMainLayout.None */) {
                return y ``;
            }
            return y `<section class="preview">
      ${images.map((_, i) => y `<product-media
          .sku=${this.sku}
          .options=${{
            mediaIndex: i,
            containerSize: "detail" /* ProductMediaContainerSize.Detail */,
            alt: `preview${i + 1}`,
            loading: active !== i ? 'lazy' : undefined,
        }}
          ?active=${active === i}
        ></product-media>`)}
    </section>`;
        }
        /**
         * Renders an navigation with image thumbnails.
         *
         * An empty template is returned when the `navigationDisplay` is `none`
         * or when there is only a single image available.
         */
        renderNavigation(options, images, active) {
            if (options.navigationDisplay === "none" /* ProductImagesNavigationDisplay.None */ ||
                images.length <= 1) {
                return y ``;
            }
            return y ` <fieldset class="nav">
      ${images.map((image, i) => y `
          <label aria-label=${`image ${i}`}>
            <input
              value=${i}
              type="radio"
              name=${l$1(options.groupName ?? `product-image-nav-${this.uid}`)}
              ?checked=${i === active}
              @input=${this.onInput}
              @mouseover=${(e) => this.onMouseover(e, options)}
            />
            <product-media
              .sku=${this.sku}
              .options=${{
            mediaIndex: i,
            containerSize: "thumbnail" /* ProductMediaContainerSize.Thumbnail */,
            loading: active !== i ? 'lazy' : undefined,
        }}
              ?active=${active === i}
            ></product-media>
          </label>
        `)}
    </fieldset>`;
        }
        onInput(e) {
            const target = e.target;
            const active = target.value;
            this.setActive(+active, "smooth" /* ProductImagesScrollBehavior.Smooth */);
        }
        onMouseover(e, options) {
            if (options.navigationMouseEvent ===
                "mouseover" /* ProductImagesNavigationMouseEvent.Mouseover */) {
                e.target.dispatchEvent(new InputEvent('input', { bubbles: true, composed: true }));
            }
        }
        /**
         * Toggles the active navigation thumbnail and navigates to the
         * active preview image.
         *
         * When a `smooth` or `auto` behaviour is provided, the preview image
         * is scrolled into view using this behaviour.
         */
        setActive(active, behavior = "auto" /* ProductImagesScrollBehavior.Auto */) {
            if (active !== undefined) {
                this.active$.next(active);
                const navItems = this.shadowRoot?.querySelectorAll('input');
                navItems?.[active]?.toggleAttribute('checked', true);
            }
            const item = this.shadowRoot?.querySelectorAll('section product-media')?.[this.active$.getValue()];
            if (behavior === "disable" /* ProductImagesScrollBehavior.Disable */) {
                item?.parentNode?.scrollTo(0, 0);
            }
            else {
                item?.parentNode?.scroll({
                    left: item?.offsetLeft,
                    behavior,
                });
            }
        }
        /**
         * Resets the thumbnail navigation. This is useful when the image data
         * is change (i.e. during page navigation) or when the options are changing.
         */
        reset(source$) {
            return source$.pipe(cjs.tap(() => this.setActive(0, "disable" /* ProductImagesScrollBehavior.Disable */)));
        }
    };
    ProductImagesComponent.styles = styles$e;
    ProductImagesComponent = __decorate([
        hydratable('mouseover')
    ], ProductImagesComponent);

    const images_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductImagesComponent () { return ProductImagesComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const labelStyles = i$7 `
  :host {
    display: flex;
    gap: var(--oryx-space);
    padding: var(--oryx-space);
  }
`;

    class ProductLabelsComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.options$ = new ContentController(this).getOptions();
            this.product$ = new ProductController(this).getProduct();
            this.labels$ = cjs.combineLatest([this.options$, this.product$]).pipe(cjs.map(([options, product]) => this.filterLabels(options, product?.labels)));
        }
        render() {
            return n$7 `
      ${asyncValue(this.labels$, (labels) => n$7 `${labels?.map((label) => n$7 `<oryx-chip .appearance=${label.appearance}>
              ${label.name}
            </oryx-chip>`)}`)}
    `;
        }
        /**
         * Filters labels based on the included and excluded options. Included and excluded
         * labels are compared to the label name.
         *
         * The labels and in/exclusions are case insensitive.
         */
        filterLabels(options, labels = []) {
            return labels?.filter((label) => (!options.included && !options.excluded) ||
                options.included?.toLowerCase().includes(label.name.toLowerCase()) ||
                (options.excluded &&
                    !options.excluded.toLowerCase().includes(label.name.toLowerCase())));
        }
    }
    ProductLabelsComponent.styles = [labelStyles];

    const label_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ProductLabelsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$9 = i$7 `
  :host {
    padding-inline: 4px;
    scroll-padding-inline: 4px;
  }

  :host(.xl-layout-carousel) {
    padding-bottom: 12px;
  }

  :host(.xs-layout-carousel) {
    padding-bottom: 12px;
  }
`;
    const mediumScreen$6 = i$7 `
  :host(.xs-layout-carousel) {
    padding-bottom: 0;
  }

  :host(.md-layout-carousel) {
    padding-bottom: 12px;
  }
`;
    const largeScreen$1 = i$7 `
  :host(.md-layout-carousel) {
    padding-bottom: 0;
  }
`;
    const screenStyles$9 = [
        ...layoutScreenStyles,
        {
            media: mdScreen,
            css: mediumScreen$6,
        },
        {
            media: lgScreen,
            css: largeScreen$1,
        },
    ];

    const list_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$9,
        screenStyles: screenStyles$9
    }, Symbol.toStringTag, { value: 'Module' }));

    class ProductListComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.productListService = resolve(ProductListService);
            this.productListPageService = resolve(ProductListPageService);
            this.options$ = new ContentController(this).getOptions();
            this.products$ = this.options$.pipe(cjs.switchMap((options) => {
                const searchParams = this.productListService.getSearchParams(options);
                return this.hasOptions(searchParams)
                    ? this.productListService.get(searchParams)
                    : this.productListPageService.get();
            }), cjs.map((list) => list?.products ?? []));
        }
        renderProducts(products) {
            return y `${products.map((p) => y `<product-card .sku=${p.sku}></product-card>`)}`;
        }
        hasOptions(options) {
            return Object.keys(options).some((k) => !!options[k]);
        }
        render() {
            return y `
      ${asyncValue(this.products$, (products) => this.renderProducts(products))}
    `;
        }
    }
    ProductListComponent.styles = [layoutStyles, baseStyles$9];

    const list_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ProductListComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    let ProductMediaComponent = class ProductMediaComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.imageService = resolve(ProductImageService);
            this.productMedia$ = cjs.combineLatest([
                new ContentController(this).getOptions(),
                new ProductController(this).getProduct(),
            ]).pipe(cjs.map(([options, product]) => {
                const image = this.resolveImage(product, options);
                const sources = this.imageService.resolveSources(image, options?.containerSize ?? "detail" /* ProductMediaContainerSize.Detail */);
                return {
                    src: sources?.[0]?.url,
                    alt: options?.alt || product?.name,
                    srcset: this.getSrcSet(sources),
                    loading: options?.loading,
                };
            }));
        }
        render() {
            return y `${asyncValue(this.productMedia$, (image) => {
            return y `<oryx-image
          .src=${image.src}
          .srcset=${image.srcset}
          .alt=${image.alt}
          .loading=${image.loading ?? "lazy" /* LoadingStrategy.Lazy */}
        ></oryx-image>`;
        })}`;
        }
        resolveImage(product, options) {
            const set = !options.mediaSet
                ? product?.mediaSet?.[0]
                : product?.mediaSet?.find((set) => set.name === options.mediaSet);
            return set?.media?.[options?.mediaIndex ?? 0];
        }
        getSrcSet(sources) {
            if (sources.length < 2) {
                return;
            }
            return (sources
                .map((source) => source.context?.density
                ? `${source.url} ${source.context?.density}x`
                : undefined)
                .filter((s) => s)
                .join(',') || undefined);
        }
    };
    ProductMediaComponent = __decorate([
        hydratable('mouseover')
    ], ProductMediaComponent);

    const media_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductMediaComponent () { return ProductMediaComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const ProductPriceStyles = i$7 `
  :host {
    display: flex;
    gap: 10px;
    align-items: baseline;
    color: var(--oryx-color-highlight-300);
  }

  [part='original'] {
    position: relative;
    color: var(--oryx-color-neutral-400);
    font-size: 0.8em;
  }

  [part='original']::before {
    content: '';
    position: absolute;
    top: 50%;
    margin-inline-start: -5%;
    width: 110%;
    border-top: 1.5px solid var(--oryx-color-highlight-300);
    transform: rotate(-10deg);
  }
`;

    class ProductPriceComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.pricingService = resolve(PricingService);
            this.options$ = new ContentController(this).getOptions();
            this.product$ = new ProductController(this).getProduct();
            this.price$ = this.product$.pipe(cjs.switchMap((product) => cjs.combineLatest([
                this.pricingService.format(product?.price?.defaultPrice),
                this.pricingService.format(product?.price?.originalPrice),
                this.options$,
            ])));
        }
        render() {
            return y `
      ${asyncValue(this.price$, ([defaultPrice, originalPrice, options]) => y `
          <span part=${`default${!originalPrice ? ' default-original' : ''}`}
            >${defaultPrice}</span
          >
          ${n$1(originalPrice && !options?.hideOriginal, () => y `<span part="original">${originalPrice}</span>`)}
        `)}
    `;
        }
    }
    ProductPriceComponent.styles = ProductPriceStyles;

    const price_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ProductPriceComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$d = i$7 `
  :host {
    display: block;
  }

  content-link::part(link) {
    margin-inline-start: -8px;
    padding-block: 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
  }

  h1 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h1);
  }

  h2 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h2);
  }

  h3 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h3);
  }

  h4 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h4);
  }

  h5 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h5);
  }

  h6 oryx-text {
    --oryx-line-height: var(--oryx-line-height-h6);
  }
`;

    let ProductTitleComponent = class ProductTitleComponent extends ProductComponentMixin() {
        constructor() {
            super(...arguments);
            this.product$ = new ProductController(this).getProduct();
            this.options$ = new ContentController(this).getOptions();
        }
        render() {
            return n$7 ` ${asyncValue(cjs.combineLatest([this.options$, this.product$]), ([options, product]) => this.renderTitle(this.renderContent(product, options), options))}`;
        }
        renderContent(product, options) {
            const textContent = n$7 `<oryx-text hideToggle
      >${product?.name}</oryx-text
    >`;
            if (!options?.link) {
                return textContent;
            }
            return n$7 `
      <content-link
        .options="${{
            type: SemanticLinkType.Product,
            id: product?.sku,
        }}"
        >${textContent}</content-link
      >
    `;
        }
        /**
         * Generates the TAG (h1 - h6) based on the options.
         *
         * When there's no tag provided, a plain text node is created.   *
         *
         * We'd prefer using `unsafeStatic` directive, however, there's a SSR related issue
         * that blocks us from using this: https://github.com/lit/lit/issues/2246.
         *
         */
        renderTitle(title, options) {
            switch (options.tag) {
                case 'h1':
                    return n$7 `<h1>${title}</h1>`;
                case 'h2':
                    return n$7 `<h2>${title}</h2>`;
                case 'h3':
                    return n$7 `<h3>${title}</h3>`;
                case 'h4':
                    return n$7 `<h4>${title}</h4>`;
                case 'h5':
                    return n$7 `<h5>${title}</h5>`;
                case 'h6':
                    return n$7 `<h6>${title}</h6>`;
            }
            return title;
        }
    };
    ProductTitleComponent.styles = styles$d;
    ProductTitleComponent = __decorate([
        hydratable()
    ], ProductTitleComponent);

    const title_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ProductTitleComponent () { return ProductTitleComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const POPOVER_HEIGHT = 320;
    const CLOSE_EVENT$1 = 'oryx.close';
    const POPOVER_EVENT = 'oryx.popover';
    /**
     * html attribute that indicates element as closing trigger
     * for popover
     */
    const CLOSE_POPOVER_ATTR = 'close-popover';

    class DimensionController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        setBoundingBox(element) {
            const vOffset = this.getComputedProperty(this.host, '--oryx-popover-vertical-offset') ??
                0;
            const maxHeight = this.getComputedProperty(this.host, '--oryx-popover-maxheight') ??
                POPOVER_HEIGHT;
            const maxWidth = this.getComputedProperty(this.host, '--oryx-popover-maxwidth') ?? 0;
            const { top, right, bottom, left, boundingElementWidth, boundingElementHeight, } = this.getAvailableSpace(element);
            const isRTL = getComputedStyle(document.documentElement).direction === 'rtl';
            this.host.toggleAttribute('rtl', isRTL);
            const toRight = left < maxWidth && right > left;
            const toLeft = right < maxWidth && left > right;
            this.host.toggleAttribute('up', bottom < maxHeight && top > bottom);
            this.host.toggleAttribute('end', (!isRTL && toRight) || (isRTL && toLeft));
            this.host.toggleAttribute('start', (!isRTL && toLeft) || (isRTL && toRight));
            const properties = {
                '--_available-popover-height': `${Math.max(bottom, top) - Number(vOffset)}px`,
                '--_available-popover-width-start': `${isRTL ? right : left}px`,
                '--_available-popover-width-end': `${isRTL ? left : right}px`,
                '--_bounding-element-width': `${boundingElementWidth}px`,
                '--_bounding-element-height': `${boundingElementHeight}px`,
            };
            this.setStyleProperties(properties);
        }
        setStyleProperties(properties) {
            for (const propName in properties) {
                this.host.style.setProperty(propName, properties[propName]);
            }
        }
        getAvailableSpace(element) {
            const { top, left, bottom, right, width, height } = element.getBoundingClientRect();
            return {
                top,
                left,
                bottom: window.innerHeight - bottom,
                right: window.innerWidth - right,
                boundingElementWidth: width,
                boundingElementHeight: height,
            };
        }
        getComputedProperty(element, propName) {
            const property = window
                ?.getComputedStyle(element)
                .getPropertyValue(propName);
            if (!property) {
                return;
            }
            return parseFloat(property);
        }
    }

    const OUT_OF_INDEX = -1;
    /**
     * Toggles the highlight attribute on a list of items for keyboard users.
     * The arrow down/up, page down/up, home/end the highlight moves the highlight
     * up or down.
     *
     * - arrow up/down: move one up/down. Moves to top/bottom when end of list is reached.
     * - arrow up/down + meta key: move 10 up/down
     * - page up/down: move 10 up/down
     * - home: move to top
     * - end: move to bottom
     *
     * The `highlight` attribute is applied to the item and can further be used in CSS.
     *
     * ```html
     * <item>first</item>
     * <item highlight>second</item>
     * <item>third</item>
     * ```
     *
     * The items are configurable by the `listItemsSelector`.
     */
    class HighlightController {
        constructor(host, listItemsSelector) {
            this.host = host;
            this.listItemsSelector = listItemsSelector;
            this.host.addController(this);
            this.handleKeydown = this.handleKeydown.bind(this);
            this.clear = this.clear.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('keydown', this.handleKeydown);
            this.host.addEventListener(CLOSE_EVENT$1, this.clear);
        }
        hostDisconnected() {
            this.host.removeEventListener('keydown', this.handleKeydown);
            this.host.removeEventListener(CLOSE_EVENT$1, this.clear);
        }
        clear() {
            this.highlight = OUT_OF_INDEX;
        }
        get highlight() {
            return this.items.findIndex((item) => item.hasAttribute('highlight'));
        }
        set highlight(index) {
            this.items[this.highlight]?.toggleAttribute('highlight', false);
            const option = this.items[index];
            if (option) {
                option.toggleAttribute('highlight', true);
                // unfortunately no native smooth scrolling for block scrolling
                option.scrollIntoView({ block: 'nearest' });
                // ensures that the element becomes visible after animation time
                setTimeout(() => {
                    option.scrollIntoView({ block: 'nearest' });
                }, 300);
            }
        }
        handleKeydown(e) {
            switch (e.key) {
                case 'ArrowUp':
                    if (e.metaKey) {
                        this.move(e, -10, 0);
                    }
                    else {
                        this.move(e, -1, this.items.length - 1);
                    }
                    break;
                case 'ArrowDown':
                    if (e.metaKey) {
                        this.move(e, 10, this.items.length - 1);
                    }
                    else {
                        this.move(e, 1, 0);
                    }
                    break;
                case 'PageUp':
                    this.move(e, -10, 0);
                    break;
                case 'PageDown':
                    this.move(e, 10, this.items.length - 1);
                    break;
                case 'Home':
                    this.move(e);
                    break;
                case 'End':
                    this.move(e, undefined, this.items.length - 1);
                    break;
            }
        }
        move(e, moveBy, fallback = 0) {
            e.preventDefault();
            if (this.highlight === OUT_OF_INDEX) {
                this.highlight = this.selected;
            }
            let highlight = this.highlight;
            if (moveBy) {
                highlight = this.highlight + moveBy;
            }
            else {
                highlight = fallback;
            }
            if (highlight < 0 || highlight >= this.items.length) {
                highlight = fallback;
            }
            this.highlight = highlight;
        }
        get selected() {
            return this.items.findIndex((item) => item.hasAttribute('selected'));
        }
        get items() {
            return Array.from(this.host.querySelectorAll(this.listItemsSelector));
        }
    }

    /**
     * Toggles the `selected` attribute on a list of item. The `highlight` attribute
     * is applied to the item and can further be used in CSS.
     *
     * ```html
     * <item>first</item>
     * <item selected>second</item>
     * <item>third</item>
     * ```
     *
     * The items are configurable by the `listItemsSelector`.
     */
    class SelectedController {
        constructor(host, listItemsSelector) {
            this.host = host;
            this.listItemsSelector = listItemsSelector;
            this.host.addController(this);
            this.handleMouseup = this.handleMouseup.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('mouseup', this.handleMouseup);
        }
        hostDisconnected() {
            this.host.removeEventListener('mouseup', this.handleMouseup);
        }
        deselect() {
            this.select(-1);
        }
        select(index, omitDispatchEvent) {
            if (this.selected === index) {
                return;
            }
            this.items
                .find((item) => item.hasAttribute('selected'))
                ?.removeAttribute('selected');
            const selected = this.items[index];
            if (selected) {
                this.selected = index;
                if (!omitDispatchEvent) {
                    const event = new CustomEvent('oryx.select', {
                        detail: { selected },
                        bubbles: true,
                        composed: true,
                    });
                    this.host.dispatchEvent(event);
                }
            }
        }
        handleMouseup(e) {
            const index = this.items.indexOf(e.target);
            if (index > -1) {
                this.select(index);
            }
        }
        get selected() {
            return this.items.findIndex((item) => item.hasAttribute('selected'));
        }
        set selected(index) {
            this.items[index].toggleAttribute('selected', true);
        }
        get items() {
            return Array.from(this.host.querySelectorAll(this.listItemsSelector));
        }
    }

    class NoFormControlError {
        constructor() {
            return new Error('Form control was not found');
        }
    }
    /**
     * Returns the the form control for the given element.
     *
     * When there's no form control found, an `NoFormControlError` is thrown.
     */
    function getControl(element, selector = 'input, select, textarea') {
        const control = queryFirstAssigned(element, {
            selector,
            flatten: true,
        });
        if (control === undefined) {
            throw new NoFormControlError();
        }
        return control;
    }

    function timePassed(start, timeGap = 300) {
        return Date.now() - start > timeGap;
    }
    /**
     * Toggles an element when the user uses the keyboard, by toggling the "show" attribute.
     * Also toggles the "open" attribute on the host element.
     *
     * - Enter / space – toggles the `show` attribute
     * - Escape – removes the `show` attribute
     * - Any key – adds the `show` attribute
     *
     * When the meta key (cmd/ctrl) is used, the 'show' attribute is not toggled.
     *
     * The toggled element can be specified by the `elementSelector` option.
     */
    class ToggleController {
        constructor(host, options) {
            this.host = host;
            this.options = options;
            /**
             * Indicates that focusout event was dispatched before focusin
             */
            this.timeStarted = 0;
            /**
             * Indicates that key on keyboard is pressed
             */
            this.keyIsPressed = false;
            /**
             * Until Safari has issue with focusing of some elements during click on them
             * need to remember those elements and make them focused manually
             */
            this.shouldBeFocused = null;
            this.host.addController(this);
            this.dimensionController = new DimensionController(host);
            this.handleBlur = this.handleBlur.bind(this);
            this.handleFocusin = this.handleFocusin.bind(this);
            this.handleFocusout = this.handleFocusout.bind(this);
            this.handleMousedown = this.handleMousedown.bind(this);
            this.handleMouseup = this.handleMouseup.bind(this);
            this.handleKeydown = this.handleKeydown.bind(this);
            this.handleKeyup = this.handleKeyup.bind(this);
            this.handleContentCloseEvent = this.handleContentCloseEvent.bind(this);
        }
        async hostConnected() {
            window.addEventListener('blur', this.handleBlur);
            this.host.addEventListener(CLOSE_EVENT$1, this.handleContentCloseEvent);
            this.host.addEventListener('focusin', this.handleFocusin);
            this.host.addEventListener('focusout', this.handleFocusout);
            this.host.addEventListener('mousedown', this.handleMousedown);
            this.host.addEventListener('mouseup', this.handleMouseup);
            this.host.addEventListener('keydown', this.handleKeydown);
            this.host.addEventListener('keyup', this.handleKeyup);
            if (this.host.hasAttribute('open')) {
                //simulate first updated hook
                this.host.requestUpdate();
                await this.host.updateComplete;
                this.setBoundingBox();
            }
        }
        hostDisconnected() {
            window.removeEventListener('blur', this.handleBlur);
            this.host.removeEventListener(CLOSE_EVENT$1, this.handleContentCloseEvent);
            this.host.removeEventListener('focusin', this.handleFocusin);
            this.host.removeEventListener('focusout', this.handleFocusout);
            this.host.removeEventListener('mousedown', this.handleMousedown);
            this.host.removeEventListener('mouseup', this.handleMouseup);
            this.host.removeEventListener('keydown', this.handleKeydown);
            this.host.removeEventListener('keyup', this.handleKeyup);
        }
        handleBlur() {
            this.skipOpeningOnNextFocus = true;
            if (this.isOpen) {
                this.toggle(false);
            }
        }
        handleFocusin() {
            if (!this.skipOpeningOnNextFocus && this.options.showOnFocus) {
                this.timeStarted = Date.now();
                this.toggle(true);
            }
            this.skipOpeningOnNextFocus = false;
        }
        async handleFocusout() {
            if (!this.host.matches(':focus-within')) {
                this.toggle(false);
            }
            this.focusShouldBeFocusedMaybe();
        }
        handleMousedown(e) {
            if (!isFocusable(e.target) &&
                this.emitterIsInsidePopover(e)) {
                e.preventDefault();
                e.stopPropagation();
                return;
            }
            if (isSafari()) {
                this.shouldBeFocused =
                    e.composedPath().find((element) => {
                        return nonFocusableOnClickInSafari.some((selector) => element instanceof HTMLElement && element.matches(selector));
                    }) ?? null;
            }
            if (!this.isOpen) {
                this.timeStarted = Date.now();
                this.toggle(true);
            }
        }
        handleMouseup(e) {
            if (this.shouldClosePopover(e) ||
                (timePassed(this.timeStarted) && !this.emitterIsInsidePopover(e))) {
                this.toggle(false);
            }
            this.focusShouldBeFocusedMaybe();
        }
        handleKeydown(e) {
            if (this.keyIsPressed) {
                return;
            }
            this.keyIsPressed = true;
            switch (e.key) {
                case 'Enter':
                case ' ':
                    if (this.emitterIsInsidePopover(e) && !this.shouldClosePopover(e)) {
                        return;
                    }
                    this.toggle();
                    break;
                case 'Escape':
                    if (this.isOpen) {
                        this.toggle(false);
                    }
                    break;
                default:
                    // avoid toggle the element when the user cmd-tabs away from the browser
                    // or dispatching Tab key
                    if (!((e.key === 'Meta' && e.metaKey) || e.key === 'Tab')) {
                        this.toggle(true);
                    }
            }
        }
        handleKeyup() {
            this.keyIsPressed = false;
        }
        /**
         * Handle close event that emitted by content inside element.
         * Doesn't dispatch another one when close
         */
        handleContentCloseEvent(e) {
            const dispatchedByContent = e.target !== this.element;
            if (dispatchedByContent && this.isOpen) {
                this.host.toggleAttribute('open', false);
                this.element?.toggleAttribute('show', false);
            }
        }
        /**
         * Toggles the visibility of the element.
         */
        toggle(force) {
            if (force ?? !this.isOpen) {
                this.show();
            }
            else {
                this.host.toggleAttribute('open', false);
                this.element?.toggleAttribute('show', false);
                this.element?.dispatchEvent(new CustomEvent(CLOSE_EVENT$1, { composed: true, bubbles: true }));
            }
        }
        show() {
            if (this.isOpen) {
                return;
            }
            this.setBoundingBox();
            this.host.toggleAttribute('open', true);
            this.element?.toggleAttribute('show', true);
            // we need to ensure that the selected element is in the view
            if (this.selected > -1 && this.selected === this.highlighted) {
                setTimeout(() => {
                    this.items[this.selected].scrollIntoView({ block: 'nearest' });
                }, 100);
            }
        }
        emitterIsInsidePopover(e) {
            return e.composedPath().includes(this.element);
        }
        setBoundingBox() {
            this.dimensionController.setBoundingBox(this.options.boundingElement ?? getControl(this.host));
        }
        shouldClosePopover(e) {
            return e
                .composedPath()
                .some((element, i, path) => i <= path.indexOf(this.element) &&
                element instanceof Element &&
                element.hasAttribute(CLOSE_POPOVER_ATTR));
        }
        focusShouldBeFocusedMaybe() {
            if (this.shouldBeFocused) {
                this.shouldBeFocused.focus();
                this.shouldBeFocused = null;
            }
        }
        /**
         * Indicates that the popover element is visible.
         */
        get isOpen() {
            return !!this.element?.hasAttribute('show');
        }
        get selected() {
            return this.items.findIndex((item) => item.hasAttribute('selected'));
        }
        get highlighted() {
            return this.items.findIndex((item) => item.hasAttribute('highlight'));
        }
        get element() {
            return this.host.renderRoot.querySelector(this.options.elementSelector);
        }
        get items() {
            return Array.from(this.host.querySelectorAll(this.options.itemSelector));
        }
    }

    const popoverBaseStyles = i$7 `
  :host {
    display: flex;
    align-items: stretch;
    flex-direction: column;
    position: absolute;
    user-select: none;
    transform-origin: left top;
    transform: scaleY(var(--oryx-popover-visible, 0));
    z-index: var(--oryx-popover-z-index, 2);
  }

  :host([show]) {
    --oryx-popover-visible: 1;
  }
`;

    const popoverStyles = i$7 `
  :host {
    background-color: var(--oryx-color-canvas-100);
    box-shadow: var(--oryx-elevation-2) var(--oryx-elevation-color);
    border-radius: var(--oryx-border-radius-small);
    transition: transform var(--oryx-transition-time) ease-in-out;
  }
`;

    class PopoverComponent extends s$5 {
        render() {
            return y `<slot></slot>`;
        }
    }
    PopoverComponent.styles = [popoverBaseStyles, popoverStyles];

    const popover_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        PopoverComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    /**
     * Controls the popover behaviour by mouse and keyboard:
     * - toggle the popover (delegated to `ToggleController`)
     * - highlight the popover by keyboard (delegated to `HighlightController`)
     * - select the highlighted iem by keyboard (delegated to `SelectedController`)
     *
     * The PopoverController is not added to the popover component (as you might assume),
     * but can be used by a component that hosts a popover. The reason for this is that
     * the host element is key to the functionality, as this element is responsible for
     * toggling the popover.
     */
    class PopoverController {
        constructor(host, options) {
            this.host = host;
            this.options = options;
            this.popoverSelector = TAG_NAME;
            this.optionsSelector = 'oryx-option:not([hide])';
            this.host.addController(this);
            this.toggleController = new ToggleController(host, {
                elementSelector: this.popoverSelector,
                itemSelector: this.optionsSelector,
                showOnFocus: true,
                ...options,
            });
            this.highlightController = new HighlightController(host, this.optionsSelector);
            this.selectedController = new SelectedController(host, this.optionsSelector);
            this.handleKeydown = this.handleKeydown.bind(this);
            this.handleInput = this.handleInput.bind(this);
            this.handleSelectEvent = this.handleSelectEvent.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('keydown', this.handleKeydown);
            this.host.addEventListener('input', this.handleInput);
            this.host.addEventListener(POPOVER_EVENT, this.handleSelectEvent);
        }
        hostDisconnected() {
            this.host.removeEventListener('keydown', this.handleKeydown);
            this.host.removeEventListener('input', this.handleInput);
            this.host.removeEventListener(POPOVER_EVENT, this.handleSelectEvent);
        }
        selectByValue(value, omitDispatchEvent) {
            const index = this.items.findIndex((item) => item.value === value);
            this.selectedController.select(index, omitDispatchEvent);
            if (this.toggleController.isOpen) {
                this.items[index]?.scrollIntoView({ block: 'nearest' });
            }
        }
        handleKeydown(e) {
            switch (e.key) {
                case 'Enter':
                    if (this.toggleController.isOpen) {
                        this.selectedController.select(this.highlightController.highlight);
                    }
                    break;
                case ' ':
                    if (e.target instanceof HTMLElement && this.isReadonly(e.target)) {
                        if (this.toggleController.isOpen) {
                            this.selectedController.select(this.highlightController.highlight);
                        }
                        e.preventDefault();
                    }
                    break;
            }
        }
        handleInput(e) {
            if (!e.inputType) {
                return;
            }
            const composedTarget = e.composedPath()[0];
            if (e.target?.value ||
                (composedTarget instanceof HTMLInputElement && composedTarget?.value)) {
                this.toggleController.toggle(true);
            }
            else {
                this.selectedController.deselect();
            }
        }
        handleSelectEvent(e) {
            if (e.detail.selected) {
                const itemIndex = this.items.findIndex((item) => item === e.detail.selected);
                this.selectedController.select(itemIndex);
            }
            else {
                this.selectedController.deselect();
            }
        }
        isReadonly(target) {
            return (target instanceof HTMLSelectElement ||
                (target instanceof HTMLInputElement && target.readOnly));
        }
        get items() {
            return Array.from(this.host.querySelectorAll(this.optionsSelector));
        }
    }

    function isNextDelimiter(content, nextIndex, filter, delimiters) {
        return (delimiters.includes(content.charAt(nextIndex)) &&
            content.charAt(nextIndex) !== filter.substring(0, 1));
    }
    function generateMarkedHtml(indexes, content, filter, strategy) {
        let value = '';
        // parts before the first mark
        if (indexes.length > 0 && indexes[0] > -1) {
            let i = indexes[0];
            if (isNextDelimiter(content, i, filter, strategy.delimiters)) {
                i++;
            }
            value += `${content.substring(0, i)}`;
        }
        value += indexes
            .map((valueIndex, i) => {
            let part = '';
            if (valueIndex !== undefined) {
                if (isNextDelimiter(content, valueIndex, filter, strategy.delimiters)) {
                    valueIndex++;
                }
                part += `<mark>${content.substring(valueIndex, valueIndex + filter.length)}</mark>`;
                let nextIndex = indexes[i + 1];
                if (isNextDelimiter(content, nextIndex, filter, strategy.delimiters)) {
                    nextIndex++;
                }
                if (nextIndex > -1) {
                    part += content.substring(valueIndex + filter.length, nextIndex);
                }
            }
            return part;
        })
            .join('');
        let lastIndex = indexes[indexes.length - 1];
        if (lastIndex !== undefined) {
            if (isNextDelimiter(content, lastIndex, filter, strategy.delimiters)) {
                lastIndex++;
            }
            value += content.substring(lastIndex + filter.length);
        }
        return value;
    }
    function getFilterRegExp(value, strategy) {
        const delimiters = (strategy.delimiters.indexOf(value.charAt(0)) > -1
            ? []
            : [...strategy.delimiters]).join('|');
        let pattern;
        switch (strategy.type) {
            case "start_of_word" /* FilterStrategyType.START_OF_WORD */:
                pattern = `(?:^|${delimiters})${value}`;
                break;
            case "start_with" /* FilterStrategyType.START_WITH */:
                pattern = `^(${delimiters})?${value}`;
                break;
            case "contains" /* FilterStrategyType.CONTAINS */:
                pattern = `[.]*${value}`;
                break;
        }
        return new RegExp(pattern, 'gi');
    }

    /**
     * Provides filtering of options client side, so that the user is able to quickly
     * filter a (long) list of options by the given input characters.
     *
     * Filtering can be enabled by using the `filter` flag on the `TypeaheadOption`.
     */
    class FilterController {
        constructor(host) {
            this.host = host;
            this.strategies = {
                ["start_of_word" /* FilterStrategyType.START_OF_WORD */]: {
                    type: "start_of_word" /* FilterStrategyType.START_OF_WORD */,
                    delimiters: [' ', '/', '-', '_'],
                },
                ["start_with" /* FilterStrategyType.START_WITH */]: {
                    type: "start_with" /* FilterStrategyType.START_WITH */,
                    delimiters: ['/'],
                },
                ["contains" /* FilterStrategyType.CONTAINS */]: {
                    type: "contains" /* FilterStrategyType.CONTAINS */,
                    delimiters: [],
                },
            };
            this.host.addController(this);
            this.onKeydown = this.onKeydown.bind(this);
            this.onInput = this.onInput.bind(this);
            this.onFocusOut = this.onFocusOut.bind(this);
            this.onChange = this.onChange.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('keydown', this.onKeydown);
            this.host.addEventListener('input', this.onInput);
            this.host.addEventListener('focusout', this.onFocusOut);
            this.host.addEventListener('change', this.onChange);
        }
        hostDisconnected() {
            this.host.removeEventListener('keydown', this.onKeydown);
            this.host.removeEventListener('input', this.onInput);
            this.host.removeEventListener('focusout', this.onFocusOut);
            this.host.removeEventListener('change', this.onChange);
        }
        onKeydown(e) {
            if (this.host.filterStrategy &&
                e.key === ' ' &&
                this.controlItem.value === '') {
                e.preventDefault();
            }
        }
        onFocusOut() {
            if (this.host.filterStrategy) {
                const hasSelectedItem = this.items.find((item) => item.selected);
                if (!hasSelectedItem) {
                    this.clearInput();
                }
            }
        }
        onInput(e) {
            if (this.host.filterStrategy && e.inputType) {
                this.filterOptionsByValue(e.inputType === 'deleteContentBackward' && !this.controlItem.value
                    ? ''
                    : this.controlItem.value);
            }
        }
        hostUpdated() {
            if (this.host.filterStrategy && this.filterValue) {
                this.filterOptionsByValue(this.controlItem.value);
            }
        }
        clearInput() {
            if (this.control) {
                this.control.value = '';
                if (this.host.filterStrategy) {
                    this.filterOptionsByValue(this.control.value);
                }
                this.control.dispatchEvent(new Event(this.control instanceof HTMLSelectElement ? 'change' : 'input', { bubbles: true, composed: true }));
            }
        }
        setEmptyState(value) {
            const isEmpty = !!this.host.isEmpty;
            // set isEmpty to true when there are no visible items
            // and - when changed - ensure that the state is taken into account in the host
            if (isEmpty !== value) {
                this.host.isEmpty = value;
                this.host.requestUpdate('isEmpty', isEmpty);
            }
        }
        onChange() {
            if (this.filterValue === this.controlItem.value) {
                return;
            }
            this.filterOptions('', true);
        }
        filterOptions(value = '', omitDispatchEvent) {
            if (!this.host.filterStrategy) {
                return;
            }
            let visibleOptionCount = 0;
            const strategy = this.strategies[this.host.filterStrategy];
            this.items.forEach((item) => {
                const itemValue = item.innerText || item.value;
                if (itemValue) {
                    const indexes = [
                        ...itemValue.matchAll(getFilterRegExp(value, strategy)),
                    ].map((a) => a.index);
                    item.toggleAttribute('hide', indexes.length === 0);
                    if (!item.hasAttribute('hide')) {
                        item.innerHTML = generateMarkedHtml(indexes, itemValue, value, strategy);
                        visibleOptionCount++;
                    }
                }
            });
            if (!omitDispatchEvent) {
                this.dispatchMatchEvent(visibleOptionCount, value);
            }
            this.setEmptyState(visibleOptionCount === 0);
        }
        filterOptionsByValue(value = '') {
            if (this.filterValue === value || (!this.filterValue && value === '')) {
                return;
            }
            this.filterValue = value;
            this.filterOptions(value);
        }
        dispatchMatchEvent(visibleOptionCount, value) {
            let selected;
            if (visibleOptionCount === 1) {
                const option = this.items.find((el) => !el.hasAttribute('hide'));
                const optionText = option?.innerText?.trim() || option?.value || '';
                if (optionText.toLowerCase() === value.toLowerCase()) {
                    selected = option;
                }
            }
            const event = new CustomEvent(POPOVER_EVENT, {
                detail: {
                    selected,
                },
                bubbles: true,
                composed: true,
            });
            this.control.dispatchEvent(event);
        }
        get control() {
            return getControl(this.host, 'input, select');
        }
        get filterControl() {
            return this.host.renderRoot.querySelector('[filterInput]');
        }
        get controlItem() {
            if (this.host.hasAttribute('filterSelect')) {
                return this.filterControl;
            }
            else {
                return this.control;
            }
        }
        get items() {
            return Array.from(this.host.querySelectorAll('oryx-option'));
        }
    }

    const emptyFallback = 'No results found';
    class TypeaheadController {
        constructor(host, options) {
            this.host = host;
            this.options = options;
            this.host.addController(this);
            this.filterController = new FilterController(host);
            this.popoverController = new PopoverController(host, options);
            this.onInput = this.onInput.bind(this);
            this.onChange = this.onChange.bind(this);
            this.onSelect = this.onSelect.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('input', this.onInput);
            this.host.addEventListener('change', this.onChange);
            this.host.addEventListener('oryx.select', this.onSelect);
        }
        hostDisconnected() {
            this.host.removeEventListener('input', this.onInput);
            this.host.removeEventListener('change', this.onChange);
            this.host.removeEventListener('oryx.select', this.onSelect);
        }
        hostUpdated() {
            this.host
                .querySelectorAll('oryx-option')
                .forEach((option) => {
                //ensure that option has necessary attribute for closing popover
                option.toggleAttribute(CLOSE_POPOVER_ATTR, true);
                if (!option.slot) {
                    option.slot = 'option';
                }
            });
            if (!this.lastValue && this.control.value) {
                this.lastValue = this.control.value;
            }
            this.onChange();
        }
        renderPopover() {
            return y `
      <oryx-popover>
        ${n$1(!this.host.isEmpty, () => y `<slot name="option"></slot>`)}
        <slot name="empty">
          ${n$1(this.host.isEmpty, () => y `<div class="placeholder">
                ${this.host.emptyMessage ?? emptyFallback}
              </div>`)}
        </slot>
        <slot name="loading">
          ${n$1(this.host.isLoading, () => y `<div class="placeholder">
                <oryx-spinner></oryx-spinner>
              </div>`)}
        </slot>
      </oryx-popover>
    `;
        }
        onInput() {
            const query = this.typeaheadControl?.value || this.control.value;
            const event = new CustomEvent('oryx.typeahead', {
                detail: {
                    query,
                },
                bubbles: true,
                composed: true,
            });
            this.host.dispatchEvent(event);
        }
        onChange() {
            const value = this.control.value;
            this.popoverController.selectByValue(value, this.lastValue === value);
            if (value === '') {
                this.lastValue = undefined;
            }
        }
        onSelect(e) {
            if (e.detail.selected) {
                const value = this.getValue(e.detail.selected);
                const text = this.getText(e.detail.selected);
                if (!value) {
                    return;
                }
                // the control value might have been reset during filtering, hence we'll set it always
                this.control.value = value;
                this.control.dispatchEvent(new Event(this.control instanceof HTMLSelectElement ? 'change' : 'input', { bubbles: true, composed: true }));
                if (text && this.typeaheadControl) {
                    this.typeaheadControl.value = text;
                }
            }
        }
        get control() {
            return getControl(this.host);
        }
        get typeaheadControl() {
            return this.host.renderRoot?.querySelector('[typeaheadInput]');
        }
        getValue(option) {
            return option.value;
        }
        getText(option) {
            return option.innerText?.trim();
        }
    }

    class AffixController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        hostUpdated() {
            this.updateFill();
        }
        renderPrefix(content) {
            if (!content) {
                const icon = this.host.prefixIcon;
                if (this.hasContent('prefix', icon)) {
                    content = y `<oryx-icon .type="${icon}"></oryx-icon>`;
                    this.host.setAttribute('has-prefix', '');
                }
            }
            else {
                this.host.setAttribute('has-prefix', '');
            }
            return this.renderContent('prefix', content);
        }
        renderSuffix(content) {
            let iconContent;
            const icon = this.host.suffixIcon;
            if (this.hasContent('suffix', icon)) {
                iconContent = y `<oryx-icon .type="${icon}"></oryx-icon>`;
            }
            return this.renderContent('suffix', y `${content}${iconContent}`);
        }
        renderContent(slotName, content) {
            return y `<slot name=${slotName}>${content}</slot>`;
        }
        /**
         * Updates the affix fill (prefix and suffix) whenever the affix content is provided.
         * If there's no affix content available, the fill will not be added, regardless
         * of the configured options.
         */
        updateFill() {
            this.host.toggleAttribute('prefixFill', !!this.host.prefixFill &&
                (!!this.host.prefixIcon ||
                    queryAssignedElements(this.host, { slot: 'prefix', flatten: true })
                        ?.length > 0));
            this.host.toggleAttribute('suffixFill', !!this.host.suffixFill &&
                (!!this.host.suffixIcon ||
                    queryAssignedElements(this.host, { slot: 'suffix', flatten: true })
                        ?.length > 0));
        }
        hasContent(slotName, icon) {
            return (!!icon || this.host?.querySelectorAll?.(`*[slot=${slotName}]`)?.length > 0);
        }
    }

    /**
     * Provides style rules for the prefix and suffix structure
     * of text controls.
     */
    const affixStyles = i$7 `
  slot[name='prefix'],
  slot[name='suffix'] {
    display: flex;
    align-items: center;
  }

  slot[name='prefix'] {
    border-start-start-radius: calc(var(--oryx-border-radius) - 2px);
    border-end-start-radius: calc(var(--oryx-border-radius) - 2px);
  }

  slot[name='prefix'] > *,
  slot[name='prefix']::slotted(*) {
    margin-inline-start: 10px;
  }

  slot[name='suffix'] {
    border-start-end-radius: calc(var(--oryx-border-radius) - 2px);
    border-end-end-radius: calc(var(--oryx-border-radius) - 2px);
  }

  /* force some margin whenever there's additional content before the suffix */
  *:not(slot) + slot[name='suffix'] {
    margin-inline-start: 10px;
  }

  slot[name='suffix'] > *,
  slot[name='suffix']::slotted(*) {
    margin-inline-end: 10px;
  }

  :host([prefixFill]) slot[name='prefix'],
  :host([suffixFill]) slot[name='suffix'] {
    background-color: var(--oryx-color-canvas-200);
    white-space: nowrap;
  }

  :host([prefixFill]) slot[name='prefix'] {
    padding-inline-end: 10px;
  }

  :host([suffixFill]) slot[name='suffix'] {
    padding-inline-start: 10px;
  }
`;

    class ErrorController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        hostUpdated() {
            this.handleError();
        }
        render() {
            return y `<oryx-error-message .message=${this.message}>
      <slot name="error" @slotchange=${this.handleError.bind(this)}></slot>
    </oryx-error-message>`;
        }
        handleError() {
            const hasErrorContent = !!this.message || this.errorSlot.length > 0;
            const errorMessage = this.host.shadowRoot.querySelector('oryx-error-message');
            const hasErrorContentAttr = errorMessage?.hasAttribute('hasErrorContent');
            errorMessage?.toggleAttribute('hasErrorContent', hasErrorContent);
            if (!this.host.hasAttribute('hasError') || hasErrorContentAttr) {
                this.host.toggleAttribute('hasError', hasErrorContent);
            }
        }
        get message() {
            return this.host.errorMessage;
        }
        get errorSlot() {
            return this.host.querySelectorAll('[slot=error]');
        }
    }

    /**
     * Provides error styling for the control.
     */
    const errorStyles$1 = i$7 `
  :host([hasError]) {
    border-color: var(--oryx-color-error-300);
  }

  :host([disabled]) slot[name='error'] ::slotted(oryx-icon) {
    color: var(--oryx-color-neutral-200);
  }
`;

    const floatingLabelBaseStyles = i$7 `
  :host([floatLabel]) {
    position: relative;
  }

  :host([floatLabel]) slot[name='label']::slotted(*) {
    pointer-events: none;
  }

  :host([floatLabel]) slot[name='label'] {
    text-transform: none;
    font-weight: 500;
    font-size: 14px;
    line-height: 16px;
    color: var(--oryx-color-neutral-300);
    position: absolute;
    top: 17px;
    inset-inline-start: calc(var(--float-label-start-gap, 0px) + 13px);
    max-width: calc(100% - 26px - var(--float-label-start-gap, 0px));
    z-index: 1;
    transition: 100ms;
    /* stylelint-disable-next-line */
    background: linear-gradient(
      to bottom,
      transparent 10px,
      var(--_label-background-color) 10px
    );
  }

  :host(oryx-select[floatLabel]) slot[name='label'] {
    max-width: calc(100% - 54px - var(--float-label-start-gap, 0px));
  }

  :host([floatLabel]) slot:not([name])::slotted(*)::placeholder,
  :host([floatLabel]) slot:not([name])::slotted(select:invalid) {
    opacity: 0;
  }

  :host([floatLabel]) slot[name='label'],
  :host([floatLabel]) slot[name='label']::slotted(*) {
    cursor: text;
  }

  :host([floatLabel]:is(:focus-within, [has-value])) slot[name='label'] {
    --_label-background-color: var(--oryx-color-canvas-100);

    color: var(--oryx-color-neutral-400);
    font-size: 12px;
    padding: 3px 8px;
    top: -10px;
    inset-inline-start: 20px;
    max-width: calc(100% - 56px);
  }

  :host([floatLabel][has-prefix]:is(:focus-within, [has-value]))
    slot[name='label'] {
    inset-inline-start: calc(var(--float-label-start-gap, 0px) + 7px);
    max-width: calc(100% - 30px - calc(var(--float-label-start-gap, 0px)));
  }

  :host([floatLabel][has-value][disabled]) slot[name='label'] {
    --_label-background-color: var(--oryx-color-canvas-200);
  }
`;
    const mediumScreen$5 = i$7 `
  :host([floatLabel]) slot[name='label'] {
    top: 13px;
  }
`;
    const floatingLabelScreenStyles = [
        {
            media: mdScreen,
            css: mediumScreen$5,
        },
    ];

    const focusableSelectors = [
        'a[href]',
        'button',
        '[tabindex]',
        'input',
        'select',
        'textarea',
    ];
    class VisibleFocusController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        hostConnected() {
            this.setupVisibleFocusHandlers();
        }
        /**
         * Manage the visible focus. While there's good browser support these days for
         * visible focus, visible focus does not work in conjunction with `:focus-within`
         * selectors. We therefore maintain a visible-focus attribute at the host.
         */
        setupVisibleFocusHandlers() {
            const onBlur = () => {
                this.mouseWasUsed = undefined;
                this.host.removeAttribute('visible-focus');
                this.focusableElements().forEach((el) => {
                    el.removeEventListener('blur', onBlur);
                });
            };
            this.host.addEventListener('mousedown', () => {
                this.mouseWasUsed = true;
                this.host.removeAttribute('visible-focus');
                this.focusableElements().forEach((el) => {
                    el.addEventListener('blur', () => onBlur());
                });
            });
            this.host.addEventListener('keyup', () => {
                if (!this.mouseWasUsed) {
                    this.host.toggleAttribute('visible-focus', true);
                }
                this.focusableElements().forEach((el) => {
                    el.addEventListener('blur', () => onBlur());
                });
            });
        }
        focusableElements() {
            return queryAssignedElements(this.host, {
                selector: focusableSelectors.join(','),
                flatten: true,
            });
        }
    }

    class FormControlController {
        constructor(host) {
            this.host = host;
            this._attributes = ['disabled', 'readonly'];
            this._listeners = [];
            this.host.addController(this);
            this.visibleFocusController = new VisibleFocusController(this.host);
            this.errorController = new ErrorController(this.host);
            this.mouseDownHandler = this.mouseDownHandler.bind(this);
            this.setHasErrorAttr = this.setHasErrorAttr.bind(this);
            this.removeHasErrorAttr = this.removeHasErrorAttr.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('mousedown', this.mouseDownHandler);
        }
        hostUpdated() {
            const prefix = this.host.renderRoot.querySelector('slot[name="prefix"]');
            this.host.style.setProperty('--float-label-start-gap', `${prefix?.offsetWidth}px`);
        }
        hostDisconnected() {
            this.removeValidationListeners();
            this.host.removeEventListener('mousedown', this.mouseDownHandler);
            this.controlAttrObserver?.disconnect();
        }
        mouseDownHandler(e) {
            // we do not focus the control in case another (custom) focusable
            // element is used inside the form control (ie inside prefix)
            if (!isFocusable(e.target)) {
                if (e.target === this.host) {
                    e.preventDefault();
                }
                this.control.focus();
            }
        }
        render(content = {}) {
            return y `
      <label>
        <slot name="label" part="label">${this.host.label}</slot>
        <div class="control">
          ${content.before}
          <slot
            @slotchange=${() => this.handleSlotChange()}
            @input=${() => this.toggleHasValueAttribute()}
          >
            <input />
          </slot>
          ${content.after}
        </div>
      </label>
      ${this.errorController.render()}
    `;
        }
        handleSlotChange() {
            this.detectAutofill();
            this.toggleHasValueAttribute();
            this.adjustDisabledState();
            this.addValidationListeners();
        }
        setHasErrorAttr() {
            this.host.toggleAttribute('hasError', true);
        }
        removeHasErrorAttr() {
            this.host.toggleAttribute('hasError', false);
        }
        addValidationListeners() {
            this.control?.addEventListener('invalid', this.setHasErrorAttr);
            this.control?.addEventListener('input', this.removeHasErrorAttr);
        }
        removeValidationListeners() {
            this.control?.removeEventListener('invalid', this.setHasErrorAttr);
            this.control?.removeEventListener('input', this.removeHasErrorAttr);
        }
        detectAutofill() {
            let timesToTry = 30;
            const interval = setInterval(() => {
                if (timesToTry === 0) {
                    clearInterval(interval);
                }
                timesToTry--;
                // try catch is needed here to avoid JSDOM tests error
                try {
                    if (this.control.matches(':-webkit-autofill')) {
                        this.host.toggleAttribute('has-value', true);
                        clearInterval(interval);
                    }
                }
                catch (e) {
                    clearInterval(interval);
                }
            }, 30);
        }
        toggleHasValueAttribute() {
            this.host.toggleAttribute('has-value', !!this.control.value);
        }
        adjustDisabledState() {
            this.host.toggleAttribute('disabled', this.control.disabled);
            this.registerListener({ attributes: ['disabled', 'readonly'] }, () => {
                this.host.toggleAttribute('disabled', this.control.disabled);
            });
        }
        registerListener(mutation, callback) {
            this._attributes = [...this._attributes, ...mutation.attributes];
            this._listeners.push(callback);
            this.controlAttrObserver?.disconnect();
            this.controlAttrObserver = new MutationObserver((mutations, observer) => {
                this._listeners.forEach((listener) => listener(mutations, observer));
            });
            this.controlAttrObserver.observe(this.control, {
                attributeFilter: this._attributes,
            });
        }
        get control() {
            return getControl(this.host);
        }
    }

    const formControlBaseStyles = i$7 `
  :host {
    display: flex;
    flex-direction: column;
    border-color: var(--oryx-color-canvas-400);
  }

  label {
    border-color: inherit;
    cursor: pointer;
  }

  slot[name='label'] {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: inherit;
    color: var(--oryx-color-ink);
    font-weight: 400;
    font-size: 12px;
    text-transform: var(--oryx-form-label-transform);
    position: relative;
    top: -4px;
    line-height: 20px;
  }

  .control {
    display: flex;
    align-items: stretch;
    position: relative;
    border-style: solid;
    border-width: 2px;
    border-color: inherit;
    border-radius: var(--oryx-border-radius);
    transition: all var(--oryx-transition-time);
    color: var(--oryx-color-neutral-300);
    background-color: var(--oryx-color-canvas-100);
  }

  :host([disabled]) {
    pointer-events: none;
  }

  :host([disabled]) .control {
    border-radius: var(--oryx-border-radius);
    background-color: var(--oryx-color-canvas-200);
  }

  :host(:not([hasError])) .control:hover,
  :host(:not([hasError])) .control:focus-within {
    border-color: var(--oryx-color-neutral-100);
  }

  :host(:not([hasError])) .control:focus-within {
    border-color: var(--oryx-color-focus);
    transition-property: border;
  }

  /* visible focus effect */
  :host([visible-focus]:not([hasError])) .control:focus-within {
    box-shadow: var(--oryx-elevation-0) var(--oryx-color-primary-300);
    transition-property: box-shadow, border;
  }

  slot:not([name])::slotted(*:-webkit-autofill) {
    -webkit-text-fill-color: var(--oryx-color-ink);
    box-shadow: 0 0 0 1000px var(--oryx-color-canvas-100) inset;
  }

  input,
  slot:not([name])::slotted(*) {
    height: 44px;
  }

  input,
  ::slotted(input) {
    box-sizing: border-box;
    text-overflow: ellipsis;
  }

  input,
  ::slotted(input),
  textarea,
  ::slotted(textarea) {
    width: 100%;
    box-sizing: border-box;
    padding: 7px 11px;
    background-color: transparent;
    border: none;
    outline: none;
    font: inherit;
    color: var(--oryx-color-ink);
    border-radius: var(--oryx-border-radius);
    line-height: 24px;
  }

  ::slotted(input[disabled]),
  ::slotted(textarea[disabled]) {
    color: var(--oryx-color-neutral-400);
    background-color: var(--oryx-color-canvas-200);
  }

  textarea,
  ::slotted(textarea) {
    min-height: 80px;
    min-width: 100%;
  }

  [hasErrorContent] {
    margin-block-start: 7px;
  }
`;
    const largeScreen = i$7 `
  input,
  slot:not([name])::slotted(*) {
    height: 38px;
  }
`;
    const formControlScreenStyles = [
        {
            media: lgScreen,
            css: largeScreen,
        },
    ];

    const baseStyles$8 = [
        formControlBaseStyles,
        floatingLabelBaseStyles,
        errorStyles$1,
        affixStyles,
    ];
    const screenStyles$8 = [
        ...formControlScreenStyles,
        ...floatingLabelScreenStyles,
    ];

    const input_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$8,
        screenStyles: screenStyles$8
    }, Symbol.toStringTag, { value: 'Module' }));

    class InputComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.formControlController = new FormControlController(this);
            this.affixController = new AffixController(this);
        }
        render() {
            return y `${this.formControlController.render({
            before: this.affixController.renderPrefix(),
            after: this.affixController.renderSuffix(),
        })}`;
        }
    }
    InputComponent.styles = baseStyles$8;
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], InputComponent.prototype, "floatLabel", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputComponent.prototype, "label", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], InputComponent.prototype, "hasError", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputComponent.prototype, "prefixIcon", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], InputComponent.prototype, "prefixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputComponent.prototype, "suffixIcon", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], InputComponent.prototype, "suffixFill", void 0);

    const input_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        InputComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class SearchboxController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
            this.affixController = new AffixController(host);
            this.handleInputValue = this.handleInputValue.bind(this);
            this.handleKeyEvent = this.handleKeyEvent.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('input', this.handleInputValue);
            this.host.addEventListener('change', this.handleInputValue);
            this.host.addEventListener('keydown', this.handleKeyEvent);
        }
        hostDisconnected() {
            this.host.removeEventListener('input', this.handleInputValue);
            this.host.removeEventListener('change', this.handleInputValue);
            this.host.removeEventListener('keydown', this.handleKeyEvent);
        }
        renderPrefix() {
            return this.affixController.renderPrefix(this.prefixContent);
        }
        renderSuffix() {
            const { clearIconPosition } = this.host;
            if (!clearIconPosition || clearIconPosition === "AFTER" /* ClearIconPosition.AFTER */) {
                return y `${this.clearButton}${this.affixController.renderSuffix(this.suffixContent)}`;
            }
            else {
                return y `${this.affixController.renderSuffix(this.suffixContent)}`;
            }
        }
        /**
         * Renders the prefix content for the search control.
         *
         * Adds the search button at the start of the search control when the
         * `options.searchIconPosition` is set to 'PREFIX'.
         */
        get prefixContent() {
            let content;
            const { searchIconPosition: pos } = this.host;
            if (!pos || pos === "PREFIX" /* SearchIconPosition.PREFIX */) {
                content = this.searchButton;
            }
            return content;
        }
        /**
         * Renders the suffix content for the search control.
         *
         * Adds the clear button after the search control or inside the suffix.
         * Adds the search button at the end of the search control when the
         * `options.searchIconPosition` is set to 'SUFFIX'.
         */
        get suffixContent() {
            const { searchIconPosition: searchPos, clearIconPosition: clearPos } = this.host;
            const clearContent = clearPos === "SUFFIX" /* ClearIconPosition.SUFFIX */ ? this.clearButton : undefined;
            const searchContent = searchPos === "SUFFIX" /* SearchIconPosition.SUFFIX */ ? this.searchButton : undefined;
            if (!clearContent && !searchContent) {
                return;
            }
            return y `${clearContent}${searchContent}`;
        }
        get searchButton() {
            const { searchIcon: icon = 'search' } = this.host;
            const search = y `
      <oryx-icon
        type=${icon}
        class="search"
        @click=${() => this.search()}
      ></oryx-icon>
    `;
            return y `${search}`;
        }
        get clearButton() {
            const { clearIcon: icon = 'remove', clearIconAppearance } = this.host;
            return y `
      <oryx-icon
        type=${icon}
        class="clear"
        appearance=${clearIconAppearance ?? "TOGGLE" /* ClearIconAppearance.TOGGLE */}
        @mousedown=${(e) => this.muteEvents(e)}
        @click=${(ev) => this.clear(ev)}
      ></oryx-icon>
    `;
        }
        muteEvents(e) {
            if (this.control.value !== '') {
                e.stopImmediatePropagation();
                e.stopPropagation();
                e.preventDefault();
            }
        }
        get control() {
            return getControl(this.host);
        }
        hostUpdated() {
            this.handleInputValue();
        }
        search() {
            const event = new CustomEvent('oryx.search', {
                detail: {
                    query: this.control.value,
                },
                bubbles: true,
                composed: true,
            });
            this.host.dispatchEvent(event);
        }
        clear(e) {
            if (this.control.value !== '') {
                e.stopPropagation();
                this.control.value = '';
                this.control.dispatchEvent(new InputEvent('input', {
                    bubbles: true,
                    composed: true,
                    inputType: 'deleteContentBackward',
                }));
                this.control.dispatchEvent(new Event('change', { bubbles: true, composed: true }));
                this.control.focus();
            }
        }
        handleKeyEvent(ev) {
            if (ev.key === 'Enter') {
                this.search();
            }
        }
        handleInputValue() {
            this.host.toggleAttribute('has-value', this.control.value !== '');
        }
    }

    var SearchIconPosition;
    (function (SearchIconPosition) {
        SearchIconPosition["PREFIX"] = "PREFIX";
        SearchIconPosition["SUFFIX"] = "SUFFIX";
        SearchIconPosition["NONE"] = "NONE";
    })(SearchIconPosition || (SearchIconPosition = {}));
    var ClearIconPosition;
    (function (ClearIconPosition) {
        ClearIconPosition["AFTER"] = "AFTER";
        ClearIconPosition["SUFFIX"] = "SUFFIX";
        ClearIconPosition["NONE"] = "NONE";
    })(ClearIconPosition || (ClearIconPosition = {}));
    var ClearIconAppearance;
    (function (ClearIconAppearance) {
        ClearIconAppearance["HOVER"] = "HOVER";
        ClearIconAppearance["TOGGLE"] = "TOGGLE";
        ClearIconAppearance["SHOW"] = "SHOW";
    })(ClearIconAppearance || (ClearIconAppearance = {}));

    const baseStyles$7 = [
        ...baseStyles$8,
        i$7 `
    .search,
    .clear {
      cursor: pointer;
    }

    .clear[type='remove'] {
      --oryx-icon-size: var(--oryx-icon-size-large);
    }

    .clear {
      opacity: 0;
      z-index: 1;
      transition: opacity var(--oryx-transition-time, 0.3s);
      align-self: center;
    }

    :host(:not([has-value])) [appearance='SHOW'] {
      display: none;
    }

    :host([has-value]) .clear:not([appearance='HOVER']),
    :host([has-value]) .clear[appearance='HOVER']:hover {
      opacity: 1;
    }

    .clear:not([appearance='SHOW']) + oryx-icon {
      position: absolute;
    }

    :host([has-value]) .clear[appearance='TOGGLE'] + .search,
    :host([has-value]) .clear[appearance='HOVER']:hover + .search {
      opacity: 0;
    }
  `,
    ];
    const mediumScreen$4 = i$7 `
  .clear[type='remove'] {
    --oryx-icon-size: var(--oryx-icon-size-medium);
  }
`;
    const screenStyles$7 = [
        ...screenStyles$8,
        {
            media: mdScreen,
            css: mediumScreen$4,
        },
    ];

    const searchbox_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$7,
        screenStyles: screenStyles$7
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$6 = [
        ...baseStyles$7,
        i$7 `
    :host {
      --oryx-popover-vertical-offset: 20px;

      position: relative;
      display: flex;
    }

    :host([__closed]) {
      --oryx-popover-visible: 0;
    }

    oryx-popover {
      margin: calc((var(--oryx-popover-vertical-offset) / 2) - 2px) 0;
      overflow: auto;
      max-height: min(
        calc(var(--_available-popover-height, ${r$5(POPOVER_HEIGHT)}px)),
        var(--oryx-popover-maxheight, ${r$5(POPOVER_HEIGHT)}px)
      );
      width: var(--oryx-popover-width, 100%);
    }

    :host(:not([up]):not([popoverDirection])) oryx-popover,
    :host([popoverDirection='DOWN']) oryx-popover {
      top: calc(
        var(--oryx-popover-distance, 42px) + var(--oryx-label-height, 0px)
      );
      transform-origin: left top;
    }

    :host([up]:not([popoverDirection])) oryx-popover,
    :host([popoverDirection='UP']) oryx-popover {
      bottom: var(--oryx-popover-distance, 42px);
      transform-origin: left bottom;
    }

    :host([label]) oryx-popover,
    :host([has-label]) oryx-popover {
      --oryx-label-height: 23px;
    }

    :host([floatLabel]) oryx-popover {
      --oryx-label-height: 4px;
    }

    slot .placeholder {
      height: 120px;
    }

    .placeholder {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    slot[name='loading'] oryx-icon {
      color: var(--oryx-color-primary-300);
      animation: rotate 3s linear infinite;
    }

    @keyframes rotate {
      100% {
        transform: rotate(-1turn);
      }
    }
  `,
    ];
    const screenStyles$6 = [...screenStyles$7];

    const typeahead_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$6,
        screenStyles: screenStyles$6
    }, Symbol.toStringTag, { value: 'Module' }));

    let TypeaheadComponent = class TypeaheadComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.typeaheadController = new TypeaheadController(this);
            this.formControlController = new FormControlController(this);
            this.searchController = new SearchboxController(this);
        }
        render() {
            return y `
      ${this.formControlController.render({
            before: this.searchController.renderPrefix(),
            after: this.searchController.renderSuffix(),
        })}
      ${this.typeaheadController.renderPopover()}
    `;
        }
    };
    TypeaheadComponent.styles = baseStyles$6;
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "filterStrategy", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TypeaheadComponent.prototype, "isLoading", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TypeaheadComponent.prototype, "isEmpty", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "emptyMessage", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "label", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TypeaheadComponent.prototype, "hasError", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "prefixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TypeaheadComponent.prototype, "prefixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "suffixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TypeaheadComponent.prototype, "suffixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "searchIcon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "searchIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "clearIcon", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "clearIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TypeaheadComponent.prototype, "clearIconAppearance", void 0);
    TypeaheadComponent = __decorate([
        hydratable('focusin')
    ], TypeaheadComponent);

    const typeahead_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get TypeaheadComponent () { return TypeaheadComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    var FilterStrategyType;
    (function (FilterStrategyType) {
        FilterStrategyType["START_WITH"] = "start_with";
        FilterStrategyType["START_OF_WORD"] = "start_of_word";
        FilterStrategyType["CONTAINS"] = "contains";
    })(FilterStrategyType || (FilterStrategyType = {}));

    class QueryControlsController {
        dispatchEvent(e, eventType) {
            e.target?.dispatchEvent(new CustomEvent(eventType, { bubbles: true, composed: true }));
        }
        // The oryx-typeahead is using focusin and mousedown events listening inside for
        // managing its opened state.
        // Need to mute this behavior for control buttons to avoid unexpected closing/opening
        // of dropdown with results
        muteMousedown(e) {
            e.stopPropagation();
            e.preventDefault();
        }
        renderControls(options) {
            return n$7 `
      <oryx-button slot="suffix" type="text">
        <button
          @click=${(e) => this.dispatchEvent(e, 'oryx.clear')}
          @mousedown=${this.muteMousedown}
        >
          ${options.clearButtonTitle || 'Clear'}
        </button>
      </oryx-button>

      <oryx-icon-button slot="suffix" size="small">
        <button
          aria-label=${options.closeButtonArialLabel || 'Close results'}
          @click=${(e) => this.dispatchEvent(e, 'oryx.close')}
          @mousedown=${this.muteMousedown}
        >
          <oryx-icon type="close"></oryx-icon>
        </button>
      </oryx-icon-button>
    `;
        }
    }

    class RenderSuggestionController {
        processCompletions(completions) {
            return completions.map((name) => ({ name, params: { q: name } }));
        }
        renderLink({ title, options, type }) {
            if (!options.length) {
                return n$7 ``;
            }
            return n$7 `
      <h5>${title}</h5>
      <ul>
        ${options.map(({ name, url, params }) => n$7 `
            <li>
              <content-link
                .options="${{
            type,
            id: url ?? '',
            params: params ?? null,
            text: name,
        }}"
                close-popover
              ></content-link>
            </li>
          `)}
      </ul>
    `;
        }
        renderNothingFound({ nothingFoundText }) {
            return n$7 `
      <div slot="empty">
        <oryx-icon type="search"></oryx-icon>
        <span>${nothingFoundText || 'Nothing found…'}</span>
      </div>
    `;
        }
        renderLinksSection(suggestion, options) {
            const links = [
                {
                    title: options.completionTitle || 'Search suggestions',
                    options: this.processCompletions(suggestion.completion),
                    type: SemanticLinkType.ProductList,
                },
                {
                    title: options.categoriesTitle || 'In categories',
                    options: suggestion.categories.map(({ name, url }) => ({
                        name,
                        url: url?.substring(url.lastIndexOf('/') + 1),
                        params: { q: url?.substring(url.lastIndexOf('/') + 1) },
                    })),
                    type: SemanticLinkType.Category,
                },
                {
                    title: options.cmsTitle || 'In CMS pages',
                    options: suggestion.cmsPages,
                    type: SemanticLinkType.Page,
                },
            ];
            return n$7 ` <section>${links.map((l) => this.renderLink(l))}</section> `;
        }
        renderProduct(product) {
            return n$7 `
      <content-link
        class="product"
        .options="${{
            type: SemanticLinkType.Product,
            id: product.sku,
            label: product.name,
        }}"
        close-popover
      >
        <product-media
          .product=${product}
          .options=${{ container: "thumbnail" /* ProductMediaContainerSize.Thumbnail */ }}
        ></product-media>
        <product-title .product=${product}></product-title>
        <product-price .product=${product}></product-price>
      </content-link>
    `;
        }
        renderProductsSection(suggestion, options) {
            return n$7 `
      <section>
        <h5>${options.productsTitle || 'Products'}</h5>
        ${suggestion.products.map(this.renderProduct)}
        <!-- TODO link to PLP -->
        <oryx-button outline>
          <a href="#"
            >${options.viewAllProductsButtonTitle || 'View all products'}</a
          >
        </oryx-button>
      </section>
    `;
        }
    }

    class ScrollingAreaController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        setScrollAttributes(scrollContainer) {
            if (!scrollContainer) {
                this.host.removeAttribute('scrollable-top');
                this.host.removeAttribute('scrollable-bottom');
                return;
            }
            const { height } = scrollContainer.getBoundingClientRect();
            this.host.toggleAttribute('scrollable-top', !!Math.ceil(scrollContainer.scrollTop));
            this.host.toggleAttribute('scrollable-bottom', scrollContainer.scrollHeight >
                Math.ceil(height + scrollContainer.scrollTop));
        }
    }

    const baseStyles$5 = i$7 `
  oryx-typeahead {
    --oryx-popover-maxheight: 480px;
    --oryx-border-radius: 2px;
    --oryx-popover-vertical-offset: 0;
    --oryx-popover-distance: 62px;

    max-width: 400px;
  }

  [slot='option'] {
    position: relative;
    display: flex;
    overflow: hidden;
  }

  [slot='option'] > * {
    position: relative;
    align-items: flex-start;
    flex-grow: 1;
    overflow: auto;
  }

  h5 {
    font-size: 16px;
    font-weight: var(--oryx-font-medium);
  }

  h5,
  li:not(:last-child) {
    margin: 0 0 10px;
  }

  ul {
    list-style: none;
    padding-inline: 0;
    margin: 0;
  }

  ul:not(:last-child) {
    margin-bottom: 20px;
  }

  section {
    padding: 20px;
  }

  section:first-child:not(:only-child) {
    padding-bottom: 0;
  }

  [slot='empty'] {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #8f8f8f;
    padding: 30px;
    box-sizing: border-box;
  }

  [slot='empty'] oryx-icon {
    color: #b2b2b2;
  }

  [slot='empty'] span {
    font-weight: 400;
    line-height: 17px;
    margin-inline-start: 10px;
  }

  [slot='option']::before,
  [slot='option']::after {
    display: none;
    content: '';
    position: absolute;
    inset-inline-start: 0;
    width: 100%;
    z-index: 1;
  }

  [slot='option']::before {
    top: 0;
  }

  [slot='option']::after {
    bottom: 0;
  }

  :host([scrollable-top]) [slot='option']::before,
  :host([scrollable-bottom]) [slot='option']::after {
    display: block;
  }

  oryx-typeahead:not([open]) oryx-icon-button[slot='suffix'] {
    display: none;
  }

  .product {
    position: relative;
    display: block;
    padding-block: 5px;
    padding-inline: 65px 5px;
    text-decoration: none;
    min-height: 60px;
    box-sizing: border-box;
    margin-bottom: 5px;
  }

  product-media {
    --image-max-width: 50px;
    --image-max-height: 50px;

    position: absolute;
    top: 5px;
    inset-inline-start: 5px;
  }
`;
    const mediumScreen$3 = i$7 `
  :host([stretched]) {
    --oryx-popover-width: auto;
  }

  oryx-typeahead {
    --oryx-popover-distance: 48px;
  }

  oryx-icon-button[slot='suffix'] {
    display: none;
  }

  :host([stretched]) [slot='option'] > * {
    min-width: 530px;
    display: flex;
  }

  section {
    flex: 1 1 auto;
  }

  section:first-child:not(:only-child) {
    padding-bottom: 20px;
  }
`;
    const screenStyles$5 = [
        {
            media: mdScreen,
            css: mediumScreen$3,
        },
    ];

    const searchboxStyles = i$7 `
  [slot='prefix'] {
    color: var(--oryx-color-neutral-400);
  }

  input::placeholder {
    color: var(--oryx-color-neutral-300);
  }

  input {
    padding-block: 16px;
    height: 56px;
  }

  oryx-button[slot='suffix'] {
    --_color-text: var(--oryx-color-primary-300);
  }

  oryx-icon-button[slot='suffix'] {
    --oryx-icon-button-color: var(--oryx-color-neutral-400);
  }

  oryx-icon-button[slot='suffix'] oryx-icon {
    --oryx-icon-size: 16px;
  }

  [slot='option']::before,
  [slot='option']::after {
    height: 30px;
  }

  [slot='option']::before {
    /* stylelint-disable-next-line */
    background: linear-gradient(180deg, #fff 0, #fff0 100%);
  }

  [slot='option']::after {
    /* stylelint-disable-next-line */
    background: linear-gradient(0deg, #fff 0, #fff0 100%);
  }

  content-link::part(link) {
    padding: 0;
    white-space: normal;
    border-radius: 0;
  }

  .product {
    transition: background var(--oryx-transition-time);
    background: transparent;
    color: var(--oryx-color-neutral-300);
  }

  .product:hover {
    background: var(--oryx-color-canvas-200);
  }

  .product product-title {
    margin-bottom: 4px;
  }
`;
    const searchboxMediumScreen = i$7 `
  input {
    padding-block: 9px;
    height: 42px;
  }
`;
    const searchboxScreenStyles = [
        {
            media: mdScreen,
            css: searchboxMediumScreen,
        },
    ];

    const index$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$5,
        screenStyles: screenStyles$5,
        searchboxStyles,
        searchboxMediumScreen,
        searchboxScreenStyles
    }, Symbol.toStringTag, { value: 'Module' }));

    let SearchBoxComponent = class SearchBoxComponent extends ComponentMixin() {
        constructor() {
            super();
            this.defaultOptions = {
                minChars: 2,
                completionsCount: 5,
                productsCount: 5,
                categoriesCount: 5,
                cmsCount: 0,
            };
            this.contentController = new ContentController(this);
            this.suggestionService = resolve(SuggestionService);
            this.options$ = this.contentController.getOptions().pipe(cjs.map((options) => ({ ...this.defaultOptions, ...options })), cjs.shareReplay({ refCount: true, bufferSize: 1 }), cjs.tap((options) => this.applyInputTexts(options)));
            this.scrollingAreaController = new ScrollingAreaController(this);
            this.queryControlsController = new QueryControlsController();
            this.renderSuggestionController = new RenderSuggestionController();
            this.triggerInputValue$ = new cjs.Subject();
            this.suggestion$ = this.triggerInputValue$.pipe(cjs.debounce(() => cjs.timer(300)), cjs.map((q) => q.trim()), cjs.distinctUntilChanged(), cjs.withLatestFrom(this.options$), cjs.switchMap(([query, options]) => {
                if (query && (!options.minChars || query.length >= options.minChars)) {
                    return this.suggestionService.get({ query }).pipe(cjs.map((raw) => {
                        const suggestion = raw
                            ? {
                                completion: raw.completion.slice(0, options.completionsCount),
                                products: raw.products?.slice(0, options.productsCount) ?? [],
                                categories: raw.categories.slice(0, options.categoriesCount),
                                cmsPages: raw.cmsPages.slice(0, options.cmsCount),
                            }
                            : raw;
                        return { suggestion, options };
                    }));
                }
                return cjs.of({ suggestion: null, options });
            }), cjs.tap(({ suggestion }) => {
                this.stretched = this.hasCompleteData(suggestion);
            }));
            this.controlButtons$ = cjs.combineLatest([
                this.options$,
                this.triggerInputValue$,
            ]).pipe(cjs.map(([options, query]) => ({ options, showButtons: !!query })));
            this.scrollEvent = cjs.defer(() => cjs.fromEvent(this, 'containerScroll')).pipe(cjs.catchError(() => cjs.of(null)), cjs.filter((v) => v !== null), cjs.debounce(() => cjs.timer(20)), cjs.tap(() => {
                this.scrollingAreaController.setScrollAttributes(this.scrollContainerRef.value);
            }));
            this.query = '';
            this.stretched = false;
            this.inputRef = e();
            this.scrollContainerRef = e();
            this.clear = this.clear.bind(this);
            this.close = this.close.bind(this);
            this.dispatchContainerScroll = this.dispatchContainerScroll.bind(this);
        }
        firstUpdated() {
            if (this.query) {
                this.inputRef.value.value = this.query;
                this.triggerInputValue$.next(this.query);
            }
        }
        connectedCallback() {
            super.connectedCallback();
            this.addEventListener('oryx.clear', this.clear);
            this.addEventListener('oryx.close', this.close);
        }
        disconnectedCallback() {
            this.removeEventListener('oryx.clear', this.clear);
            this.removeEventListener('oryx.close', this.close);
            super.disconnectedCallback();
        }
        clear(e) {
            e.stopPropagation();
            const input = this.inputRef.value;
            input.value = '';
            this.query = '';
            this.triggerInputValue$.next('');
        }
        close() {
            this.renderRoot.querySelector('oryx-typeahead')?.removeAttribute('open');
        }
        onTypeahead() {
            this.query = this.inputRef.value.value;
            this.triggerInputValue$.next(this.query);
        }
        dispatchContainerScroll(e) {
            e.target?.dispatchEvent(new CustomEvent('containerScroll', { bubbles: true, composed: true }));
        }
        applyInputTexts(options) {
            const { placeholder } = options;
            if (placeholder) {
                this.inputRef?.value?.setAttribute('placeholder', placeholder);
            }
        }
        hasLinks(suggestion) {
            return !!(suggestion?.completion.length ||
                suggestion?.cmsPages.length ||
                suggestion?.categories.length);
        }
        hasProducts(suggestion) {
            return !!suggestion?.products?.length;
        }
        isNothingFound(suggestion) {
            return !this.hasLinks(suggestion) && !this.hasProducts(suggestion);
        }
        hasCompleteData(suggestion) {
            return this.hasLinks(suggestion) && this.hasProducts(suggestion);
        }
        renderSuggestion(suggestion, options) {
            if (!suggestion) {
                return n$7 ``;
            }
            if (this.isNothingFound(suggestion)) {
                return this.renderSuggestionController.renderNothingFound(options);
            }
            return n$7 `
      <div slot="option">
        <div
          @scroll=${this.dispatchContainerScroll}
          ${n(this.scrollContainerRef)}
        >
          ${n$1(this.hasLinks(suggestion), () => this.renderSuggestionController.renderLinksSection(suggestion, options))}
          ${n$1(this.hasProducts(suggestion), () => this.renderSuggestionController.renderProductsSection(suggestion, options))}
        </div>
      </div>
    `;
        }
        render() {
            return n$7 `
      <oryx-typeahead @oryx.typeahead=${this.onTypeahead}>
        <oryx-icon slot="prefix" type="search" size="medium"></oryx-icon>
        <input ${n(this.inputRef)} placeholder="Search" />
        ${asyncValue(this.suggestion$, ({ suggestion, options }) => n$7 `${this.renderSuggestion(suggestion, options)}`)}
        ${asyncValue(this.controlButtons$, ({ options, showButtons }) => showButtons
            ? this.queryControlsController.renderControls(options)
            : n$7 ``)}
      </oryx-typeahead>
    `;
        }
    };
    SearchBoxComponent.styles = [baseStyles$5, searchboxStyles];
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], SearchBoxComponent.prototype, "scrollEvent", void 0);
    __decorate([
        e$3({ type: String }),
        __metadata("design:type", Object)
    ], SearchBoxComponent.prototype, "query", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], SearchBoxComponent.prototype, "stretched", void 0);
    SearchBoxComponent = __decorate([
        hydratable('focusin'),
        __metadata("design:paramtypes", [])
    ], SearchBoxComponent);

    const box_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get SearchBoxComponent () { return SearchBoxComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const facetNavigation = i$7 `
  oryx-collapsible {
    width: 100%;
    border: none;
  }

  li:has(ul) {
    display: contents;
  }
`;

    class SearchFacetNavigationComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.defaultOptions = {
                valueRenderLimit: 5,
                expandedItemsCount: 5,
            };
            this.options$ = new ContentController(this)
                .getOptions()
                .pipe(cjs.map((options) => ({ ...this.defaultOptions, ...options })));
            this.facetListService = resolve(FacetListService);
            this.routerService = resolve(RouterService);
            this.renderedFacetElements = new Map();
            this.facetVisibilityChange = new cjs.Subject();
            this.facets$ = cjs.combineLatest([
                this.facetListService.get(),
                this.options$,
                this.facetVisibilityChange.pipe(cjs.startWith(null)),
                this.routerService.activatedRouter(),
            ]);
        }
        renderFacets(facets, options, facetVisibilityChange, activatedRouter) {
            return y `${facets.map((facet, index) => {
            this.renderedFacetElements.set(facet.parameter, {
                renderedItemsCount: 0,
                isShowAll: facet.parameter === facetVisibilityChange?.parameter
                    ? facetVisibilityChange.isShowAll
                    : false,
            });
            return y `
        <oryx-collapsible
          ?open=${index < options.expandedItemsCount}
          .appearance="inline"
          .toggleAppearance="iconButton"
          .header=${facet.name}
        >
          ${n$1(Array.isArray(facet.values), () => y `
              ${this.renderFacetValues(facet.values, facet.parameter, options.valueRenderLimit, activatedRouter)}
              ${this.renderShowHideAllButtons(facet.parameter, this.getFacetValueLength(facet.values))}
            `, () => this.renderRangeValue(facet.values))}
        </oryx-collapsible>
      `;
        })}`;
        }
        renderFacetValues(facets, parameter, valueRenderLimit, activatedRouter) {
            const renderedFacetElement = this.renderedFacetElements?.get(parameter);
            return y `
      <ul>
        ${facets?.map((f) => {
            if (this.checkValueRenderLimit(parameter, valueRenderLimit) &&
                !renderedFacetElement?.isShowAll) {
                return;
            }
            this.renderedFacetElements.set(parameter, {
                renderedItemsCount: this.renderedFacetElements?.get(parameter).renderedItemsCount +
                    1,
                isShowAll: renderedFacetElement?.isShowAll ?? false,
            });
            return y `<li>
              <oryx-link>
                <a
                  href="${this.routerService.getUrl(activatedRouter.route, {
                ...activatedRouter.extras,
                queryParams: {
                    ...(activatedRouter.extras?.queryParams ?? {}),
                    [parameter.toLowerCase()]: `${f.value ?? f.name}`,
                },
            })}"
                >
                  ${f.name ?? f.value} (${f.count})
                </a>
              </oryx-link>
            </li>
            ${n$1(f.children?.length, () => y `<li>
                  ${this.renderFacetValues(f.children, parameter, valueRenderLimit, activatedRouter)}
                </li>`)}`;
        })}
      </ul>
    `;
        }
        renderRangeValue(rangeFacet) {
            return y ` ${rangeFacet.max} ${rangeFacet.max} `;
        }
        render() {
            return y `
      ${asyncValue(this.facets$, ([facets, options, facetVisibilityChange, activatedRouter]) => {
            return this.renderFacets(facets ?? [], options, facetVisibilityChange, activatedRouter);
        })}
    `;
        }
        getFacetValueLength(facetValues) {
            let facetLength = facetValues.length;
            const calcFacetsLength = (facetList) => {
                facetList.forEach((f) => {
                    if (f.children?.length) {
                        facetLength += f.children?.length;
                        calcFacetsLength(f.children);
                    }
                });
            };
            calcFacetsLength(facetValues);
            return facetLength;
        }
        checkValueRenderLimit(parameter, limit) {
            const renderedItemsCount = this.renderedFacetElements.get(parameter).renderedItemsCount;
            return renderedItemsCount >= limit;
        }
        renderShowHideAllButtons(parameter, allItems) {
            const renderedParameter = this.renderedFacetElements.get(parameter);
            if (renderedParameter.renderedItemsCount >= allItems &&
                !renderedParameter?.isShowAll) {
                return;
            }
            return renderedParameter.isShowAll
                ? y `<button
          @click=${() => this.provideFacetVisibilityChange(parameter, false)}
        >
          Hide all
        </button>`
                : y `<button
          @click=${() => this.provideFacetVisibilityChange(parameter, true)}
        >
          Show all (${allItems})
        </button>`;
        }
        provideFacetVisibilityChange(parameter, isShowAll) {
            this.facetVisibilityChange.next({ parameter, isShowAll });
        }
    }
    SearchFacetNavigationComponent.styles = [layoutStyles, facetNavigation];

    const facetNavigation_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        SearchFacetNavigationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const iconButtonBaseStyles = i$7 `
  :host {
    color: var(--oryx-icon-button-color, var(--oryx-color-neutral-300));
    display: inline-block;
  }

  ::slotted(*) {
    display: flex;
    position: relative;
    flex: 100%;
    align-items: center;
    justify-content: center;
    padding: 0;
    cursor: pointer;
    transition: var(--oryx-transition-time);
    background: transparent;
    outline: none;
    border: solid transparent 1px;
    border-radius: 50%;
    color: inherit;
  }

  ::slotted(:hover:not([disabled])) {
    border-color: var(--oryx-color-neutral-200);
    background: var(--oryx-color-canvas-200);
  }

  ::slotted(:focus-visible:not(:active):not([disabled])) {
    border-color: var(--oryx-color-canvas-100);
    box-shadow: 0 0 4px var(--oryx-color-focus);
  }

  ::slotted(:focus-visible:hover:not(:active):not([disabled])) {
    border-color: var(--oryx-color-canvas-200);
  }

  ::slotted(:active:not([disabled])) {
    border-color: var(--oryx-color-neutral-300);
    background: var(--oryx-color-canvas-200);
  }

  ::slotted([disabled]) {
    cursor: default;
    color: var(--oryx-color-neutral-200);
    border-color: var(--oryx-color-canvas-500);
    background: var(--oryx-color-canvas-200);
  }

  :host([size='small']) ::slotted(*) {
    --oryx-icon-size: var(--oryx-icon-size-small);

    padding: 5px;
  }

  :host([size='medium']) ::slotted(*) {
    --oryx-icon-size: var(--oryx-icon-size-medium);

    padding: 10px;
  }

  :host([size='large']) ::slotted(*) {
    --oryx-icon-size: var(--oryx-icon-size-large);

    padding: 11px;
  }
`;

    class IconButtonComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.size = Size.medium;
        }
        render() {
            return y `<slot></slot>`;
        }
    }
    IconButtonComponent.styles = [iconButtonBaseStyles];
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Object)
    ], IconButtonComponent.prototype, "size", void 0);

    const iconButton_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        IconButtonComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const iconButtonStorefrontUI = {
        styles: [
            i$7 `
      ::slotted(*) {
        background-color: var(--oryx-color-canvas-100);
      }
    `,
        ],
    };

    const storefront_styles$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        iconButtonStorefrontUI
    }, Symbol.toStringTag, { value: 'Module' }));

    var LinkTypes;
    (function (LinkTypes) {
        LinkTypes["Link"] = "link";
        LinkTypes["ExternalLink"] = "external";
    })(LinkTypes || (LinkTypes = {}));

    const linkStyles = i$7 `
  :host {
    --oryx-icon-size: 16px;

    display: inline-flex;
    align-items: center;
    color: var(--oryx-color-primary-300);
  }

  oryx-icon,
  ::slotted(oryx-icon) {
    position: absolute;
    padding-inline-start: 8px;
    color: inherit;
    pointer-events: none;
  }

  ::slotted(a) {
    border-radius: var(--oryx-border-radius-large);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding: 4px 8px;
    text-decoration: none;
    outline: 0;
    border: solid 1px transparent;
    color: currentColor;
  }

  :host([disabled]) {
    pointer-events: none;
    color: var(--oryx-color-neutral-300);
  }

  :host(:hover:not([disabled])) {
    color: var(--oryx-color-primary-400);
  }

  :host(:not([disabled])) ::slotted(a:active),
  :host(:not([disabled])) ::slotted(a:focus-visible) {
    background-color: var(--oryx-color-canvas-200);
  }

  :host(:not([disabled])) ::slotted(a:active) {
    border: solid 1px var(--oryx-color-canvas-100);
  }

  :host(:not([disabled])) ::slotted(a:focus-visible) {
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }

  /* additional space at the start whenever an icon is available */
  :host([icon]) ::slotted(a),
  :host([custom-icon]) ::slotted(a) {
    padding-inline-start: 32px;
  }

  :host([linktype='external']:not([disabled])) {
    color: var(--oryx-color-neutral-400);
  }

  :host([linktype='external']:hover) {
    color: var(--oryx-color-ink);
  }
`;

    class LinkComponent extends s$5 {
        render() {
            return y `
      <slot name="icon">
        ${n$1(this.icon, () => y `<oryx-icon .type=${this.icon}></oryx-icon>`)}
      </slot>
      <slot></slot>
    `;
        }
    }
    LinkComponent.styles = linkStyles;
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], LinkComponent.prototype, "linkType", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], LinkComponent.prototype, "disabled", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Object)
    ], LinkComponent.prototype, "icon", void 0);

    const link_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        LinkComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const toggleIconStyles = i$7 `
  :host {
    --oryx-icon-size: var(--oryx-icon-size-large);

    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    border-radius: var(--oryx-border-radius-small);
  }

  :host([has-text]),
  :host([has-text]) ::slotted(input)::after {
    border-radius: var(--oryx-border-radius-large);
  }

  :host([hasError])
    ::slotted(:is(input, input:hover, input:checked, input:checked:hover))::after {
    border-color: var(--oryx-color-error-300);
  }

  :host,
  ::slotted(*) {
    transition: var(--oryx-transition-time);
  }

  :host(:not([has-text])) {
    gap: 0;
    padding: 7px;
  }

  :host([has-text][size='small']) {
    padding: 8px 12px;
  }

  :host([has-text]),
  :host([has-text][size='medium']) {
    padding: 8px 12px;
  }

  :host([has-text][size='large']) {
    padding: 12px 16px;
  }

  ::slotted([disabled]) {
    pointer-events: none;
  }

  ::slotted(input) {
    position: absolute;
    width: 100%;
    height: 100%;
    margin: 0;
    appearance: none;
    outline: none;
    border-radius: var(--oryx-border-radius-small);
  }

  ::slotted(input)::after {
    cursor: pointer;
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    border-radius: var(--oryx-border-radius-small);
    background: var(--oryx-color-canvas-100);
    border: 1px solid var(--oryx-color-canvas-500);
  }

  ::slotted(input:hover:not([disabled]))::after {
    background: var(--oryx-color-canvas-200);
    border-color: var(--oryx-color-neutral-200);
    box-shadow: 0 1px 3px 0 var(--oryx-elevation-color-2);
  }

  ::slotted(input:active:not([disabled]))::after {
    background: var(--oryx-color-canvas-200);
    border-color: var(--oryx-color-neutral-300);
  }

  ::slotted(input:checked:active:not([disabled]))::after,
  ::slotted(input:checked:hover:not([disabled]))::after {
    border-color: var(--oryx-color-primary-400);
  }

  ::slotted(input:checked:active:not([disabled]))::after {
    background: var(--oryx-color-canvas-200);
  }

  ::slotted(input:focus-visible:not(:active))::after {
    box-shadow: 0 0 3px var(--oryx-color-primary-300),
      inset 0 0 0 1px var(--oryx-color-canvas-100),
      inset 0 0 0 2px var(--oryx-color-neutral-200);
    border: none;
  }

  ::slotted(input:checked:focus-visible:not(:active))::after {
    box-shadow: 0 0 3px var(--oryx-color-primary-300),
      inset 0 0 0 1px var(--oryx-color-primary-100),
      inset 0 0 0 2px var(--oryx-color-primary-300);
    border: none;
  }

  :host([hasError]) ::slotted(input:focus-visible:not(:active))::after {
    box-shadow: 0 0 3px var(--oryx-color-primary-300),
      inset 0 0 0 1px var(--oryx-color-error-300),
      inset 0 0 0 2px var(--oryx-color-neutral-200);
  }

  :host([hasError]) ::slotted(input:checked:focus-visible:not(:active))::after {
    box-shadow: 0 0 3px var(--oryx-color-primary-300),
      inset 0 0 0 1px var(--oryx-color-error-300),
      inset 0 0 0 2px var(--oryx-color-primary-300);
  }

  ::slotted(input[disabled])::after {
    background: var(--oryx-color-canvas-200);
    border-color: var(--oryx-color-neutral-200);
  }

  ::slotted(input:checked:not([disabled]))::after {
    border-color: var(--oryx-color-primary-300);
    background: var(--oryx-color-primary-100);
  }

  ::slotted(input:checked[disabled])::after {
    border-color: var(--oryx-color-neutral-300);
  }

  ::slotted(oryx-icon),
  ::slotted(span) {
    z-index: 1;
    pointer-events: none;
  }

  ::slotted(span) {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  ::slotted(oryx-icon) {
    color: var(--oryx-color-neutral-300);
  }

  :host([checked]:not([disabled])) ::slotted(oryx-icon) {
    color: var(--oryx-color-primary-300);
  }
`;

    const GENERATED_INPUT_EVENT = 'oryx-gen';
    class ToggleIconComponent extends s$5 {
        connectedCallback() {
            super.connectedCallback();
            this.addEventListener('input', this.onInput);
        }
        disconnectedCallback() {
            this.removeEventListener('input', this.onInput);
        }
        render() {
            return y `<slot></slot>`;
        }
        onInput(e) {
            const el = e.target;
            this.toggleAttribute('checked', el.checked);
            if (this.isInRadioGroup(el) &&
                e.detail?.toString() !== GENERATED_INPUT_EVENT) {
                this.updateSiblings(el);
            }
        }
        isInRadioGroup(el) {
            return el.type === 'radio' && el.hasAttribute('name');
        }
        updateSiblings(input) {
            const siblings = Array.from(this.getRootNode().querySelectorAll(`[name=${input.getAttribute('name')}]`)).filter((sibling) => sibling !== input);
            siblings.forEach((sibling) => sibling.dispatchEvent(new CustomEvent('input', {
                bubbles: true,
                composed: true,
                detail: GENERATED_INPUT_EVENT,
            })));
        }
        firstUpdated() {
            const input = getControl(this);
            this.toggleAttribute('has-text', !!this.getSpan());
            this.toggleAttribute('disabled', input.hasAttribute('disabled'));
            this.toggleAttribute('checked', input.hasAttribute('checked'));
            const controlAttrObserver = new MutationObserver((mutationsList) => {
                for (const mutation of mutationsList) {
                    if (typeof mutation.attributeName === 'string') {
                        this.toggleAttribute(mutation.attributeName);
                    }
                }
            });
            controlAttrObserver.observe(input, {
                attributeFilter: ['disabled'],
            });
        }
        getSpan() {
            return this.shadowRoot
                ?.querySelector('slot')
                ?.assignedElements({ flatten: true })
                .find((e) => e.tagName.toLowerCase() === 'span');
        }
    }
    ToggleIconComponent.styles = [toggleIconStyles];
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], ToggleIconComponent.prototype, "hasError", void 0);

    const toggleIcon_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ToggleIconComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$c = i$7 `
  :host {
    display: block;
  }

  :host([hasError]) ::slotted(input) {
    border-color: var(--oryx-color-error-300);
  }

  ::slotted(:not(input)) {
    position: relative;
  }

  ::slotted(:is(button, a[href]):not([tabindex='-1'])) {
    position: relative;
    z-index: 1;
  }

  input::after,
  ::slotted(input)::after {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    z-index: 1;
  }

  ::slotted(*) {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  label {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
  }

  input,
  ::slotted(input) {
    appearance: none;
    display: block;
    padding: 1px;
    min-width: 40px;
    height: 20px;
    margin: 0;
    background: var(--oryx-color-neutral-300);
    border-radius: 24px;
    border: 1px solid transparent;
    outline: none;
  }

  input:not(:disabled),
  ::slotted(input:not(:disabled)) {
    cursor: pointer;
  }

  input::before,
  ::slotted(input)::before {
    content: '';
    position: relative;
    display: block;
    inset-inline-start: 0;
    width: 16px;
    height: 16px;
    background: var(--oryx-color-canvas-100);
    border-radius: 50%;
    transition: var(--oryx-transition-time);
  }

  input:checked::before,
  ::slotted(input:checked)::before {
    inset-inline-start: calc(100% - 16px);
  }

  input:hover,
  input:active,
  input:focus-visible,
  ::slotted(input:hover),
  ::slotted(input:active),
  ::slotted(input:focus-visible) {
    background: var(--oryx-color-neutral-400);
  }

  input:checked:hover,
  input:checked:active,
  input:checked:focus-visible,
  ::slotted(input:checked:hover),
  ::slotted(input:checked:active),
  ::slotted(input:checked:focus-visible) {
    background: var(--oryx-color-primary-400);
  }

  input:focus-visible,
  input:checked:focus-visible,
  ::slotted(input:focus-visible),
  ::slotted(input:checked:focus-visible) {
    border-color: var(--oryx-color-canvas-100);
    box-shadow: 0 0 3px var(--oryx-color-focus);
  }

  input:checked,
  ::slotted(input:checked) {
    background: var(--oryx-color-primary-300);
  }

  input:disabled,
  input:checked:disabled,
  ::slotted(input:disabled),
  ::slotted(input:checked:disabled) {
    background: var(--oryx-color-canvas-500);
  }

  [hasErrorContent] {
    margin-block-start: 1px;
  }
`;

    class ToggleComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.errorController = new ErrorController(this);
        }
        render() {
            return y `
      <label>
        <slot><input type="checkbox" /></slot>
      </label>
      ${this.errorController.render()}
    `;
        }
    }
    ToggleComponent.styles = styles$c;
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ToggleComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], ToggleComponent.prototype, "hasError", void 0);

    const toggle_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ToggleComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var CardType;
    (function (CardType) {
        CardType["PRIMARY"] = "primary";
        CardType["SECONDARY"] = "secondary";
    })(CardType || (CardType = {}));

    const styles$b = i$7 `
  :host {
    --oryx-card-border-radius: var(--oryx-border-radius);

    display: block;
    border-radius: var(--oryx-card-border-radius);
    color: var(--oryx-color-ink);
    background-color: var(--background-color);
  }

  slot {
    display: flex;
  }

  slot:not([name]) {
    display: block;
  }

  :host(:not([type='secondary'])) {
    --background-color: var(--oryx-color-canvas-100);

    box-shadow: 0 1px 3px var(--oryx-elevation-color);
  }

  :host([type='secondary']) {
    --background-color: var(--oryx-color-canvas-200);
  }

  :host(:not([type='secondary'])) slot[name='header'] {
    padding: var(--oryx-card-header-padding, 18px 30px);
  }

  :host(:not([type='secondary'])) slot:not([name]) {
    padding: var(--oryx-card-body-padding, 18px 30px);
  }

  :host(:not([type='secondary'])) slot[name='footer'] {
    padding: var(--oryx-card-footer-padding, 0 30px);
  }

  :host(:not([type='secondary'])) slot[name='footer']::slotted(*) {
    margin-top: 18px;
    margin-bottom: 18px;
  }

  :host([type='secondary']) slot[name='header'] {
    padding: var(--oryx-card-header-padding, 13px 20px);
  }

  :host([type='secondary']) slot:not([name]) {
    padding: var(--oryx-card-body-padding, 13px 20px);
  }

  :host([type='secondary']) slot[name='footer'] {
    padding: var(--oryx-card-footer-padding, 0 20px);
  }

  :host([type='secondary']) slot[name='footer']::slotted(*) {
    margin-top: 13px;
    margin-bottom: 13px;
  }

  slot[name='header'] {
    display: flex;
    align-items: center;
    gap: 8px;
    border-bottom: 1px solid var(--oryx-color-neutral-200);
    font-style: normal;
    font-weight: 600;
    font-size: 16px;
    line-height: 22px;
  }

  slot[name='header']::slotted(oryx-icon) {
    color: var(--oryx-color-neutral-400);
  }

  slot[name='header'] h5,
  slot[name='header']::slotted(h1),
  slot[name='header']::slotted(h2),
  slot[name='header']::slotted(h3),
  slot[name='header']::slotted(h4),
  slot[name='header']::slotted(h5),
  slot[name='header']::slotted(h6) {
    font: inherit;
    margin: 0;
  }
`;

    class CardComponent extends s$5 {
        render() {
            return y `
      <slot name="header">
        <h5>${this.header}</h5>
      </slot>
      <slot part="body"></slot>
      <slot name="footer"></slot>
    `;
        }
    }
    CardComponent.styles = styles$b;
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], CardComponent.prototype, "type", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], CardComponent.prototype, "header", void 0);

    const card_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CardComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const blockSelector = r$5(`[appearance=${"block" /* CollapsibleAppearance.Block */}]`);
    const inlineSelector = r$5(`[appearance=${"inline" /* CollapsibleAppearance.Inline */}]`);
    const collapsibleBaseStyle = i$7 `
  :host {
    display: block;
  }

  summary {
    outline: none;
    display: flex;
    align-items: center;
    gap: 7px;
    cursor: pointer;
  }

  details[open] slot[name='expanded'],
  details:not([open]) slot[name='collapsed'] {
    display: none;
  }

  oryx-icon-button {
    transition-duration: var(--oryx-transition-time-medium);
    transition-property: transform;
  }

  :is(oryx-icon-button, oryx-button) {
    display: flex;
    align-items: center;
    color: var(--oryx-color-primary-300);
  }

  :host(:not(${inlineSelector})) :is(oryx-icon-button, oryx-button) {
    margin-inline-start: auto;

    /* we do not like to leverage standard UI of icon-button on the block appearance */
    pointer-events: none;
  }

  summary::marker,
  summary::-webkit-details-marker {
    display: none;
  }

  /** only apply pointer events at the icon button for inline appearance */
  :host(${inlineSelector}) summary {
    pointer-events: none;
  }

  :host(${inlineSelector}) :is(oryx-icon-button, oryx-button) {
    pointer-events: all;
  }

  :host(${blockSelector}) oryx-icon-button > span {
    padding: 2px;
  }

  slot[name='aside']::slotted(*) {
    margin-inline-start: auto;
  }
`;

    class CollapsibleComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.appearance = "block" /* CollapsibleAppearance.Block */;
            this.toggleControlType = "iconButton" /* CollapsibleToggleControlType.IconButton */;
        }
        render() {
            return y `
      <details ?open=${this.open}>
        <summary tabindex=${this.isInline ? -1 : 0}>
          <slot name="header">${this.header}</slot>
          ${this.renderToggleControl()}
          <slot name="aside"></slot>
        </summary>
        <slot part="content"></slot>
      </details>
    `;
        }
        renderToggleControl() {
            return y `
      ${n$1(this.toggleControlType !== "textButton" /* CollapsibleToggleControlType.TextButton */, () => y `
          <oryx-icon-button size=${this.controlSize}>
            <span tabindex=${this.isInline ? 0 : -1}>
              <slot name="collapsed">
                <oryx-icon type="expand"></oryx-icon>
              </slot>
              <slot name="expanded">
                <oryx-icon type="collapse"></oryx-icon>
              </slot>
            </span>
          </oryx-icon-button>
        `)}
      ${n$1(this.toggleControlType === "textButton" /* CollapsibleToggleControlType.TextButton */, () => y `
          <oryx-button type="text" size=${this.controlSize}>
            <span tabindex=${this.isInline ? 0 : -1}>
              <slot name="collapsed"> Hide </slot>
              <slot name="expanded"> Show </slot>
            </span>
          </oryx-button>
        `)}
    `;
        }
        /**
         * returns the size of the control based on the appearance of the component.
         */
        get controlSize() {
            return this.isInline ? 'small' : 'medium';
        }
        get isInline() {
            return this.appearance === "inline" /* CollapsibleAppearance.Inline */;
        }
    }
    CollapsibleComponent.styles = [collapsibleBaseStyle];
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Object)
    ], CollapsibleComponent.prototype, "appearance", void 0);
    __decorate([
        e$3({ type: Object }),
        __metadata("design:type", Object)
    ], CollapsibleComponent.prototype, "toggleControlType", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], CollapsibleComponent.prototype, "open", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], CollapsibleComponent.prototype, "header", void 0);

    const collapsible_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CollapsibleComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$a = [
        i$7 `
    :host(${blockSelector}) {
      background: var(--oryx-color-canvas-200);
      border-radius: var(--oryx-border-radius-small);
      position: relative;
    }

    :host(${blockSelector}) summary {
      font-weight: 400;
      font-size: 12px;
      line-height: 16px;
      text-transform: uppercase;
      padding-block: 9px;
      list-style: none;
      transition: background var(--oryx-transition-time);
      border-radius: var(--oryx-border-radius-small);
      padding-inline: 20px 10px;
    }

    :host(${blockSelector}) summary + slot {
      padding-inline: 20px;
    }

    :host(${blockSelector}) slot[name='side-dish']::slotted(*) {
      margin-inline-start: 20px;
    }

    :host(${blockSelector}) details[open] summary {
      border-end-start-radius: 0;
      border-end-end-radius: 0;
      border-bottom: 1px solid var(--oryx-color-canvas-500);
    }

    :host(${blockSelector}:hover) summary {
      background: var(--oryx-color-canvas-500);
    }

    :host(${blockSelector}) summary::after {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      border-radius: var(--oryx-border-radius-small);
    }

    /* 
      We isolate this style for both inline/block since "storybook-addon-pseudo-states"
      doesn't support us otherwise.
    */
    summary:focus-visible::after {
      box-shadow: var(--oryx-box-shadow-focus);
    }

    oryx-icon-button {
      color: var(--oryx-color-neutral-300);
    }

    summary:hover oryx-icon-button {
      color: var(--oryx-color-neutral-400);
    }

    :host(${blockSelector}) slot:not([name]) {
      display: block;
      padding-block: 13px;
    }
  `,
    ];
    const collapsibleBackofficeUI = {
        styles: styles$a,
    };

    const backoffice_styles$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        collapsibleBackofficeUI
    }, Symbol.toStringTag, { value: 'Module' }));

    const inlineAppearance = i$7 `
  :host(${inlineSelector}) :is(oryx-icon-button, oryx-button) {
    transition-duration: 0.6s;
    transition-property: transform;
  }

  :host(${inlineSelector}) details[open] oryx-icon-button {
    transform: rotate(-180deg);
  }

  :host(${inlineSelector}) details[open] oryx-icon-button oryx-icon {
    transform: rotate(-180deg);
  }
`;
    const blockAppearance = i$7 `
  :host(${blockSelector}) {
    border-radius: var(--oryx-border-radius-small);
    border: solid 1px var(--oryx-color-canvas-500);
    position: relative;
  }

  :host(${blockSelector}) :is(summary, summary + *) {
    padding-inline: 20px;
  }

  :host(${blockSelector}) slot[name='side-dish']::slotted(*) {
    margin-inline-start: 20px;
  }

  :host(${blockSelector}:hover) {
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color);
  }

  :host(${blockSelector}:active) {
    border-color: var(--oryx-color-primary-400);
  }

  :host(${blockSelector}) summary {
    padding-block: 16px 13px;
  }

  :host(${blockSelector}) summary::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: var(--oryx-border-radius-small);
  }

  /* 
    We isolate this style for both inline/block since "storybook-addon-pseudo-states"
    doesn't support us otherwise.
  */
  summary:focus-visible::after {
    box-shadow: var(--oryx-box-shadow-focus);
  }

  :host(${blockSelector}) oryx-icon-button {
    color: var(--oryx-color-ink);
  }

  :host(${blockSelector}) slot[name='header'] {
    font-size: 16px;
    font-weight: 600;
  }

  :host(${blockSelector}) slot:not([name]) {
    display: block;
    padding-block: 13px;
  }
`;
    const collapsibleStorefrontUI = {
        styles: [inlineAppearance, blockAppearance],
    };

    const storefront_styles$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        collapsibleStorefrontUI
    }, Symbol.toStringTag, { value: 'Module' }));

    const errorStyles = i$7 `
  :host {
    --oryx-icon-size: 15px;
    --oryx-icon-color: currentColor;

    display: flex;
    gap: 5px;
    align-items: center;
    color: var(--oryx-color-error-300);
    font-size: 12px;
  }
`;

    class ErrorMessageComponent extends s$5 {
        render() {
            return y `
      ${this.message
            ? y `<oryx-icon type="warning"></oryx-icon> ${this.message}`
            : y `<slot></slot>`}
    `;
        }
    }
    ErrorMessageComponent.styles = [errorStyles];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ErrorMessageComponent.prototype, "message", void 0);

    const errorMessage_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ErrorMessageComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const checkboxStyles = i$7 `
  :host {
    display: inline-block;
    height: 24px;
  }

  :host([disabled]) {
    pointer-events: none;
  }

  label {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    outline: 0;
    position: relative;
    line-height: 24px;
  }

  ::slotted(input) {
    height: 18px;
    width: 18px;
    appearance: none;
    border-radius: 4px;
    display: block;
    outline: none;
    margin: 0;
  }

  ::slotted(input)::after {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    inset-inline-start: 0;
  }

  ::slotted(input:not(:disabled))::after {
    cursor: pointer;
  }

  ::slotted(input)::before {
    content: '';
    height: 14px;
    width: 14px;
    border-radius: 4px;
    position: relative;
    display: block;
    border: 2px solid var(--oryx-color-neutral-200);
    background-repeat: no-repeat;
    background-position: center;
  }

  :host(:not([intermediate])) ::slotted(input:checked)::before {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMiAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS42MjM4IDIuNTgwMzhMNS4wOTMwNiA5LjI4MTAzQzQuODQxNjMgOS41Mzc2OCA0LjUxNDUxIDkuNjY2NjcgNC4xODYxMSA5LjY2NjY3QzMuODU3NzIgOS42NjY2NyAzLjUyOTMyIDkuNTM3NjggMy4yNzkxNyA5LjI4MTAzTDAuMzc2MTgzIDYuMzAyNTJDLTAuMTI1Mzk0IDUuNzg5MjEgLTAuMTI1Mzk0IDQuOTU2MDggMC4zNzYxODMgNC40NDE0NUMwLjg3Nzc1OSAzLjkyNjgzIDEuNjg4NDkgMy45MjY4MyAyLjE5MDA3IDQuNDQxNDVMNC4xODYxMSA2LjQ4OTQyTDkuODA5OTMgMC43MTkzMDVDMTAuMzExNSAwLjIwNDY4IDExLjEyMjIgMC4yMDQ2OCAxMS42MjM4IDAuNzE5MzA1QzEyLjEyNTQgMS4yMzM5MyAxMi4xMjU0IDIuMDY1NzUgMTEuNjIzOCAyLjU4MDM4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==');
    background-color: var(--oryx-color-primary-300);
    border-color: var(--oryx-color-primary-300);
  }

  :host([intermediate]) ::slotted(input)::before {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEuMzMzNSA4QzEuMzMzNSA3LjI2MzYyIDEuOTMwNDUgNi42NjY2NiAyLjY2NjgzIDYuNjY2NjZIMTMuMzMzNUMxNC4wNjk5IDYuNjY2NjYgMTQuNjY2OCA3LjI2MzYyIDE0LjY2NjggOEMxNC42NjY4IDguNzM2MzggMTQuMDY5OSA5LjMzMzMzIDEzLjMzMzUgOS4zMzMzM0gyLjY2NjgzQzEuOTMwNDUgOS4zMzMzMyAxLjMzMzUgOC43MzYzOCAxLjMzMzUgOFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=');
    background-color: var(--oryx-color-primary-300);
    border-color: var(--oryx-color-primary-300);
  }

  :host(:not([intermediate])) ::slotted(input:disabled)::before {
    border-color: var(--oryx-color-canvas-500);
    background-color: var(--oryx-color-canvas-200);
  }

  :host([intermediate]) ::slotted(input:disabled)::before {
    background-color: var(--oryx-color-canvas-200);
    border-color: var(--oryx-color-canvas-200);
  }

  :host(:not([intermediate])) ::slotted(input:checked:disabled)::before {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMiAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjYyMzggMi41ODAzOEw1LjA5MzA2IDkuMjgxMDNDNC44NDE2MyA5LjUzNzY4IDQuNTE0NTEgOS42NjY2NyA0LjE4NjExIDkuNjY2NjdDMy44NTc3MiA5LjY2NjY3IDMuNTI5MzIgOS41Mzc2OCAzLjI3OTE3IDkuMjgxMDNMMC4zNzYxODMgNi4zMDI1MkMtMC4xMjUzOTQgNS43ODkyMSAtMC4xMjUzOTQgNC45NTYwNyAwLjM3NjE4MyA0LjQ0MTQ1QzAuODc3NzU5IDMuOTI2ODIgMS42ODg0OSAzLjkyNjgyIDIuMTkwMDcgNC40NDE0NUw0LjE4NjExIDYuNDg5NDJMOS44MDk5MyAwLjcxOTMwM0MxMC4zMTE1IDAuMjA0Njc4IDExLjEyMjIgMC4yMDQ2NzggMTEuNjIzOCAwLjcxOTMwM0MxMi4xMjU0IDEuMjMzOTMgMTIuMTI1NCAyLjA2NTc1IDExLjYyMzggMi41ODAzOFoiIGZpbGw9IiM5RUExQTciLz4KICA8L3N2Zz4KICA=');
    background-color: var(--oryx-color-canvas-200);
    border-color: var(--oryx-color-canvas-200);
  }

  :host([intermediate]) ::slotted(input:checked:disabled)::before {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMS4zMzM1IDhDMS4zMzM1IDcuMjYzNjIgMS45MzA0NSA2LjY2NjY3IDIuNjY2ODMgNi42NjY2N0gxMy4zMzM1QzE0LjA2OTkgNi42NjY2NyAxNC42NjY4IDcuMjYzNjIgMTQuNjY2OCA4QzE0LjY2NjggOC43MzYzOCAxNC4wNjk5IDkuMzMzMzMgMTMuMzMzNSA5LjMzMzMzSDIuNjY2ODNDMS45MzA0NSA5LjMzMzMzIDEuMzMzNSA4LjczNjM4IDEuMzMzNSA4WiIgZmlsbD0iIzlFQTFBNyIvPgogIDwvc3ZnPgogIA==');
  }

  :host([hasError]) ::slotted(input:not(:disabled))::before {
    border-color: var(--oryx-color-error-300);
  }

  :host(:not([intermediate]):not([hasError]):hover)
    ::slotted(input:checked:not(:disabled))::before {
    border-color: var(--oryx-color-primary-400);
    background-color: var(--oryx-color-primary-400);
  }

  :host([intermediate]:not([hasError]):hover)
    ::slotted(input:not(:disabled))::before {
    border-color: var(--oryx-color-primary-400);
    background-color: var(--oryx-color-primary-400);
  }

  :host(:not([intermediate]):not([hasError]):hover)
    ::slotted(input:not(:disabled))::before {
    border-color: var(--oryx-color-neutral-300);
  }

  :host(:not([hasError]))
    ::slotted(input:not(:disabled):focus-visible)::before {
    height: 18px;
    width: 18px;
    border: none;
    box-shadow: 0 0 3px var(--oryx-color-focus),
      inset 0 0 0 2px var(--oryx-color-primary-300);
  }

  :host(:not([hasError]))
    ::slotted(input:not(:disabled):checked:focus-visible)::before {
    height: 18px;
    width: 18px;
    border: none;
    box-shadow: 0 0 3px var(--oryx-color-focus),
      inset 0 0 0 1px var(--oryx-color-canvas-100);
  }
`;

    class CheckboxComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.errorController = new ErrorController(this);
        }
        render() {
            return y `
      <label>
        <slot></slot>
      </label>
      ${this.errorController.render()}
    `;
        }
    }
    CheckboxComponent.styles = checkboxStyles;
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], CheckboxComponent.prototype, "intermediate", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], CheckboxComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], CheckboxComponent.prototype, "hasError", void 0);

    const checkbox_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CheckboxComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var InputListStatus;
    (function (InputListStatus) {
        InputListStatus["checked"] = "checked";
        InputListStatus["unchecked"] = "unchecked";
        InputListStatus["partiallyChecked"] = "partiallyChecked";
    })(InputListStatus || (InputListStatus = {}));

    const styles$9 = i$7 `
  fieldset {
    margin: 0;
    padding: 0;
    border: 0;
  }

  legend {
    display: none;
    margin-block-end: 8px;
    color: var(--oryx-color-ink);
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    text-transform: uppercase;
  }

  legend[hasHeading] {
    display: block;
  }

  .content {
    display: inline-flex;
    gap: 8px;
  }

  :host([direction='vertical']) .content {
    flex-direction: column;
    align-items: start;
  }

  [hasErrorContent] {
    margin-block-start: 1px;
    margin-inline-start: 1px;
  }
`;

    class InputListComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.errorController = new ErrorController(this);
        }
        updated() {
            this.handleHeading();
            this.handleError();
        }
        handleHeading() {
            const hasHeading = !!this.heading || !!this.headingSlot.length;
            this.shadowRoot
                ?.querySelector('legend')
                ?.toggleAttribute('hasHeading', hasHeading);
        }
        handleError() {
            const hasError = !!this.errorMessage || !!this.hasError;
            Array.from(this.childElements).forEach((child) => {
                child.toggleAttribute('hasError', hasError);
            });
        }
        getInputElements() {
            const inputs = this.querySelectorAll('* > input:not([slot])');
            return [...inputs].filter((element) => element.parentElement?.parentElement === this);
        }
        getGroupStatus() {
            const inputElements = this.getInputElements();
            const isChecked = (element) => !!element.checked;
            let checked = true;
            let partiallyChecked = false;
            inputElements.forEach((input) => {
                if (isChecked(input))
                    partiallyChecked = true;
                else
                    checked = false;
            });
            if (checked)
                return InputListStatus.checked;
            if (partiallyChecked)
                return InputListStatus.partiallyChecked;
            return InputListStatus.unchecked;
        }
        updateList(value) {
            const inputElements = this.getInputElements();
            inputElements.forEach((inputElement) => {
                inputElement.checked = value;
                inputElement.dispatchEvent(new InputEvent('input', { bubbles: true, composed: true }));
            });
        }
        toggle(force) {
            if (force === undefined) {
                force = this.getGroupStatus() !== InputListStatus.checked;
            }
            this.updateList(force);
        }
        get headingSlot() {
            return this.querySelectorAll('[slot=heading]');
        }
        render() {
            return y `
      <fieldset>
        <legend>
          <slot name="heading" @slotchange=${this.handleHeading.bind(this)}>
            ${this.heading}
          </slot>
        </legend>
        <slot class="content"></slot>
      </fieldset>
      ${this.errorController.render()}
    `;
        }
    }
    InputListComponent.styles = [styles$9, errorStyles$1];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputListComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], InputListComponent.prototype, "hasError", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], InputListComponent.prototype, "direction", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], InputListComponent.prototype, "heading", void 0);
    __decorate([
        e$2(),
        __metadata("design:type", Array)
    ], InputListComponent.prototype, "childElements", void 0);

    const inputList_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        InputListComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$4 = i$7 `
  slot[name='suffix'] > oryx-icon {
    margin-inline-end: 0;
  }

  oryx-icon {
    --oryx-icon-size: var(--oryx-icon-size-medium);

    cursor: pointer;
    width: 38px;
    height: 100%;
    justify-content: center;
    box-sizing: border-box;
    padding-inline-end: 10px;
  }

  svg {
    pointer-events: none;
  }

  svg .visible,
  svg .invisible {
    transition: var(--oryx-transition-time);
  }

  :host(:not([visible])) svg .invisible,
  :host([visible]) svg .visible {
    opacity: 0;
  }
`;
    const screenStyles$4 = [...screenStyles$8];

    const passwordInput_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$4,
        screenStyles: screenStyles$4
    }, Symbol.toStringTag, { value: 'Module' }));

    class PasswordInputComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.formControlController = new FormControlController(this);
            this.affixController = new AffixController(this);
            /**
             * The visibility strategy determines the UI event that is used to make the password visible.
             *
             * While the UI event will make the password visible, it will become invisible after the timeout is passed.
             */
            this.strategy = "CLICK" /* PasswordVisibilityStrategy.CLICK */;
            /**
             * Sets the timeout in milliseconds that is used to revoke the visibility of the password.
             *
             * Defaults to `5000`.
             */
            this.timeout = 5000;
        }
        render() {
            return y `
      ${this.formControlController.render({
            before: this.affixController.renderPrefix(),
            after: this.affixController.renderSuffix(this.renderActionIcon()),
        })}
    `;
        }
        /**
         * Adds an icon to show the password.
         *
         * This is not a button, since it's supposed to be not available to
         * non-sighted users; there's no point in offering a user with low vision
         * the possibility to show the password.
         */
        renderActionIcon() {
            switch (this.strategy) {
                case "NONE" /* PasswordVisibilityStrategy.NONE */:
                    return y ``;
                case "HOVER" /* PasswordVisibilityStrategy.HOVER */:
                    return y `
          <oryx-icon
            type=${this.visibilityIcon}
            @mouseover=${this.showVisibility}
            @mouseout=${this.hideVisibility}
          ></oryx-icon>
        `;
                case "MOUSEDOWN" /* PasswordVisibilityStrategy.MOUSEDOWN */:
                    return y `
          <oryx-icon
            type=${this.visibilityIcon}
            @mousedown=${this.showVisibility}
            @mouseup=${this.hideVisibility}
            @mouseout=${this.hideVisibility}
          ></oryx-icon>
        `;
                default:
                    return y `
          <oryx-icon
            type=${this.visibilityIcon}
            @click=${this.toggleVisibility}
          ></oryx-icon>
        `;
            }
        }
        get visibilityIcon() {
            return this.visible ? 'invisible' : 'visible';
        }
        toggleVisibility() {
            if (this.hasAttribute('visible')) {
                this.hideVisibility();
            }
            else {
                this.showVisibility();
            }
        }
        showVisibility() {
            this.toggleAttribute('visible', true);
            this.control.setAttribute('type', 'text');
            if (this.timeout > 0) {
                setTimeout(() => {
                    if (this.hasAttribute('visible')) {
                        this.hideVisibility();
                    }
                }, this.timeout);
            }
        }
        hideVisibility() {
            this.toggleAttribute('visible', false);
            this.control.setAttribute('type', 'password');
        }
        get control() {
            return getControl(this, 'input');
        }
    }
    PasswordInputComponent.styles = [...baseStyles$8, baseStyles$4];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PasswordInputComponent.prototype, "label", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PasswordInputComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], PasswordInputComponent.prototype, "floatLabel", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], PasswordInputComponent.prototype, "hasError", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PasswordInputComponent.prototype, "prefixIcon", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], PasswordInputComponent.prototype, "prefixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PasswordInputComponent.prototype, "suffixIcon", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], PasswordInputComponent.prototype, "suffixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PasswordInputComponent.prototype, "strategy", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], PasswordInputComponent.prototype, "timeout", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], PasswordInputComponent.prototype, "visible", void 0);

    const passwordInput_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        PasswordInputComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$3 = i$7 `
  :host {
    --oryx-radio-size: 24px;

    display: block;
  }

  label {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    column-gap: 8px;
    position: relative;
    outline: 0;
    color: var(--oryx-color-inc);
  }

  ::slotted(input) {
    flex: 0 0 var(--oryx-radio-size, 18px);
    width: var(--oryx-radio-size, 18px);
    height: var(--oryx-radio-size, 18px);
    appearance: none;
    border-radius: 50%;
    margin: 3px 0;
    padding: 2px;
    border: solid 2px currentColor;
    color: var(--oryx-color-neutral-200);
  }

  ::slotted(input:checked) {
    background-clip: content-box;
    /* stylelint-disable-next-line */
    background-image: linear-gradient(currentColor 0%, currentColor 100%);
    color: var(--oryx-color-primary-300);
  }

  ::slotted(:not(input)) {
    min-width: 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  ::slotted(input)::after {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    cursor: pointer;
  }

  ::slotted(input:hover) {
    color: var(--oryx-color-neutral-300);
  }

  ::slotted(input:focus-visible) {
    outline: 0;
    box-shadow: 0 0 3px var(--oryx-color-focus);
    border-color: var(--oryx-color-focus);
  }

  :host([hasError]) ::slotted(input:focus-visible) {
    border-color: var(--oryx-color-error-300);
  }

  ::slotted(input:disabled),
  ::slotted(input:checked:disabled) {
    background-color: var(--oryx-color-canvas-200);
    color: var(--oryx-color-neutral-300);
    border-color: var(--oryx-color-canvas-500);
    pointer-events: none;
  }

  ::slotted(input:checked:hover) {
    color: var(--oryx-color-primary-400);
  }

  :host([hasError]) ::slotted(input),
  :host([hasError]) ::slotted(input:checked) {
    border-color: var(--oryx-color-error-300);
  }

  [hasErrorContent] {
    margin-block-start: 1px;
    margin-inline-start: 1px;
    font-size: 0.85em;
    font-weight: 400;
  }

  slot[name='subtext'] {
    display: block;
    margin-inline-start: 26px;
    flex: 0 0 100%;
  }

  slot[name='subtext']::slotted(small) {
    font-weight: 600;
    color: var(--oryx-color-neutral-300);
  }
`;
    const mediumScreen$2 = i$7 `
  :host {
    --oryx-radio-size: 18px;
  }
`;
    const screenStyles$3 = [
        {
            media: mdScreen,
            css: mediumScreen$2,
        },
    ];

    const radio_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$3,
        screenStyles: screenStyles$3
    }, Symbol.toStringTag, { value: 'Module' }));

    class RadioComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.errorController = new ErrorController(this);
        }
        render() {
            return y `
      <label part="label">
        <slot></slot>
        <slot name="subtext"></slot>
      </label>
      ${this.errorController.render()}
    `;
        }
    }
    RadioComponent.styles = [baseStyles$3, errorStyles$1];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], RadioComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], RadioComponent.prototype, "hasError", void 0);

    const radio_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        RadioComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class SelectFilterController {
        constructor(host) {
            this.host = host;
            this.initialized = false;
            this.host.addController(this);
            this.onUpdate = this.onUpdate.bind(this);
            this.onFocus = this.onFocus.bind(this);
        }
        hostConnected() {
            this.host.addEventListener('change', this.onUpdate);
            this.host.addEventListener('mousedown', this.onFocus);
            this.host.addEventListener('focusin', this.onFocus);
        }
        hostDisconnected() {
            this.host.removeEventListener('change', this.onUpdate);
            this.host.removeEventListener('mousedown', this.onFocus);
            this.host.removeEventListener('focusin', this.onFocus);
        }
        hostUpdated() {
            this.host.toggleAttribute('filterSelect', this.selectFilteringEnabled);
            this.onUpdate();
        }
        render() {
            return y `${n$1(!!this.host.filterStrategy, () => y `<input filterInput />`)}`;
        }
        onFocus() {
            if (this.selectFilteringEnabled) {
                this.filterControl.focus();
            }
        }
        onUpdate() {
            if (this.selectFilteringEnabled) {
                this.setPlaceholder();
                this.setFilterValue();
                this.initialized = true;
            }
        }
        setPlaceholder() {
            const placeholder = (this.options.length && this.options[0].text) || '';
            this.filterControl.setAttribute('placeholder', placeholder);
        }
        setFilterValue() {
            if (this.initialized && this.host.isEmpty && !!this.filterControl.value) {
                return;
            }
            const value = this.control.value;
            const selected = value
                ? Array.from(this.options).find((option) => option.value === value)
                : undefined;
            this.filterControl.value = selected?.text || '';
        }
        get selectFilteringEnabled() {
            return (!!this.host.filterStrategy && this.control instanceof HTMLSelectElement);
        }
        get control() {
            return getControl(this.host);
        }
        get options() {
            return this.control.querySelectorAll('option');
        }
        get filterControl() {
            return this.host.renderRoot.querySelector('[filterInput]');
        }
    }

    /**
     * Whenever a select element is projected in the default slot, this controller
     * will reflect the native select options by generating a list of `oryx-option` elements.
     * The options are reflected repeatedly whenever the host is updated, so that options that
     * are added dynamically (async) will be reflected.
     *
     * If an input element is used, the input will be made `readonly`, unless filtering is enabled.
     *
     */
    class SelectController {
        constructor(host) {
            this.host = host;
            this.options = [];
            this.host.addController(this);
        }
        hostUpdated() {
            this.initSelect();
            this.observeSelect();
        }
        initSelect() {
            const control = getControl(this.host);
            if (control instanceof HTMLSelectElement) {
                this.reflectSelect(control);
            }
            else {
                control.toggleAttribute('readonly', this.host.filterStrategy === undefined ||
                    this.host.filterStrategy === '');
            }
        }
        reflectSelect(element) {
            const options = Array.from(element.options)
                .filter((option) => option.value !== '')
                .map((nativeOption) => {
                nativeOption.hidden = true;
                const reflectedOption = {
                    value: nativeOption.value,
                };
                const text = nativeOption.textContent?.trim();
                if (text !== '' && text !== nativeOption.value) {
                    reflectedOption.text = text;
                }
                if (nativeOption.selected) {
                    reflectedOption.selected = true;
                }
                return reflectedOption;
            });
            if (JSON.stringify(options) !== JSON.stringify(this.options)) {
                this.options = options;
                this.reflectOptions();
            }
            this.host.isEmpty =
                (this.host.isEmpty && this.host.hasAttribute('filterselect')) ||
                    (!this.host.isLoading && this.options.length === 0);
        }
        reflectOptions() {
            this.clearOptions();
            this.options.forEach((option) => {
                const newOption = `<oryx-option value='${option.value}' ${option.selected ? 'selected' : ''} slot="option">${option.text ?? option.value}</oryx-option>`;
                this.host.insertAdjacentHTML('beforeend', newOption);
            });
        }
        clearOptions() {
            this.host.querySelectorAll('oryx-option').forEach((el) => el.remove());
        }
        observeSelect() {
            this.mutationObserver?.disconnect();
            this.mutationObserver = new MutationObserver(() => {
                this.host.requestUpdate();
            });
            this.mutationObserver.observe(getControl(this.host), {
                childList: true,
                subtree: true,
                attributeFilter: ['selected'],
            });
        }
        hostDisconnected() {
            this.mutationObserver?.disconnect();
        }
    }

    const selectFilterStyles = i$7 `
  [filterInput] {
    display: none;
    height: 38px;
    box-sizing: border-box;
    text-overflow: ellipsis;
    width: 100%;
    padding: 7px 11px;
    background-color: transparent;
    border: none;
    outline: none;
    font: inherit;
    line-height: 24px;
    color: var(--oryx-color-ink);
    border-radius: var(--oryx-border-radius);
    white-space: nowrap;
    overflow: hidden;
  }

  :host([filterSelect]) [filterInput] {
    display: initial;
  }

  :host([filterSelect]) ::slotted(select) {
    display: none;
  }
`;

    const selectFloatingLabelStyles = i$7 `
  :host([floatLabel]) slot[name='label'],
  :host([floatLabel]) slot[name='label']::slotted(*) {
    cursor: pointer;
  }
`;

    const selectStyles = i$7 `
  :host {
    cursor: pointer;
  }

  slot::slotted(select),
  slot::slotted(input:not([readonly])) {
    cursor: pointer;
    background-color: transparent;
  }

  ::slotted(input),
  input {
    cursor: inherit;
  }

  ::slotted(select) {
    width: 100%;
    height: 38px;
    padding: 7px 11px;
    background-color: transparent;
    border: none;
    outline: none;
    color: var(--oryx-color-ink);
    pointer-events: none;
    font: inherit;
    text-overflow: ellipsis;
    appearance: none;
    /* stylelint-disable */
    /* requires by safari < 15.4 */
    -webkit-appearance: none;
    /* stylelint-enable */
  }

  oryx-icon[type='dropdown'] {
    --oryx-icon-size: var(--oryx-icon-size-medium);
  }

  ::slotted(select:invalid),
  :host(:not([has-value])) ::slotted(select) {
    color: var(--oryx-color-placeholder);
  }
`;
    const baseStyles$2 = [
        selectStyles,
        selectFilterStyles,
        baseStyles$6,
        selectFloatingLabelStyles,
    ];
    const screenStyles$2 = [...screenStyles$6];

    const index$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        selectFilterStyles,
        selectStyles,
        baseStyles: baseStyles$2,
        screenStyles: screenStyles$2
    }, Symbol.toStringTag, { value: 'Module' }));

    class SelectComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.suffixIcon = 'dropdown';
            this.searchIconPosition = "NONE" /* SearchIconPosition.NONE */;
            this.clearIconAppearance = "HOVER" /* ClearIconAppearance.HOVER */;
            this.selectController = new SelectController(this);
            this.selectFilterController = new SelectFilterController(this);
            this.typeaheadController = new TypeaheadController(this, {
                showOnFocus: false,
            });
            this.searchController = new SearchboxController(this);
            this.formControlController = new FormControlController(this);
        }
        /**
         * Sets the value of the select element and dispatches
         * a change event to ensure that the select component will
         * reflect the state.
         */
        setValue(value) {
            const control = getControl(this);
            if (control.value === value) {
                return;
            }
            control.value = value;
            control.dispatchEvent(new Event('change', { bubbles: true, composed: true }));
        }
        render() {
            return y `
      ${this.formControlController.render({
            before: this.renderPrefix(),
            after: this.searchController.renderSuffix(),
        })}
      ${this.typeaheadController.renderPopover()}
    `;
        }
        updated() {
            this.clearIconPosition = this.allowEmptyValue
                ? "SUFFIX" /* ClearIconPosition.SUFFIX */
                : "NONE" /* ClearIconPosition.NONE */;
        }
        renderPrefix() {
            return y `${this.searchController.renderPrefix()}${this.selectFilterController.render()}`;
        }
        get allowEmptyValue() {
            const control = getControl(this);
            return (control instanceof HTMLInputElement || control.options?.[0]?.value === '');
        }
    }
    SelectComponent.styles = baseStyles$2;
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "filter", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "filterStrategy", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "isLoading", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "isEmpty", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "emptyMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "hasError", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "label", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "prefixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "prefixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "suffixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SelectComponent.prototype, "suffixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "searchIcon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "searchIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "clearIcon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "clearIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SelectComponent.prototype, "clearIconAppearance", void 0);

    const select_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        SelectComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const tagStyles = i$7 `
  :host {
    --oryx-icon-size: 12px;

    vertical-align: middle;
    display: inline-flex;
    align-items: center;
    justify-content: space-between;
    min-width: 0;
    height: 24px;
    gap: 5px;
    padding-inline-start: 10px;
    color: var(--oryx-color-ink);
    background: var(--oryx-color-canvas-500);
    border-radius: var(--oryx-border-radius-large);
    pointer-events: none;
  }

  slot {
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  button {
    all: unset;
    cursor: pointer;
    pointer-events: all;
    padding-inline: 7px;
    height: inherit;
    border-start-end-radius: var(--oryx-border-radius-large);
    border-end-end-radius: var(--oryx-border-radius-large);
    color: var(--oryx-color-canvas-100);
    background: var(--oryx-color-neutral-200);
  }

  button:focus-visible,
  button:hover {
    background: var(--oryx-color-neutral-300);
    transition: var(--oryx-transition-time) background;
  }

  button:focus-visible {
    outline: 1px solid var(--oryx-color-canvas-100);
    outline-offset: -1px;
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }

  :host([disabled]) * {
    color: var(--oryx-color-neutral-300);
  }

  button:disabled {
    background: inherit;
    pointer-events: none;
    cursor: default;
  }
`;

    const CLOSE_EVENT = 'oryx.close';
    class TagComponent extends s$5 {
        constructor() {
            super(...arguments);
            //translation
            this.removeButtonAriaLabel = 'Remove tag';
        }
        render() {
            return y `
      <slot></slot>
      <button
        ?disabled=${this.disabled}
        aria-label=${this.removeButtonAriaLabel}
      >
        <oryx-icon type="close"></oryx-icon>
      </button>
    `;
        }
    }
    TagComponent.styles = [tagStyles];
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], TagComponent.prototype, "disabled", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], TagComponent.prototype, "removeButtonAriaLabel", void 0);

    const tag_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        CLOSE_EVENT,
        TagComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var ChipAppearance;
    (function (ChipAppearance) {
        ChipAppearance["Default"] = "default";
        ChipAppearance["Success"] = "success";
        ChipAppearance["Offline"] = "offline";
        ChipAppearance["Inactive"] = "inactive";
        ChipAppearance["Low"] = "low";
        ChipAppearance["Info"] = "info";
        ChipAppearance["Warning"] = "warning";
        ChipAppearance["Error"] = "error";
        ChipAppearance["Highlight"] = "highlight";
        /**
         * `ONLINE` is a synonym for the `SUCCESS` chip type.
         */
        ChipAppearance["Online"] = "online";
        /**
         * `ACTIVE` is a synonym for the `SUCCESS` chip type.
         */
        ChipAppearance["Active"] = "active";
    })(ChipAppearance || (ChipAppearance = {}));

    const chipBaseStyle = i$7 `
  :host {
    display: inline-block;
    padding-inline: 12px;
    line-height: 24px;
    flex-grow: 0;
    flex-shrink: 0;
    height: 24px;
    color: var(--c, var(--oryx-color-neutral-300));
    background-color: var(--bg, var(--oryx-color-canvas-300));
  }

  slot {
    display: block;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  :host([dense]) {
    padding-inline: 7px;
  }
`;

    class ChipComponent extends s$5 {
        render() {
            return y `<slot></slot>`;
        }
    }
    ChipComponent.styles = [chipBaseStyle];
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], ChipComponent.prototype, "appearance", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Boolean)
    ], ChipComponent.prototype, "dense", void 0);

    const chip_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ChipComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const chipBackofficeUI = {
        styles: [
            i$7 `
      :host {
        border-radius: var(--oryx-border-radius);
      }

      :host([appearance='${r$5(ChipAppearance.Inactive)}']) {
        --bg: var(--oryx-color-canvas-200);
        --c: var(--oryx-color-neutral-300);
      }

      :host([appearance='${r$5(ChipAppearance.Success)}']),
      :host([appearance='${r$5(ChipAppearance.Online)}']),
      :host([appearance='${r$5(ChipAppearance.Active)}']) {
        --bg: var(--oryx-color-success-100);
        --c: var(--oryx-color-success-300);
      }

      :host([appearance='${r$5(ChipAppearance.Offline)}']) {
        --c: var(--oryx-color-neutral-300);
        --bg: var(--oryx-color-canvas-300);
      }

      :host([appearance='${r$5(ChipAppearance.Low)}']) {
        --bg: var(--oryx-chip-low-background-color, #fffbe6);
        --c: var(--oryx-chip-low-color, #cd8814);
      }

      :host([appearance='${r$5(ChipAppearance.Warning)}']) {
        --bg: var(--oryx-color-warning-100);
        --c: var(--oryx-color-warning-300);
      }

      :host([appearance='${r$5(ChipAppearance.Highlight)}']) {
        --bg: var(--oryx-color-highlight-100);
        --c: var(--oryx-color-highlight-300);
      }

      :host([appearance='${r$5(ChipAppearance.Info)}']) {
        --bg: var(--oryx-color-info-100);
        --c: var(--oryx-color-info-300);
      }

      :host([appearance='${r$5(ChipAppearance.Error)}']) {
        --bg: var(--oryx-color-error-100);
        --c: var(--oryx-color-error-300);
      }
    `,
        ],
    };

    const backoffice_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        chipBackofficeUI
    }, Symbol.toStringTag, { value: 'Module' }));

    const chipStorefrontUI = {
        styles: [
            i$7 `
      :host {
        --bg: var(--oryx-color-neutral-300);

        border-radius: 38px;
        color: var(--oryx-color-canvas-100);
      }

      :host([appearance='${r$5(ChipAppearance.Offline)}']),
      :host([appearance='${r$5(ChipAppearance.Inactive)}']) {
        --bg: var(--oryx-color-neutral-300);
      }

      :host([appearance='${r$5(ChipAppearance.Success)}']),
      :host([appearance='${r$5(ChipAppearance.Online)}']),
      :host([appearance='${r$5(ChipAppearance.Active)}']) {
        --bg: var(--oryx-color-success-300);
      }

      :host([appearance='${r$5(ChipAppearance.Low)}']) {
        --bg: var(--oryx-chip-low-color, #cd8814);
      }

      :host([appearance='${r$5(ChipAppearance.Warning)}']) {
        --bg: var(--oryx-color-warning-300);
      }

      :host([appearance='${r$5(ChipAppearance.Highlight)}']) {
        --bg: var(--oryx-color-highlight-300);
      }

      :host([appearance='${r$5(ChipAppearance.Info)}']) {
        --bg: var(--oryx-color-info-300);
      }

      :host([appearance='${r$5(ChipAppearance.Error)}']) {
        --bg: var(--oryx-color-error-300);
      }
    `,
        ],
    };

    const storefront_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        chipStorefrontUI
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$8 = i$7 `
  :host {
    /* stylelint-disable-next-line */
    --_margin: 0px;

    display: flex;
    height: var(--oryx-icon-size, var(--oryx-icon-size-large, 24px));
    aspect-ratio: 1 / 1;
    justify-content: center;
    color: var(--oryx-icon-color, inherit);
  }

  svg,
  ::slotted(svg) {
    fill: var(--oryx-icon-color, currentColor);
    width: calc(var(--oryx-icon-size, 24px) - (var(--_margin) * 2));
    aspect-ratio: 1 / 1;
    margin: var(--_margin);
    transition: var(--oryx-transition-time);
  }

  :host([size='medium']) {
    --_margin: 3px;
  }

  :host([size='small']) {
    --_margin: 6px;
  }
`;

    const DEFAULT_SPRITE = '/assets/icons.svg';
    class IconComponent extends s$5 {
        render() {
            return y `
      <slot>
        ${n$1(this.type, () => IconComponent.renderIcon(this.type, this.spriteUrl))}
      </slot>
    `;
        }
        /**
         * Creates the SVG (sprite) url based on the given sprite and icon.
         * The resulting SVG url uses the following format:
         *
         * ```html
         * <use href="/assets/icons.svg#iconType" />
         * ```
         *
         * Defaults to use '/assets/icons.svg'.
         */
        get spriteUrl() {
            return `${this.sprite ?? DEFAULT_SPRITE}#${this.type}`;
        }
    }
    IconComponent.styles = styles$8;
    IconComponent.renderIcon = (type, spriteUrl = '') => y `
    <svg viewBox="0 0 24 24">
      <use href="${spriteUrl}" />
    </svg>
  `;
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Object)
    ], IconComponent.prototype, "type", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], IconComponent.prototype, "size", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], IconComponent.prototype, "sprite", void 0);
    __decorate([
        hook(IconHookToken),
        __metadata("design:type", Function)
    ], IconComponent, "renderIcon", void 0);

    const icon_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        IconComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$7 = i$7 `
  :host {
    --oryx-icon-size: 100px;
  }

  ::slotted(svg) {
    height: 100%;
    width: 100%;
  }

  [part='fallback'] {
    color: var(--oryx-color-neutral-300);
    margin: auto;
    width: 100%;
    height: 100%;
  }

  img {
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    max-width: var(--image-max-width, 100%);
    max-height: var(--image-max-height, 100%);
    object-fit: var(--image-fit, contain);
  }
`;

    class ImageComponent extends s$5 {
        render() {
            if (this.hasFailure())
                return this.renderFallback();
            return y `<slot>${this.renderImage()}</slot>`;
        }
        renderFallback() {
            return y `<oryx-icon type="image" part="fallback"></oryx-icon>`;
        }
        renderImage() {
            if (!this.src)
                return this.renderFallback();
            return y `
      <img
        src=${l$1(this.src)}
        srcset=${l$1(this.srcset)}
        alt=${l$1(this.alt)}
        loading=${l$1(this.loading)}
        @error=${this.onError}
      />
    `;
        }
        hasFailure() {
            return !!this.src && this.failed === this.src;
        }
        onError() {
            this.failed = this.src;
        }
    }
    ImageComponent.styles = styles$7;
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ImageComponent.prototype, "src", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ImageComponent.prototype, "srcset", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ImageComponent.prototype, "alt", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ImageComponent.prototype, "loading", void 0);
    __decorate([
        t$1(),
        __metadata("design:type", String)
    ], ImageComponent.prototype, "failed", void 0);

    const image_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ImageComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const ratingBaseStyles = i$7 `
  :host {
    --oryx-rating-size: 18px;
    --oryx-icon-size: 18px;
    --_margin: 3px;

    display: flex;
    align-items: center;
    font-size: var(--oryx-rating-size);
    gap: 10px;
  }

  :host([size='small']) {
    --oryx-rating-size: 12px;
    --oryx-icon-size: 12px;
    --_margin: 2px;
  }

  fieldset {
    all: unset;
    white-space: nowrap;
  }

  input {
    appearance: none;
    display: inline-block;
    flex: 0 0 var(--oryx-rating-size);
    width: var(--oryx-rating-size);
    aspect-ratio: 1/1;
    position: relative;
    margin: 0;
    border-radius: var(--oryx-border-radius-small);
    outline: none;
  }

  fieldset slot {
    transition: 0.4s ease-out;
    pointer-events: none;
    display: inline-block;
    padding: var(--_margin);
    line-height: var(--oryx-rating-size);
    height: var(--oryx-rating-size);
    width: var(--oryx-rating-size);
  }

  fieldset slot,
  fieldset ::slotted(*) {
    color: var(--oryx-rating-color-active, var(--oryx-color-secondary-300));
    font-size: 1em;
  }

  fieldset slot svg {
    fill: currentColor;
  }

  input:focus-visible + slot {
    border-radius: 4px;
    background-color: var(--oryx-color-canvas-200);
    box-shadow: var(--oryx-box-shadow-focus);
  }

  label {
    position: absolute;
    opacity: 0;
  }

  slot,
  b {
    font-size: 1rem;
  }

  :host > svg {
    width: 0;
    height: 0;
  }
`;

    // Note: the pseudo states in storybook are actual destroying some of the
    // :not selectors, which destroys the UX in the following case:
    //   - when you hover over a selected rating, the stars in between won't get highlighted
    const ratingEditModeStyles = i$7 `
  :host(:not([readonly])) input {
    position: absolute;
    margin: 0;
    outline: none;
    box-sizing: content-box;
    padding: var(--_margin);
  }

  :host(:not([readonly])) input:not(:checked) {
    cursor: pointer;
  }

  fieldset:not(:hover) input:invalid + slot,
  fieldset:not(:hover) input:invalid + ::slotted(*),
  fieldset :is(input:hover, :not(:hover) input:checked) + slot ~ slot,
  fieldset :is(input:hover, :not(:hover) input:checked) + slot ~ ::slotted(*) {
    color: var(--oryx-rating-color-inactive, var(--oryx-color-neutral-200));
  }

  input:hover:not(:checked) + slot,
  input:hover:not(:checked) + ::slotted(*) {
    color: var(--oryx-rating-color-hover, var(--oryx-color-secondary-400));
  }

  fieldset input:valid:hover + slot ~ slot[has-char],
  fieldset input:hover + slot ~ slot[has-char],
  fieldset:not(:hover) input:checked + slot ~ slot[has-char] {
    opacity: 0.3;
  }
`;

    const ratingReadonlyStyles = i$7 `
  :host([readonly]) {
    padding: var(--_margin);
  }

  :host([readonly]) fieldset {
    pointer-events: none;
    display: flex;
    align-items: center;
    gap: calc(2 * var(--_margin));
  }

  :host([readonly]) input {
    background-color: var(--oryx-color-canvas-500);
  }

  :host([readonly]:not([size='small'])) input {
    /* stylelint-disable-next-line */
    clip-path: url('#star-path');
  }

  :host([readonly][size='small']) input {
    /* stylelint-disable-next-line */
    clip-path: url('#star-path-small');
  }

  :host([readonly]) input::after {
    content: '';
    position: absolute;
    height: 100%;
    background-color: orange;
    width: min(calc(((var(--rate) - var(--pos) + 1) * 100%)), 100%);
  }

  .review-count {
    color: var(--oryx-color-neutral-300);
    line-height: var(--oryx-rating-size);
    font-size: 1rem;
  }
`;

    /** we'll have performance issues when someone accidentally uses a high scale */
    const MAX_SCALE = 25;
    class RatingComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.scale = 5;
        }
        render() {
            return y `
      <fieldset style=${`--rate: ${this.getValue()};`}>
        ${[...Array(Math.min(this.scale, MAX_SCALE))].map((_, i) => this.renderInput(i))}
      </fieldset>

      ${n$1(this.reviewCount !== undefined, () => y `<span class="review-count">${this.getCount()}</span>`)}
      ${this.renderClipPath()}
    `;
        }
        renderInput(i) {
            return y `<input
        @input=${() => this.setValue(i + 1)}
        type="radio"
        name="rating"
        value=${i + 1}
        ?required=${!this.readonly}
        ?disabled=${this.readonly}
        ?checked=${Math.round(this.getValue()) === i + 1}
        style=${`--pos: ${i + 1}`}
        aria-label=${i + 1}
      />${n$1(!this.readonly, () => this.renderSlot(i))}`;
        }
        renderSlot(i) {
            return y `<slot name=${i + 1} ?has-char=${this.hasChar(i)}
      >${this.getChar(i) ??
            y `<svg viewBox="0 0 18 18">
        <use href="#star" />
      </svg>`}</slot
    >`;
        }
        renderClipPath() {
            return y `
      <svg xmlns="http://www.w3.org/2000/svg">
        <clipPath id="star-path">
          <use href="#star" />
        </clipPath>
        <clipPath id="star-path-small">
          <path
            d="M9.21975 7.07491L11.8082 4.93311C12.1743 4.62895 11.9849 4.0333 11.5051 4.00796L8.17175 3.80518C7.96973 3.79251 7.79296 3.66577 7.7172 3.47567L6.49243 0.332676C6.31566 -0.110892 5.69696 -0.110892 5.52019 0.332676L4.29543 3.463C4.21967 3.6531 4.0429 3.77984 3.84088 3.79251L0.494864 3.99528C0.0150585 4.02063 -0.174338 4.61628 0.191829 4.92044L2.78025 7.04957C2.93177 7.1763 3.00753 7.39175 2.95702 7.58185L2.11105 10.8389C1.99741 11.2951 2.48984 11.6627 2.89389 11.4092L5.70959 9.59692C5.88636 9.48286 6.10101 9.48286 6.26516 9.59692L9.09348 11.4092C9.49753 11.6627 9.98996 11.2951 9.87632 10.8389L9.03035 7.59452C8.99247 7.40442 9.0556 7.20165 9.21975 7.07491Z"
          />
        </clipPath>
        <defs>
          <path
            id="star"
            d="M13.8296 10.6124L17.7123 7.39967C18.2615 6.94343 17.9774 6.04995 17.2577 6.01193L12.2576 5.70777C11.9546 5.68876 11.6894 5.49866 11.5758 5.21351L9.73865 0.499014C9.47349 -0.166338 8.54545 -0.166338 8.28029 0.499014L6.44314 5.1945C6.3295 5.47965 6.06435 5.66975 5.76131 5.68876L0.742296 5.99292C0.0225877 6.03094 -0.261508 6.92442 0.287743 7.38066L4.17038 10.5744C4.39766 10.7645 4.51129 11.0876 4.43553 11.3728L3.16658 16.2584C2.99612 16.9427 3.73477 17.494 4.34084 17.1138L8.56439 14.3954C8.82954 14.2243 9.15152 14.2243 9.39773 14.3954L13.6402 17.1138C14.2463 17.494 14.9849 16.9427 14.8145 16.2584L13.5455 11.3918C13.4887 11.1066 13.5834 10.8025 13.8296 10.6124Z"
          />
        </defs>
      </svg>
    `;
        }
        getValue() {
            return this.value ?? 0;
        }
        setValue(value) {
            this.value = value;
        }
        getCount() {
            return this.reviewCount;
        }
        hasChar(position) {
            return [...(this.characters ?? [])].length > position;
        }
        getChar(position) {
            if (!this.hasChar(position)) {
                return;
            }
            return [...(this.characters ?? [])][position];
        }
    }
    RatingComponent.styles = [
        ratingBaseStyles,
        ratingEditModeStyles,
        ratingReadonlyStyles,
    ];
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Number)
    ], RatingComponent.prototype, "value", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], RatingComponent.prototype, "readonly", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], RatingComponent.prototype, "reviewCount", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], RatingComponent.prototype, "scale", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], RatingComponent.prototype, "characters", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], RatingComponent.prototype, "size", void 0);

    const rating_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        RatingComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var SpinnerRotation;
    (function (SpinnerRotation) {
        SpinnerRotation["ClockWise"] = "clockwise";
        SpinnerRotation["AntiClockWise"] = "anticlockwise";
    })(SpinnerRotation || (SpinnerRotation = {}));

    const styles$6 = i$7 `
  :host {
    /* stylelint-disable-next-line */
    --_margin: 0px;

    display: flex;
    aspect-ratio: 1 / 1;
    justify-content: center;
    color: var(--oryx-color-primary-300, inherit);
  }

  oryx-icon,
  ::slotted(oryx-icon) {
    animation-duration: 1200ms;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }

  :host([rotation='clockwise']) oryx-icon,
  :host([rotation='clockwise']) ::slotted(oryx-icon) {
    animation-name: clockwise;
  }

  :host([rotation='anticlockwise']) oryx-icon,
  :host([rotation='anticlockwise']) ::slotted(oryx-icon) {
    animation-name: anticlockwise;
  }

  @keyframes clockwise {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes anticlockwise {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(-360deg);
    }
  }
`;

    class SpinnerComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.icon = IconTypes.Loader;
            this.size = Size.medium;
            this.rotation = SpinnerRotation.ClockWise;
        }
        render() {
            return y `
      <slot>
        <oryx-icon type="${this.icon}" size="${this.size}"></oryx-icon>
      </slot>
    `;
        }
    }
    SpinnerComponent.styles = [styles$6];
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], SpinnerComponent.prototype, "icon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], SpinnerComponent.prototype, "size", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", Object)
    ], SpinnerComponent.prototype, "rotation", void 0);

    const spinner_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        SpinnerComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const navigationItemStyles = i$7 `
  :host {
    color: var(--oryx-color-neutral-300);
    display: flex;
    box-sizing: border-box;
    padding: 16px 17px;
    gap: 13px;
    outline: none;
    align-items: center;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    width: 250px;
    transition: all var(--oryx-transition-time);
    padding-inline-start: calc((var(--navigation-collapsed) * 19px) + 17px);
  }

  :host-context([collapsed]) {
    padding-inline-start: 35px;
  }

  .text {
    display: flex;
    transition: all var(--oryx-transition-time);
    opacity: calc((var(--navigation-collapsed) - 1) * -1);
  }

  :host([active]:not([active='false'])) {
    color: var(--oryx-color-primary-300);
    pointer-events: none;
  }

  :host([active]:not([active='false']))::before {
    content: '';
    background-color: var(--oryx-color-primary-300);
    position: absolute;
    inset-inline-start: 0;
    height: 36px;
    width: 4px;
    border-radius: 4px;
  }

  ::slotted(*) {
    display: contents;
    text-decoration: none;
    color: inherit;
  }

  ::slotted(oryx-icon) {
    border: solid 1px blue;
  }
`;

    class NavigationItemComponent extends s$5 {
        render() {
            return y `
      <slot name="icon">
        ${this.icon ? y `<oryx-icon .type=${this.icon}></oryx-icon>` : y ``}
      </slot>
      <slot class="text"></slot>
    `;
        }
    }
    NavigationItemComponent.styles = [navigationItemStyles];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], NavigationItemComponent.prototype, "icon", void 0);

    const navigationItem_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        NavigationItemComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class CollapseToggleController {
        constructor(host) {
            this.host = host;
            this.isCollapsed = true;
            this.host.addController(this);
        }
        hostConnected() {
            this.toggle(this.isCollapsed);
            window.addEventListener('keydown', (ev) => {
                if (!this.isTyping(ev) && ev.key === '[') {
                    this.toggle();
                }
            });
        }
        toggle(force) {
            this.host.toggleAttribute('collapsed', force);
            document.body.style.setProperty('--navigation-collapsed', this.host.hasAttribute('collapsed') ? '1' : '0');
        }
        isTyping(ev) {
            return ['INPUT'].includes(ev.target.tagName);
        }
    }

    const navigationStyles = i$7 `
  :host {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 250px;
    background-color: var(--oryx-color-canvas-100);
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color);
    transition: all var(--oryx-transition-time);
  }

  slot {
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  svg {
    fill: var(--oryx-color-ink);
    margin: 15px;
    width: 120px;
    transition: inherit;
  }

  :host([collapsed]) {
    width: 96px;
    align-items: stretch;
  }

  :host([collapsed]) svg {
    margin-inline-start: 35px;
  }

  .letter-logo {
    transition: inherit;
  }

  :host([collapsed]) .letter-logo {
    opacity: 0;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30px;
    height: 30px;
    padding: 0;
    position: absolute;
    inset-inline-end: -15px;
    bottom: 30px;
    border-radius: 100%;
    border: none;
    background-color: var(--oryx-color-canvas-100);
    color: var(--oryx-color-neutral-300);
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color);
    transition: inherit;
    cursor: pointer;
  }

  button:hover {
    background-color: var(--oryx-color-primary-300);
    color: var(--oryx-color-canvas-100);
  }

  :host([collapsed]) button oryx-icon {
    transform: rotate(180deg);
  }

  ::slotted(*) {
    text-decoration: none;
  }
`;

    class NavigationComponent extends s$5 {
        constructor() {
            super(...arguments);
            /**
             * Label that is used for assistive technology to vocalise the usage
             * of the collapse button.
             *
             * Defaults to "collapse navigation".
             */
            this.toggleButtonAriaLabel = 'collapse navigation';
            this.collapse = new CollapseToggleController(this);
        }
        render() {
            return y `
      <svg viewBox="0 0 121 50">
        <use href="assets/full-logo.svg#logo" />
        <use href="assets/full-logo.svg#text" class="letter-logo" />
      </svg>
      <slot></slot>
      <button @click=${this.toggle} aria-label=${this.toggleButtonAriaLabel}>
        <oryx-icon type="back" size="medium"></oryx-icon>
      </button>
    `;
        }
        toggle() {
            this.collapse.toggle();
        }
    }
    NavigationComponent.styles = [navigationStyles];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], NavigationComponent.prototype, "toggleButtonAriaLabel", void 0);

    const navigation_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        NavigationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$5 = i$7 `
  :host {
    text-align: start;
    margin-block-end: 10px;
    text-decoration: none;
    border: 1px solid var(--oryx-color-canvas-500);
    border-radius: 9px;
    position: relative;
    display: block;
    padding-block: 10px;
    padding-inline-end: 20px;
    padding-inline-start: 38px;
    min-height: 22px;
    cursor: pointer;
  }

  h3::before {
    content: '';
    border-radius: 50%;
    width: 8px;
    height: 8px;
    background: var(--oryx-color-canvas-500);
    position: absolute;
    inset-block-start: 17px;
    inset-inline-start: 20px;
  }

  h3 {
    line-height: 22px;
    text-transform: uppercase;
    font-weight: 500;
    color: var(--oryx-color-ink);
    margin: 0;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  slot[name='content'] {
    color: var(--oryx-color-neutral-400);
    text-transform: none;
    font-size: 14px;
  }

  :host([active]) h3::before {
    background: var(--oryx-color-primary-300);
  }

  :host([active]) h3 {
    color: var(--oryx-color-primary-300);
  }

  :host(:hover) {
    box-shadow: 0 4px 12px var(--oryx-elevation-color-2);
  }

  :host(:focus-visible) {
    outline: none;
    border: 1px solid var(--oryx-color-primary-300);
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }
`;

    class PageNavigationItemComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.active = false;
        }
        render() {
            return y `
      <h3><slot></slot></h3>
      <slot name="content"></slot>
    `;
        }
    }
    PageNavigationItemComponent.styles = styles$5;
    __decorate([
        e$3({ reflect: true, type: Boolean }),
        __metadata("design:type", Object)
    ], PageNavigationItemComponent.prototype, "active", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PageNavigationItemComponent.prototype, "targetId", void 0);

    const pageNavigationItem_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        PageNavigationItemComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class PageNavigationController {
        constructor(host) {
            this.host = host;
            this.navItems = [];
            this.host.addController(this);
            this.onClick = this.onClick.bind(this);
            this.onKeydown = this.onKeydown.bind(this);
            this.detectActiveSection = this.detectActiveSection.bind(this);
            this.onScroll = throttle(this.detectActiveSection, 50, true);
        }
        hostConnected() {
            if (!this.host.disableNavigation) {
                this.setNavigationItemsListeners();
            }
            this.disableNavigation = this.host.disableNavigation;
            this.setScrollListener();
        }
        hostUpdated() {
            if (this.disableNavigation !== this.host.disableNavigation) {
                if (!this.host.disableNavigation) {
                    this.setNavigationItemsListeners();
                }
                else {
                    this.removeNavigationItemsListeners();
                }
                this.disableNavigation = this.host.disableNavigation;
            }
            if (this.sectionsContainerSelector !== this.host.sectionsContainerSelector) {
                this.navItems = (queryAssignedElements(this.host));
                this.detectActiveSection();
            }
        }
        hostDisconnected() {
            const sectionsContainer = this.getSectionsContainer();
            if (sectionsContainer) {
                sectionsContainer.removeEventListener('scroll', this.onScroll);
            }
            this.removeNavigationItemsListeners();
        }
        setScrollListener() {
            const sectionsContainer = this.getSectionsContainer();
            if (sectionsContainer) {
                sectionsContainer.addEventListener('scroll', this.onScroll);
            }
        }
        setNavigationItemsListeners() {
            this.host.addEventListener('keydown', this.onKeydown);
            this.host.addEventListener('click', this.onClick);
        }
        removeNavigationItemsListeners() {
            this.host.removeEventListener('keydown', this.onKeydown);
            this.host.removeEventListener('click', this.onClick);
        }
        getSectionsContainer() {
            return window.document.querySelector(this.host.sectionsContainerSelector);
        }
        onKeydown(e) {
            if (e.key === 'Enter') {
                this.onNavigationItemActivated(e);
            }
        }
        onClick(e) {
            this.onNavigationItemActivated(e);
        }
        onNavigationItemActivated(e) {
            const targetId = e.target
                .closest('oryx-page-navigation-item')
                ?.getAttribute('targetId');
            if (targetId) {
                document.getElementById(targetId)?.scrollIntoView();
            }
        }
        getVisibleSections() {
            const sectionsContainer = this.getSectionsContainer();
            if (!sectionsContainer) {
                return [];
            }
            const sections = this.getSections(this.navItems);
            const { clientHeight: viewportHeight, scrollTop } = sectionsContainer;
            return sections.reduce((acc, section) => {
                const { offsetTop: elOffsetTop, offsetHeight: elHeight } = section;
                if (scrollTop < elOffsetTop + elHeight &&
                    elOffsetTop < scrollTop + viewportHeight) {
                    const hiddenBefore = scrollTop - elOffsetTop;
                    const hiddenAfter = elOffsetTop + elHeight - (scrollTop + viewportHeight);
                    let visibilityPercentage = 100;
                    if (hiddenBefore > 0) {
                        visibilityPercentage -= (hiddenBefore * 100) / elHeight;
                    }
                    else if (hiddenAfter > 0) {
                        visibilityPercentage -= (hiddenAfter * 100) / elHeight;
                    }
                    acc.push({ id: section.id, percent: visibilityPercentage });
                }
                return acc;
            }, []);
        }
        getMostVisibleSection(sections) {
            let mostVisibleSection = sections[0];
            for (let i = 1; i < sections.length; i++) {
                if (sections[i].percent > mostVisibleSection.percent) {
                    mostVisibleSection = sections[i];
                }
            }
            return mostVisibleSection;
        }
        emitCurrentSection(id) {
            if (this.currentSectionId !== id) {
                const event = new CustomEvent('section-change', { detail: { id } });
                this.host.dispatchEvent(event);
                this.currentSectionId = id;
            }
        }
        detectActiveSection() {
            const activeSections = this.getVisibleSections();
            if (!activeSections.length) {
                return;
            }
            const mostVisibleSection = this.getMostVisibleSection(activeSections);
            this.emitCurrentSection(mostVisibleSection.id);
            const navItemToBeActive = this.navItems.find(({ targetId }) => {
                return targetId === mostVisibleSection?.id;
            });
            this.navItems.forEach((navItem) => {
                navItem.toggleAttribute('active', !!navItemToBeActive?.targetId &&
                    navItem.targetId === navItemToBeActive?.targetId);
            });
        }
        getSections(navItems) {
            return navItems
                .map(({ targetId }) => {
                return document.querySelector(`#${targetId}`);
            })
                .filter((section) => section);
        }
    }

    const styles$4 = i$7 `
  ::slotted(*)::before {
    content: '';
    width: 1px;
    background: var(--oryx-color-canvas-500);
    height: 100%;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 23.5px;
  }

  ::slotted(:first-child)::before {
    content: '';
    width: 1px;
    height: calc(100% - 20px);
    background: var(--oryx-color-canvas-500);
    position: absolute;
    inset-block-start: 20px;
    inset-inline-start: 23.5px;
  }

  ::slotted(:last-child)::before {
    content: '';
    width: 1px;
    background: var(--oryx-color-canvas-500);
    height: 20px;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 23.5px;
  }

  ::slotted(:first-child)::after,
  ::slotted(*)::after {
    content: '';
    width: 1px;
    height: 10px;
    background: var(--oryx-color-canvas-500);
    position: absolute;
    inset-block-end: -11px;
    inset-inline-start: 23.5px;
  }

  ::slotted(:last-child)::after {
    display: none;
  }

  ::slotted(:only-child)::before {
    content: '';
    display: none;
  }
`;

    class PageNavigationComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.disableNavigation = false;
            this.controller = new PageNavigationController(this);
        }
        render() {
            return y `
      <nav aria-label=${this.ariaLabel}>
        <slot @slotchange=${() => this.requestUpdate()}></slot>
      </nav>
    `;
        }
    }
    PageNavigationComponent.styles = styles$4;
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], PageNavigationComponent.prototype, "disableNavigation", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], PageNavigationComponent.prototype, "sectionsContainerSelector", void 0);

    const pageNavigation_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        PageNavigationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class PaginationController {
        constructor(host) {
            this.host = host;
            this.host.addController(this);
        }
        hostUpdate() {
            this.paginate(this.host.pages);
        }
        getPrevious(pages = []) {
            return pages[this.host.current - 2];
        }
        getNext(pages = []) {
            return pages[this.host.current];
        }
        paginate(pages = []) {
            if (pages.length === 0)
                return;
            this.validate(pages);
            this.setActive(pages);
            const range = this.getRange(pages.length);
            pages.forEach((page, i) => {
                const isFirst = i === 0;
                const isLast = i === pages.length - 1;
                const isInRange = i + 1 >= range.start && i + 1 <= range.end;
                page.toggleAttribute('visible', isFirst || isInRange || isLast);
            });
            this.setTruncated(pages);
        }
        setTruncated(pages) {
            this.host.toggleAttribute('start-truncated', !pages[1]?.hasAttribute('visible'));
            this.host.toggleAttribute('end-truncated', !pages[pages.length - 2]?.hasAttribute('visible') &&
                !(this.host.max === 1 &&
                    (this.host.current === pages.length || this.host.current === 1)));
        }
        getRange(length) {
            let start = this.host.current - (this.host.max - 1) / 2;
            if (this.host.current < this.host.max) {
                start = 1;
            }
            if (this.host.current - 1 > length - this.host.max) {
                start = length - this.host.max + 1;
            }
            return {
                start,
                end: start + this.host.max - 1,
            };
        }
        setActive(pages) {
            this.host.querySelectorAll('[active]').forEach((el) => {
                el.removeAttribute('active');
                el.removeAttribute('inert');
            });
            pages[this.host.current - 1].toggleAttribute('active');
            pages[this.host.current - 1].toggleAttribute('inert');
        }
        validate(pages) {
            if (this.host.current < 1) {
                this.host.current = 1;
            }
            if (this.host.current > pages.length - 1) {
                this.host.current = pages.length;
            }
        }
    }

    const navSize = r$5('36px');
    const indentSize = r$5('5px');
    const paginationStyles = i$7 `
  :host([is-empty]) {
    display: none;
  }

  :host {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: ${indentSize};
  }

  slot[name='previous'] *,
  slot[name='next'] * {
    --oryx-icon-size: 16px;
  }

  ::slotted(*),
  *[truncated],
  a {
    height: ${navSize};
    width: ${navSize};
    align-items: center;
    justify-content: center;
  }

  ::slotted(*),
  a {
    border: 1px solid var(--oryx-color-canvas-500);
    border-radius: var(--oryx-border-radius-small);
    background: var(--oryx-color-canvas-100);
    transition: var(--oryx-transition-time);
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    text-decoration: none;
    outline: none;
  }

  ::slotted(*),
  :host > a {
    display: flex;
  }

  ::slotted(:not([visible])) {
    display: none;
  }

  ::slotted(*) {
    color: var(--oryx-color-neutral-400);
  }

  ::slotted(*[disabled]) {
    color: var(--oryx-color-neutral-300);
  }

  a {
    color: var(--oryx-color-neutral-300);
  }

  a[disabled] {
    color: var(--oryx-color-neutral-200);
  }

  slot[name='truncated'] * {
    --oryx-icon-size: 12px;

    transform: rotate(90deg);
  }

  span[truncated] {
    position: absolute;
    display: none;
  }

  :host([start-truncated]) ::slotted(*:nth-child(1)) {
    margin-inline-end: calc(${navSize} + ${indentSize});
  }

  :host([end-truncated]) ::slotted(*:last-child) {
    margin-inline-start: calc(${navSize} + ${indentSize});
  }

  :host([start-truncated]) [truncated]:first-of-type,
  :host([end-truncated]) [truncated]:last-of-type {
    display: flex;
  }

  :host([hideNavigation]) span[truncated]:first-of-type {
    inset-inline-start: calc(${navSize} + ${indentSize} + 2px);
  }

  span[truncated]:first-of-type {
    inset-inline-start: calc((${navSize} + ${indentSize} + 2px) * 2);
  }

  :host([hideNavigation]) span[truncated]:last-of-type {
    inset-inline-end: calc(${navSize} + ${indentSize} + 2px);
  }

  span[truncated]:last-of-type {
    inset-inline-end: calc((${navSize} + ${indentSize} + 2px) * 2);
  }

  ::slotted(*[start-range]) {
    margin-inline-start: calc(${navSize} + ${indentSize} + 2px);
  }

  ::slotted(*[end-range]) {
    margin-inline-end: calc(${navSize} + ${indentSize});
  }

  ::slotted(*:hover),
  a:not([truncated]):hover {
    transition: var(--oryx-transition-time);
    border-color: var(--oryx-color-neutral-200);
  }

  ::slotted(*[active]),
  ::slotted(*:active),
  ::slotted(*:focus-visible),
  a:not([truncated]):active,
  a:not([truncated]):focus-visible {
    border-color: var(--oryx-color-primary-300);
  }

  ::slotted(*[active]),
  ::slotted(*[disabled]),
  a[disabled] {
    pointer-events: none;
  }

  ::slotted(*[active]),
  ::slotted(*:active),
  a:not([truncated]):active {
    color: var(--oryx-color-canvas-100);
    background: var(--oryx-color-primary-300);
  }

  ::slotted(*:focus-visible),
  *:focus-visible {
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }

  ::slotted(*[disabled]),
  a[disabled] {
    background-color: var(--oryx-color-canvas-200);
  }

  slot[name='previous'] oryx-icon {
    transform: scaleX(-1);
  }
`;

    class PaginationComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.max = 5;
            this.current = 1;
            this.previousLabel = 'Previous page';
            this.nextLabel = 'Next page';
            this.requiresUpdate = true;
            this.controller = new PaginationController(this);
            this.isEmpty = true;
        }
        render() {
            return y `
      ${n$1(!this.hideNavigation, () => this.renderNav('previous', this.controller.getPrevious(this.pages)))}

      <slot @slotchange=${this.updatePages}></slot>

      ${n$1(!this.hideNavigation, () => this.renderNav('next', this.controller.getNext(this.pages)))}
      ${this.renderTruncated()} ${this.renderTruncated()}
    `;
        }
        renderNav(direction, nav) {
            return y `
      <a
        href=${nav?.getAttribute('href')}
        .ariaLabel=${this[`${direction}Label`]}
        @click=${(e) => this.onClick(e, nav)}
        ?disabled=${!nav}
        ?inert=${!nav}
      >
        <slot .name=${direction}>
          <oryx-icon type="navigationArrow"></oryx-icon>
        </slot>
      </a>
    `;
        }
        /**
         * Renders a truncation element for the given direction. The truncation
         * is a visual indicator that there are more available pages hidden behind
         * the truncation.
         *
         * The truncation can be customised using the _truncation_ slot.
         */
        renderTruncated() {
            return y `
      <span truncated>
        <slot name="truncated">
          <oryx-icon type="actions"></oryx-icon>
        </slot>
      </span>
    `;
        }
        onClick(event, element) {
            if (!(event.ctrlKey || event.metaKey)) {
                event.preventDefault();
                element?.click();
            }
        }
        updatePages() {
            this.isEmpty = !this.pages || this.pages?.length < 2;
            if (this.requiresUpdate) {
                this.requestUpdate();
                this.requiresUpdate = false;
            }
            this.controller.paginate(this.pages);
        }
    }
    PaginationComponent.styles = [paginationStyles];
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], PaginationComponent.prototype, "hideNavigation", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], PaginationComponent.prototype, "max", void 0);
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], PaginationComponent.prototype, "current", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], PaginationComponent.prototype, "previousLabel", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], PaginationComponent.prototype, "nextLabel", void 0);
    __decorate([
        e$2({}),
        __metadata("design:type", Array)
    ], PaginationComponent.prototype, "pages", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true, attribute: 'is-empty' }),
        __metadata("design:type", Object)
    ], PaginationComponent.prototype, "isEmpty", void 0);

    const pagination_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        PaginationComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const baseStyles$1 = i$7 `
  :host {
    display: flex;
    flex: 1 0 auto;
    min-height: 46px;
    min-width: 90px;
    border-block-end: 4px solid var(--oryx-color-canvas-500);
    color: var(--oryx-color-neutral-300);
    background: none;
    line-height: var(--oryx-line-height-base);
    padding: 0 24px;
    justify-content: center;
    align-items: center;
    text-align: center;
    white-space: nowrap;
    margin: 0;
    gap: 4px;
  }

  :host(:not([selected]):hover) {
    color: var(--oryx-color-ink);
    border-color: var(--oryx-color-neutral-400);
  }

  :host([selected]) {
    border-color: var(--oryx-color-primary-300);
    color: var(--oryx-color-primary-300);
  }

  :host([selected][error]) {
    border-color: var(--oryx-color-error-300);
    color: var(--oryx-color-error-300);
  }

  :host(:not([selected])[error]:hover) {
    color: var(--oryx-color-error-300);
    background: none;
    border-color: var(--oryx-color-neutral-400);
  }

  :host(:not([selected])[error]) {
    border-color: var(--oryx-color-canvas-500);
    color: var(--oryx-color-error-300);
  }
`;
    const mediumScreen$1 = i$7 `
  :host {
    border-width: 2px;
  }
`;
    const screenStyles$1 = [
        {
            media: mdScreen,
            css: mediumScreen$1,
        },
    ];

    const tab_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles: baseStyles$1,
        screenStyles: screenStyles$1
    }, Symbol.toStringTag, { value: 'Module' }));

    class TabComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.selected = false;
            this.error = false;
        }
        render() {
            return y `<slot></slot>`;
        }
    }
    TabComponent.styles = baseStyles$1;
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], TabComponent.prototype, "for", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], TabComponent.prototype, "selected", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], TabComponent.prototype, "error", void 0);

    const tab_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        TabComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const secondary = r$5("secondary" /* TabsAppearance.Secondary */);
    const baseStyles = i$7 `
  slot:not([name]) {
    display: flex;
    flex: 1 0 auto;
    overflow-x: auto;
    scroll-behavior: smooth;
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
    cursor: pointer;
  }

  slot:not([name])::-webkit-scrollbar {
    display: none;
  }

  :host([shadow]) slot:not([name]) {
    box-shadow: 0 4px 8px var(--oryx-color-canvas-200);
  }

  input[type='range'] {
    width: 0;
    height: 0;
    background: transparent;
    appearance: none;
    position: absolute;
  }

  input[type='range']:focus-visible + ::slotted(oryx-tab[selected]) {
    outline: solid 1px var(--oryx-color-focus);
    outline-offset: -1px;
  }

  input[type='range']::-webkit-slider-thumb {
    appearance: none;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }

  input[type='range']::-moz-range-thumb {
    border: none;
    background: none;
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab) {
    color: var(--oryx-color-ink);
    background: var(--oryx-color-canvas-200);
    border-block-start: 4px solid transparent;
    border-bottom: none;
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab:hover) {
    color: var(--oryx-color-ink);
    background: none;
    border-color: var(--oryx-color-neutral-400);
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab[selected]) {
    color: var(--oryx-color-primary-300);
    background: none;
    border-color: var(--oryx-color-primary-300);
    border-bottom: none;
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab[error]) {
    color: var(--oryx-color-error-300);
    background: var(--oryx-color-canvas-200);
    border-color: transparent;
    border-bottom: none;
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab[error]:hover) {
    color: var(--oryx-color-error-300);
    background: none;
    border-color: var(--oryx-color-neutral-400);
  }

  :host([appearance='${secondary}']) ::slotted(oryx-tab[error][selected]) {
    color: var(--oryx-color-error-300);
    background: none;
    border-color: var(--oryx-color-error-300);
    border-bottom: none;
  }

  slot[name='panels'] {
    display: flex;
  }

  slot[name='panels']::slotted(*:not([selected])) {
    display: none;
  }
`;
    const mediumScreen = i$7 `
  :host([appearance='${secondary}']) ::slotted(oryx-tab) {
    border-width: 2px;
  }
`;
    const screenStyles = [
        {
            media: mdScreen,
            css: mediumScreen,
        },
    ];

    const tabs_styles = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        baseStyles,
        screenStyles
    }, Symbol.toStringTag, { value: 'Module' }));

    class TabsComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.activeTabIndex = 0;
            this.appearance = "primary" /* TabsAppearance.Primary */;
            this.shadow = false;
        }
        render() {
            return y `
      <input
        type="range"
        aria-label="tabs"
        min="1"
        @change=${this.onChange}
        value="${l$1(this.rangeValue)}"
        .max=${(this.tabs.length ?? 0).toString()}
      />
      <slot @click=${this.onClick} @slotchange=${this.onSlotChange}></slot>
      <slot name="panels"></slot>
    `;
        }
        select(tab) {
            if (!tab) {
                return;
            }
            this.tabs?.forEach((t, index) => {
                t.selected = t === tab;
                if (t.selected) {
                    this.rangeValue = index + 1;
                }
            });
            if (tab.hasAttribute('for')) {
                this.panels?.forEach((panel) => panel.toggleAttribute('selected', panel.id === tab.getAttribute('for')));
            }
            else {
                const tabIndex = this.tabs?.indexOf(tab);
                this.panels?.forEach((panel, index) => panel.toggleAttribute('selected', tabIndex === index));
            }
            tab.scrollIntoView({ block: 'nearest' });
        }
        onSlotChange() {
            const tab = this.tabs?.find((tab) => tab.selected) ||
                this.tabs?.[this.activeTabIndex];
            this.select(tab);
        }
        onClick(e) {
            const tab = e.target.closest('oryx-tab');
            this.select(tab);
        }
        onChange(e) {
            const target = e.target;
            const tab = this.tabs?.[Number(target.value) - 1];
            this.select(tab);
        }
    }
    TabsComponent.styles = baseStyles;
    __decorate([
        e$3({ type: Number }),
        __metadata("design:type", Object)
    ], TabsComponent.prototype, "activeTabIndex", void 0);
    __decorate([
        e$3({ type: String, reflect: true }),
        __metadata("design:type", Object)
    ], TabsComponent.prototype, "appearance", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], TabsComponent.prototype, "shadow", void 0);
    __decorate([
        e$2({ selector: 'oryx-tab' }),
        __metadata("design:type", Array)
    ], TabsComponent.prototype, "tabs", void 0);
    __decorate([
        e$2({ slot: 'panels' }),
        __metadata("design:type", Array)
    ], TabsComponent.prototype, "panels", void 0);
    __decorate([
        t$1(),
        __metadata("design:type", Number)
    ], TabsComponent.prototype, "rangeValue", void 0);

    const tabs_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        TabsComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const optionStyles = i$7 `
  :host([hidden]) {
    display: none;
  }

  :host {
    display: flex;
    align-items: center;
    gap: 12px;
    height: 42px;
    box-sizing: border-box;
    padding: 9px 13px;
    list-style: none;
    border: solid 1px transparent;
    border-radius: var(--oryx-border-radius-small);
    outline: none;
    transition: background var(--oryx-transition-time-medium);
    cursor: pointer;
  }

  oryx-icon.mark {
    --oryx-icon-size: var(--oryx-icon-size-small);

    display: none;
    color: var(--oryx-color-primary-300);
    margin-inline-start: auto;
  }

  :host([selected]) oryx-icon {
    display: flex;
  }

  :host(:hover),
  :host([highlight]) {
    background-color: var(--oryx-color-canvas-200);
  }

  :host([selected]) {
    background-color: var(--oryx-color-primary-100);
  }

  :host(:not([selected]):active) {
    background-color: var(--oryx-color-canvas-100);
  }

  :host(:active) {
    border-color: var(--oryx-color-primary-300);
    box-shadow: var(--oryx-elevation-0) var(--oryx-color-primary-300);
    transition: box-shadow, border;
    transition-duration: var(--oryx-transition-time);
  }

  :host([hide]) {
    padding: 0;
    max-height: 0;
    overflow: hidden;
    border: 0;
  }

  slot:not([name]) {
    display: inline;
  }

  ::slotted(mark),
  mark {
    background-color: transparent;
    color: var(--oryx-color-primary-300);
    display: inline;
  }
`;

    class OptionComponent extends s$5 {
        render() {
            return y ` ${n$1(!!this.icon, () => y `<oryx-icon .type=${this.icon}></oryx-icon>`)}
      <slot>${this.value}</slot>
      <oryx-icon class="mark" type="mark"></oryx-icon>`;
        }
        get value() {
            return this._value ?? this.innerText;
        }
        set value(value) {
            this._value = value;
        }
    }
    OptionComponent.styles = [optionStyles];
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], OptionComponent.prototype, "icon", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], OptionComponent.prototype, "selected", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], OptionComponent.prototype, "hide", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], OptionComponent.prototype, "value", null);

    const option_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        OptionComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var DrawerType;
    (function (DrawerType) {
        DrawerType["PRIMARY"] = "primary";
        DrawerType["SECONDARY"] = "secondary";
    })(DrawerType || (DrawerType = {}));

    const drawerBaseStyles = i$7 `
  dialog {
    all: unset;
    position: fixed;
    inset: auto;
    top: 0;
    height: 100%;
    width: var(--oryx-aside-width, 50%);
    transform: scaleX(var(--oryx-aside-visible, 0));
    transform-origin: left top;
    pointer-events: none;
    overscroll-behavior: none;
    box-sizing: border-box;
    outline: none;
    z-index: inherit;
  }

  form {
    display: flex;
    height: 100%;
    width: 100%;
  }

  slot {
    display: block;
    position: relative;
    width: 100%;
    pointer-events: auto;
    overflow: auto;
    overscroll-behavior: contain;
  }

  dialog[open] {
    --oryx-aside-visible: 1;
  }

  :host(:not([position='${r$5(Position$1.END)}'])) dialog {
    inset-inline-start: 0;
  }

  :host([position='${r$5(Position$1.END)}']) dialog {
    inset-inline-end: 0;
    transform-origin: right top;
  }

  :host(:not([position='${r$5(Position$1.END)}'])) nav {
    order: 1;
  }

  :host([position='${r$5(Position$1.END)}']) dialog::before {
    inset-inline-start: auto;
    inset-inline-end: 0;
  }

  :host([maximize]) {
    --oryx-aside-width: 100%;
  }
`;
    const panelBaseStyles = i$7 `
  nav {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
  }

  button {
    all: unset;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  nav > * {
    margin-bottom: 5px;
  }
`;

    const drawerStyles = i$7 `
  :host(:not([not-closable][not-resizable])) {
    --_drawer-panel-size: 48px;
  }

  dialog {
    transition-property: transform, width;
    transition-duration: var(--oryx-transition-time);
  }

  dialog::before {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    width: calc(100% - var(--_drawer-panel-size, 0px));
    height: 100%;
    z-index: 0;
    box-shadow: var(--oryx-elevation-3) var(--oryx-elevation-color-2);
    background: var(--oryx-color-canvas-200);
  }

  :host([type='${r$5(DrawerType.SECONDARY)}']) dialog::before {
    background: var(--oryx-color-canvas-100);
  }
`;
    const panelStyles = i$7 `
  nav {
    --oryx-icon-size: var(--oryx-icon-size-small);

    padding-top: 20px;
  }

  button {
    width: var(--_drawer-panel-size);
    height: var(--_drawer-panel-size);
    background: var(--oryx-color-canvas-100);
    color: var(--oryx-color-neutral-300);
    transition: color, background var(--oryx-transition-time);
    box-sizing: border-box;
  }

  button:hover {
    color: var(--oryx-color-canvas-100);
    background: var(--oryx-color-primary-300);
  }

  button:is(:focus-visible, :focus) {
    border: 1px solid var(--oryx-color-primary-300);
  }

  button::before {
    content: '';
    position: absolute;
    z-index: -1;
    inset: 0;
    box-shadow: var(--oryx-elevation-3) var(--oryx-elevation-color-2);
  }

  :host(:not([position='${r$5(Position$1.END)}'])) button,
  :host(:not([position='${r$5(Position$1.END)}'])) button::before {
    border-start-end-radius: var(--oryx-border-radius);
    border-end-end-radius: var(--oryx-border-radius);
  }

  :host([position='${r$5(Position$1.END)}']) button,
  :host([position='${r$5(Position$1.END)}']) button::before {
    border-start-start-radius: var(--oryx-border-radius);
    border-end-start-radius: var(--oryx-border-radius);
  }
`;

    class DrawerComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.notClosable = false;
            this.open = false;
            this.notResizable = false;
            this.navAriaLabel = 'drawer navigation';
            this.closeButtonAriaLabel = 'close the drawer';
            this.minimizeButtonAriaLabel = 'minimize the drawer';
            this.maximizeButtonAriaLabel = 'maximize the drawer';
        }
        get dialog() {
            return this.shadowRoot?.querySelector('dialog');
        }
        renderTemplate() {
            return y `
      <nav aria-label=${this.navAriaLabel}>
        ${n$1(!this.notClosable, () => y `
            <button value="cancel" aria-label=${this.closeButtonAriaLabel}>
              <oryx-icon type="close"></oryx-icon>
            </button>
          `)}
        ${n$1(!this.notResizable, () => y `
            <button
              aria-label="${this.maximize
            ? this.minimizeButtonAriaLabel
            : this.maximizeButtonAriaLabel}"
              type="button"
              @click=${() => this.resize()}
            >
              <oryx-icon
                type="${this.maximize ? 'minimize' : 'maximize'}"
              ></oryx-icon>
            </button>
          `)}
      </nav>
      <slot></slot>
    `;
        }
        render() {
            return y `
      <dialog ?open=${this.open} @submit=${this.handleSubmit} tabindex="-1">
        <form method="dialog">${this.renderTemplate()}</form>
      </dialog>
    `;
        }
        resize(force) {
            this.maximize = force ?? !this.maximize;
        }
        handleSubmit(e) {
            e.preventDefault();
            const prevented = !this.dispatchEvent(new CustomEvent('beforeclose', {
                cancelable: true,
                bubbles: true,
                composed: true,
            }));
            if (!prevented) {
                this.dialog?.close();
                this.open = false;
                this.resize(false);
            }
        }
    }
    DrawerComponent.styles = [
        drawerBaseStyles,
        panelBaseStyles,
        drawerStyles,
        panelStyles,
    ];
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], DrawerComponent.prototype, "type", void 0);
    __decorate([
        e$3({ reflect: true }),
        __metadata("design:type", String)
    ], DrawerComponent.prototype, "position", void 0);
    __decorate([
        e$3({ type: Boolean, attribute: 'not-closable' }),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "notClosable", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "open", void 0);
    __decorate([
        e$3({ type: Boolean, attribute: 'not-resizable' }),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "notResizable", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], DrawerComponent.prototype, "maximize", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "navAriaLabel", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "closeButtonAriaLabel", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "minimizeButtonAriaLabel", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DrawerComponent.prototype, "maximizeButtonAriaLabel", void 0);

    const drawer_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        DrawerComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const drawerNDSStyles = i$7 `
  dialog {
    display: flex;
  }
`;

    class NDSDrawerComponent extends DrawerComponent {
        show() {
            this.setAttribute('open', 'open');
            this.focusControlButton();
        }
        close() {
            this.removeAttribute('open');
            this.resize(false);
        }
        // eslint-disable-next-line @typescript-eslint/ban-ts-comment
        // @ts-ignore
        get dialog() {
            return {
                open: this.open,
                show: () => this.show(),
                close: () => this.close(),
                showModal() {
                    return;
                },
            };
        }
        get dialogElement() {
            return this.shadowRoot?.querySelector('[role="dialog"]');
        }
        get closeButtonElement() {
            return this.shadowRoot?.querySelector('button[value="cancel"]');
        }
        focusControlButton() {
            this.shadowRoot?.querySelector('nav button')?.focus();
        }
        render() {
            return y `
      <dialog
        ?open=${this.open}
        @click=${(e) => this.handleClick(e)}
        role="dialog"
        aria-modal="true"
        tabindex="-1"
      >
        ${super.renderTemplate()}
      </dialog>
    `;
        }
        handleClick(e) {
            if (e.target === this.closeButtonElement) {
                this.close();
            }
        }
    }
    NDSDrawerComponent.styles = [...DrawerComponent.styles, drawerNDSStyles];

    const drawer_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        NDSDrawerComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    var Position;
    (function (Position) {
        Position["START"] = "start";
        Position["CENTER"] = "center";
        Position["END"] = "end";
    })(Position || (Position = {}));

    const dropdownBaseStyles = i$7 `
  :host {
    --oryx-popover-vertical-offset: 10px;
    --oryx-popover-maxwidth: 206px;

    position: relative;
    display: inline-flex;
  }

  oryx-popover {
    --_oryx-dropdown-start-offset: 100%;
    --_oryx-dropdown-width: min(
      max(
        var(--_available-popover-width-start, var(--oryx-popover-maxwidth)),
        var(--_available-popover-width-end, var(--oryx-popover-maxwidth))
      ),
      var(--oryx-popover-maxwidth)
    );

    overflow: auto;
    max-height: min(
      calc(
        var(--_available-popover-height, ${r$5(POPOVER_HEIGHT)}px) +
          var(--_bounding-element-height, 0)
      ),
      var(--oryx-popover-maxheight, ${r$5(POPOVER_HEIGHT)}px)
    );
    width: var(--_oryx-dropdown-width);
    top: 0;
    inset-inline: var(--_oryx-dropdown-start-offset, auto)
      var(--_oryx-dropdown-end-offset, auto);
    transform-origin: var(--_dropdown-origin-x, left)
      var(--_dropdown-origin-y, top);
    transform: scaleX(var(--oryx-popover-visible, 0))
      scaleY(var(--oryx-popover-visible, 0));
  }

  slot[name='trigger'] {
    cursor: pointer;
  }

  :host([start]:not([rtl])),
  :host([end][rtl]),
  :host([rtl]:not([position=${r$5(Position.START)}]):not([start])),
  :host([position=${r$5(Position.START)}]) {
    --_dropdown-origin-x: right;
  }

  :host([end]:not([rtl])),
  :host([start][rtl]),
  :host([rtl][position=${r$5(Position.START)}]:not([end])),
  :host(:not([position=${r$5(Position.START)}])) {
    --_dropdown-origin-x: left;
  }

  :host(:not([up])) {
    --_dropdown-origin-y: top;
  }

  :host([up]) {
    --_dropdown-origin-y: bottom;
  }

  :host([start]:not([vertical-align])) oryx-popover,
  :host(
    [position=${r$5(Position.START)}]:not([vertical-align]):not([end])
  ) oryx-popover {
    --_oryx-dropdown-start-offset: auto;
    --_oryx-dropdown-end-offset: 100%;
  }

  :host([up]:not([vertical-align])) oryx-popover {
    top: auto;
    bottom: 0;
  }

  :host([vertical-align]:not([up])) oryx-popover {
    top: 100%;
  }

  :host([vertical-align][up]) oryx-popover {
    top: auto;
    bottom: 100%;
  }

  :host([vertical-align]) oryx-popover {
    --_oryx-dropdown-width: min(
      calc(
        var(--_available-popover-width-start) +
          var(--_available-popover-width-end) +
          var(--_bounding-element-width, 0)
      ),
      calc(var(--oryx-popover-maxwidth) + var(--_bounding-element-width, 0))
    );

    max-height: min(
      var(--_available-popover-height, ${r$5(POPOVER_HEIGHT)}px),
      var(--oryx-popover-maxheight, ${r$5(POPOVER_HEIGHT)}px)
    );
  }

  :host([vertical-align][position=${r$5(Position.END)}]) oryx-popover,
  :host(
    [vertical-align][position=${r$5(Position.START)}][end]
  ) oryx-popover {
    --_oryx-dropdown-start-offset: min(
      calc(
        var(--_available-popover-width-end) + var(--_bounding-element-width) -
          var(--_oryx-dropdown-width)
      ),
      0px
    );
    --_oryx-dropdown-end-offset: auto;
  }

  :host(
    [vertical-align][position=${r$5(Position.START)}]
  ) oryx-popover,
  :host(
    [vertical-align][start]:not([position])
  ) oryx-popover,
  :host(
    [vertical-align][start][position=${r$5(Position.END)}]
  ) oryx-popover {
    --_oryx-dropdown-start-offset: auto;
    --_oryx-dropdown-end-offset: min(
      calc(
        var(--_available-popover-width-start) + var(--_bounding-element-width) -
          var(--_oryx-dropdown-width)
      ),
      0px
    );
  }

  :host([vertical-align][position=${r$5(Position.CENTER)}]) oryx-popover {
    --_dropdown-origin-x: center;
  }

  :host(
    [vertical-align][position=${r$5(Position.CENTER)}]:not([start])
  ) oryx-popover {
    --_oryx-dropdown-start-offset: max(
      calc(
        (var(--_oryx-dropdown-width) - var(--_bounding-element-width, 0)) / -2
      ),
      calc(var(--_available-popover-width-start) * -1)
    );
    --_oryx-dropdown-end-offset: auto;
  }

  :host(
    [vertical-align][position=${r$5(Position.CENTER)}][start]
  ) oryx-popover {
    --_oryx-dropdown-start-offset: auto;
    --_oryx-dropdown-end-offset: max(
      calc(
        (var(--_oryx-dropdown-width) - var(--_bounding-element-width, 0)) / -2
      ),
      calc(var(--_available-popover-width-end) * -1)
    );
  }
`;

    const dropdownStyles = i$7 `
  :host([open]) slot[name='trigger'] oryx-icon-button :is(a, button) {
    border-color: var(--oryx-color-neutral-200);
    background: var(--oryx-color-canvas-200);
  }
`;

    class DropdownComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.controller = new PopoverController(this, {
                boundingElement: this,
            });
            this.open = false;
            this.triggerIconSize = Size.medium;
            //translation
            this.toggleButtonAriaLabel = 'Toggle dropdown';
        }
        render() {
            return y `
      <slot name="trigger">
        <oryx-icon-button .size=${this.triggerIconSize}>
          <button aria-label=${this.toggleButtonAriaLabel}>
            <slot name="icon"><oryx-icon type="actions"></oryx-icon></slot>
          </button>
        </oryx-icon-button>
      </slot>

      <oryx-popover
        ?show=${this.open}
        @oryx.close=${() => this.onClose()}
        ?inert=${!this.open}
      >
        <slot></slot>
      </oryx-popover>
    `;
        }
        get trigger() {
            return this.renderRoot?.querySelector('slot[name="trigger"]');
        }
        /**
         * Restoring focus on the trigger when dropdown is closing
         */
        onClose() {
            if (this.matches(':focus-within') &&
                !this.trigger?.matches(':focus-within')) {
                queryFirstFocusable(this.trigger)?.focus();
            }
        }
    }
    DropdownComponent.styles = [dropdownBaseStyles, dropdownStyles];
    __decorate([
        e$3({ reflect: true, type: Boolean }),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "open", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], DropdownComponent.prototype, "position", void 0);
    __decorate([
        e$3({ type: Boolean, attribute: 'vertical-align' }),
        __metadata("design:type", Boolean)
    ], DropdownComponent.prototype, "verticalAlign", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "triggerIconSize", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "toggleButtonAriaLabel", void 0);

    const dropdown_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        DropdownComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const fullscreenModalStyles = i$7 `
  :host([fullscreen]) dialog {
    width: 100%;
    max-width: 100%;
    max-height: 100vh;
  }

  :host([fullscreen]) oryx-card {
    --oryx-card-border-radius: 0;

    height: 100vh;
    max-height: 100vh;
  }

  :host([fullscreen]) oryx-card::part(body) {
    height: 100%;
  }
`;

    const styles$3 = i$7 `
  dialog {
    overscroll-behavior: none;
    padding: 0;
    border: none;
    background: transparent;
    min-width: var(--oryx-modal-min-width);
    max-width: calc(100% - 60px);
  }

  oryx-card {
    max-height: calc(100vh - 60px);
    display: flex;
    flex-direction: column;
  }

  dialog::backdrop {
    background: rgba(0 0 0 / 50%);
  }

  div[slot='footer'] {
    width: 100%;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
  }

  oryx-card::part(body) {
    overflow: auto;
  }
`;

    class ModalComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.backdropTargetTag = 'dialog';
            this.closeEvent = 'oryx.close';
        }
        requestUpdate(name, oldValue) {
            if (name === 'isOpen' && this.isOpen !== oldValue) {
                this.setDialogState();
            }
            super.requestUpdate(name, oldValue);
        }
        firstUpdated(_changedProperties) {
            super.firstUpdated(_changedProperties);
            this.setDialogState();
        }
        setDialogState() {
            if (this.isOpen) {
                this.dialog?.showModal?.();
            }
            else {
                this.dialog?.close?.();
            }
        }
        emitCloseEvent() {
            this.dispatchEvent(new CustomEvent(this.closeEvent, {
                bubbles: true,
                composed: true,
            }));
        }
        close() {
            this.emitCloseEvent();
            this.removeAttribute('open');
        }
        open() {
            this.toggleAttribute('open');
        }
        backdropClickHandler(e) {
            e.stopPropagation();
            if (this.disableCloseOnBackdrop) {
                return;
            }
            const target = e.composedPath()[0];
            if (target.tagName.toLowerCase() === this.backdropTargetTag) {
                this.close();
            }
        }
        cancelEventHandler(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            if (!this.disableCloseOnEscape) {
                this.close();
            }
        }
        get dialog() {
            return this.shadowRoot?.querySelector('dialog');
        }
        render() {
            return y `
      <dialog
        @click="${(e) => this.backdropClickHandler(e)}"
        @cancel=${(e) => this.cancelEventHandler(e)}
        @close=${this.close}
      >
        <form method="dialog">
          <oryx-card>
            <slot name="header" slot="header"> ${this.header} </slot>
            <slot></slot>
            <div slot="footer">
              <slot name="footer">
                <oryx-button type="secondary" outline size="small">
                  <button value="cancel">Cancel</button>
                </oryx-button>
              </slot>
            </div>
          </oryx-card>
        </form>
      </dialog>
    `;
        }
    }
    ModalComponent.styles = [styles$3, fullscreenModalStyles];
    __decorate([
        e$3({ type: Boolean, attribute: 'open' }),
        __metadata("design:type", Boolean)
    ], ModalComponent.prototype, "isOpen", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], ModalComponent.prototype, "fullscreen", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], ModalComponent.prototype, "header", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], ModalComponent.prototype, "disableCloseOnEscape", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], ModalComponent.prototype, "disableCloseOnBackdrop", void 0);

    const modal_component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        ModalComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const NDSStyles = i$7 `
  :host {
    display: none;
  }

  :host([open]) {
    display: flex;
    align-items: center;
    position: fixed;
    z-index: 999;
    inset-inline-start: 0;
    top: 0;
    width: 100%;
    max-height: 100vh;
    height: 100vh;
    overflow: none;
    background-color: var(--oryx-modal-background-color);
  }

  dialog {
    overscroll-behavior: none;
    padding: 0;
    border: none;
    margin: 0 auto;
    background: transparent;
    min-width: var(--oryx-modal-min-width);
    max-width: calc(100% - 60px);
  }

  oryx-card {
    max-height: calc(100vh - 60px);
    display: flex;
    flex-direction: column;
  }

  oryx-card::part(body) {
    overflow: auto;
  }

  div[slot='footer'] {
    width: 100%;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
  }
`;

    class NDSModalComponent extends ModalComponent {
        constructor() {
            super(...arguments);
            this.backdropTargetTag = this.tagName.toLowerCase();
            this.keyDownHandler = (e) => {
                e.preventDefault();
                if (e.key === 'Escape' && !this.disableCloseOnEscape) {
                    this.close();
                }
            };
        }
        setDialogState() {
            if (this.isOpen) {
                window.addEventListener('keydown', this.keyDownHandler);
                this.addEventListener('click', this.backdropClickHandler);
            }
            else {
                this.onDestroy();
            }
        }
        onDestroy() {
            window.removeEventListener('keydown', this.keyDownHandler);
            this.removeEventListener('click', this.backdropClickHandler);
        }
        disconnectedCallback() {
            super.disconnectedCallback();
            this.onDestroy();
        }
        render() {
            return y `
      <dialog role="dialog" aria-modal="true">
        <oryx-card>
          <slot name="header" slot="header"> ${this.header} </slot>
          <slot></slot>
          <div slot="footer">
            <slot name="footer">
              <oryx-button
                type="secondary"
                outline
                size="small"
                @click=${this.close}
              >
                <button value="cancel">Cancel</button>
              </oryx-button>
            </slot>
          </div>
        </oryx-card>
      </dialog>
    `;
        }
    }
    NDSModalComponent.styles = [NDSStyles, fullscreenModalStyles];

    const modal_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        NDSModalComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    class SearchboxComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.formControlController = new FormControlController(this);
            this.searchController = new SearchboxController(this);
        }
        render() {
            return y `
      ${this.formControlController.render({
            before: this.searchController.renderPrefix(),
            after: this.searchController.renderSuffix(),
        })}
    `;
        }
    }
    SearchboxComponent.styles = baseStyles$7;
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "label", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "errorMessage", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SearchboxComponent.prototype, "hasError", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "prefixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SearchboxComponent.prototype, "prefixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "suffixIcon", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], SearchboxComponent.prototype, "suffixFill", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "searchIcon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "searchIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "clearIcon", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "clearIconPosition", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], SearchboxComponent.prototype, "clearIconAppearance", void 0);

    const searchbox_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        SearchboxComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const headlineStyles = i$7 `
  :host {
    display: block;
  }

  ::slotted(h1),
  ::slotted(h2),
  ::slotted(h3),
  ::slotted(h4),
  ::slotted(h5),
  ::slotted(h6) {
    margin-block: 0;
  }

  ::slotted(h1) {
    font-size: var(--oryx-font-size-h1);
    line-height: var(--oryx-line-height-h1);
    font-weight: var(--oryx-font-weight-semibold);
  }

  ::slotted(h2) {
    font-size: var(--oryx-font-size-h2);
    line-height: var(--oryx-line-height-h2);
    font-weight: var(--oryx-font-weight-semibold);
  }

  ::slotted(h3) {
    font-size: var(--oryx-font-size-h3);
    line-height: var(--oryx-line-height-h3);
    font-weight: var(--oryx-font-weight-medium);
  }

  ::slotted(h4) {
    font-size: var(--oryx-font-size-h4);
    line-height: var(--oryx-line-height-h4);
    font-weight: var(--oryx-font-weight-medium);
  }

  ::slotted(h5) {
    font-size: var(--oryx-font-size-h5);
    line-height: var(--oryx-line-height-h5);
    font-weight: var(--oryx-font-weight-semibold);
  }

  ::slotted(h6) {
    font-size: var(--oryx-font-size-h6);
    line-height: var(--oryx-line-height-h6);
    font-weight: var(--oryx-font-weight-medium);
  }
`;

    class HeadlineComponent extends s$5 {
        render() {
            return y `<slot></slot>`;
        }
    }
    HeadlineComponent.styles = headlineStyles;

    const headline_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        HeadlineComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const truncateFix = async (host) => {
        const container = host.shadowRoot?.querySelector('div > *');
        const lineClampValue = Number(getComputedStyle(host).getPropertyValue('--line-clamp'));
        if (container && lineClampValue > 0) {
            const lineHeight = container.style.lineHeight;
            const factor = 1000;
            container.style.lineHeight = `${factor}px`;
            const height = container.getBoundingClientRect().height;
            container.style.lineHeight = lineHeight;
            const linesCount = Math.floor(height / factor);
            host.style.setProperty('--lines-count', String(linesCount));
            if (linesCount <= lineClampValue) {
                return;
            }
            const isDefaultExpanded = host.hasAttribute('defaultExpanded');
            host.toggleAttribute('truncated', !isDefaultExpanded);
            host.toggleAttribute('truncation', true);
        }
    };

    const textStyles = i$7 `
  :host {
    --_text-line-clamp: var(--line-clamp, 0);

    display: flex;
    flex-direction: column;
  }

  ::slotted(p) {
    margin-top: 0;
    transition: margin-bottom 0.8s cubic-bezier(0, 1, 0, 1);
  }

  :host([truncation]) div {
    overflow: hidden;
  }

  :host([truncation][truncated]) ::slotted(p) {
    display: inline;
  }

  :host([truncation][truncated]) ::slotted(p)::after {
    content: ' ';
  }

  :host([truncation][truncated]) div {
    max-height: calc(var(--_text-line-clamp) * var(--oryx-line-height, 24px));
    transition: max-height var(--oryx-transition-time) cubic-bezier(0, 1, 0, 1);
  }

  :host(:not([truncated])) div {
    max-height: calc(
      var(--lines-count, 100rem) * var(--oryx-line-height, 24px)
    );
    transition: max-height var(--oryx-transition-time) ease-out;
  }

  slot:not([name]) {
    display: block;
  }

  :host([truncated]) slot:not([name]) {
    /* stylelint-disable-next-line */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: var(--_text-line-clamp);
    line-clamp: var(--_text-line-clamp);
    text-overflow: ellipsis;
    overflow: hidden;
  }

  :host([initialized][truncated]) slot:not([name]) {
    animation: close 0.1s ease 0.1s forwards;
    -webkit-line-clamp: initial;
    line-clamp: initial;
  }

  /* stylelint-disable-next-line */
  @media (min-resolution: 0.001dpcm) {
    @supports (-webkit-appearance: none) and (stroke-color: transparent) {
      :host([initialized][truncated]) slot:not([name]) {
        /* this won't function on safari */
        -webkit-line-clamp: var(--_text-line-clamp);
      }
    }
  }

  :host(:not([truncated])) {
    animation: open 0.1s ease 0s forwards;
  }

  oryx-icon-button {
    display: inline-flex;
    align-self: center;
    margin: 10px 0;
    transition: transform var(--oryx-transition-time-long) ease-in-out;
    color: var(--oryx-color-primary-300);
  }

  :host(:not([truncated])) oryx-icon-button {
    transform: rotate(180deg);
  }

  /* FF won't render line-clamp properly wen there's not wrapping block element surrounding 
   * various child elements. This breaks Safari, hence we limit this behaviour only to FF. */
  @supports (-moz-appearance: none) {
    slot:not([name]) {
      display: block;
    }
  }

  :host(:not([truncation])) slot[name='toggle'] {
    display: none;
  }

  @keyframes open {
    from {
      line-clamp: var(--_text-line-clamp);
      -webkit-line-clamp: var(--_text-line-clamp);
    }
    to {
      line-clamp: initial;
      -webkit-line-clamp: initial;
    }
  }

  @keyframes close {
    from {
      line-clamp: initial;
      -webkit-line-clamp: initial;
    }
    to {
      line-clamp: var(--_text-line-clamp);
      -webkit-line-clamp: var(--_text-line-clamp);
    }
  }
`;

    class TextComponent extends s$5 {
        constructor() {
            super(...arguments);
            this.hideToggle = false;
            this.truncated = false;
            this.truncation = false;
            this.readMoreLabel = 'Read more';
            this.containerRef = e();
        }
        disconnectedCallback() {
            this.resizeObserver?.disconnect();
            super.disconnectedCallback();
        }
        get container() {
            return this.containerRef?.value;
        }
        get shouldBeTruncated() {
            return !!Number(getComputedStyle(this).getPropertyValue('--line-clamp'));
        }
        render() {
            return n$7 `
      <div ${n(this.containerRef)}>
        <slot @slotchange=${this.setup.bind(this)}></slot>
      </div>
      ${n$1(!this.hideToggle, () => n$7 ` <slot name="toggle">
          <oryx-icon-button size="small">
            <button aria-label=${this.readMoreLabel} @click="${this.toggle}">
              <oryx-icon type="dropdown"></oryx-icon>
            </button>
          </oryx-icon-button>
        </slot>`)}
      ${prehydrate(truncateFix, 'oryx-text')}
    `;
        }
        setup() {
            if (!this.shouldBeTruncated) {
                return;
            }
            this.truncation = true;
            this.truncated = !this.defaultExpanded;
            this.resizeObserver = new ResizeObserver(throttle(() => window.requestAnimationFrame(this.onResize.bind(this)), 100));
            this.resizeObserver.observe(this.container);
        }
        onResize() {
            if (!this.shouldBeTruncated) {
                this.truncation = false;
            }
            const linesCount = this.calcLinesCount(this.container.children[0]);
            this.style.setProperty('--lines-count', String(linesCount));
        }
        toggle() {
            this.toggleAttribute('initialized', true);
            this.truncated = !this.truncated;
        }
        calcLinesCount(element) {
            const lineHeight = element.style.lineHeight;
            const factor = 1000;
            element.style.lineHeight = `${factor}px`;
            const height = element.getBoundingClientRect().height;
            element.style.lineHeight = lineHeight;
            return Math.floor(height / factor);
        }
    }
    TextComponent.styles = textStyles;
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Object)
    ], TextComponent.prototype, "hideToggle", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], TextComponent.prototype, "truncated", void 0);
    __decorate([
        e$3({ type: Boolean }),
        __metadata("design:type", Boolean)
    ], TextComponent.prototype, "defaultExpanded", void 0);
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Object)
    ], TextComponent.prototype, "truncation", void 0);
    __decorate([
        e$3(),
        __metadata("design:type", Object)
    ], TextComponent.prototype, "readMoreLabel", void 0);

    const text_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        TextComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const tileStyles = i$7 `
  ::slotted(*) {
    display: block;
    padding: var(--oryx-tile-padding, 20px);
    outline: none;
    border: var(--oryx-border-thin) solid var(--oryx-color-canvas-500);
    box-sizing: border-box;
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color);
    border-radius: var(--oryx-border-radius-small);
    background-color: var(--oryx-color-canvas-100);
    transition: var(--oryx-transition-time);
  }

  ::slotted(*:active) {
    border-color: var(--oryx-color-primary-400);
  }

  ::slotted(*:hover:not(:active)) {
    border-color: var(--oryx-color-neutral-200);
    box-shadow: var(--oryx-elevation-1) var(--oryx-elevation-color);
  }

  ::slotted(*:focus-visible) {
    border-color: var(--oryx-color-primary-300);
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }

  :host([selected]) ::slotted(*) {
    border-width: 2px;
    padding: calc(var(--oryx-tile-padding, 20px) - 1px);
    border: var(--oryx-border-thick) solid var(--oryx-color-primary-300);
    box-shadow: var(--oryx-elevation-0) var(--oryx-elevation-color);
  }

  :host([selected]) ::slotted(*:hover) {
    box-shadow: var(--oryx-elevation-1) var(--oryx-elevation-color);
  }

  :host([selected]) ::slotted(*:focus-visible) {
    box-shadow: 0 0 3px var(--oryx-color-primary-300);
  }
`;

    class TileComponent extends s$5 {
        render() {
            return y `<slot></slot>`;
        }
    }
    TileComponent.styles = tileStyles;
    __decorate([
        e$3({ type: Boolean, reflect: true }),
        __metadata("design:type", Boolean)
    ], TileComponent.prototype, "selected", void 0);

    const tile_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        TileComponent
    }, Symbol.toStringTag, { value: 'Module' }));

    const styles$2 = i$7 `
  :host {
    --oryx-layout-gap: 10px;
  }

  form {
    display: flex;
    flex-wrap: wrap;
    gap: var(--oryx-layout-gap);
  }
`;

    let AddressFormComponent = class AddressFormComponent extends FormComponentMixin() {
        constructor() {
            super(...arguments);
            this.fieldRenderer = resolve(FormRenderer);
            this.countryService = resolve(CountryService);
            this.formService = resolve(AddressFormService);
            this.addressService = resolve(AddressService);
            this.country$ = new cjs.BehaviorSubject(this.country);
            this.activeCountry$ = this.country$.pipe(cjs.switchMap((country) => country
                ? cjs.of(country)
                : this.countryService.getAll().pipe(cjs.switchMap((countries) => countries.length === 1
                    ? cjs.of(countries[0].iso2Code)
                    : this.addressService.getCurrentAddress().pipe(cjs.map((address) => {
                        return address?.iso2Code ?? countries[0].iso2Code;
                    }))))));
            this.data$ = cjs.combineLatest([
                this.countryService.getAll(),
                this.activeCountry$,
            ]);
            this.form$ = this.activeCountry$.pipe(cjs.switchMap((country) => country
                ? this.formService
                    .getForm({ country })
                    .pipe(cjs.map((form) => form?.data?.options))
                : cjs.of([])));
        }
        render() {
            return y `<form>
      ${asyncValue(this.data$, ([countries, currentCountry]) => y `
          ${countries.length > 1
            ? y `<oryx-select class="w100" label="Country *">
                <select
                  name="country"
                  .value=${currentCountry}
                  @change=${this.onCountryChange}
                >
                  ${countries.map((country) => {
                return y `<option
                      value=${country.iso2Code}
                      ?selected=${country.iso2Code === currentCountry}
                    >
                      ${country.name}
                    </option>`;
            })}
                </select>
              </oryx-select>`
            : y ``}
        `)}
      ${asyncValue(this.form$, (form) => form ? this.fieldRenderer.buildForm(form) : y ``)}
    </form>`;
        }
        onCountryChange(e) {
            const select = e.target;
            this.country = select.options[select.selectedIndex].value;
            this.countryService.set(this.country);
        }
    };
    AddressFormComponent.styles = [styles$2, formStyles];
    __decorate([
        e$3(),
        __metadata("design:type", String)
    ], AddressFormComponent.prototype, "country", void 0);
    __decorate([
        observe(),
        __metadata("design:type", Object)
    ], AddressFormComponent.prototype, "country$", void 0);
    AddressFormComponent = __decorate([
        hydratable(['mouseover', 'focusin'])
    ], AddressFormComponent);

    const addressForm_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get AddressFormComponent () { return AddressFormComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const ADDRESS_CHANGE_EVENT = 'oryx.address-change';
    var AddressType;
    (function (AddressType) {
        AddressType["Shipping"] = "shipping";
        AddressType["Billing"] = "billing";
    })(AddressType || (AddressType = {}));

    const styles$1 = i$7 `
  :host {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }

  .details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
  }

  .controls {
    display: flex;
    width: 100%;
    margin: 0 -3px;
  }

  .controls.selectable {
    padding-inline-start: 27px;
  }

  .controls > * {
    margin-inline-end: 10px;
  }

  slot[name='empty'] {
    --oryx-icon-size: 40px;

    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 50px;
    background: var(--oryx-color-neutral-300, #f5f5f5);
    color: #1c1b1f;
  }

  slot[name='empty'] oryx-icon {
    margin-bottom: 15px;
  }
`;

    let AddressListComponent = class AddressListComponent extends ComponentMixin() {
        constructor() {
            super(...arguments);
            this.selectedAddress$ = new cjs.ReplaySubject(1);
            this.handle$ = this.selectedAddress$.pipe(cjs.tap((address) => {
                if (address) {
                    this.dispatchEvent(new CustomEvent(ADDRESS_CHANGE_EVENT, {
                        bubbles: true,
                        composed: true,
                        detail: {
                            address,
                        },
                    }));
                }
            }), cjs.distinctUntilChanged());
            this.addresses$ = cjs.combineLatest([
                resolve(AddressService).getAddresses().pipe(cjs.distinctUntilChanged()),
                new ContentController(this).getOptions(),
            ]).pipe(cjs.tap(([addresses, options]) => {
                if (!options.selectable) {
                    this.selectedAddress$.next(null);
                    return;
                }
                const defaultAddress = addresses?.find((address) => this.isDefault(address, options?.defaultType));
                this.selectedAddress$.next(defaultAddress ?? addresses?.[0] ?? null);
            }));
            this.data$ = cjs.combineLatest([
                this.addresses$,
                this.selectedAddress$,
            ]).pipe(cjs.map(([addresses, selectedAddress]) => [...addresses, selectedAddress]));
        }
        isDefault(address, type = "shipping" /* AddressType.Shipping */) {
            return type === "shipping" /* AddressType.Shipping */
                ? address?.isDefaultShipping ?? false
                : address?.isDefaultBilling ?? false;
        }
        onChange(e) {
            const radio = e.target;
            this.addresses$
                .pipe(cjs.take(1), cjs.tap(([addresses]) => {
                this.selectedAddress$.next(addresses?.find((address) => address.id === radio.value) ?? null);
            }))
                .subscribe();
        }
        render() {
            return y `${asyncValue(this.data$, ([addresses, options, selectedAddress]) => {
            const { selectable, editable, defaultType } = options;
            if (!addresses || !addresses.length) {
                return y ` <slot name="empty">
            <oryx-icon type="carrier" size="large"></oryx-icon>
            ${i18n('user.address.no-addresses')}
          </slot>`;
            }
            return y `${c(addresses, (address) => address.id, (address) => {
                const isSelected = selectable
                    ? selectedAddress?.id === address.id
                    : false;
                return y `<oryx-tile .selected=${isSelected}>
              <div>
                <div class="details">
                  <oryx-radio>
                    ${n$1(selectable, () => y `<input
                        name="address"
                        type="radio"
                        value="${isDefined(address.id) ? address.id : ''}"
                        ?checked=${isSelected}
                        @change=${this.onChange}
                      />`)}
                    ${formatAddress(address)}
                  </oryx-radio>
                  ${n$1(this.isDefault(address, defaultType), () => y `<oryx-chip
                        >${i18n('user.address.default')}</oryx-chip
                      >`)}
                </div>
                ${n$1(editable ?? true, () => y `<div
                      class="controls ${selectable ? 'selectable' : ''}"
                    >
                      <oryx-button type="text">
                        <button>${i18n('user.address.edit')}</button>
                      </oryx-button>
                    </div>`)}
              </div>
            </oryx-tile>`;
            })}`;
        })}`;
        }
    };
    AddressListComponent.styles = styles$1;
    __decorate([
        subscribe(),
        __metadata("design:type", Object)
    ], AddressListComponent.prototype, "handle$", void 0);
    AddressListComponent = __decorate([
        hydratable(['mouseover', 'focusin'])
    ], AddressListComponent);

    const addressList_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get AddressListComponent () { return AddressListComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const fields = [
        {
            id: 'firstName',
            type: FormFieldType.TEXT,
            label: 'First Name',
        },
        {
            id: 'lastName',
            type: FormFieldType.TEXT,
            label: 'Last Name',
        },
        {
            id: 'email',
            type: FormFieldType.EMAIL,
            label: 'Email',
            required: true,
            width: 100,
        },
    ];

    const styles = i$7 `
  :host {
    --oryx-layout-gap: 20px;
  }

  form {
    display: flex;
    flex-wrap: wrap;
    gap: var(--oryx-layout-gap);
  }

  form .w50 {
    flex: 1 0 calc(50% - calc(var(--oryx-layout-gap) / 2));
  }
`;

    let ContactFormComponent = class ContactFormComponent extends FormComponentMixin() {
        constructor() {
            super(...arguments);
            this.fieldRenderer = resolve(FormRenderer);
        }
        render() {
            return y `<form>${this.fieldRenderer.buildForm(fields)}</form>`;
        }
    };
    ContactFormComponent.styles = [formStyles, styles];
    ContactFormComponent = __decorate([
        hydratable(['mouseover', 'focusin'])
    ], ContactFormComponent);

    const contactForm_component = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        get ContactFormComponent () { return ContactFormComponent; }
    }, Symbol.toStringTag, { value: 'Module' }));

    const add$4 = `
  <path d="M14 4C14 2.89543 13.1046 2 12 2C10.8954 2 10 2.89543 10 4V10H4C2.89543 10 2 10.8954 2 12C2 13.1046 2.89543 14 4 14H10V20C10 21.1046 10.8954 22 12 22C13.1046 22 14 21.1046 14 20V14H20C21.1046 14 22 13.1046 22 12C22 10.8954 21.1046 10 20 10H14V4Z" />
`;

    const add$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: add$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const cartAdd$2 = `
  <path d="M17.3333 18.3845C18.0693 18.3845 18.6667 18.9704 18.6667 19.6929C18.6667 20.4148 18.0693 21 17.3333 21C16.5973 21 16 20.4148 16 19.6929C16 18.9704 16.5973 18.3845 17.3333 18.3845ZM10 18.3845C10.736 18.3845 11.3333 18.9704 11.3333 19.6929C11.3333 20.4148 10.736 21 10 21C9.264 21 8.66667 20.4148 8.66667 19.6929C8.66667 18.9704 9.264 18.3845 10 18.3845ZM18.7693 17.0905L18.69 17.0702L18.6873 17.0774H8.66667L4.852 5.30774H2V4H5.68733L9.55533 15.769H17.836L20.1953 7.92388H8.52067L8 6.61614H21.3333H22L18.7693 17.0905ZM13.3333 14.4626V12.501H11.3333V11.1932H13.3333V9.23162H14.6667V11.1932H16.6667V12.501H14.6667V14.4626H13.3333Z" />
`;

    const cartAdd$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: cartAdd$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const cart$4 = `
  <path d="M17.3333 18.3851C18.0693 18.3851 18.6667 18.971 18.6667 19.6929C18.6667 20.4148 18.0693 21 17.3333 21C16.5973 21 16 20.4148 16 19.6929C16 18.971 16.5973 18.3851 17.3333 18.3851ZM10 18.3851C10.736 18.3851 11.3333 18.971 11.3333 19.6929C11.3333 20.4148 10.736 21 10 21C9.264 21 8.66667 20.4148 8.66667 19.6929C8.66667 18.971 9.264 18.3851 10 18.3851ZM22 6.61559L18.7693 17.091L18.69 17.0707L18.6873 17.0779H8.66667L4.85133 5.30779H2V4H5.68733L9.55533 15.7688H17.836L20.1953 7.92272H8.41667L8 6.61559H21.3333H22Z" />
`;

    const cart$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: cart$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const close$4 = `
  <path d="M20.3,3.8c-1-1-2.5-1-3.5,0L12,8.6L7.2,3.8c-1-1-2.5-1-3.5,0s-1,2.5,0,3.4L8.5,12l-4.8,4.8c-1,1-1,2.5,0,3.4
c1,1,2.5,1,3.5,0l4.8-4.8l4.8,4.8c1,1,2.5,1,3.5,0c1-1,1-2.5,0-3.4L15.5,12l4.8-4.8C21.3,6.2,21.3,4.7,20.3,3.8z"/>
`;

    const close$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: close$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const collapse$2 = `
  <path d="M14 4C14 2.89543 13.1046 2 12 2C10.8954 2 10 2.89543 10 4V10H4C2.89543 10 2 10.8954 2 12C2 13.1046 2.89543 14 4 14H10V20C10 21.1046 10.8954 22 12 22C13.1046 22 14 21.1046 14 20V14H20C21.1046 14 22 13.1046 22 12C22 10.8954 21.1046 10 20 10H14V4Z" />
`;

    const collapse$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: collapse$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const dropUp$2 = `
  <g style="transform-origin: center;transform: rotate(90deg)">
    <path d="M6.20864 14.2538L6.27391 14.319L13.9939 21.7563C14.9785 22.7048 16.5127 22.746 17.5451 21.88L17.7255 21.715C18.6866 20.789 18.7552 19.286 17.9115 18.2784L17.7584 18.1112L11.9349 12.5L17.7257 6.92111C18.7306 5.95304 18.7598 4.3543 17.791 3.35021L17.6829 3.24372C16.6536 2.25209 15.0235 2.25209 13.9942 3.24372L6.27417 10.681C5.91221 11.0297 5.67683 11.4602 5.5691 11.9153C5.55075 11.9935 5.53606 12.0717 5.52508 12.1504C5.50727 12.2787 5.49933 12.408 5.50126 12.5372C5.51023 13.1573 5.74529 13.7736 6.20864 14.2538Z" />
  </g>
`;

    const dropUp$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dropUp$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const dropdown$2 = `
  <g style="transform-origin: center;transform: rotate(-90deg)">
    <path d="M6.20864 14.2538L6.27391 14.319L13.9939 21.7563C14.9785 22.7048 16.5127 22.746 17.5451 21.88L17.7255 21.715C18.6866 20.789 18.7552 19.286 17.9115 18.2784L17.7584 18.1112L11.9349 12.5L17.7257 6.92111C18.7306 5.95304 18.7598 4.3543 17.791 3.35021L17.6829 3.24372C16.6536 2.25209 15.0235 2.25209 13.9942 3.24372L6.27417 10.681C5.91221 11.0297 5.67683 11.4602 5.5691 11.9153C5.55075 11.9935 5.53606 12.0717 5.52508 12.1504C5.50727 12.2787 5.49933 12.408 5.50126 12.5372C5.51023 13.1573 5.74529 13.7736 6.20864 14.2538Z" />
  </g>
`;

    const dropdown$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dropdown$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const expand$2 = `
  <path d="M2 12C2 10.8954 2.89543 10 4 10H20C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14H4C2.89543 14 2 13.1046 2 12Z"/>
`;

    const expand$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: expand$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const image$2 = `
  <path d="M7.075 11.85H16.425L13.325 7.775L10.95 10.8L9.375 8.875L7.075 11.85ZM6.05 15.5C5.55 15.5 5.125 15.325 4.775 14.975C4.425 14.625 4.25 14.2 4.25 13.7V2.3C4.25 1.8 4.425 1.375 4.775 1.025C5.125 0.675 5.55 0.5 6.05 0.5H17.45C17.95 0.5 18.375 0.675 18.725 1.025C19.075 1.375 19.25 1.8 19.25 2.3V13.7C19.25 14.2 19.075 14.625 18.725 14.975C18.375 15.325 17.95 15.5 17.45 15.5H6.05ZM6.05 14H17.45C17.5167 14 17.5833 13.9667 17.65 13.9C17.7167 13.8333 17.75 13.7667 17.75 13.7V2.3C17.75 2.23333 17.7167 2.16667 17.65 2.1C17.5833 2.03333 17.5167 2 17.45 2H6.05C5.98333 2 5.91667 2.03333 5.85 2.1C5.78333 2.16667 5.75 2.23333 5.75 2.3V13.7C5.75 13.7667 5.78333 13.8333 5.85 13.9C5.91667 13.9667 5.98333 14 6.05 14ZM2.55 19C2.05 19 1.625 18.825 1.275 18.475C0.925 18.125 0.75 17.7 0.75 17.2V4.3H2.25V17.2C2.25 17.2667 2.28333 17.3333 2.35 17.4C2.41667 17.4667 2.48333 17.5 2.55 17.5H15.45V19H2.55Z"/>
`;

    const image$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: image$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const info$4 = `
  <g fill="var(--oryx-icon-color, var(--oryx-color-info-300))">
    <path d="M12.1498 10.55C12.543 10.5472 12.9249 10.6815 13.2298 10.93C13.5081 11.1509 13.6732 11.4847 13.6798 11.84V17C13.6058 17.7734 12.924 18.3437 12.1498 18.28C11.3755 18.3437 10.6937 17.7734 10.6198 17V11.84C10.6264 11.4847 10.7914 11.1509 11.0698 10.93C11.3746 10.6815 11.7565 10.5472 12.1498 10.55Z"/>
    <path d="M13.6798 7.59001C13.6798 6.74501 12.9948 6.06001 12.1498 6.06001C11.3048 6.06001 10.6198 6.74501 10.6198 7.59001C10.6198 7.99579 10.781 8.38495 11.0679 8.67188C11.3548 8.95881 11.744 9.12001 12.1498 9.12001C12.9948 9.12001 13.6798 8.435 13.6798 7.59001Z"/>
    <path d="M1.00977 12.1567C1.00793 18.312 5.99439 23.3045 12.1498 23.31C18.311 23.3045 23.3042 18.3112 23.3098 12.15C23.3042 5.99464 18.3118 1.00817 12.1564 1.01001C6.00106 1.01185 1.01161 6.00131 1.00977 12.1567ZM3.97248 8.77557C5.3417 5.46733 8.56936 3.31001 12.1498 3.31001C17.0313 3.3155 20.9887 7.26848 20.9998 12.15C21.0038 15.7304 18.8501 18.9605 15.5434 20.3335C12.2368 21.7064 8.42857 20.9517 5.89541 18.4214C3.36226 15.8911 2.60325 12.0838 3.97248 8.77557Z"/>
  </g>
`;

    const info$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: info$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const inputError$2 = `
  <path d="M12 5.26509C12.7611 5.18489 13.4491 5.72154 13.5566 6.47925V11.3151C13.4491 12.0728 12.7611 12.6095 12 12.5292C11.2389 12.6095 10.5509 12.0728 10.4434 11.3151V6.46887C10.5559 5.71534 11.2424 5.18445 12 5.26509Z"/>
  <path d="M13.5566 16.1613C13.5566 15.3016 12.8597 14.6047 12 14.6047C11.1403 14.6047 10.4434 15.3016 10.4434 16.1613C10.4434 17.021 11.1403 17.7179 12 17.7179C12.8597 17.7179 13.5566 17.021 13.5566 16.1613Z"/>
  <path d="M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C22.9943 18.0728 18.0728 22.9943 12 23ZM12 3.28302C7.1871 3.28302 3.28493 7.18364 3.28303 11.9965C3.28112 16.8094 7.18019 20.7132 11.9931 20.717C16.806 20.7208 20.7113 16.8233 20.717 12.0104C20.717 7.19444 16.8159 3.28875 12 3.28302Z"/>
`;

    const inputError$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: inputError$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const mark$2 = `
  <path d="M20.4357 8.37056L10.6396 18.4215C10.2624 18.8065 9.77177 19 9.27917 19C8.78657 19 8.29398 18.8065 7.91876 18.4215L3.56427 13.9538C2.81191 13.1838 2.81191 11.9341 3.56427 11.1622C4.31664 10.3902 5.53274 10.3902 6.2851 11.1622L9.27917 14.2341L17.7149 5.57895C18.4673 4.80702 19.6834 4.80702 20.4357 5.57895C21.1881 6.35089 21.1881 7.59863 20.4357 8.37056Z"/>
`;

    const mark$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: mark$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const minus$4 = `
  <path d="M2 12C2 10.8954 2.89543 10 4 10H20C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14H4C2.89543 14 2 13.1046 2 12Z"/>
`;

    const minus$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: minus$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const remove$4 = `
  <circle cx="12" cy="12" r="12" style="fill:var(--oryx-color-canvas-500, #eeeeee)"/>
  <path d="M16.1425 7.85748C15.6659 7.38084 14.8931 7.38084 14.4165 7.85748L12 10.2739L9.58353 7.85748C9.10689 7.38084 8.33411 7.38084 7.85748 7.85748C7.38084 8.33411 7.38084 9.10689 7.85748 9.58353L10.2739 12L7.85748 14.4165C7.38084 14.8931 7.38084 15.6659 7.85748 16.1425C8.33411 16.6192 9.10689 16.6192 9.58353 16.1425L12 13.7261L14.4165 16.1425C14.8931 16.6192 15.6659 16.6192 16.1425 16.1425C16.6192 15.6659 16.6192 14.8931 16.1425 14.4165L13.7261 12L16.1425 9.58353C16.6192 9.10689 16.6192 8.33411 16.1425 7.85748Z" />
`;

    const remove$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: remove$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const rocket$2 = `
  <path d="M20.6598 0.380021C21.5851 0.67218 22.4006 1.2368 22.9998 2.00002C23.8298 3.42002 24.9098 6.46002 20.6398 11.39C20.6398 11.39 15.7298 16.63 9.72978 18.99C9.39181 19.1229 9.02233 19.1539 8.66693 19.0793C8.31153 19.0047 7.98575 18.8276 7.72978 18.57L5.15978 16C4.90267 15.7436 4.72815 15.4161 4.65865 15.0597C4.58915 14.7033 4.62785 14.3343 4.76978 14C6.35715 10.2861 8.61479 6.8963 11.4298 4.00002C15.5998 -0.299979 18.6398 -0.409979 20.6598 0.380021ZM15.6442 8.93881C16.0454 9.20692 16.5172 9.35002 16.9998 9.35002C17.3206 9.35134 17.6385 9.28913 17.9351 9.16698C18.2317 9.04483 18.5012 8.86515 18.7281 8.63831C18.9549 8.41147 19.1346 8.14196 19.2567 7.84533C19.3789 7.5487 19.4411 7.23082 19.4398 6.91002C19.4398 6.42743 19.2967 5.95569 19.0286 5.55443C18.7605 5.15317 18.3794 4.84043 17.9335 4.65576C17.4877 4.47108 16.9971 4.42276 16.5238 4.5169C16.0504 4.61105 15.6157 4.84344 15.2744 5.18468C14.9332 5.52592 14.7008 5.96069 14.6067 6.434C14.5125 6.90731 14.5608 7.39792 14.7455 7.84377C14.9302 8.28962 15.2429 8.6707 15.6442 8.93881ZM5.07967 11.0201C4.78967 11.5201 4.57967 11.9101 4.39967 12.2801C4.38272 12.3156 4.35872 12.3473 4.32914 12.3732C4.29956 12.3992 4.265 12.4188 4.22758 12.431C4.19016 12.4431 4.15066 12.4476 4.11148 12.444C4.07229 12.4404 4.03425 12.4288 3.99967 12.4101L0.569668 11.2301C0.435003 11.2101 0.309421 11.1502 0.209178 11.0581C0.108935 10.966 0.0386448 10.846 0.00740494 10.7135C-0.0238349 10.581 -0.0145861 10.4421 0.0339543 10.3149C0.0824948 10.1878 0.168092 10.0781 0.279668 10.0001L1.56967 8.74008L3.29967 7.00008C3.43421 6.88194 3.59648 6.7998 3.77134 6.76133C3.94621 6.72286 4.12797 6.72931 4.29967 6.78008L6.89967 7.64008C6.9297 7.64676 6.95752 7.66102 6.98047 7.68151C7.00343 7.702 7.02074 7.72803 7.03077 7.75711C7.0408 7.7862 7.04321 7.81737 7.03776 7.84765C7.03232 7.87793 7.0192 7.90631 6.99967 7.93008C6.30159 8.92284 5.66055 9.9545 5.07967 11.0201ZM4.05744 16.5976C4.17311 16.6443 4.2742 16.721 4.35024 16.8199L7.52024 19.9999C7.60605 20.0809 7.67033 20.182 7.70727 20.2941C7.7442 20.4061 7.75263 20.5256 7.73179 20.6418C7.71094 20.7579 7.66148 20.867 7.58788 20.9592C7.51428 21.0514 7.41886 21.1239 7.31024 21.1699C7.31024 21.1699 4.53024 22.5599 3.14024 21.1699C1.75024 19.7799 3.14024 16.9999 3.14024 16.9999C3.1842 16.8832 3.25857 16.7803 3.35563 16.702C3.4527 16.6236 3.56894 16.5726 3.69233 16.5542C3.81572 16.5359 3.94177 16.5508 4.05744 16.5976ZM16.7504 16.43C16.7405 16.3997 16.7231 16.3723 16.6998 16.3505C16.6766 16.3287 16.6482 16.3131 16.6173 16.3051C16.5864 16.2971 16.554 16.2971 16.5231 16.3049C16.4922 16.3127 16.4638 16.3282 16.4404 16.35C15.3104 17.19 14.2604 17.9 13.4404 18.35L12.2304 19.08C12.1708 19.1185 12.1256 19.1757 12.1021 19.2427C12.0785 19.3097 12.078 19.3826 12.1004 19.45L13.4404 22.86C13.4665 22.9957 13.5327 23.1205 13.6305 23.2182C13.7283 23.3158 13.8531 23.3819 13.9889 23.4077C14.1247 23.4336 14.2651 23.4181 14.392 23.3632C14.5188 23.3083 14.6263 23.2166 14.7004 23.1L15.9304 21.74L17.5604 20C17.6686 19.86 17.7414 19.6961 17.7728 19.522C17.8041 19.3479 17.793 19.1688 17.7404 19L16.7504 16.43Z" />
`;

    const rocket$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: rocket$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const search$4 = `
  <path d="M16.7485 15.2635L21.6724 20.212V20.1945C21.9562 20.4628 22.0664 20.859 21.9603 21.2287C21.8541 21.5983 21.5484 21.8829 21.1621 21.9715C20.7759 22.0601 20.3704 21.9386 20.1038 21.6545L15.1436 16.6849C13.7435 17.6394 12.071 18.1497 10.3577 18.1449C6.44091 18.1472 3.04866 15.5184 2.19948 11.8228C1.3503 8.12723 3.27235 4.35772 6.82191 2.75737C10.3715 1.15701 14.5948 2.15578 16.9789 5.15935C19.363 8.16291 19.2672 12.3643 16.7485 15.2635ZM16.5307 10.0727C16.5307 6.7776 13.7669 4.10637 10.3577 4.10637C6.9484 4.10637 4.18465 6.7776 4.18465 10.0727C4.18465 13.3679 6.9484 16.0391 10.3577 16.0391C13.7669 16.0391 16.5307 13.3679 16.5307 10.0727Z" />
`;

    const search$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: search$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const trash$2 = `
  <path d="M20.4,4.5C20.1,4.2,19.6,4,19,4h-3.5V2.6c-0.1-0.9-0.8-1.5-1.6-1.6h-3.6c-1,0.1-1.7,0.7-1.7,1.6V4H5C3.9,4,3,4.9,3,6v1.1c0,0.3,0.3,0.6,0.6,0.6h16.8c0.3,0,0.6-0.3,0.6-0.6V5.9C21,5.4,20.8,4.9,20.4,4.5z M14.4,4H9.6V3.2c0.1-0.6,0.7-1.1,1.3-1h2.2c0.6-0.1,1.2,0.4,1.3,1V4z"/>
  <path d="M19.8,8.7H4.1H4v0.1l0.6,12C4.7,22,5.7,23,6.9,23h10.3c1.2,0,2.2-1,2.3-2.2l0.5-12V8.7C19.9,8.7,19.8,8.7,19.8,8.7zM9.2,11.2v8.1c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.2-0.4-0.4-0.3-0.7v-8.1c0-0.3,0.1-0.6,0.3-0.7c0.2-0.2,0.5-0.2,0.8,0C9.1,10.7,9.3,10.9,9.2,11.2z M12.3,20c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.1-0.3-0.4-0.3-0.7v-8.1c-0.1-0.3,0.1-0.5,0.3-0.7c0.3-0.2,0.6-0.2,0.8,0c0.2,0.1,0.3,0.4,0.3,0.7v8.1C12.7,19.6,12.5,19.8,12.3,20z M16.1,19.3c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.2-0.4-0.4-0.3-0.7v-8.1c0-0.4,0.4-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7V19.3z"/>
`;

    const trash$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: trash$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const visible$4 = `
  <path d="M8.44464 12.2581C8.44464 10.3055 10.0275 8.72258 11.9801 8.72258C13.9318 8.72486 15.5133 10.3064 15.5156 12.2581C15.5156 14.2107 13.9327 15.7935 11.9801 15.7935C10.0275 15.7935 8.44464 14.2107 8.44464 12.2581Z" />
  <path d="M12.0059 4C4.136 4 0.980382 9.67123 0.130318 11.6139C-0.0485177 12.0228 -0.0430662 12.4888 0.145286 12.8934C1.04438 14.8289 4.33883 20.5161 12.0059 20.5161C19.6963 20.5161 22.9479 14.7974 23.8253 12.8774C24.0058 12.4822 24.011 12.0292 23.8397 11.6299C23.0139 9.70271 19.8981 4 12.0059 4ZM11.9801 17.8581C8.88733 17.8581 6.38012 15.3509 6.38012 12.2581C6.38012 9.16527 8.88733 6.65806 11.9801 6.65806C15.0729 6.65806 17.5801 9.16527 17.5801 12.2581C17.5767 15.3494 15.0715 17.8547 11.9801 17.8581Z" />
`;

    const visible$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: visible$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const invisible$4 = `
  <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5836 5.6247L21.0065 4.20276C21.5105 3.6988 21.5105 2.8817 21.0065 2.37773C20.5026 1.87376 19.6855 1.87376 19.1815 2.37773L17.2414 4.31786C15.7905 3.71244 14.0605 3.32586 12.0063 3.32586C4.13686 3.32586 0.980733 8.99657 0.130668 10.9398C-0.0484646 11.3486 -0.0432004 11.8146 0.14512 12.2193C0.646797 13.299 1.8948 15.5488 4.23389 17.3259L2.61325 18.9465C2.11331 19.4513 2.11543 20.2652 2.61799 20.7673C3.12055 21.2694 3.93447 21.2709 4.4388 20.7705L6.51467 18.6946C8.02693 19.3888 9.84267 19.842 12.0068 19.842C19.6971 19.842 22.9487 14.1233 23.8262 12.2033C24.0068 11.8072 24.0117 11.3531 23.8396 10.9532C23.3585 9.83167 22.1023 7.43425 19.5836 5.6247ZM6.38099 11.5839C6.37996 9.5773 7.45314 7.72364 9.19385 6.72541C10.9346 5.72717 13.0764 5.73709 14.8078 6.75141L13.2672 8.29154C11.9597 7.77951 10.4731 8.09027 9.48023 9.08316C8.48734 10.0761 8.17658 11.5626 8.6886 12.8701L7.14847 14.4108C6.64482 13.5539 6.37981 12.5778 6.38099 11.5839ZM8.92912 16.2781C9.83655 16.8707 10.8972 17.1855 11.981 17.1839L11.9769 17.1834C14.0308 17.1852 15.9207 16.062 16.9008 14.257C17.8808 12.452 17.7937 10.2552 16.6736 8.5336L15.1619 10.0453C15.8172 11.3996 15.5434 13.0202 14.4796 14.084C13.4157 15.1478 11.7951 15.4217 10.4409 14.7664L8.92912 16.2781Z" />
`;

    const invisible$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: invisible$4
    }, Symbol.toStringTag, { value: 'Module' }));

    const wishlist$2 = `
  <path d="M20.3644 3.78609C19.33 2.64932 17.8804 2.00252 16.3617 2C14.8417 2.00192 13.3906 2.64838 12.3546 3.78536L12.0015 4.16682L11.6484 3.78536C9.59251 1.52326 6.13215 1.39335 3.91953 3.49514C3.82148 3.58831 3.72679 3.68508 3.63565 3.78536C1.45478 6.19026 1.45478 9.90692 3.63565 12.3118L11.4826 20.7718C11.754 21.0648 12.2064 21.0773 12.493 20.7998C12.5024 20.7907 12.5115 20.7814 12.5204 20.7718L20.3645 12.3118C22.5452 9.90717 22.5452 6.19073 20.3644 3.78609ZM19.3302 11.3056H19.3295L12.0015 19.2072L4.67282 11.3056C3.00676 9.46799 3.00676 6.62845 4.67282 4.79089C6.1858 3.11441 8.74172 3.00929 10.3816 4.55608C10.4612 4.63118 10.5378 4.70949 10.6112 4.79089L11.4826 5.73065C11.7697 6.02233 12.2333 6.02233 12.5204 5.73065L13.3917 4.79162C14.9047 3.11513 17.4606 3.01002 19.1005 4.55681C19.1801 4.63191 19.2567 4.71022 19.3302 4.79162C21.0107 6.63209 21.023 9.47681 19.3302 11.3056Z"/>
`;

    const wishlist$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: wishlist$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const administration = `
  <path d="M14.1322 10.4945C14.1322 11.6507 13.1776 12.5879 12 12.5879C10.8224 12.5879 9.8678 11.6507 9.8678 10.4945C9.8678 9.33832 10.8224 8.40106 12 8.40106C13.1776 8.40106 14.1322 9.33832 14.1322 10.4945Z"/>
  <path d="M22.1322 3H1.8678C0.836244 3 0 3.82104 0 4.83385V16.1635C0 17.1763 0.836244 17.9974 1.8678 17.9974H22.1322C23.1638 17.9974 24 17.1763 24 16.1635V4.83385C24 3.82104 23.1638 3 22.1322 3ZM17.8678 12.9815L17.0576 14.2878C16.7765 14.7813 16.1554 14.9784 15.6333 14.74L14.6269 14.2878C14.4142 14.4377 14.1888 14.5694 13.9531 14.6814L13.8422 15.7951C13.7919 16.335 13.3447 16.7562 12.7932 16.7832H11.2495C10.675 16.7856 10.1938 16.3567 10.1407 15.7951L10.0299 14.6814C9.79433 14.5691 9.56893 14.4374 9.35608 14.2878L8.34968 14.7232C7.82754 14.9617 7.20645 14.7645 6.92537 14.271L6.17484 12.9731C5.89469 12.4881 6.02633 11.8742 6.48188 11.5412L7.3774 10.8964V10.4861C7.36996 10.3494 7.36996 10.2125 7.3774 10.0758L6.52452 9.43103C6.06778 9.11278 5.91876 8.51329 6.17484 8.02424L6.92537 6.71794C7.20645 6.22446 7.82754 6.02728 8.34968 6.26576L9.38166 6.70119C9.58764 6.56688 9.80442 6.44925 10.0299 6.34949L10.1407 5.23579C10.1896 4.67082 10.672 4.23728 11.2495 4.23931H12.7932C13.3677 4.2369 13.8489 4.66576 13.9019 5.22741L13.9701 6.34949C14.2057 6.46175 14.4311 6.59341 14.6439 6.74306L15.6503 6.29088C16.1574 6.05549 16.7636 6.23224 17.0576 6.70119L17.8252 8.02424C18.1053 8.50926 17.9737 9.1232 17.5181 9.45615L16.6226 10.1009V10.5112C16.63 10.6479 16.63 10.7849 16.6226 10.9216L17.4755 11.5663C17.9398 11.8829 18.0931 12.4884 17.8337 12.9815H17.8678Z"/>
  <path d="M15.0704 19.3623C15.0015 19.2732 14.8943 19.2206 14.7804 19.2199H9.50107C9.38713 19.2206 9.27998 19.2732 9.21109 19.3623L7.62473 21.4222C7.54074 21.5308 7.52646 21.6767 7.58786 21.7991C7.64926 21.9214 7.7758 21.9992 7.91471 22H16.3667C16.5056 21.9992 16.6322 21.9214 16.6936 21.7991C16.755 21.6767 16.7407 21.5308 16.6567 21.4222L15.0704 19.3623Z"/>
`;

    const administration$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: administration
    }, Symbol.toStringTag, { value: 'Module' }));

    const catalog = `
  <path d="M24.0002 18.67L18.5302 1.33002C18.4556 1.10714 18.2332 0.96866 18.0002 1.00002L13.3802 2.64002C13.1313 2.73373 13.0026 3.0089 13.0902 3.26002L18.5302 20.6C18.5586 20.7211 18.6445 20.8207 18.7601 20.8666C18.8758 20.9124 19.0065 20.8988 19.1102 20.83L20.6102 20.3L21.4702 22.64C21.4955 22.6821 21.5411 22.7079 21.5902 22.7079C21.6394 22.7079 21.6849 22.6821 21.7102 22.64L22.2302 21.87L23.1302 22.12C23.1689 22.1288 23.2095 22.1207 23.2419 22.0979C23.2743 22.075 23.2955 22.0394 23.3002 22L22.4502 19.68L23.6902 19.24C23.8099 19.2103 23.9117 19.1316 23.9706 19.0232C24.0296 18.9148 24.0403 18.7867 24.0002 18.67ZM18.3902 5.00002L15.3102 6.12002C15.1472 6.17612 14.9683 6.16296 14.8152 6.08359C14.6622 6.00422 14.5483 5.86559 14.5002 5.70002C14.3842 5.35262 14.5598 4.97508 14.9002 4.84002L18.0002 3.74002C18.1633 3.68391 18.3422 3.69708 18.4952 3.77645C18.6483 3.85581 18.7621 3.99444 18.8102 4.16002C18.9118 4.5068 18.7286 4.87318 18.3902 5.00002ZM7.50022 1.64002H12.2902C12.4308 1.63977 12.5653 1.6976 12.6619 1.79984C12.7584 1.90207 12.8085 2.03964 12.8002 2.18002V20.45C12.7791 20.7143 12.5553 20.9162 12.2902 20.91H7.50022C7.37906 20.9131 7.2622 20.865 7.17843 20.7774C7.09465 20.6898 7.05172 20.5709 7.06022 20.45V2.18002C7.06022 1.87002 7.21022 1.64002 7.50022 1.64002ZM8.24022 5.64002H11.4902C11.8314 5.59841 12.0879 5.30874 12.0879 4.96502C12.0879 4.6213 11.8314 4.33162 11.4902 4.29002H8.24022C7.89903 4.33162 7.64253 4.6213 7.64253 4.96502C7.64253 5.30874 7.89903 5.59841 8.24022 5.64002ZM0.44022 1.64002H5.30022C5.59022 1.64002 5.74022 1.87002 5.74022 2.18002V20.45C5.74872 20.5709 5.70579 20.6898 5.62201 20.7774C5.53824 20.865 5.42138 20.9131 5.30022 20.91H0.44022C0.198352 20.89 0.00950265 20.6925 0.000219641 20.45V2.18002C-0.0180199 1.91229 0.174328 1.67623 0.44022 1.64002ZM1.20022 5.64002H4.45022C4.79141 5.59841 5.04791 5.30874 5.04791 4.96502C5.04791 4.6213 4.79141 4.33162 4.45022 4.29002H1.20022C0.859026 4.33162 0.60253 4.6213 0.60253 4.96502C0.60253 5.30874 0.859026 5.59841 1.20022 5.64002Z"/>
`;

    const catalog$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: catalog
    }, Symbol.toStringTag, { value: 'Module' }));

    const content = `
  <path d="M20.9688 1H2.73651C1.78119 0.999986 1.00529 1.78215 1.0001 2.75043V4.82609C0.995061 5.29617 1.17578 5.74877 1.50196 6.08298C1.82815 6.41719 2.2727 6.60525 2.73651 6.60522H20.9688C21.4326 6.60525 21.8772 6.41719 22.2034 6.08298C22.5296 5.74877 22.7103 5.29617 22.7052 4.82609V2.75043C22.7 1.78215 21.9241 0.999986 20.9688 1Z"/>
  <path d="M8.00237 8.42261H2.73651C1.77752 8.42261 1.0001 9.21059 1.0001 10.1826V21.2496C1.00529 22.2178 1.78119 23 2.73651 23H8.00237C8.95769 23 9.73358 22.2178 9.73878 21.2496V10.1826C9.73878 9.21059 8.96136 8.42261 8.00237 8.42261Z"/>
  <path d="M12.7586 10.5652H21.7615C22.1507 10.4356 22.5779 10.5752 22.819 10.9108C23.0602 11.2464 23.0602 11.7014 22.819 12.037C22.5779 12.3726 22.1507 12.5123 21.7615 12.3826H12.7586C12.3695 12.5123 11.9423 12.3726 11.7011 12.037C11.46 11.7014 11.46 11.2464 11.7011 10.9108C11.9423 10.5752 12.3695 10.4356 12.7586 10.5652Z"/>
  <path d="M21.7615 14.8026H12.7586C12.3695 14.673 11.9423 14.8126 11.7011 15.1482C11.46 15.4838 11.46 15.9388 11.7011 16.2744C11.9423 16.61 12.3695 16.7496 12.7586 16.62H21.7615C22.1507 16.7496 22.5779 16.61 22.819 16.2744C23.0602 15.9388 23.0602 15.4838 22.819 15.1482C22.5779 14.8126 22.1507 14.673 21.7615 14.8026Z"/>
  <path d="M12.7586 19.0496H21.7615C22.1507 18.9199 22.5779 19.0595 22.819 19.3952C23.0602 19.7308 23.0602 20.1857 22.819 20.5214C22.5779 20.857 22.1507 20.9966 21.7615 20.867H12.7586C12.3695 20.9966 11.9423 20.857 11.7011 20.5214C11.46 20.1857 11.46 19.7308 11.7011 19.3952C11.9423 19.0595 12.3695 18.9199 12.7586 19.0496Z"/>
`;

    const content$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: content
    }, Symbol.toStringTag, { value: 'Module' }));

    const customer = `
  <path d="M12.2679 12.3826C15.4111 12.3826 17.9592 9.83453 17.9592 6.6913C17.9592 3.54808 15.4111 1 12.2679 1C9.12464 1 6.57655 3.54808 6.57655 6.6913C6.57655 9.83453 9.12464 12.3826 12.2679 12.3826Z"/>
  <path d="M12.2679 13.693C18.7244 13.693 21.5174 16.8209 22.7322 19.3843C23.0617 20.1054 23.001 20.9447 22.5711 21.6108C22.1412 22.2769 21.4015 22.678 20.6087 22.6748H4.34786C3.55008 22.7657 2.76685 22.411 2.30907 21.7513C1.8513 21.0916 1.79304 20.2338 2.15742 19.5183C3.14264 16.9357 5.81134 13.693 12.2679 13.693Z"/>
`;

    const customer$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: customer
    }, Symbol.toStringTag, { value: 'Module' }));

    const dashboard = `
  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.87833 0H19.1217C20.7092 0.00503196 21.995 1.29076 22 2.87833V19.1217C21.995 20.7092 20.7092 21.995 19.1217 22H2.87833C1.29076 21.995 0.00503196 20.7092 0 19.1217V2.87833C0.00503196 1.29076 1.29076 0.00503196 2.87833 0ZM5.335 18.7917C6.09439 18.7917 6.71 18.1761 6.71 17.4167V9.90917C6.71 9.14977 6.09439 8.53417 5.335 8.53417C4.57561 8.53417 3.96 9.14977 3.96 9.90917V17.4167C3.96 18.1761 4.57561 18.7917 5.335 18.7917ZM12.375 17.4167C12.375 18.1761 11.7594 18.7917 11 18.7917C10.2406 18.7917 9.625 18.1761 9.625 17.4167V4.65667C9.625 3.89728 10.2406 3.28167 11 3.28167C11.7594 3.28167 12.375 3.89728 12.375 4.65667V17.4167ZM16.8575 18.7917C17.6169 18.7917 18.2325 18.1761 18.2325 17.4167V13.5942C18.2325 12.8348 17.6169 12.2192 16.8575 12.2192C16.0981 12.2192 15.4825 12.8348 15.4825 13.5942V17.4167C15.4825 18.1761 16.0981 18.7917 16.8575 18.7917Z"/>
`;

    const dashboard$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dashboard
    }, Symbol.toStringTag, { value: 'Module' }));

    const maintenance = `
  <path d="M22.56 4.9122C22.4789 4.70976 22.3017 4.56143 22.0882 4.51718C21.8746 4.47293 21.6531 4.53865 21.4983 4.6922L18.1504 8.04002L16.3044 7.69568L15.9218 5.89742L19.2696 2.54959C19.4483 2.40229 19.5352 2.17109 19.4977 1.94255C19.4603 1.71401 19.3042 1.52262 19.0878 1.44002C16.9001 0.573303 14.4103 1.02016 12.6605 2.59354C10.9107 4.16693 10.2028 6.59546 10.8331 8.86263L1.88958 17.8061C1.12068 18.575 0.820389 19.6957 1.10183 20.746C1.38326 21.7964 2.20367 22.6168 3.254 22.8982C4.30433 23.1796 5.42503 22.8794 6.19392 22.1105L15.1374 13.167C17.4046 13.7972 19.8331 13.0893 21.4065 11.3395C22.9799 9.58974 23.4267 7.09991 22.56 4.9122Z"/>
`;

    const maintenance$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: maintenance
    }, Symbol.toStringTag, { value: 'Module' }));

    const marketplace = `
  <path d="M20.11 2.31L23.86 7.56L24 8C24 9.65685 22.6569 11 21 11C20.1415 11.004 19.3224 10.6399 18.75 10C18.1805 10.6458 17.361 11.0157 16.5 11.0157C15.639 11.0157 14.8195 10.6458 14.25 10C13.6805 10.6458 12.861 11.0157 12 11.0157C11.139 11.0157 10.3195 10.6458 9.75 10C9.1805 10.6458 8.361 11.0157 7.5 11.0157C6.639 11.0157 5.8195 10.6458 5.25 10C4.67764 10.6399 3.85854 11.004 3 11C1.34315 11 0 9.65685 0 8L0.14 7.56L3.89 2.31C4.03474 2.11824 4.25978 2.00387 4.5 2H19.5C19.7402 2.00387 19.9653 2.11824 20.11 2.31Z"/>
  <path d="M18.75 11.9V11.89C17.3524 12.6738 15.6476 12.6738 14.25 11.89C12.8524 12.6738 11.1476 12.6738 9.75 11.89C8.35238 12.6738 6.64762 12.6738 5.25 11.89C4.10289 12.5283 2.73635 12.6413 1.5 12.2V20C1.5 20.8284 2.17157 21.5 3 21.5H15V14.75C15 14.3358 15.3358 14 15.75 14H18.75C19.1642 14 19.5 14.3358 19.5 14.75V21.5H21C21.8284 21.5 22.5 20.8284 22.5 20V12.23C21.2641 12.6902 19.8866 12.569 18.75 11.9ZM10.5 17.75C10.5 18.1642 10.1642 18.5 9.75 18.5H5.25C4.83579 18.5 4.5 18.1642 4.5 17.75V14.75C4.5 14.3358 4.83579 14 5.25 14H9.75C10.1642 14 10.5 14.3358 10.5 14.75V17.75Z"/>
`;

    const marketplace$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: marketplace
    }, Symbol.toStringTag, { value: 'Module' }));

    const merchandising = `
  <path d="M12.2075 2.89232L21.3647 12.0515C21.7666 12.4451 21.9952 12.9826 21.9999 13.5451C22.0045 14.1076 21.785 14.6489 21.3897 15.0491L15.0546 21.3856C14.23 22.2048 12.8989 22.2048 12.0743 21.3856L2.91711 12.2264C2.65953 11.9705 2.47304 11.652 2.376 11.3021C2.2861 11.0765 2.23542 10.8371 2.22615 10.5944L2.00138 4.18294C1.98019 3.59811 2.20316 3.03082 2.61688 2.61701C3.0306 2.20321 3.59777 1.98018 4.18247 2.00138L10.6008 2.2262C10.8435 2.23547 11.0828 2.28616 11.3084 2.37608C11.6467 2.46989 11.9559 2.64743 12.2075 2.89232ZM3.69963 5.41527C3.69963 6.289 4.40778 6.99731 5.28133 6.99731C5.70082 6.99731 6.10314 6.83063 6.39976 6.53394C6.69639 6.23725 6.86303 5.83485 6.86303 5.41527C6.86303 4.54153 6.15488 3.83322 5.28133 3.83322C4.40778 3.83322 3.69963 4.54153 3.69963 5.41527Z"/>
`;

    const merchandising$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: merchandising
    }, Symbol.toStringTag, { value: 'Module' }));

    const merchantProfile = `
  <path d="M20.1025 2.19688L23.8465 5.72008L24.0001 6.15208C24.0052 6.95399 23.6896 7.72468 23.1234 8.29263C22.5573 8.86058 21.7876 9.17866 20.9857 9.17608C20.1216 9.18048 19.2983 8.80911 18.7297 8.15848C18.1627 8.80606 17.3439 9.17748 16.4833 9.17748C15.6226 9.17748 14.8038 8.80606 14.2369 8.15848C13.6699 8.80606 12.8511 9.17748 11.9905 9.17748C11.1298 9.17748 10.311 8.80606 9.74406 8.15848C9.17714 8.80606 8.35834 9.17748 7.49766 9.17748C6.63699 9.17748 5.81818 8.80606 5.25126 8.15848C4.68265 8.80911 3.85933 9.18048 2.99526 9.17608C2.19667 9.17354 1.43193 8.85321 0.869944 8.28582C0.307957 7.71843 -0.00504537 6.95066 6.15249e-05 6.15208L0.134462 5.72008L3.84006 2.19688C3.99203 1.99 4.23631 1.87146 4.49286 1.88008H19.4881C19.7311 1.88384 19.9584 2.00105 20.1025 2.19688Z"/>
  <path d="M18.7393 10.2513C17.3436 11.0327 15.6421 11.0327 14.2465 10.2513C12.8513 11.0345 11.1488 11.0345 9.75366 10.2513C8.35848 11.0345 6.65605 11.0345 5.26086 10.2513C4.10408 10.8799 2.73205 10.9779 1.49766 10.5201V21.2625C1.49766 22.0896 2.16816 22.7601 2.99526 22.7601H6.00006V22.6737C6.57606 21.1761 8.04486 19.2945 11.8561 19.2945C15.6673 19.2945 17.2801 21.0801 17.9521 22.5969C17.978 22.6498 18.0004 22.7043 18.0193 22.7601H20.9857C21.8128 22.7601 22.4833 22.0896 22.4833 21.2625V10.5777C21.2482 11.0345 19.8732 10.9111 18.7393 10.2417V10.2513ZM11.8849 18.5361C10.061 18.5361 8.58246 17.0575 8.58246 15.2337C8.58246 13.4098 10.061 11.9313 11.8849 11.9313C13.7087 11.9313 15.1873 13.4098 15.1873 15.2337C15.1873 17.0575 13.7087 18.5361 11.8849 18.5361Z"/>
`;

    const merchantProfile$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: merchantProfile
    }, Symbol.toStringTag, { value: 'Module' }));

    const ratings = `
  <path d="M3.29808 0H20.7019C21.5766 0 22.4155 0.347476 23.034 0.965986C23.6525 1.5845 24 2.42338 24 3.29808V14.6282C24 15.5029 23.6525 16.3418 23.034 16.9603C22.4155 17.5788 21.5766 17.9263 20.7019 17.9263H14.9414L12.8279 20.2477C12.7134 20.3733 12.5736 20.4732 12.4176 20.5409C12.2617 20.6085 12.0932 20.6422 11.9232 20.6399C11.7533 20.6377 11.5857 20.5994 11.4316 20.5276C11.2776 20.4558 11.1405 20.3522 11.0294 20.2236L9.049 17.9263H3.29808C2.42338 17.9263 1.5845 17.5788 0.965986 16.9603C0.347476 16.3418 0 15.5029 0 14.6282V3.29808C0 2.42338 0.347476 1.5845 0.965986 0.965986C1.5845 0.347476 2.42338 0 3.29808 0ZM15.462 10.001L17.4481 7.943C17.5176 7.87048 17.5655 7.77996 17.5864 7.68165C17.6072 7.58334 17.6002 7.48116 17.566 7.38666C17.5319 7.29215 17.4719 7.20907 17.3931 7.14681C17.3142 7.08454 17.2195 7.04558 17.1196 7.0343L14.2779 6.70998C14.1914 6.69976 14.1087 6.66872 14.0368 6.61953C13.9649 6.57034 13.906 6.50445 13.8652 6.42752L12.5242 3.90192C12.477 3.81305 12.4059 3.73917 12.3189 3.68865C12.2318 3.63813 12.1324 3.61297 12.0318 3.61604C11.9312 3.61911 11.8335 3.65028 11.7497 3.70601C11.6659 3.76174 11.5994 3.83982 11.5577 3.9314L10.3689 6.53307C10.3327 6.61263 10.2776 6.68217 10.2085 6.73569C10.1393 6.78922 10.0582 6.82512 9.97209 6.8403L7.15577 7.34093C7.05669 7.35838 6.96447 7.40321 6.88955 7.47036C6.81463 7.5375 6.75999 7.62427 6.73183 7.72085C6.70366 7.81743 6.70309 7.91997 6.73018 8.01686C6.75727 8.11375 6.81094 8.20112 6.88511 8.26909L8.99322 10.2015C9.05763 10.2605 9.10674 10.3342 9.13633 10.4164C9.16591 10.4986 9.17508 10.5867 9.16305 10.6732L8.76619 13.5037C8.753 13.6028 8.76762 13.7036 8.80844 13.7949C8.84925 13.8861 8.91464 13.9642 8.9973 14.0205C9.07997 14.0767 9.17664 14.1088 9.27651 14.1133C9.37639 14.1177 9.47553 14.0943 9.56285 14.0456L12.0525 12.638C12.1285 12.5951 12.2139 12.5712 12.3012 12.5685C12.3885 12.5659 12.4752 12.5844 12.5537 12.6227L15.1247 13.8752C15.215 13.9197 15.316 13.938 15.4162 13.928C15.5163 13.9181 15.6117 13.8803 15.6915 13.8189C15.7713 13.7575 15.8323 13.675 15.8676 13.5808C15.9029 13.4865 15.9111 13.3842 15.8913 13.2855L15.3217 10.4828C15.3042 10.3971 15.3079 10.3085 15.3324 10.2245C15.3568 10.1406 15.4013 10.0639 15.462 10.001Z"/>
`;

    const ratings$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: ratings
    }, Symbol.toStringTag, { value: 'Module' }));

    const sales = `
  <path d="M20.9305 3C22.6257 3 24 4.37425 24 6.06947V8.68421H18.9474C17.5521 8.68421 16.4211 9.81528 16.4211 11.2105V12.4737C16.4211 13.8689 17.5521 15 18.9474 15H24V17.6147C24 19.31 22.6257 20.6842 20.9305 20.6842H3.06947C1.37425 20.6842 0 19.31 0 17.6147V6.06947C0 4.37425 1.37425 3 3.06947 3H20.9305Z"/>
  <path d="M19.5789 13.1053C20.2766 13.1053 20.8421 12.5397 20.8421 11.8421C20.8421 11.1445 20.2766 10.5789 19.5789 10.5789C18.8813 10.5789 18.3158 11.1445 18.3158 11.8421C18.3158 12.5397 18.8813 13.1053 19.5789 13.1053Z"/>
`;

    const sales$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: sales
    }, Symbol.toStringTag, { value: 'Module' }));

    const users = `
  <path d="M17.7498 6.7C17.7498 9.84802 15.1127 12.4 11.8598 12.4C8.60681 12.4 5.96976 9.84802 5.96976 6.7C5.96976 3.55198 8.60681 1 11.8598 1C15.1127 1 17.7498 3.55198 17.7498 6.7Z"/>
  <path d="M22.4898 19.43C21.2798 16.94 18.4898 13.93 12.2898 13.74L13.3798 14.79C13.455 14.8617 13.4975 14.9611 13.4975 15.065C13.4975 15.1689 13.455 15.2683 13.3798 15.34L12.1498 16.54H12.0998L12.8198 17.02C13.0727 17.2114 13.2296 17.5035 13.2498 17.82L13.7498 22.68H20.2898C21.0819 22.695 21.8278 22.3082 22.2719 21.6521C22.716 20.9961 22.798 20.1598 22.4898 19.43Z"/>
  <path d="M10.222 15.065C10.222 15.1689 10.2646 15.2683 10.3398 15.34L11.5998 16.58H11.6498L10.9298 17.06C10.6769 17.2514 10.5199 17.5435 10.4998 17.86L9.99976 22.72H3.47976C1.55976 22.72 0.529763 21.3 1.20976 19.56C2.21976 17 4.80976 13.8 11.4298 13.73L10.3398 14.79C10.2646 14.8617 10.222 14.9611 10.222 15.065Z"/>
`;

    const users$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: users
    }, Symbol.toStringTag, { value: 'Module' }));

    const darkMode = `
  <path d="M14.7634 16.4416C11.4195 16.0085 8.74772 13.2288 8.38337 9.81172C8.04816 6.6681 9.61251 3.86403 12.0512 2.43495C12.5251 2.15747 12.329 1.41722 11.7829 1.44381C11.1716 1.47351 10.5477 1.56305 9.91468 1.71952C5.69816 2.76518 2.55946 6.52271 2.27424 10.9376C1.89077 16.8813 6.50511 21.8228 12.2521 21.8228C16.6338 21.8228 20.356 18.95 21.7077 14.9505C21.8877 14.4172 21.246 14.0143 20.8473 14.4052C19.3064 15.9132 17.1273 16.7474 14.7634 16.4416Z"/>
`;

    const darkMode$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: darkMode
    }, Symbol.toStringTag, { value: 'Module' }));

    const dashboards = `
  <path d="M0 1.81818C0 0.814028 0.814028 0 1.81818 0H7.27273C8.27688 0 9.09091 0.814028 9.09091 1.81818V18.1818C9.09091 19.186 8.27688 20 7.27273 20H1.81818C0.814027 20 0 19.186 0 18.1818V1.81818Z"/>
  <path d="M10.9091 1.81818C10.9091 0.814027 11.7231 0 12.7273 0H18.1818C19.186 0 20 0.814028 20 1.81818V6.36364C20 7.36779 19.186 8.18182 18.1818 8.18182H12.7273C11.7231 8.18182 10.9091 7.36779 10.9091 6.36364V1.81818Z"/>
  <path d="M12.7273 10C11.7231 10 10.9091 10.814 10.9091 11.8182V18.1818C10.9091 19.186 11.7231 20 12.7273 20H18.1818C19.186 20 20 19.186 20 18.1818V11.8182C20 10.814 19.186 10 18.1818 10H12.7273Z"/>
`;

    const dashboards$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dashboards
    }, Symbol.toStringTag, { value: 'Module' }));

    const lightMode = `
  <path d="M12.0005 6.48975C8.96207 6.48975 6.49023 8.96207 6.49023 12.0005C6.49023 15.0389 8.96207 17.5112 12.0005 17.5112C15.0384 17.5112 17.5107 15.0393 17.5107 12.0005C17.5107 8.96158 15.0384 6.48975 12.0005 6.48975Z"/>
`;

    const lightMode$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: lightMode
    }, Symbol.toStringTag, { value: 'Module' }));

    const merchant = `
  <path d="M3.88205 2C2.99855 2 2.28233 2.7316 2.28233 3.6151C2.28233 4.49859 2.99855 5.23019 3.88205 5.23019H19.8918C20.7753 5.23019 21.4915 4.49859 21.4915 3.6151C21.4915 2.7316 20.7753 2 19.8918 2H3.88205Z"/>
  <path d="M21.3783 13.4231H21.0766V20.1939C21.0766 21.0774 20.3604 21.7937 19.4769 21.7937C18.5934 21.7937 17.8772 21.0774 17.8772 20.1939V13.4231H12.3143V20.0294C12.3179 20.9894 11.5554 21.7734 10.6046 21.7873H4.01718C3.55163 21.7941 3.10291 21.6117 2.77192 21.2811C2.44093 20.9505 2.25544 20.4995 2.25718 20.0294V13.4168C1.55423 13.3499 1.00331 12.7541 1.00005 12.0269V11.8873C0.999123 11.7741 1.01179 11.6611 1.03776 11.551L2.06862 7.33712C2.22152 6.71218 2.77617 6.27257 3.41376 6.27096H20.4292C21.0747 6.27176 21.6346 6.72135 21.7806 7.35615L22.7298 11.5192C22.7543 11.6232 22.7669 11.7297 22.7675 11.8365V12.0333C22.7606 12.8029 22.1407 13.4231 21.3783 13.4231ZM9.80003 17.9479C9.80003 18.6489 9.23719 19.2171 8.54289 19.2171H6.07889C5.38459 19.2171 4.82175 18.6489 4.82175 17.9479V15.4665C4.82175 14.7656 5.38459 14.1973 6.07889 14.1973H8.54289C9.23719 14.1973 9.80003 14.7656 9.80003 15.4665V17.9479Z"/>
`;

    const merchant$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: merchant
    }, Symbol.toStringTag, { value: 'Module' }));

    const orders = `
  <path d="M23.7459 7.62513C23.9577 7.88924 24.037 8.20617 23.9841 8.57592L22.978 14.3335C22.9427 14.6329 22.8059 14.8794 22.5676 15.073C22.3293 15.2667 22.0602 15.3636 21.7601 15.3636H7.09189L6.80064 17.001H20.7805C21.1159 17.001 21.4069 17.1199 21.6542 17.3576C21.9013 17.5953 22.0248 17.8902 22.0248 18.2423C22.0248 18.5945 21.9013 18.8894 21.6542 19.1271C21.4069 19.3648 21.1159 19.4837 20.7805 19.4837H5.31793C4.94726 19.4837 4.62953 19.334 4.36477 19.0348C4.11765 18.7354 4.02057 18.392 4.07352 18.0048L4.73544 14.4129L3.72932 4.32386L0.869815 3.42589C0.534441 3.32024 0.291736 3.11772 0.1417 2.81844C-0.00833532 2.51907 -0.039225 2.20218 0.0490313 1.86765C0.154939 1.53311 0.362341 1.29101 0.671238 1.14135C0.980136 0.991685 1.29345 0.960873 1.61117 1.04891L5.26498 2.21099C5.49445 2.28142 5.6842 2.41347 5.83423 2.60715C5.98427 2.80083 6.07694 3.02096 6.11224 3.26747L6.32406 5.27469L22.8986 7.12345C23.2693 7.17614 23.5517 7.34341 23.7459 7.62513ZM7.19784 20.1703C7.72738 20.1703 8.17748 20.3552 8.54816 20.7251C8.91884 21.0947 9.10417 21.5438 9.10417 22.072C9.10417 22.6001 8.91884 23.0536 8.54816 23.4322C8.17748 23.8107 7.72738 24 7.19784 24C6.6683 24 6.21819 23.8107 5.84752 23.4322C5.47684 23.0537 5.2915 22.6002 5.2915 22.072C5.2915 21.5438 5.47684 21.0947 5.84752 20.7251C6.21815 20.3552 6.66826 20.1703 7.19784 20.1703ZM19.8538 20.7251C19.4831 20.3552 19.0329 20.1703 18.5034 20.1703C17.9739 20.1703 17.5238 20.3552 17.1532 20.7251C16.7824 21.0947 16.597 21.5438 16.597 22.072C16.597 22.6002 16.7825 23.0537 17.1532 23.4322C17.5237 23.8107 17.9739 24 18.5034 24C19.0329 24 19.4831 23.8107 19.8538 23.4322C20.2244 23.0536 20.4098 22.6001 20.4098 22.072C20.4098 21.5438 20.2243 21.0947 19.8538 20.7251Z"/>
`;

    const orders$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: orders
    }, Symbol.toStringTag, { value: 'Module' }));

    const products = `
  <path d="M10.9242 10.4572L2.19731 7.21082C2.01253 7.14214 1.891 6.96768 1.89289 6.77381C1.89478 6.57993 2.01969 6.40778 2.20577 6.34258L11.1424 3.15191C11.6984 2.95706 12.3048 2.94976 12.8655 3.13115L21.7821 6.07511C21.9697 6.13585 22.0988 6.30489 22.1056 6.4986C22.1123 6.6923 21.9953 6.8696 21.8124 6.94276L13.0655 10.4323C12.3806 10.7056 11.6156 10.7145 10.9242 10.4572Z"/>
  <path d="M9.65978 21.6661L1.79055 18.8502C1.31574 18.6803 0.999869 18.2372 1 17.7412V10.172C0.999899 9.78672 1.19144 9.42566 1.51312 9.20475C1.83479 8.98385 2.2461 8.93092 2.61495 9.06295L10.4836 11.8788C10.9588 12.0487 11.275 12.4921 11.2747 12.9884V20.5547C11.2756 20.9404 11.0844 21.3022 10.7626 21.5236C10.4408 21.7451 10.029 21.7983 9.65978 21.6661Z"/>
  <path d="M14.3402 21.6661L22.2088 18.8502C22.6839 18.6805 23 18.2373 23 17.7412V10.172C23.0001 9.78672 22.8086 9.42566 22.4869 9.20475C22.1652 8.98385 21.7539 8.93092 21.3851 9.06295L13.5158 11.8794C13.041 12.0494 12.7251 12.4925 12.7253 12.9884V20.5547C12.7244 20.9404 12.9156 21.3022 13.2374 21.5236C13.5592 21.7451 13.971 21.7983 14.3402 21.6661Z"/>
`;

    const products$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: products
    }, Symbol.toStringTag, { value: 'Module' }));

    const profile$2 = `
  <path d="M11.9911 12.2933C15.1097 12.2933 17.6378 9.76523 17.6378 6.64667C17.6378 3.5281 15.1097 1 11.9911 1C8.87255 1 6.34445 3.5281 6.34445 6.64667C6.34445 9.76523 8.87255 12.2933 11.9911 12.2933Z"/>
  <path d="M1.15226 21.9881C1.30536 22.206 1.55472 22.3304 1.81611 22.3193H22.1569C22.4137 22.3279 22.6581 22.2059 22.8102 21.9933C22.9623 21.7806 23.0025 21.5047 22.9178 21.2556C21.9919 18.874 19.0586 13.32 11.9819 13.32C4.90528 13.32 1.97195 18.8457 1.05528 21.2368C0.962723 21.4881 0.999148 21.7703 1.15226 21.9881Z"/>
`;

    const profile$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: profile$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const desktop = `
  <path d="M2.3,1.9c-1.1,0-1.9,0.9-1.9,1.9v12.6c0,1.1,0.9,1.9,1.9,1.9h5.5l-0.4,1.9H6.2c-0.5,0-1,0.4-1,1c0,0.5,0.4,1,1,1h11.7c0.5,0,1-0.4,1-1c0-0.5-0.4-1-1-1h-1.2l-0.4-1.9h5.5c1.1,0,1.9-0.9,1.9-1.9V3.8c0-1.1-0.9-1.9-1.9-1.9H2.3z M2.3,13.5V4.8
      c0-0.5,0.4-1,1-1h17.5c0.5,0,1,0.4,1,1v8.7c0,0.5-0.4,1-1,1H3.2C2.7,14.5,2.3,14.1,2.3,13.5z M12,17.4c0.5,0,1-0.4,1-1
      c0-0.5-0.4-1-1-1s-1,0.4-1,1C11,17,11.4,17.4,12,17.4z"/>
`;

    const desktop$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: desktop
    }, Symbol.toStringTag, { value: 'Module' }));

    const mobile = `
  <path d="M20.0003 3.56003C19.9974 3.08146 19.8985 2.60833 19.7096 2.16862C19.5207 1.72891 19.2455 1.33155 18.9003 1.00003C18.2288 0.347959 17.3263 -0.011593 16.3903 2.90927e-05H7.54032C7.06762 -0.00182296 6.59933 0.0910168 6.16308 0.273071C5.72684 0.455126 5.33148 0.722707 5.00032 1.06003C4.34706 1.73892 3.98776 2.64797 4.00032 3.59003L4.05032 20.45C4.04806 20.9234 4.1397 21.3925 4.31993 21.8302C4.50016 22.2679 4.76541 22.6655 5.10032 23C5.77187 23.6521 6.67435 24.0117 7.61032 24H16.4603C16.933 24.0019 17.4013 23.909 17.8376 23.727C18.2738 23.5449 18.6692 23.2774 19.0003 22.94C19.6536 22.2611 20.0129 21.3521 20.0003 20.41V3.56003ZM13.5503 21.13C13.4964 21.4355 13.3532 21.7182 13.1388 21.9424C12.9244 22.1666 12.6483 22.3223 12.3455 22.3898C12.0427 22.4572 11.7267 22.4334 11.4374 22.3214C11.1481 22.2094 10.8985 22.0142 10.72 21.7605C10.5415 21.5067 10.4422 21.2058 10.4347 20.8956C10.4271 20.5855 10.5116 20.2801 10.6774 20.0179C10.8433 19.7557 11.0831 19.5486 11.3666 19.4226C11.6501 19.2966 11.9646 19.2574 12.2703 19.31C12.4741 19.3451 12.6689 19.42 12.8436 19.5305C13.0183 19.6411 13.1695 19.785 13.2884 19.9541C13.4073 20.1232 13.4917 20.3142 13.5366 20.516C13.5816 20.7177 13.5862 20.9264 13.5503 21.13ZM17.7703 16.87C17.6733 17.0856 17.5339 17.2795 17.3603 17.44C17.1837 17.6077 16.9767 17.7401 16.7503 17.83C16.5137 17.9347 16.259 17.9924 16.0003 18H8.00032C7.75437 18.0013 7.51028 17.9573 7.28032 17.87C7.05534 17.7865 6.84832 17.661 6.67032 17.5C6.51096 17.3585 6.37879 17.1891 6.28032 17C6.18389 16.7897 6.13279 16.5614 6.13032 16.33L6.00032 4.00003C5.99964 3.76937 6.04733 3.54112 6.14032 3.33003C6.23731 3.11442 6.37675 2.92056 6.55032 2.76003C6.72693 2.59233 6.93398 2.45995 7.16032 2.37003C7.38964 2.27938 7.63374 2.23191 7.88032 2.23003H15.8803C16.1263 2.22872 16.3704 2.27279 16.6003 2.36003C16.8261 2.44651 17.0332 2.57551 17.2103 2.74003C17.3843 2.90019 17.5238 3.09414 17.6203 3.31003C17.7167 3.52037 17.7679 3.74865 17.7703 3.98003L17.8503 16.26C17.8621 16.4666 17.835 16.6735 17.7703 16.87Z" />
`;

    const mobile$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: mobile
    }, Symbol.toStringTag, { value: 'Module' }));

    const tablet = `
  <path d="M18.76 6.14638e-05H5.24C4.82499 -0.0105782 4.41195 0.0606624 4.02448 0.209713C3.63701 0.358763 3.28271 0.582701 2.98182 0.868731C2.68093 1.15476 2.43935 1.49728 2.27089 1.87671C2.10242 2.25614 2.01037 2.66504 2 3.08006V20.9201C2.01037 21.3351 2.10242 21.744 2.27089 22.1234C2.43935 22.5028 2.68093 22.8454 2.98182 23.1314C3.28271 23.4174 3.63701 23.6414 4.02448 23.7904C4.41195 23.9395 4.82499 24.0107 5.24 24.0001H18.76C19.175 24.0107 19.5881 23.9395 19.9755 23.7904C20.363 23.6414 20.7173 23.4174 21.0182 23.1314C21.3191 22.8454 21.5606 22.5028 21.7291 22.1234C21.8976 21.744 21.9896 21.3351 22 20.9201V3.08006C21.9896 2.66504 21.8976 2.25614 21.7291 1.87671C21.5606 1.49728 21.3191 1.15476 21.0182 0.868731C20.7173 0.582701 20.363 0.358763 19.9755 0.209713C19.5881 0.0606624 19.175 -0.0105782 18.76 6.14638e-05ZM13.55 21.6301C13.4961 21.9356 13.3529 22.2183 13.1385 22.4425C12.9241 22.6667 12.648 22.8223 12.3452 22.8898C12.0424 22.9572 11.7264 22.9335 11.4371 22.8215C11.1478 22.7095 10.8981 22.5143 10.7197 22.2605C10.5412 22.0068 10.4419 21.7058 10.4343 21.3957C10.4268 21.0855 10.5112 20.7801 10.6771 20.5179C10.843 20.2558 11.0828 20.0486 11.3663 19.9226C11.6498 19.7966 11.9643 19.7575 12.27 19.8101C12.4737 19.8451 12.6686 19.92 12.8433 20.0306C13.018 20.1411 13.1691 20.2851 13.2881 20.4542C13.407 20.6233 13.4914 20.8142 13.5363 21.016C13.5813 21.2178 13.5859 21.4265 13.55 21.6301ZM19.89 18.0001C19.8575 18.251 19.7311 18.4803 19.5363 18.6418C19.3414 18.8032 19.0926 18.8848 18.84 18.8701H5.25C4.99572 18.8874 4.7444 18.8071 4.54739 18.6454C4.35038 18.4837 4.22254 18.2528 4.19 18.0001V3.07006C4.22254 2.81727 4.35038 2.58645 4.54739 2.42475C4.7444 2.26305 4.99572 2.18268 5.25 2.20006H18.84C19.0926 2.18532 19.3414 2.26689 19.5363 2.42834C19.7311 2.58979 19.8575 2.81911 19.89 3.07006V18.0001Z" />
`;

    const tablet$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: tablet
    }, Symbol.toStringTag, { value: 'Module' }));

    const error = `
  <path fill="var(--oryx-icon-color, var(--oryx-color-error-300))" d="M12.2317 23.4633C6.02859 23.4633 1 18.4347 1 12.2317C1 6.02859 6.02859 1 12.2317 1C18.4347 1 23.4633 6.02859 23.4633 12.2317C23.458 18.4326 18.4326 23.458 12.2317 23.4633ZM12.2317 3.33833C7.30943 3.33833 3.31917 7.3286 3.31917 12.2508C3.31917 14.2442 3.97355 16.0846 5.0792 17.5692L17.4359 5.00988C15.9718 3.95382 14.1745 3.33084 12.2317 3.32875V3.33833ZM19.3696 6.90985L7.01327 19.4767C8.48011 20.5378 10.2828 21.1633 12.2317 21.1633C17.1539 21.1633 21.1442 17.1731 21.1442 12.2508C21.1442 10.2479 20.4841 8.39897 19.3696 6.90985Z"/>
`;

    const error$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: error
    }, Symbol.toStringTag, { value: 'Module' }));

    const success = `
  <g fill="var(--oryx-icon-color, var(--oryx-color-success-300))">
    <path d="M11.1198 16.3664C11.4502 16.3664 11.767 16.2345 11.9998 16L17.4898 10.47C17.8042 10.1556 17.9269 9.69737 17.8119 9.2679C17.6968 8.83843 17.3613 8.50298 16.9319 8.3879C16.5024 8.27283 16.0442 8.39561 15.7298 8.71001L11.3398 13.1C11.2816 13.1586 11.2024 13.1916 11.1198 13.1916C11.0372 13.1916 10.958 13.1586 10.8998 13.1L9.27976 11.48C8.96537 11.1656 8.50713 11.0428 8.07766 11.1579C7.64819 11.273 7.31274 11.6084 7.19766 12.0379C7.08258 12.4674 7.20537 12.9256 7.51976 13.24L10.2398 16C10.4726 16.2345 10.7893 16.3664 11.1198 16.3664Z"/>
    <path d="M12.1498 23.31C5.99439 23.3045 1.00793 18.312 1.00977 12.1567C1.01161 6.00131 6.00106 1.01185 12.1564 1.01001C18.3118 1.00817 23.3042 5.99464 23.3098 12.15C23.3042 18.3112 18.311 23.3045 12.1498 23.31ZM12.1498 3.31001C8.56936 3.31001 5.3417 5.46733 3.97248 8.77557C2.60325 12.0838 3.36226 15.8911 5.89541 18.4214C8.42857 20.9517 12.2368 21.7064 15.5434 20.3335C18.8501 18.9605 21.0038 15.7304 20.9998 12.15C20.9887 7.26848 17.0313 3.3155 12.1498 3.31001Z"/>
  </g>
`;

    const success$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: success
    }, Symbol.toStringTag, { value: 'Module' }));

    const warning = `
  <g fill="var(--oryx-icon-color, var(--oryx-color-warning-300))">
    <path d="M12 5.26509C12.7611 5.18489 13.4491 5.72154 13.5566 6.47925V11.3151C13.4491 12.0728 12.7611 12.6095 12 12.5292C11.2389 12.6095 10.5509 12.0728 10.4434 11.3151V6.46887C10.5559 5.71534 11.2424 5.18445 12 5.26509Z"/>
    <path d="M13.5566 16.1613C13.5566 15.3016 12.8597 14.6047 12 14.6047C11.1403 14.6047 10.4434 15.3016 10.4434 16.1613C10.4434 17.021 11.1403 17.7179 12 17.7179C12.8597 17.7179 13.5566 17.021 13.5566 16.1613Z"/>
    <path d="M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C22.9943 18.0728 18.0728 22.9943 12 23ZM12 3.28302C7.1871 3.28302 3.28493 7.18364 3.28303 11.9965C3.28112 16.8094 7.18019 20.7132 11.9931 20.717C16.806 20.7208 20.7113 16.8233 20.717 12.0104C20.717 7.19444 16.8159 3.28875 12 3.28302Z"/>
  </g>
`;

    const warning$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: warning
    }, Symbol.toStringTag, { value: 'Module' }));

    const america = `
  <circle cx="12.0817" cy="12.0817" r="10.0817" fill="#F0F0F0"/>
  <path d="M11.6436 12.0817H22.1636C22.1636 11.1717 22.0423 10.2902 21.8162 9.45166H11.6436V12.0817Z" fill="#D80027"/>
  <path d="M11.6436 6.82167H20.6838C20.0667 5.8146 19.2776 4.92446 18.3576 4.19165H11.6436V6.82167Z" fill="#D80027"/>
  <path d="M12.0823 22.1633C14.455 22.1633 16.6359 21.3433 18.358 19.9717H5.80664C7.5288 21.3433 9.70963 22.1633 12.0823 22.1633Z" fill="#D80027"/>
  <path d="M3.48007 17.3417H20.684C21.1795 16.5332 21.5637 15.6495 21.8164 14.7117H2.34766C2.60037 15.6495 2.98461 16.5332 3.48007 17.3417Z" fill="#D80027"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.58876 3.5744H6.67003C8.23351 2.57773 10.0901 2 12.0817 2V12.0817H2C2 11.6559 2.0267 11.2364 2.07794 10.8246L2.58982 10.4527L3.44436 11.0735L3.11792 10.0689L3.97251 9.44808H2.91621L2.63003 8.56719C2.72907 8.30078 2.83926 8.0398 2.95973 7.78456L3.44436 8.13667L3.1846 7.33719C3.26249 7.19144 3.34378 7.04781 3.42853 6.90643L3.97251 6.51124H3.67813C4.22159 5.69305 4.88108 4.95874 5.6335 4.33198L5.35153 5.19983L6.20607 4.57898L7.06061 5.19983L6.73418 4.19525L7.58876 3.5744ZM6.20593 10.4528L7.06047 11.0736L6.73404 10.069L7.58862 9.44819H6.53232L6.20593 8.4436L5.87953 9.44819H4.82324L5.67782 10.069L5.35139 11.0736L6.20593 10.4528ZM6.73404 7.13203L7.06047 8.13661L6.20593 7.51576L5.35139 8.13661L5.67782 7.13203L4.82324 6.51118H5.87953L6.20593 5.50659L6.53232 6.51118H7.58862L6.73404 7.13203ZM9.82214 10.4528L10.6767 11.0736L10.3502 10.069L11.2048 9.44819H10.1485L9.82214 8.4436L9.49575 9.44819H8.43945L9.29403 10.069L8.9676 11.0736L9.82214 10.4528ZM10.3502 7.13203L10.6767 8.13661L9.82214 7.51576L8.9676 8.13661L9.29403 7.13203L8.43945 6.51118H9.49575L9.82214 5.50659L10.1485 6.51118H11.2048L10.3502 7.13203ZM10.6767 5.19984L10.3502 4.19526L11.2048 3.57441H10.1485L9.82214 2.56982L9.49575 3.57441H8.43945L9.29403 4.19526L8.9676 5.19984L9.82214 4.57899L10.6767 5.19984Z" fill="#0052B4"/>
`;

    const america$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: america
    }, Symbol.toStringTag, { value: 'Module' }));

    const france = `
  <path d="M8.52207 2.62207C4.7141 4.035 2.00031 7.70043 2.00031 12.0001C2.00031 16.2997 4.7141 19.9652 8.52207 21.3781L9.3916 12.0001L8.52207 2.62207Z" fill="#042891"/>
  <path d="M22 12.0001C22 7.70043 19.2863 4.035 15.4782 2.62207L14.6087 12.0001L15.4783 21.3781C19.2862 19.9652 22 16.2997 22 12.0001Z" fill="#DB3F41"/>
  <path d="M15.4785 2.62199C14.3952 2.22004 13.2235 2 12.0003 2C10.7771 2 9.60535 2.22004 8.52203 2.62199L8.52203 21.378C9.60535 21.78 10.7771 22 12.0003 22C13.2235 22 14.3952 21.78 15.4785 21.378L15.4785 2.62199Z" fill="white"/>
`;

    const france$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: france
    }, Symbol.toStringTag, { value: 'Module' }));

    const germany = `
  <path d="M2.62207 15.4782C4.035 19.2861 7.70043 21.9999 12.0001 21.9999C16.2997 21.9999 19.9652 19.2861 21.3781 15.4782L12.0001 14.6086L2.62207 15.4782Z" fill="#FFDA44"/>
  <path d="M12.0001 2C7.70043 2 4.035 4.71375 2.62207 8.52176L12.0001 9.39129L21.3781 8.52172C19.9652 4.71375 16.2997 2 12.0001 2Z" fill="black"/>
  <path d="M2.62199 8.52173C2.22004 9.60505 2 10.7768 2 12C2 13.2232 2.22004 14.3949 2.62199 15.4782H21.378C21.78 14.3949 22 13.2232 22 12C22 10.7768 21.78 9.60505 21.378 8.52173H2.62199Z" fill="#D80027"/>
`;

    const germany$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: germany
    }, Symbol.toStringTag, { value: 'Module' }));

    const planet = `
  <path d="M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM18.9 8H16C15.7 6.7 15.2 5.6 14.6 4.4C16.4 5.1 18 6.3 18.9 8ZM12 4C12.8 5.2 13.5 6.5 13.9 8H10.1C10.5 6.6 11.2 5.2 12 4ZM4.3 14C4.1 13.4 4 12.7 4 12C4 11.3 4.1 10.6 4.3 10H7.7C7.6 10.7 7.6 11.3 7.6 12C7.6 12.7 7.7 13.3 7.7 14H4.3ZM5.1 16H8C8.3 17.3 8.8 18.4 9.4 19.6C7.6 18.9 6 17.7 5.1 16ZM8 8H5.1C6.1 6.3 7.6 5.1 9.4 4.4C8.8 5.6 8.3 6.7 8 8ZM12 20C11.2 18.8 10.5 17.5 10.1 16H13.9C13.5 17.4 12.8 18.8 12 20ZM14.3 14H9.7C9.6 13.3 9.5 12.7 9.5 12C9.5 11.3 9.6 10.7 9.7 10H14.4C14.5 10.7 14.6 11.3 14.6 12C14.6 12.7 14.4 13.3 14.3 14ZM14.6 19.6C15.2 18.5 15.7 17.3 16 16H18.9C18 17.7 16.4 18.9 14.6 19.6ZM16.4 14C16.5 13.3 16.5 12.7 16.5 12C16.5 11.3 16.4 10.7 16.4 10H19.8C20 10.6 20.1 11.3 20.1 12C20.1 12.7 20 13.4 19.8 14H16.4Z"/>
`;

    const planet$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: planet
    }, Symbol.toStringTag, { value: 'Module' }));

    const spain = `
  <path d="M2.62207 15.4782C4.035 19.2861 7.70043 21.9999 12.0001 21.9999C16.2997 21.9999 19.9652 19.2861 21.3781 15.4782L12.0001 14.6086L2.62207 15.4782Z" fill="#C60B1E"/>
  <path d="M12.0001 2C7.70043 2 4.035 4.71375 2.62207 8.52176L12.0001 9.39129L21.3781 8.52172C19.9652 4.71375 16.2997 2 12.0001 2Z" fill="#C60B1E"/>
  <path d="M2.62199 8.52173C2.22004 9.60505 2 10.7768 2 12C2 13.2232 2.22004 14.3949 2.62199 15.4782H21.378C21.78 14.3949 22 13.2232 22 12C22 10.7768 21.78 9.60505 21.378 8.52173H2.62199Z" fill="#FFC400"/>
`;

    const spain$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: spain
    }, Symbol.toStringTag, { value: 'Module' }));

    const actions = `
  <path d="M14 5C14 6.10457 13.1046 7 12 7C10.8954 7 10 6.10457 10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5Z"/>
  <path d="M14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z"/>
  <path d="M12 21C13.1046 21 14 20.1046 14 19C14 17.8954 13.1046 17 12 17C10.8954 17 10 17.8954 10 19C10 20.1046 10.8954 21 12 21Z"/>
`;

    const actions$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: actions
    }, Symbol.toStringTag, { value: 'Module' }));

    const actionsHorizontal = `
  <path d="M7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12Z"/>
  <path d="M14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z"/>
  <path d="M19 14C20.1046 14 21 13.1046 21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14Z"/>
`;

    const actionsHorizontal$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: actionsHorizontal
    }, Symbol.toStringTag, { value: 'Module' }));

    const back = `
  <path d="M6.20864 14.2538L6.27391 14.319L13.9939 21.7563C14.9785 22.7048 16.5127 22.746 17.5451 21.88L17.7255 21.715C18.6866 20.789 18.7552 19.286 17.9115 18.2784L17.7584 18.1112L11.9349 12.5L17.7257 6.92111C18.7306 5.95304 18.7598 4.3543 17.791 3.35021L17.6829 3.24372C16.6536 2.25209 15.0235 2.25209 13.9942 3.24372L6.27417 10.681C5.91221 11.0297 5.67683 11.4602 5.5691 11.9153C5.55075 11.9935 5.53606 12.0717 5.52508 12.1504C5.50727 12.2787 5.49933 12.408 5.50126 12.5372C5.51023 13.1573 5.74529 13.7736 6.20864 14.2538Z" />
`;

    const back$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: back
    }, Symbol.toStringTag, { value: 'Module' }));

    const bottom = `
  <path d="M22.6667 18.8824C23.4042 18.8824 24 19.4738 24 20.2059C24 20.938 23.4042 21.5294 22.6667 21.5294H1.33333C0.597083 21.5294 0 20.938 0 20.2059C0 19.4738 0.597083 18.8824 1.33333 18.8824H22.6667ZM17.275 13.1994L13.275 17.17C12.7542 17.687 11.9125 17.687 11.3917 17.17L7.39054 13.1994C6.86983 12.6824 6.86983 11.847 7.39054 11.33C7.91125 10.813 8.75542 10.813 9.27625 11.33L11 13.0381V4.32353C11 3.59269 11.5958 3 12.3333 3C13.0708 3 13.6667 3.59269 13.6667 4.32353V13.0381L15.3917 11.33C15.9125 10.813 16.7542 10.813 17.275 11.33C17.7958 11.847 17.7958 12.6824 17.275 13.1994Z"/>
`;

    const bottom$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: bottom
    }, Symbol.toStringTag, { value: 'Module' }));

    const calendar = `
  <path d="M8.7963 12.7838C8.7963 13.3105 8.36516 13.7375 7.83333 13.7375C7.3015 13.7375 6.87037 13.3105 6.87037 12.7838C6.87037 12.2571 7.3015 11.8301 7.83333 11.8301C8.36516 11.8301 8.7963 12.2571 8.7963 12.7838Z"/>
  <path d="M11.9259 13.7375C12.4578 13.7375 12.8889 13.3105 12.8889 12.7838C12.8889 12.2571 12.4578 11.8301 11.9259 11.8301C11.3941 11.8301 10.963 12.2571 10.963 12.7838C10.963 13.3105 11.3941 13.7375 11.9259 13.7375Z"/>
  <path d="M16.9444 12.7838C16.9444 13.3105 16.5133 13.7375 15.9815 13.7375C15.4497 13.7375 15.0185 13.3105 15.0185 12.7838C15.0185 12.2571 15.4497 11.8301 15.9815 11.8301C16.5133 11.8301 16.9444 12.2571 16.9444 12.7838Z"/>
  <path d="M7.83333 16.8919C8.36516 16.8919 8.7963 16.4649 8.7963 15.9382C8.7963 15.4115 8.36516 14.9846 7.83333 14.9846C7.3015 14.9846 6.87037 15.4115 6.87037 15.9382C6.87037 16.4649 7.3015 16.8919 7.83333 16.8919Z"/>
  <path d="M12.8889 15.9382C12.8889 16.4649 12.4578 16.8919 11.9259 16.8919C11.3941 16.8919 10.963 16.4649 10.963 15.9382C10.963 15.4115 11.3941 14.9846 11.9259 14.9846C12.4578 14.9846 12.8889 15.4115 12.8889 15.9382Z"/>
  <path d="M15.9815 16.8919C16.5133 16.8919 16.9444 16.4649 16.9444 15.9382C16.9444 15.4115 16.5133 14.9846 15.9815 14.9846C15.4497 14.9846 15.0185 15.4115 15.0185 15.9382C15.0185 16.4649 15.4497 16.8919 15.9815 16.8919Z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.90741 2.96296C6.90741 2.43113 7.33854 2 7.87037 2C8.4022 2 8.83333 2.43113 8.83333 2.96296V4.41156C8.83333 4.46467 8.82903 4.51679 8.82076 4.56757H15.0681C15.0599 4.51679 15.0556 4.46467 15.0556 4.41155V2.96296C15.0556 2.43113 15.4867 2 16.0185 2C16.5503 2 16.9815 2.43113 16.9815 2.96296V4.41156C16.9815 4.46467 16.9772 4.51679 16.9689 4.56757H18.8622C20.5931 4.5724 21.9951 5.96085 22 7.67506V17.8925C21.9951 19.6067 20.5931 20.9952 18.8622 21H5.13778C3.40686 20.9952 2.00488 19.6067 2 17.8925V7.67506C2.00488 5.96085 3.40686 4.5724 5.13778 4.56757H6.91998C6.91171 4.51679 6.90741 4.46467 6.90741 4.41155V2.96296ZM19.3333 16.7334C19.3305 17.7111 18.5309 18.503 17.5437 18.5058H6.38222C5.39502 18.503 4.59544 17.7111 4.59259 16.7334V11.9152C4.59544 10.9375 5.39502 10.1457 6.38222 10.1429H17.5437C18.5309 10.1457 19.3305 10.9375 19.3333 11.9152V16.7334Z"/>
`;

    const calendar$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: calendar
    }, Symbol.toStringTag, { value: 'Module' }));

    const copy = `
  <path d="M8.08696 2H20.2609C21.2214 2 22 2.77864 22 3.73913V15.913C22 16.8735 21.2214 17.6522 20.2609 17.6522H17.6522V19.3913C17.6522 20.3518 16.8735 21.1304 15.913 21.1304H3.73913C2.77864 21.1304 2 20.3518 2 19.3913V7.21739C2 6.2569 2.77864 5.47826 3.73913 5.47826H6.34783V3.73913C6.34783 2.77864 7.12646 2 8.08696 2ZM3.73913 19.3913H15.913V17.6522H8.08696C7.12646 17.6522 6.34783 16.8735 6.34783 15.913V7.21739H3.73913V19.3913Z"/>
`;

    const copy$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: copy
    }, Symbol.toStringTag, { value: 'Module' }));

    const create = `
  <path d="M4.5 2C3.11929 2 2 3.11929 2 4.5V8.66667C2 10.0474 3.11929 11.1667 4.5 11.1667H8.66667C10.0474 11.1667 11.1667 10.0474 11.1667 8.66667V4.5C11.1667 3.11929 10.0474 2 8.66667 2H4.5Z"/>
  <path d="M4.5 12.8333C3.11929 12.8333 2 13.9526 2 15.3333V19.5C2 20.8807 3.11929 22 4.5 22H8.66667C10.0474 22 11.1667 20.8807 11.1667 19.5V15.3333C11.1667 13.9526 10.0474 12.8333 8.66667 12.8333H4.5Z"/>
  <path d="M12.8333 4.5C12.8333 3.11929 13.9526 2 15.3333 2H19.5C20.8807 2 22 3.11929 22 4.5V8.66667C22 10.0474 20.8807 11.1667 19.5 11.1667H15.3333C13.9526 11.1667 12.8333 10.0474 12.8333 8.66667V4.5Z"/>
  <path d="M18.6667 16.1667H20.75C21.4404 16.1667 22 16.7263 22 17.4167C22 18.107 21.4404 18.6667 20.75 18.6667H18.6667V20.75C18.6667 21.4404 18.107 22 17.4167 22C16.7263 22 16.1667 21.4404 16.1667 20.75V18.6667H14.0833C13.393 18.6667 12.8333 18.107 12.8333 17.4167C12.8333 16.7263 13.393 16.1667 14.0833 16.1667H16.1667V14.0833C16.1667 13.393 16.7263 12.8333 17.4167 12.8333C18.107 12.8333 18.6667 13.393 18.6667 14.0833V16.1667Z"/>
`;

    const create$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: create
    }, Symbol.toStringTag, { value: 'Module' }));

    const disconnect = `
  <path d="M5.46127 8.2569C6.10398 7.71962 7.0605 7.80509 7.59775 8.44781C8.13502 9.09052 8.04949 10.0471 7.40677 10.5844C5.18839 12.4391 3.12163 14.409 3.03677 16.2879C2.99434 17.2334 3.47307 18.185 4.49741 19.2154C6.97641 21.6944 9.607 19.2033 9.89792 18.9124L9.91605 18.9063C10.2993 18.523 10.8581 18.3733 11.3816 18.5136C11.9052 18.6539 12.3142 19.0629 12.4544 19.5865C12.5947 20.11 12.445 20.6687 12.0617 21.052C11.2078 21.8638 10.2002 22.4965 9.09794 22.9127C8.36676 23.184 7.59264 23.3216 6.81278 23.3189C5.11749 23.2928 3.50541 22.5797 2.34573 21.3429C0.709215 19.7064 -0.0786645 17.9547 0.00619055 16.1364C0.145586 12.9421 2.89741 10.3965 5.46127 8.2569ZM7.51242 0.632284L7.69132 0.63709C8.23085 0.683542 8.70471 1.01431 8.93424 1.50478L17.4197 19.6882C17.6493 20.1787 17.5997 20.7543 17.2897 21.1984C16.9797 21.6424 16.4565 21.8873 15.917 21.8408C15.3774 21.7944 14.9036 21.4636 14.6741 20.9732L6.18857 2.78973C5.95902 2.29925 6.00858 1.7236 6.31857 1.27958C6.62857 0.835565 7.15178 0.590638 7.69132 0.63709L7.51242 0.632284ZM14.9165 0.419835C17.2725 -0.499471 19.9514 0.12147 21.6626 1.9836C23.3052 3.6383 24.0992 5.38391 23.9901 7.23256C23.8689 10.451 21.111 13.0088 18.535 15.1545C17.8856 15.685 16.9291 15.5887 16.3985 14.9393C15.868 14.2899 15.9643 13.3333 16.6137 12.8027C18.8442 10.942 20.9232 8.95998 21.008 7.06891C21.0505 6.11731 20.5716 5.15359 19.5412 4.12319C17.1167 1.71086 14.5712 3.95953 14.0863 4.4323C13.4909 5.00577 12.5458 4.99624 11.9621 4.4109C11.3784 3.82555 11.3715 2.88041 11.9467 2.28667C12.8023 1.47257 13.8119 0.837838 14.9165 0.419835Z"/>
`;

    const disconnect$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: disconnect
    }, Symbol.toStringTag, { value: 'Module' }));

    const drag = `
  <path d="M6.6 4.78824C6.6 5.77585 5.79411 6.57647 4.8 6.57647C3.80589 6.57647 3 5.77585 3 4.78824C3 3.80062 3.80589 3 4.8 3C5.79411 3 6.6 3.80062 6.6 4.78824Z"/>
  <path d="M6.6 11.9882C6.6 12.9759 5.79411 13.7765 4.8 13.7765C3.80589 13.7765 3 12.9759 3 11.9882C3 11.0006 3.80589 10.2 4.8 10.2C5.79411 10.2 6.6 11.0006 6.6 11.9882Z"/>
  <path d="M4.8 20.9765C5.79411 20.9765 6.6 20.1758 6.6 19.1882C6.6 18.2006 5.79411 17.4 4.8 17.4C3.80589 17.4 3 18.2006 3 19.1882C3 20.1758 3.80589 20.9765 4.8 20.9765Z"/>
  <path d="M13.8 4.78824C13.8 5.77585 12.9941 6.57647 12 6.57647C11.0059 6.57647 10.2 5.77585 10.2 4.78824C10.2 3.80062 11.0059 3 12 3C12.9941 3 13.8 3.80062 13.8 4.78824Z"/>
  <path d="M12 13.7765C12.9941 13.7765 13.8 12.9759 13.8 11.9882C13.8 11.0006 12.9941 10.2 12 10.2C11.0059 10.2 10.2 11.0006 10.2 11.9882C10.2 12.9759 11.0059 13.7765 12 13.7765Z"/>
  <path d="M13.8 19.1882C13.8 20.1758 12.9941 20.9765 12 20.9765C11.0059 20.9765 10.2 20.1758 10.2 19.1882C10.2 18.2006 11.0059 17.4 12 17.4C12.9941 17.4 13.8 18.2006 13.8 19.1882Z"/>
  <path d="M19.2 6.57647C20.1941 6.57647 21 5.77585 21 4.78824C21 3.80062 20.1941 3 19.2 3C18.2059 3 17.4 3.80062 17.4 4.78824C17.4 5.77585 18.2059 6.57647 19.2 6.57647Z"/>
  <path d="M21 11.9882C21 12.9759 20.1941 13.7765 19.2 13.7765C18.2059 13.7765 17.4 12.9759 17.4 11.9882C17.4 11.0006 18.2059 10.2 19.2 10.2C20.1941 10.2 21 11.0006 21 11.9882Z"/>
  <path d="M19.2 20.9765C20.1941 20.9765 21 20.1758 21 19.1882C21 18.2006 20.1941 17.4 19.2 17.4C18.2059 17.4 17.4 18.2006 17.4 19.1882C17.4 20.1758 18.2059 20.9765 19.2 20.9765Z"/>
`;

    const drag$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: drag
    }, Symbol.toStringTag, { value: 'Module' }));

    const dragSmall = `
  <path d="M9.6 4.78824C9.6 5.77585 8.79411 6.57647 7.8 6.57647C6.80589 6.57647 6 5.77585 6 4.78824C6 3.80062 6.80589 3 7.8 3C8.79411 3 9.6 3.80062 9.6 4.78824Z"/>
  <path d="M9.6 11.9882C9.6 12.9759 8.79411 13.7765 7.8 13.7765C6.80589 13.7765 6 12.9759 6 11.9882C6 11.0006 6.80589 10.2 7.8 10.2C8.79411 10.2 9.6 11.0006 9.6 11.9882Z"/>
  <path d="M7.8 20.9765C8.79411 20.9765 9.6 20.1758 9.6 19.1882C9.6 18.2006 8.79411 17.4 7.8 17.4C6.80589 17.4 6 18.2006 6 19.1882C6 20.1758 6.80589 20.9765 7.8 20.9765Z"/>
  <path d="M16.8 4.78824C16.8 5.77585 15.9941 6.57647 15 6.57647C14.0059 6.57647 13.2 5.77585 13.2 4.78824C13.2 3.80062 14.0059 3 15 3C15.9941 3 16.8 3.80062 16.8 4.78824Z"/>
  <path d="M15 13.7765C15.9941 13.7765 16.8 12.9759 16.8 11.9882C16.8 11.0006 15.9941 10.2 15 10.2C14.0059 10.2 13.2 11.0006 13.2 11.9882C13.2 12.9759 14.0059 13.7765 15 13.7765Z"/>
  <path d="M16.8 19.1882C16.8 20.1758 15.9941 20.9765 15 20.9765C14.0059 20.9765 13.2 20.1758 13.2 19.1882C13.2 18.2006 14.0059 17.4 15 17.4C15.9941 17.4 16.8 18.2006 16.8 19.1882Z"/>
`;

    const dragSmall$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dragSmall
    }, Symbol.toStringTag, { value: 'Module' }));

    const edit$2 = `
  <path d="M20.0297 3.97141C18.7339 2.6762 16.6352 2.6762 15.3394 3.97141L4.19068 15.1705C4.07647 15.2856 3.99835 15.4316 3.9659 15.5905L3.02186 19.9862C2.9625 20.2391 3.02561 20.5053 3.19219 20.7045C3.35877 20.9037 3.60935 21.0128 3.8685 20.9988H4.03334L8.46137 20.0837C8.61942 20.0492 8.76473 19.9713 8.88095 19.8586L20.0297 8.66707C21.3234 7.3698 21.3234 5.26869 20.0297 3.97141Z"/>
`;

    const edit$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: edit$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const fastForward = `
  <path d="M6.56438 12.0002L0.773195 6.41674C-0.231675 5.44792 -0.260899 3.84792 0.70792 2.84305L0.816027 2.73648C1.84535 1.74409 3.4754 1.74409 4.50473 2.73648L12.2247 10.1795C12.6499 10.5894 12.9004 11.1123 12.9746 11.6553C13.0763 12.3963 12.8497 13.1749 12.2903 13.7551L12.225 13.8204L4.50499 21.2634C3.47566 22.2558 1.84561 22.2558 0.816285 21.2634L0.773453 21.2221C-0.187726 20.2954 -0.256256 18.7913 0.587468 17.7828L0.740518 17.6155L6.56438 12.0002Z"/>
  <path d="M17.5644 12.0002L11.7732 6.41674C10.7683 5.44792 10.7391 3.84792 11.7079 2.84305L11.816 2.73648C12.8454 1.74409 14.4754 1.74409 15.5047 2.73648L23.2247 10.1795C23.6499 10.5894 23.9004 11.1123 23.9746 11.6553C24.0763 12.3963 23.8497 13.1749 23.2903 13.7551L23.225 13.8204L15.505 21.2634C14.4757 22.2558 12.8456 22.2558 11.8163 21.2634L11.7735 21.2221C10.8123 20.2954 10.7437 18.7913 11.5875 17.7828L11.7405 17.6155L17.5644 12.0002Z"/>
`;

    const fastForward$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: fastForward
    }, Symbol.toStringTag, { value: 'Module' }));

    const file = `
  <path d="M15.9511 1.4821L20.5709 6.41425C20.8559 6.73863 21.01 7.17216 20.9995 7.61947V20.469C20.9996 21.8525 19.9727 22.9797 18.6938 23H5.33993C4.04762 23 3 21.8668 3 20.469V3.53098C3 2.13316 4.04762 1.00001 5.33993 1.00001H14.854C15.264 0.998486 15.6582 1.17167 15.9511 1.4821ZM15.1368 6.56258C15.1368 7.0746 15.5205 7.48968 15.9939 7.48968H19.0881L15.1368 3.28066V6.56258Z"/>
`;

    const file$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: file
    }, Symbol.toStringTag, { value: 'Module' }));

    const filters = `
  <path d="M20.8994 3H2.89935C2.58168 2.99941 2.29062 3.17316 2.1455 3.44987C1.99837 3.73031 2.0242 4.068 2.21216 4.32412L8.80663 13.4253C8.80883 13.4284 8.81124 13.4314 8.81344 13.4345C9.05304 13.7514 9.18276 14.1354 9.18336 14.5298V21.9499C9.18195 22.1695 9.27003 22.3807 9.42797 22.5367C9.5861 22.6924 9.80109 22.7802 10.0253 22.7802C10.1392 22.78 10.2521 22.7579 10.3574 22.7149L14.063 21.3308C14.3948 21.2314 14.6152 20.9245 14.6152 20.555V14.5298C14.6158 14.1354 14.7455 13.7514 14.9849 13.4345C14.9871 13.4314 14.9896 13.4284 14.9918 13.4253L21.5864 4.32393C21.7744 4.068 21.8002 3.7305 21.6531 3.45007C21.5082 3.17316 21.2169 2.99941 20.8994 3Z"/>
`;

    const filters$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: filters
    }, Symbol.toStringTag, { value: 'Module' }));

    const front = `
  <g style="transform-origin: center;transform: rotate(180deg)">
    <path d="M6.20864 14.2538L6.27391 14.319L13.9939 21.7563C14.9785 22.7048 16.5127 22.746 17.5451 21.88L17.7255 21.715C18.6866 20.789 18.7552 19.286 17.9115 18.2784L17.7584 18.1112L11.9349 12.5L17.7257 6.92111C18.7306 5.95304 18.7598 4.3543 17.791 3.35021L17.6829 3.24372C16.6536 2.25209 15.0235 2.25209 13.9942 3.24372L6.27417 10.681C5.91221 11.0297 5.67683 11.4602 5.5691 11.9153C5.55075 11.9935 5.53606 12.0717 5.52508 12.1504C5.50727 12.2787 5.49933 12.408 5.50126 12.5372C5.51023 13.1573 5.74529 13.7736 6.20864 14.2538Z" />
  </g>
`;

    const front$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: front
    }, Symbol.toStringTag, { value: 'Module' }));

    const help = `
  <path d="M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21509 0.913451 7.4078C0.00519941 9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.8071 3.51472 20.4853C5.19295 22.1635 7.33115 23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0866C18.7849 22.1783 20.6591 20.6402 21.9776 18.6668C23.2962 16.6935 24 14.3734 24 12C23.9961 8.8186 22.7306 5.76861 20.481 3.51901C18.2314 1.26942 15.1814 0.00388846 12 0ZM12 21.551C10.111 21.551 8.2644 20.9909 6.69374 19.9414C5.12309 18.8919 3.89891 17.4002 3.17601 15.655C2.45312 13.9098 2.26398 11.9894 2.63251 10.1367C3.00103 8.28397 3.91068 6.58214 5.24641 5.24641C6.58215 3.91067 8.28398 3.00103 10.1367 2.6325C11.9894 2.26397 13.9098 2.45311 15.655 3.17601C17.4002 3.8989 18.8919 5.12308 19.9414 6.69374C20.9909 8.26439 21.551 10.111 21.551 12C21.5484 14.5323 20.5413 16.9601 18.7507 18.7507C16.9601 20.5413 14.5323 21.5484 12 21.551Z"/>
  <path d="M12.3331 14.9192C11.9012 14.9021 11.4801 15.0572 11.1625 15.3503C11.001 15.4999 10.876 15.6845 10.797 15.89C10.718 16.0955 10.6872 16.3163 10.707 16.5356C10.7276 16.8513 10.8495 17.1519 11.0547 17.3927C11.2151 17.5726 11.4116 17.7165 11.6315 17.8151C11.8514 17.9136 12.0897 17.9646 12.3306 17.9646C12.5716 17.9646 12.8098 17.9136 13.0297 17.8151C13.2496 17.7165 13.4462 17.5726 13.6066 17.3927C13.8127 17.1506 13.9347 16.8481 13.9543 16.5307C13.974 16.3114 13.9432 16.0906 13.8643 15.8851C13.7853 15.6796 13.6603 15.495 13.4988 15.3454C13.1813 15.0557 12.7625 14.9027 12.3331 14.9192Z"/>
  <path d="M15.2714 6.60235C14.3408 6.00923 13.2488 5.71997 12.1465 5.77459C11.1571 5.74984 10.1751 5.9526 9.27634 6.36725C8.85442 6.57047 8.46357 6.83269 8.11552 7.14602C8.01154 7.24706 7.93302 7.37135 7.88644 7.50865C7.83986 7.64596 7.82655 7.79236 7.84759 7.93582C7.86863 8.07927 7.92342 8.21569 8.00747 8.33383C8.09152 8.45198 8.20241 8.54848 8.33103 8.61541L8.73756 8.85541C8.90931 8.95644 9.10882 9 9.30705 8.97974C9.50528 8.95948 9.69185 8.87645 9.8396 8.74276C10.387 8.23915 11.1091 7.96859 11.8527 7.98847C12.3224 7.96489 12.7874 8.09187 13.18 8.35092C13.3099 8.43877 13.4204 8.55234 13.5047 8.68461C13.5889 8.81688 13.6451 8.96503 13.6698 9.1199C13.6965 9.32883 13.6779 9.54105 13.6154 9.74218C13.5528 9.94331 13.4478 10.1286 13.3074 10.2856C13.0874 10.5369 12.8518 10.7741 12.6021 10.9958C12.1706 11.3684 11.7813 11.7873 11.4412 12.2448C11.3419 12.3847 11.2831 12.5494 11.2715 12.7207C11.2599 12.8919 11.2959 13.0631 11.3755 13.2151C11.455 13.3672 11.5751 13.4943 11.7225 13.5824C11.8698 13.6705 12.0386 13.7161 12.2102 13.7142H12.7735C12.9718 13.7223 13.1679 13.67 13.3359 13.5642C13.5038 13.4583 13.6356 13.304 13.7139 13.1215C13.76 13.0024 13.8227 12.8902 13.9 12.7885C14.1757 12.4475 14.4823 12.1327 14.8159 11.8481C15.1653 11.5215 15.451 11.2423 15.6731 11.0105C15.9068 10.746 16.0954 10.4448 16.2314 10.1191C16.3916 9.73282 16.47 9.31756 16.4616 8.89949C16.4747 8.44702 16.3723 7.99868 16.1641 7.59677C15.9558 7.19486 15.6486 6.85262 15.2714 6.60235Z"/>
`;

    const help$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: help
    }, Symbol.toStringTag, { value: 'Module' }));

    const imports = `
  <path d="M18.119 4.35192C18.6056 4.35192 19 3.9575 19 3.47096V2.88095C19 2.39442 18.6056 2 18.119 2H5.88095C5.39442 2 5 2.39442 5 2.88095V3.47096C5 3.9575 5.39442 4.35192 5.88095 4.35192H18.119Z"/>
  <path d="M18.4713 14.7417C18.418 14.6233 18.2994 14.5468 18.1683 14.5462H13.7327V7.66012C13.7327 7.0194 13.2133 6.5 12.5726 6.5H11.1903C10.5496 6.5 10.0302 7.0194 10.0302 7.66012V14.5462H5.84142C5.70794 14.5429 5.58539 14.6187 5.53001 14.7387C5.47464 14.8588 5.49714 14.9998 5.58718 15.0972L11.758 21.8365C11.8212 21.9053 11.9108 21.9445 12.0049 21.9445C12.0989 21.9445 12.1885 21.9053 12.2517 21.8365L18.4151 15.0948C18.5026 14.9982 18.5245 14.86 18.4713 14.7417Z"/>
`;

    const imports$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: imports
    }, Symbol.toStringTag, { value: 'Module' }));

    const inputStepper = `
  <path d="M1.21327 15.8162L11.4847 5.21999C11.7694 4.92667 12.2306 4.92667 12.5153 5.21999L22.7867 15.8162C22.995 16.0313 23.0573 16.3546 22.9445 16.6356C22.8318 16.9165 22.5662 17.0997 22.2715 17.1H1.72854C1.43382 17.0997 1.16824 16.9165 1.05549 16.6356C0.94274 16.3546 1.005 16.0313 1.21327 15.8162Z"/>
`;

    const inputStepper$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: inputStepper
    }, Symbol.toStringTag, { value: 'Module' }));

    const integration = `
  <path d="M1.02329 1.02337C2.11021 -0.0635417 3.65851 -0.308573 4.62937 0.403704L4.74765 0.497734L4.85528 0.597597L4.99569 0.748752C5.30788 1.11688 5.5222 1.58288 5.63863 2.14676L5.68254 2.39442L5.71446 2.65406L5.73249 2.76948C5.8383 3.25885 6.29647 3.602 6.80688 3.55218C6.90687 3.54242 7.00483 3.51764 7.09744 3.47869C7.87627 3.1511 8.46424 2.83206 8.86133 2.52157L9.0013 2.40553L9.63746 1.76922C10.7672 0.639489 12.5738 0.599141 13.7519 1.64818L13.8801 1.76922L14.474 2.36415C14.8628 2.72394 15.5126 3.09543 16.4236 3.47861C16.5162 3.51756 16.6142 3.54234 16.7142 3.5521C17.2216 3.60163 17.6773 3.26282 17.7866 2.77807L17.8066 2.65398L17.8385 2.39434C17.9396 1.71794 18.1686 1.16939 18.5254 0.748673L18.6652 0.596899L18.7734 0.497654C19.7327 -0.32761 21.3656 -0.108909 22.4978 1.02329C23.5847 2.11021 23.8297 3.65851 23.1174 4.62937L23.0234 4.74765L22.9235 4.85528L22.7718 4.99508C22.4036 5.30731 21.9376 5.52169 21.3738 5.63822L21.1262 5.68218L20.8666 5.71415L20.7425 5.73411C20.2577 5.84353 19.919 6.29937 19.9687 6.80675C19.9784 6.90664 20.0032 7.00449 20.0421 7.09701C20.3695 7.87573 20.6885 8.46363 20.9989 8.86071L21.115 9.00068L21.1563 9.04597L21.7484 9.63754C22.8782 10.7673 22.9185 12.5739 21.8695 13.7519L21.7484 13.8802L21.1043 14.5237C20.7107 14.8684 20.0788 15.2237 19.2085 15.5898C19.1159 15.6287 19.018 15.6535 18.918 15.6633C18.4106 15.7128 17.9548 15.374 17.8455 14.8892L17.8255 14.7651L17.7936 14.5055C17.6925 13.8291 17.4636 13.2805 17.1068 12.8598L16.967 12.7081L16.8587 12.6088C15.8994 11.7836 14.2666 12.0023 13.1344 13.1345C12.0475 14.2214 11.8024 15.7697 12.5147 16.7405L12.6087 16.8588L12.7086 16.9664L12.8604 17.1062C13.2285 17.4185 13.6945 17.6329 14.2583 17.7494L14.506 17.7933L14.7656 17.8253L14.8897 17.8453C15.3744 17.9547 15.7131 18.4105 15.6635 18.9179C15.6537 19.0178 15.629 19.1157 15.5901 19.2082C15.2648 19.9816 14.948 20.5668 14.6395 20.9638L14.5242 21.1038L13.8801 21.7485C12.7504 22.8782 10.9438 22.9186 9.76571 21.8695L9.63746 21.7485L8.96581 21.075C8.57029 20.739 7.94911 20.3929 7.10225 20.0368C7.00973 19.9979 6.91188 19.9732 6.81199 19.9634C6.34689 19.9179 5.9251 20.1987 5.77376 20.6192L5.73936 20.7372L5.71939 20.8613L5.68742 21.1209L5.64347 21.3686C5.54358 21.8518 5.37181 22.2632 5.12815 22.6027L5.00033 22.7665L4.86052 22.9183L4.75289 23.0182L4.63462 23.1122C3.66375 23.8245 2.11545 23.5794 1.02854 22.4925C-0.0583789 21.4056 -0.303411 19.8573 0.408867 18.8864L0.502896 18.7682L0.60214 18.6599L0.753915 18.5201C1.12204 18.2079 1.58804 17.9936 2.15193 17.8772L2.39958 17.8333L2.65922 17.8013L2.78331 17.7814C3.26806 17.6721 3.60687 17.2163 3.55734 16.7089C3.54758 16.6089 3.5228 16.511 3.48385 16.4184C3.12752 15.5712 2.78131 14.9499 2.44521 14.5544L1.76914 13.8802C0.639409 12.7505 0.599062 10.9439 1.6481 9.76579L1.76914 9.63754L2.30233 9.11142C2.68155 8.7322 3.07377 8.06075 3.47897 7.09709C3.51787 7.00457 3.54263 6.90672 3.5524 6.80683C3.59789 6.34173 3.31707 5.91994 2.89658 5.76859L2.77858 5.73419L2.6545 5.71423L2.39489 5.68226L2.14725 5.6383C1.66397 5.53842 1.25257 5.36664 0.913065 5.12298L0.749301 4.99516L0.597518 4.85536L0.497654 4.74773L0.395921 4.61888C-0.306866 3.64738 -0.0596826 2.10635 1.02329 1.02337Z"/>
`;

    const integration$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: integration
    }, Symbol.toStringTag, { value: 'Module' }));

    const link = `
  <path d="M20.3178 10.5921C19.9237 10.5921 19.5457 10.7487 19.267 11.0273C18.9884 11.306 18.8318 11.684 18.8318 12.0781V18.022C18.8318 18.4161 18.6753 18.7941 18.3966 19.0728C18.1179 19.3515 17.7399 19.508 17.3458 19.508H5.45795C5.06385 19.508 4.68588 19.3515 4.4072 19.0728C4.12853 18.7941 3.97197 18.4161 3.97197 18.022V6.10444C3.97197 5.71033 4.12853 5.33236 4.4072 5.05369C4.68588 4.77501 5.06385 4.61845 5.45795 4.61845H12.1449C12.539 4.61845 12.917 4.46189 13.1956 4.18322C13.4743 3.90454 13.6309 3.52658 13.6309 3.13247C13.6309 2.73836 13.4743 2.3604 13.1956 2.08172C12.917 1.80304 12.539 1.64648 12.1449 1.64648H5.45795C4.27563 1.64648 3.14173 2.11616 2.3057 2.95219C1.46968 3.78822 1 4.92211 1 6.10444L1 18.0443C1 19.2266 1.46968 20.3605 2.3057 21.1966C3.14173 22.0326 4.27563 22.5023 5.45795 22.5023H17.3458C18.5282 22.5023 19.6621 22.0326 20.4981 21.1966C21.3341 20.3605 21.8038 19.2266 21.8038 18.0443V12.1004C21.8067 11.9034 21.7705 11.7077 21.6971 11.5249C21.6238 11.342 21.5148 11.1756 21.3765 11.0352C21.2382 10.8948 21.0734 10.7834 20.8917 10.7073C20.7099 10.6313 20.5148 10.5921 20.3178 10.5921Z" />
  <path d="M22.0265 0.999889L16.3054 1.51998C16.1372 1.53741 15.9774 1.60191 15.8442 1.7061C15.711 1.81028 15.6099 1.94992 15.5524 2.10897C15.495 2.26803 15.4836 2.44005 15.5196 2.60529C15.5555 2.77053 15.6373 2.92228 15.7556 3.04312L17.2416 4.5291L8.89037 12.4865C8.62331 12.7617 8.47296 13.1294 8.47073 13.5129C8.4685 13.8963 8.61458 14.2658 8.87842 14.544C9.14226 14.8222 9.50345 14.9877 9.88646 15.0058C10.2695 15.0239 10.6447 14.8933 10.9336 14.6412L19.322 6.68378L20.9194 8.28121C21.0411 8.41343 21.1997 8.50613 21.3747 8.54734C21.5496 8.58855 21.7329 8.57637 21.9008 8.51239C22.0688 8.44841 22.2137 8.33555 22.3169 8.18839C22.4201 8.04123 22.4768 7.86652 22.4797 7.68682L22.9998 1.96578C23.01 1.8357 22.9917 1.70497 22.9463 1.58265C22.9009 1.46034 22.8294 1.34937 22.7368 1.25747C22.6442 1.16556 22.5327 1.09492 22.41 1.05044C22.2873 1.00596 22.1565 0.988708 22.0265 0.999889Z" />
`;

    const link$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: link
    }, Symbol.toStringTag, { value: 'Module' }));

    const loader$2 = `
  <ellipse opacity="0.7" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 11.925 4.87503)"/>
  <ellipse rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 20.1242 10.9278)"/>
  <ellipse opacity="0.4" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 5.87224 13.0723)"/>
  <ellipse opacity="0.3" rx="3.48584" ry="3.4859" transform="matrix(0.80444 0.594034 -0.593986 0.804475 14.0695 19.125)"/>
`;

    const loader$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: loader$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const locker = `
  <path d="M19.1998 21.9786V10.52C19.1998 9.8453 18.6725 9.2985 18.0218 9.2985H17.9955V7.01715C17.9955 3.58907 15.3058 0.800049 11.9998 0.800049C8.69384 0.800049 6.00415 3.58907 6.00415 7.01715V9.2985H5.97777C5.32743 9.2985 4.7998 9.8453 4.7998 10.52V21.9786C4.7998 22.6532 5.32743 23.2 5.97777 23.2H18.0218C18.6725 23.2 19.1998 22.6532 19.1998 21.9786ZM10.8218 16.0624C10.8218 15.3877 11.3492 14.8409 11.9998 14.8409C12.6504 14.8409 13.1778 15.3877 13.1778 16.0624V17.5835C13.1778 18.2579 12.6504 18.805 11.9998 18.805C11.3492 18.805 10.8218 18.2579 10.8218 17.5835V16.0624ZM8.36008 7.01715C8.36008 4.93619 9.99297 3.24299 11.9998 3.24299C14.0066 3.24299 15.6395 4.93619 15.6395 7.01715V9.2985H8.36008V7.01715Z" />
`;

    const locker$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: locker
    }, Symbol.toStringTag, { value: 'Module' }));

    const maximize = `
  <path d="M15.287 12.469L15.4142 12.5858L19 16.171V14.5C19 11.8926 22.8242 11.8347 22.9942 14.3262L23 14.5L22.9977 21.0976L22.9866 21.2321L22.953 21.432L22.9124 21.5869L22.8635 21.7276L22.7958 21.8814L22.7258 22.0115L22.6128 22.1832L22.5084 22.3135L22.4142 22.4142L22.343 22.4821L22.2274 22.5792L22.1428 22.6418L22.0124 22.7253L21.8398 22.8158L21.6778 22.8821L21.5309 22.9286L21.394 22.961L21.2341 22.9864L21.0507 22.9994L14.5 23C13.3954 23 12.5 22.1046 12.5 21C12.5 19.9456 13.3159 19.0818 14.3507 19.0055L14.5 19H16.171L12.5858 15.4142C11.8047 14.6332 11.8047 13.3668 12.5858 12.5858C13.3257 11.8458 14.5012 11.8069 15.287 12.469ZM10.5 1C11.6046 1 12.5 1.89543 12.5 3C12.5 4.05436 11.6841 4.91817 10.6493 4.99451L10.5 5H8.828L12.4142 8.58579C13.1953 9.36684 13.1953 10.6332 12.4142 11.4142C11.6743 12.1542 10.4988 12.1931 9.713 11.531L9.58579 11.4142L6 7.828V9.5C6 12.1074 2.1758 12.1653 2.00584 9.67383L2 9.5L2.003 2.895L2.01342 2.76792L2.0406 2.59786L2.07559 2.45394L2.13651 2.27237L2.20417 2.11864L2.27424 1.98854L2.38139 1.82473L2.49606 1.6815L2.58579 1.58579L2.667 1.509L2.77257 1.42082L2.85722 1.35823L2.98764 1.27475L3.16172 1.18356L3.32218 1.11786L3.4314 1.08198L3.60595 1.03896L3.76595 1.01364L3.94949 1.00063L10.5 1Z"/>
`;

    const maximize$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: maximize
    }, Symbol.toStringTag, { value: 'Module' }));

    const menu = `
  <path d="M2 12C2 10.8954 2.89543 10 4 10H20C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14H4C2.89543 14 2 13.1046 2 12Z"/>
  <path d="M2 12C2 10.8954 2.89543 10 4 10H20C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14H4C2.89543 14 2 13.1046 2 12Z"/>
  <path d="M2 19C2 17.8954 2.89543 17 4 17H20C21.1046 17 22 17.8954 22 19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z"/>
  <path d="M2 5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5C22 6.10457 21.1046 7 20 7H4C2.89543 7 2 6.10457 2 5Z"/>
`;

    const menu$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: menu
    }, Symbol.toStringTag, { value: 'Module' }));

    const minimize = `
  <path d="M11.7958 10.8814L11.7258 11.0115L11.6128 11.1832L11.5084 11.3135L11.4142 11.4142L11.343 11.4821L11.2274 11.5792L11.1428 11.6418L11.0124 11.7253L10.8398 11.8158L10.6778 11.8821L10.5309 11.9286L10.394 11.961L10.2341 11.9864L10.0507 11.9994L3.5 12C2.39543 12 1.5 11.1046 1.5 10C1.5 8.94564 2.31588 8.08183 3.35074 8.00549L3.5 8H5.171L1.58579 4.41421C0.804738 3.63317 0.804738 2.36683 1.58579 1.58579C2.32573 0.845846 3.50121 0.806901 4.287 1.46895L4.41421 1.58579L8 5.171V3.5C8 0.892593 11.8242 0.83465 11.9942 3.32617L12 3.5L11.9977 10.0976L11.9866 10.2321L11.953 10.432L11.9124 10.5869L11.8635 10.7276L11.7958 10.8814ZM19.5 12C20.6046 12 21.5 12.8954 21.5 14C21.5 15.0544 20.6841 15.9182 19.6493 15.9945L19.5 16H15V20.5C15 23.1074 11.1758 23.1653 11.0058 20.6738L11 20.5V14C11 12.9456 11.8159 12.0818 12.8507 12.0055L13 12H19.5ZM11.5858 12.5858C12.3257 11.8458 13.5012 11.8069 14.287 12.469L14.4142 12.5858L21.4142 19.5858C22.1953 20.3668 22.1953 21.6332 21.4142 22.4142C20.6743 23.1542 19.4988 23.1931 18.713 22.531L18.5858 22.4142L11.5858 15.4142C10.8047 14.6332 10.8047 13.3668 11.5858 12.5858Z"/>
`;

    const minimize$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: minimize
    }, Symbol.toStringTag, { value: 'Module' }));

    const navigationArrow = `
  <path d="M21.2241 10.4923C21.6927 10.8193 22 11.3656 22 11.9772C22 12.3235 21.9015 12.6489 21.731 12.9254C21.6595 13.0438 21.573 13.1557 21.4715 13.2582L16.3198 18.4584C15.6206 19.1641 14.4742 19.1581 13.7751 18.4524C13.0851 17.756 13.0793 16.6279 13.7693 15.9314L15.8998 13.7809H3.78684C2.79999 13.7809 2 12.9641 2 11.9772C2 10.9904 2.79999 10.1736 3.78683 10.1736H15.8544L13.7691 8.06864C13.0792 7.37222 13.085 6.24409 13.7749 5.54766C14.474 4.84196 15.6205 4.83597 16.3196 5.54168L21.2241 10.4923Z"/>
`;

    const navigationArrow$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: navigationArrow
    }, Symbol.toStringTag, { value: 'Module' }));

    const placeholder = `
  <rect width="24" height="24" fill="#2480F2"/>
`;

    const placeholder$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: placeholder
    }, Symbol.toStringTag, { value: 'Module' }));

    const reset = `
  <path d="M11.8623 2H11.7801C9.22666 2.00327 6.76692 2.9436 4.88471 4.63601C4.77286 4.74355 4.59385 4.74355 4.482 4.63601L2.59995 2.74969C2.49808 2.65098 2.34553 2.62233 2.21368 2.67714C2.08537 2.7313 2.00162 2.85452 2 2.99153V9.72263C2.00447 9.91091 2.16139 10.0613 2.3534 10.0612H9.14192C9.30188 10.0655 9.44389 9.96143 9.485 9.80974C9.52611 9.65804 9.45554 9.49853 9.31451 9.42437L7.47355 7.64284C7.41528 7.5881 7.38232 7.51239 7.38232 7.43325C7.38232 7.35411 7.41528 7.2784 7.47355 7.22366C9.65244 5.35178 12.8311 5.11963 15.2686 6.65434C17.7061 8.18905 18.8144 11.1204 17.9865 13.8429C17.1586 16.5654 14.5942 18.4222 11.6979 18.3965V21.9998H11.7472C17.3778 22.031 21.9681 17.5791 21.9998 12.0563C22.0316 6.53354 17.4929 2.03116 11.8623 2Z" />
`;

    const reset$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: reset
    }, Symbol.toStringTag, { value: 'Module' }));

    const settings = `
  <path d="M21.0855 9.88665H19.469C19.3042 9.30338 19.0711 8.74158 18.7747 8.21288L19.92 7.06764C20.2762 6.71132 20.2762 6.13369 19.92 5.77737L18.2206 4.08003C17.8643 3.72379 17.2866 3.72379 16.9303 4.08003L15.7855 5.22486C15.2568 4.92845 14.695 4.69541 14.1117 4.53057V2.91245C14.1117 2.40852 13.7032 2 13.1993 2H10.7987C10.2948 2 9.88625 2.40852 9.88625 2.91245V4.53057C9.30297 4.69541 8.74117 4.92845 8.21247 5.22486L7.06764 4.08003C6.71142 3.72433 6.13441 3.72433 5.77818 4.08003L4.08003 5.77818C3.72379 6.1345 3.72379 6.71213 4.08003 7.06845L5.22527 8.21369C4.92886 8.74239 4.69582 9.30419 4.53098 9.88747H2.91245C2.40899 9.88747 2.00067 10.2952 2 10.7987V13.1993C2 13.7032 2.40852 14.1117 2.91245 14.1117H4.53057C4.69542 14.695 4.92845 15.2568 5.22486 15.7855L4.08003 16.9303C3.72379 17.2866 3.72379 17.8643 4.08003 18.2206L5.77818 19.9179C6.1345 20.2742 6.71213 20.2742 7.06845 19.9179L8.21369 18.7727C8.74204 19.0698 9.30357 19.3035 9.88665 19.469V21.0875C9.88665 21.5915 10.2952 22 10.7991 22H13.1997C13.7036 22 14.1121 21.5915 14.1121 21.0875V19.469C14.6954 19.3042 15.2572 19.0711 15.7859 18.7747L16.9311 19.92C17.2875 20.2762 17.8651 20.2762 18.2214 19.92L19.9187 18.2226C20.275 17.8663 20.275 17.2887 19.9187 16.9324L18.7735 15.7871C19.0705 15.258 19.3039 14.6956 19.469 14.1117H21.0875C21.5915 14.1117 22 13.7032 22 13.1993V10.7987C21.9999 10.5564 21.9034 10.3241 21.7319 10.153C21.5603 9.98195 21.3278 9.88612 21.0855 9.88665ZM11.9992 15.2342C10.6907 15.2342 9.51114 14.446 9.01042 13.2372C8.5097 12.0283 8.78647 10.6369 9.71168 9.71168C10.6369 8.78647 12.0283 8.5097 13.2372 9.01042C14.446 9.51114 15.2342 10.6907 15.2342 11.9992C15.2342 13.7858 13.7858 15.2342 11.9992 15.2342Z"/>
`;

    const settings$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: settings
    }, Symbol.toStringTag, { value: 'Module' }));

    const sort = `
  <path d="M5.35748 14.25H18.6425C18.7838 14.2507 18.9116 14.3412 18.969 14.4813C19.0264 14.6213 19.0028 14.7848 18.9085 14.899L12.258 22.8722C12.19 22.9536 12.0934 23 11.992 23C11.8907 23 11.7941 22.9536 11.726 22.8722L5.09146 14.899C4.99724 14.7848 4.97356 14.6213 5.03096 14.4813C5.08836 14.3412 5.21616 14.2507 5.35748 14.25Z"/>
  <path d="M18.6425 10.75H5.35748C5.21616 10.7493 5.08836 10.6588 5.03096 10.5187C4.97356 10.3787 4.99724 10.2152 5.09146 10.101L11.742 2.12781C11.81 2.04642 11.9066 2 12.008 2C12.1093 2 12.2059 2.04642 12.274 2.12781L18.9085 10.101C19.0028 10.2152 19.0264 10.3787 18.969 10.5187C18.9116 10.6588 18.7838 10.7493 18.6425 10.75Z"/>
`;

    const sort$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: sort
    }, Symbol.toStringTag, { value: 'Module' }));

    const star = `
  <path d="M16.8296 13.6124L20.7123 10.3997C21.2615 9.94343 20.9774 9.04995 20.2577 9.01193L15.2576 8.70777C14.9546 8.68876 14.6894 8.49866 14.5758 8.21351L12.7386 3.49901C12.4735 2.83366 11.5454 2.83366 11.2803 3.49901L9.44314 8.1945C9.3295 8.47965 9.06435 8.66975 8.76131 8.68876L3.7423 8.99292C3.02259 9.03094 2.73849 9.92442 3.28774 10.3807L7.17038 13.5744C7.39766 13.7645 7.51129 14.0876 7.43553 14.3728L6.16658 19.2584C5.99612 19.9427 6.73477 20.494 7.34084 20.1138L11.5644 17.3954C11.8295 17.2243 12.1515 17.2243 12.3977 17.3954L16.6402 20.1138C17.2463 20.494 17.9849 19.9427 17.8145 19.2584L16.5455 14.3918C16.4887 14.1066 16.5834 13.8025 16.8296 13.6124Z"/>
`;

    const star$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: star
    }, Symbol.toStringTag, { value: 'Module' }));

    const textAreaResizable = `
  <path d="M23.8409 16.9273C24.053 16.7151 24.053 16.3712 23.8409 16.1591C23.6288 15.947 23.2849 15.947 23.0727 16.1591L16.1591 23.0727C15.947 23.2849 15.947 23.6288 16.1591 23.8409C16.3712 24.053 16.7151 24.053 16.9273 23.8409L23.8409 16.9273ZM23.5773 21.2728C23.7894 21.0606 23.7894 20.7167 23.5773 20.5046C23.3652 20.2925 23.0213 20.2925 22.8091 20.5046L20.5046 22.8091C20.2925 23.0213 20.2925 23.3652 20.5046 23.5773C20.7167 23.7894 21.0606 23.7894 21.2728 23.5773L23.5773 21.2728Z"/>
`;

    const textAreaResizable$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: textAreaResizable
    }, Symbol.toStringTag, { value: 'Module' }));

    const top = `
  <path d="M1.33333 5.64695C0.595833 5.64695 0 5.05549 0 4.32342C0 3.59134 0.595833 2.99989 1.33333 2.99989L22.6667 2.99989C23.4029 2.99989 24 3.59134 24 4.32342C24 5.05549 23.4029 5.64695 22.6667 5.64695L1.33333 5.64695ZM11.3917 7.35926C11.9125 6.84226 12.7542 6.84226 13.275 7.35926L17.275 11.3298C17.7958 11.8469 17.7958 12.6823 17.275 13.1993C16.7542 13.7163 15.9125 13.7163 15.3917 13.1993L13.6667 11.4912L13.6667 20.2058C13.6667 20.9366 13.0708 21.5293 12.3333 21.5293C11.5958 21.5293 11 20.9366 11 20.2058L11 11.4912L9.275 13.1993C8.75416 13.7163 7.9125 13.7163 7.39167 13.1993C6.87083 12.6823 6.87083 11.8469 7.39167 11.3298L11.3917 7.35926Z"/>
 `;

    const top$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: top
    }, Symbol.toStringTag, { value: 'Module' }));

    const filter$2 = `
  <g fill="var(--oryx-icon-color, var(--oryx-color-info-300))">
    <path d="M15.9621 6.25132C16.5136 6.56541 17.2153 6.37609 17.5339 5.82719L19.3302 2.72519C19.6472 2.17404 19.4573 1.47032 18.9061 1.15341C18.3549 0.836492 17.6512 1.02638 17.3343 1.57754L15.538 4.67953C15.2239 5.23105 15.4132 5.93267 15.9621 6.25132Z" />
    <path d="M11.8432 3.42366C11.9945 3.45896 12.1175 3.56861 12.1699 3.71484L16.6108 15.6571C16.6662 15.7989 16.6474 15.959 16.5606 16.0841C16.4739 16.2092 16.3306 16.2829 16.1783 16.2808L1.36696 16.1977C0.803201 16.1921 0.299468 15.8443 0.094508 15.3191C-0.110452 14.7939 0.0245506 14.1968 0.43553 13.8109L11.4214 3.5402C11.5331 3.43225 11.6919 3.38836 11.8432 3.42366Z" />
    <path d="M22.4405 6.68377C22.6909 7.26937 22.4191 7.94702 21.8335 8.19734L18.5069 9.6028C18.1296 9.76473 17.6945 9.71305 17.3656 9.46723C17.0367 9.22141 16.864 8.8188 16.9124 8.41106C16.9608 8.00331 17.2231 7.65238 17.6004 7.49045L20.927 6.07668C21.5126 5.82636 22.1902 6.09816 22.4405 6.68377Z" />
    <path d="M19.5381 10.7671L23.0726 11.3825L23.0476 11.3908C23.4517 11.4606 23.7878 11.7407 23.9294 12.1256C24.071 12.5104 23.9965 12.9416 23.734 13.2566C23.4715 13.5716 23.0608 13.7227 22.6568 13.6529L19.1223 13.0374C18.4954 12.9226 18.0802 12.3213 18.1951 11.6944C18.3099 11.0674 18.9112 10.6523 19.5381 10.7671Z" />
    <path d="M8.3111 21.3288L5.8162 17.8027H2.74747L6.26528 22.7925C6.69392 23.2801 7.42219 23.3637 7.95016 22.9859C8.47814 22.6082 8.63415 21.8919 8.3111 21.3288Z" />
  </g>
`;

    const filter$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: filter$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const goldPartner = `
  <g fill="#fdaf1c">
    <path d="M2.13365 7.76232L3.33708 17.256C3.41652 17.6756 3.78435 17.9785 4.21137 17.976H20.0617C20.4985 17.976 20.8699 17.657 20.9359 17.2252L22.4171 7.68004C22.4602 7.37364 22.3401 7.06699 22.1003 6.8714C21.8605 6.6758 21.536 6.61971 21.2445 6.72346L17.5108 8.11203C17.1283 8.24454 16.7047 8.1005 16.4822 7.76232L13.1085 1.71432C12.9444 1.46874 12.6685 1.32129 12.3731 1.32129C12.0777 1.32129 11.8018 1.46874 11.6377 1.71432L7.9348 8.00918C7.70358 8.33595 7.28173 8.46673 6.90623 8.32803L3.33708 6.85718C3.05134 6.74525 2.72801 6.78942 2.48275 6.97389C2.2375 7.15835 2.10538 7.45675 2.13365 7.76232Z"  />
    <path d="M4.56708 19.8172C4.0866 19.8172 3.69708 20.2067 3.69708 20.6872V21.7655C3.69708 22.246 4.0866 22.6355 4.56708 22.6355H19.7985C20.279 22.6355 20.6685 22.246 20.6685 21.7655V20.6872C20.6685 20.2067 20.279 19.8172 19.7985 19.8172H4.56708Z"  />
  </g>
`;

    const goldPartner$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: goldPartner
    }, Symbol.toStringTag, { value: 'Module' }));

    const popular = `
  <path fill="#ff6800" d="M20.4525 13.8805C20.2008 10.6012 18.6744 8.54569 17.3274 6.7319L17.3253 6.72905C16.0771 5.04947 14.9995 3.59891 14.9995 1.45915C14.9995 1.28739 14.9035 1.13004 14.7508 1.0514C14.5983 0.971945 14.414 0.985416 14.2747 1.0862C12.2496 2.53462 10.5619 4.97557 9.9724 7.3048C9.56293 8.92638 9.50879 10.749 9.49977 11.953C7.63819 11.5554 7.21089 8.78029 7.20283 8.72794C7.18211 8.58302 7.09336 8.4562 6.96409 8.38749C6.83482 8.31878 6.68051 8.31594 6.5488 8.37984C6.45083 8.4271 4.14265 9.59967 4.00902 14.2813C4 14.4373 4 14.5933 4 14.7497C4 19.2977 7.70117 22.9993 12.2496 22.9993C12.2558 23.0002 12.262 23.0002 12.2681 22.9993H12.2741C16.8114 22.9856 20.4993 19.29 20.4993 14.7497C20.4993 14.5207 20.4525 13.8805 20.4525 13.8805ZM12.2496 21.1518C11.3868 21.1516 10.6011 20.6547 10.2313 19.8751C9.86147 19.0955 9.97361 18.1726 10.5194 17.5043L12.2496 14.8876L13.9653 17.485C14.5216 18.1508 14.6421 19.0785 14.2744 19.8644C13.9067 20.6502 13.1173 21.1522 12.2496 21.1518Z"  />
`;

    const popular$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: popular
    }, Symbol.toStringTag, { value: 'Module' }));

    const silverPartner = `
  <g fill="#9ea1a6">
    <path d="M2.13365 7.76232L3.33708 17.256C3.41652 17.6756 3.78435 17.9785 4.21137 17.976H20.0617C20.4985 17.976 20.8699 17.657 20.9359 17.2252L22.4171 7.68004C22.4602 7.37364 22.3401 7.06699 22.1003 6.8714C21.8605 6.6758 21.536 6.61971 21.2445 6.72346L17.5108 8.11203C17.1283 8.24454 16.7047 8.1005 16.4822 7.76232L13.1085 1.71432C12.9444 1.46874 12.6685 1.32129 12.3731 1.32129C12.0777 1.32129 11.8018 1.46874 11.6377 1.71432L7.9348 8.00918C7.70358 8.33595 7.28173 8.46673 6.90623 8.32803L3.33708 6.85718C3.05134 6.74525 2.72801 6.78942 2.48275 6.97389C2.2375 7.15835 2.10538 7.45675 2.13365 7.76232Z"  />
    <path d="M4.56708 19.8172C4.0866 19.8172 3.69708 20.2067 3.69708 20.6872V21.7655C3.69708 22.246 4.0866 22.6355 4.56708 22.6355H19.7985C20.279 22.6355 20.6685 22.246 20.6685 21.7655V20.6872C20.6685 20.2067 20.279 19.8172 19.7985 19.8172H4.56708Z"  />
  </g>
`;

    const silverPartner$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: silverPartner
    }, Symbol.toStringTag, { value: 'Module' }));

    const backArrow = `
  <path d="M9 18.1001L2.875 11.9751L9 5.8501L10.225 7.0751L6.175 11.1251H21.125V12.8251H6.175L10.225 16.8751L9 18.1001Z"/>
`;

    const backArrow$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: backArrow
    }, Symbol.toStringTag, { value: 'Module' }));

    const search$2 = `
  <path d="M19.3309 20.63L14.0552 15.3808C13.5427 15.8226 12.9329 16.1673 12.2259 16.4147C11.519 16.6621 10.7678 16.7859 9.97247 16.7859C8.02831 16.7859 6.38019 16.1142 5.02811 14.771C3.67604 13.4278 3 11.8017 3 9.89293C3 7.98412 3.67604 6.35809 5.02811 5.01486C6.38019 3.67162 8.01063 3 9.91944 3C11.8283 3 13.4543 3.67162 14.7975 5.01486C16.1408 6.35809 16.8124 7.98412 16.8124 9.89293C16.8124 10.6529 16.6887 11.3864 16.4412 12.0934C16.1938 12.8003 15.8315 13.4631 15.3543 14.0817L20.6565 19.3044L19.3309 20.63ZM9.94595 14.9831C11.3422 14.9831 12.5308 14.4838 13.5117 13.4852C14.4926 12.4866 14.9831 11.2892 14.9831 9.89293C14.9831 8.49667 14.4926 7.29925 13.5117 6.30065C12.5308 5.30206 11.3422 4.80277 9.94595 4.80277C8.51435 4.80277 7.30366 5.30206 6.31391 6.30065C5.32416 7.29925 4.82928 8.49667 4.82928 9.89293C4.82928 11.2892 5.32416 12.4866 6.31391 13.4852C7.30366 14.4838 8.51435 14.9831 9.94595 14.9831Z"/>
`;

    const search$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: search$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const close$2 = `
  <path d="M6.22539 18.9749L5.02539 17.7749L10.8004 11.9999L5.02539 6.2249L6.22539 5.0249L12.0004 10.7999L17.7754 5.0249L18.9754 6.2249L13.2004 11.9999L18.9754 17.7749L17.7754 18.9749L12.0004 13.1999L6.22539 18.9749Z"/>
`;

    const close$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: close$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const edit = `
  <path d="M20.0297 3.97141C18.7339 2.6762 16.6352 2.6762 15.3394 3.97141L4.19068 15.1705C4.07647 15.2856 3.99835 15.4316 3.9659 15.5905L3.02186 19.9862C2.9625 20.2391 3.02561 20.5053 3.19219 20.7045C3.35877 20.9037 3.60935 21.0128 3.8685 20.9988H4.03334L8.46137 20.0837C8.61942 20.0492 8.76473 19.9713 8.88095 19.8586L20.0297 8.66707C21.3234 7.3698 21.3234 5.26869 20.0297 3.97141Z"/>
`;

    const edit$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: edit
    }, Symbol.toStringTag, { value: 'Module' }));

    const remove$2 = `
  <circle cx="12" cy="12" r="12" style="fill:var(--oryx-color-canvas-500, #eeeeee)"/>
  <path d="M16.1425 7.85748C15.6659 7.38084 14.8931 7.38084 14.4165 7.85748L12 10.2739L9.58353 7.85748C9.10689 7.38084 8.33411 7.38084 7.85748 7.85748C7.38084 8.33411 7.38084 9.10689 7.85748 9.58353L10.2739 12L7.85748 14.4165C7.38084 14.8931 7.38084 15.6659 7.85748 16.1425C8.33411 16.6192 9.10689 16.6192 9.58353 16.1425L12 13.7261L14.4165 16.1425C14.8931 16.6192 15.6659 16.6192 16.1425 16.1425C16.6192 15.6659 16.6192 14.8931 16.1425 14.4165L13.7261 12L16.1425 9.58353C16.6192 9.10689 16.6192 8.33411 16.1425 7.85748Z" />
`;

    const remove$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: remove$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const filter = `
  <path d="M7.675 18V12.375H9.175V14.45H18V15.95H9.175V18H7.675ZM0 15.95V14.45H6.175V15.95H0ZM4.675 11.8V9.75H0V8.25H4.675V6.15H6.175V11.8H4.675ZM7.675 9.75V8.25H18V9.75H7.675ZM11.825 5.625V0H13.325V2.05H18V3.55H13.325V5.625H11.825ZM0 3.55V2.05H10.325V3.55H0Z"/>
`;

    const filter$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: filter
    }, Symbol.toStringTag, { value: 'Module' }));

    const profile = `
  <path d="M12 11.9751C10.9 11.9751 10 11.6251 9.3 10.9251C8.6 10.2251 8.25 9.3251 8.25 8.2251C8.25 7.1251 8.6 6.2251 9.3 5.5251C10 4.8251 10.9 4.4751 12 4.4751C13.1 4.4751 14 4.8251 14.7 5.5251C15.4 6.2251 15.75 7.1251 15.75 8.2251C15.75 9.3251 15.4 10.2251 14.7 10.9251C14 11.6251 13.1 11.9751 12 11.9751ZM4 20.0001V17.6501C4 17.0168 4.15833 16.4751 4.475 16.0251C4.79167 15.5751 5.2 15.2334 5.7 15.0001C6.81667 14.5001 7.8875 14.1251 8.9125 13.8751C9.9375 13.6251 10.9667 13.5001 12 13.5001C13.0333 13.5001 14.0583 13.6293 15.075 13.8876C16.0917 14.1459 17.1583 14.5168 18.275 15.0001C18.7917 15.2334 19.2083 15.5751 19.525 16.0251C19.8417 16.4751 20 17.0168 20 17.6501V20.0001H4Z"/>
`;

    const profile$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: profile
    }, Symbol.toStringTag, { value: 'Module' }));

    const visible$2 = `
  <path d="M8.44464 12.2581C8.44464 10.3055 10.0275 8.72258 11.9801 8.72258C13.9318 8.72486 15.5133 10.3064 15.5156 12.2581C15.5156 14.2107 13.9327 15.7935 11.9801 15.7935C10.0275 15.7935 8.44464 14.2107 8.44464 12.2581Z" />
  <path d="M12.0059 4C4.136 4 0.980382 9.67123 0.130318 11.6139C-0.0485177 12.0228 -0.0430662 12.4888 0.145286 12.8934C1.04438 14.8289 4.33883 20.5161 12.0059 20.5161C19.6963 20.5161 22.9479 14.7974 23.8253 12.8774C24.0058 12.4822 24.011 12.0292 23.8397 11.6299C23.0139 9.70271 19.8981 4 12.0059 4ZM11.9801 17.8581C8.88733 17.8581 6.38012 15.3509 6.38012 12.2581C6.38012 9.16527 8.88733 6.65806 11.9801 6.65806C15.0729 6.65806 17.5801 9.16527 17.5801 12.2581C17.5767 15.3494 15.0715 17.8547 11.9801 17.8581Z" />
`;

    const visible$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: visible$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const invisible$2 = `
  <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5836 5.6247L21.0065 4.20276C21.5105 3.6988 21.5105 2.8817 21.0065 2.37773C20.5026 1.87376 19.6855 1.87376 19.1815 2.37773L17.2414 4.31786C15.7905 3.71244 14.0605 3.32586 12.0063 3.32586C4.13686 3.32586 0.980733 8.99657 0.130668 10.9398C-0.0484646 11.3486 -0.0432004 11.8146 0.14512 12.2193C0.646797 13.299 1.8948 15.5488 4.23389 17.3259L2.61325 18.9465C2.11331 19.4513 2.11543 20.2652 2.61799 20.7673C3.12055 21.2694 3.93447 21.2709 4.4388 20.7705L6.51467 18.6946C8.02693 19.3888 9.84267 19.842 12.0068 19.842C19.6971 19.842 22.9487 14.1233 23.8262 12.2033C24.0068 11.8072 24.0117 11.3531 23.8396 10.9532C23.3585 9.83167 22.1023 7.43425 19.5836 5.6247ZM6.38099 11.5839C6.37996 9.5773 7.45314 7.72364 9.19385 6.72541C10.9346 5.72717 13.0764 5.73709 14.8078 6.75141L13.2672 8.29154C11.9597 7.77951 10.4731 8.09027 9.48023 9.08316C8.48734 10.0761 8.17658 11.5626 8.6886 12.8701L7.14847 14.4108C6.64482 13.5539 6.37981 12.5778 6.38099 11.5839ZM8.92912 16.2781C9.83655 16.8707 10.8972 17.1855 11.981 17.1839L11.9769 17.1834C14.0308 17.1852 15.9207 16.062 16.9008 14.257C17.8808 12.452 17.7937 10.2552 16.6736 8.5336L15.1619 10.0453C15.8172 11.3996 15.5434 13.0202 14.4796 14.084C13.4157 15.1478 11.7951 15.4217 10.4409 14.7664L8.92912 16.2781Z" />
`;

    const invisible$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: invisible$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const refresh = `
  <path d="M11.9752 20.1501C9.7252 20.1501 7.80436 19.3543 6.2127 17.7626C4.62103 16.1709 3.8252 14.2501 3.8252 12.0001C3.8252 9.7501 4.62103 7.82926 6.2127 6.2376C7.80436 4.64593 9.7252 3.8501 11.9752 3.8501C13.4252 3.8501 14.6919 4.14176 15.7752 4.7251C16.8585 5.30843 17.8002 6.10843 18.6002 7.1251V3.8501H20.1752V10.4251H13.6002V8.8501H17.7752C17.1419 7.86677 16.3419 7.07093 15.3752 6.4626C14.4085 5.85426 13.2752 5.5501 11.9752 5.5501C10.1752 5.5501 8.6502 6.1751 7.4002 7.4251C6.1502 8.6751 5.5252 10.2001 5.5252 12.0001C5.5252 13.8001 6.1502 15.3251 7.4002 16.5751C8.6502 17.8251 10.1752 18.4501 11.9752 18.4501C13.3419 18.4501 14.596 18.0584 15.7377 17.2751C16.8794 16.4918 17.6752 15.4584 18.1252 14.1751H19.9002C19.4002 15.9584 18.421 17.4001 16.9627 18.5001C15.5044 19.6001 13.8419 20.1501 11.9752 20.1501Z"/>
`;

    const refresh$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: refresh
    }, Symbol.toStringTag, { value: 'Module' }));

    const info$2 = `
  <path d="M11.3904 16.125H12.7315V11.1872H11.3904V16.125ZM12 9.76478C12.2167 9.76478 12.3962 9.69366 12.5385 9.55142C12.6807 9.40918 12.7518 9.23645 12.7518 9.03325C12.7518 8.8165 12.6807 8.63362 12.5385 8.48461C12.3962 8.33559 12.2167 8.26108 12 8.26108C11.7833 8.26108 11.6038 8.33559 11.4615 8.48461C11.3193 8.63362 11.2482 8.8165 11.2482 9.03325C11.2482 9.23645 11.3193 9.40918 11.4615 9.55142C11.6038 9.69366 11.7833 9.76478 12 9.76478ZM12 20.25C10.8621 20.25 9.79187 20.0333 8.78941 19.5998C7.78695 19.1663 6.91318 18.577 6.1681 17.8319C5.42303 17.0868 4.83374 16.2131 4.40025 15.2106C3.96675 14.2081 3.75 13.1379 3.75 12C3.75 10.8485 3.96675 9.77155 4.40025 8.76909C4.83374 7.76663 5.42303 6.89624 6.1681 6.15794C6.91318 5.41964 7.78695 4.83374 8.78941 4.40025C9.79187 3.96675 10.8621 3.75 12 3.75C13.1515 3.75 14.2284 3.96675 15.2309 4.40025C16.2334 4.83374 17.1038 5.41964 17.8421 6.15794C18.5804 6.89624 19.1663 7.76663 19.5998 8.76909C20.0333 9.77155 20.25 10.8485 20.25 12C20.25 13.1379 20.0333 14.2081 19.5998 15.2106C19.1663 16.2131 18.5804 17.0868 17.8421 17.8319C17.1038 18.577 16.2334 19.1663 15.2309 19.5998C14.2284 20.0333 13.1515 20.25 12 20.25ZM12.0203 18.8682C13.9169 18.8682 15.5323 18.1977 16.8667 16.8565C18.201 15.5154 18.8682 13.8898 18.8682 11.9797C18.8682 10.0831 18.201 8.46767 16.8667 7.13331C15.5323 5.79895 13.9101 5.13177 12 5.13177C10.1034 5.13177 8.48461 5.79895 7.14347 7.13331C5.80234 8.46767 5.13177 10.0899 5.13177 12C5.13177 13.8966 5.80234 15.5154 7.14347 16.8565C8.48461 18.1977 10.1102 18.8682 12.0203 18.8682Z"/>
`;

    const info$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: info$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const cart$2 = `
<path d="M17.3333 18.3851C18.0693 18.3851 18.6667 18.971 18.6667 19.6929C18.6667 20.4148 18.0693 21 17.3333 21C16.5973 21 16 20.4148 16 19.6929C16 18.971 16.5973 18.3851 17.3333 18.3851ZM10 18.3851C10.736 18.3851 11.3333 18.971 11.3333 19.6929C11.3333 20.4148 10.736 21 10 21C9.264 21 8.66667 20.4148 8.66667 19.6929C8.66667 18.971 9.264 18.3851 10 18.3851ZM22 6.61559L18.7693 17.091L18.69 17.0707L18.6873 17.0779H8.66667L4.85133 5.30779H2V4H5.68733L9.55533 15.7688H17.836L20.1953 7.92272H8.41667L8 6.61559H21.3333H22Z"/>
`;

    const cart$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: cart$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const checkMark = `
<path d="M20.4357 8.37056L10.6396 18.4215C10.2624 18.8065 9.77177 19 9.27917 19C8.78657 19 8.29398 18.8065 7.91876 18.4215L3.56427 13.9538C2.81191 13.1838 2.81191 11.9341 3.56427 11.1622C4.31664 10.3902 5.53274 10.3902 6.2851 11.1622L9.27917 14.2341L17.7149 5.57895C18.4673 4.80702 19.6834 4.80702 20.4357 5.57895C21.1881 6.35089 21.1881 7.59863 20.4357 8.37056Z"/>
`;

    const checkMark$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: checkMark
    }, Symbol.toStringTag, { value: 'Module' }));

    const loader = `
  <path d="M7.5 14.5C8.88071 13.1193 8.88071 10.8807 7.5 9.5C6.11929 8.11929 3.88071 8.11929 2.5 9.5C1.11929 10.8807 1.11929 13.1193 2.5 14.5C3.88071 15.8807 6.11929 15.8807 7.5 14.5Z"/>
  <path opacity="0.7" d="M14.501 7.5C15.8817 6.11929 15.8817 3.88071 14.501 2.5C13.1203 1.11929 10.8817 1.11929 9.50098 2.5C8.12026 3.88071 8.12026 6.11929 9.50098 7.5C10.8817 8.88071 13.1203 8.88071 14.501 7.5Z"/>
  <path opacity="0.3" d="M14.501 21.5C15.8817 20.1193 15.8817 17.8807 14.501 16.5C13.1203 15.1193 10.8817 15.1193 9.50098 16.5C8.12026 17.8807 8.12026 20.1193 9.50098 21.5C10.8817 22.8807 13.1203 22.8807 14.501 21.5Z"/>
  <path opacity="0.4" d="M21.5 14.5C22.8807 13.1193 22.8807 10.8807 21.5 9.5C20.1193 8.11929 17.8807 8.11929 16.5 9.5C15.1193 10.8807 15.1193 13.1193 16.5 14.5C17.8807 15.8807 20.1193 15.8807 21.5 14.5Z"/>
`;

    const loader$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: loader
    }, Symbol.toStringTag, { value: 'Module' }));

    const freezerCategory = `
  <g fill="none">
    <path d="M11.9985 4.79785V9.59786" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.3239 5.75879L11.9981 7.67879L9.67236 5.75879" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M5.95752 8.39844L9.98572 10.7984" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.92585 6.79883L8.37425 9.83755L5.6001 10.9563" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M5.95752 15.5973L9.98572 13.1973" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M5.6001 13.0391L8.37425 14.1578L7.92585 17.1965" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.9985 19.1984V14.3984" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M9.67236 18.2388L11.9981 16.3188L14.3239 18.2388" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.0424 15.5973L14.0142 13.1973" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16.0739 17.1965L15.6255 14.1578L18.3996 13.0391" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.0424 8.39844L14.0142 10.7984" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.3996 10.9563L15.6255 9.83755L16.0739 6.79883" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.9973 9.59814L9.98291 10.7981V13.1982L11.9973 14.3982L14.0117 13.1982V10.7981L11.9973 9.59814Z" stroke="#55C3F0" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="12" cy="12" r="11.5" stroke="#55C3F0"/>
  </g>
`;

    const freezerCategory$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: freezerCategory
    }, Symbol.toStringTag, { value: 'Module' }));

    const freshCategory = `
  <g fill="none">
    <path d="M12.1094 18.1949C11.6287 18.219 11.1553 18.0772 10.7804 17.7968C10.4055 17.5164 10.1555 17.1172 10.0784 16.676L9.40745 10.1308C9.27614 8.84595 10.523 7.74396 12.1094 7.74396C13.6951 7.74396 14.942 8.84711 14.8107 10.1308L14.1397 16.676C14.0628 17.1172 13.8129 17.5164 13.4381 17.7968C13.0632 18.0772 12.59 18.219 12.1094 18.1949V18.1949Z" stroke="#8EB826" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.105 7.74403V5.59796" stroke="#8EB826" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M9.75891 8.84632C9.45266 8.69417 9.11076 8.61441 8.76343 8.61407C8.19836 8.63442 7.65974 8.8417 7.24486 9.1985C6.82997 9.5553 6.56617 10.0381 6.50109 10.5597C6.21317 12.785 6.56707 15.0413 7.52659 17.0979C7.64567 17.4123 7.86498 17.6856 8.15538 17.8816C8.44578 18.0775 8.79352 18.1867 9.15237 18.1947C9.41465 18.1916 9.67258 18.1321 9.90587 18.0208C10.1392 17.9094 10.3414 17.7493 10.4968 17.5531" stroke="#8EB826" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.4047 8.77606C14.6697 8.66907 14.9556 8.61393 15.2445 8.61407V8.61407C15.8095 8.6344 16.348 8.8416 16.7629 9.19829C17.1778 9.55497 17.4416 10.0376 17.5069 10.5591C17.7948 12.7844 17.4409 15.0407 16.4814 17.0973C16.3623 17.4117 16.143 17.6851 15.8526 17.881C15.5622 18.0769 15.2144 18.1861 14.8556 18.1941C14.6183 18.1923 14.3841 18.1438 14.1685 18.0517C13.9529 17.9596 13.7608 17.8261 13.605 17.6599" stroke="#8EB826" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="12" cy="12" r="11.5" stroke="#8EB826"/>
  </g>
`;

    const freshCategory$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: freshCategory
    }, Symbol.toStringTag, { value: 'Module' }));

    const chillerCategory = `
  <g fill="none">
    <circle cx="12" cy="12" r="11.5" stroke="#FF7800"/>
    <path d="M6.70068 15.7886V15.7887C6.70084 16.6144 7.02889 17.4061 7.6127 17.9899C8.19651 18.5738 8.98829 18.9018 9.81392 18.902L9.81402 18.402L9.81411 18.902C10.6397 18.9018 11.4315 18.5738 12.0153 17.9899C12.5991 17.4061 12.9272 16.6144 12.9273 15.7887V15.7886V15.4153C12.9273 14.9538 13.1107 14.5112 13.437 14.1849C13.7633 13.8586 14.2059 13.6753 14.6673 13.6753H15.414C16.3387 13.6753 17.2256 13.308 17.8795 12.6541C18.5333 12.0002 18.9007 11.1134 18.9007 10.1886C18.9007 9.26391 18.5333 8.37706 17.8795 7.72319C17.2256 7.06931 16.3387 6.70197 15.414 6.70197H11.6807C10.3599 6.70197 9.09322 7.22664 8.15929 8.16057C7.22536 9.0945 6.70068 10.3612 6.70068 11.682V15.7886Z" stroke="#FF7800" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.69482 15.7883C8.69482 16.0853 8.81282 16.3702 9.02286 16.5802C9.23291 16.7903 9.51778 16.9083 9.81482 16.9083C10.1119 16.9083 10.3967 16.7903 10.6068 16.5802C10.8168 16.3702 10.9348 16.0853 10.9348 15.7883C10.9348 15.4912 10.8168 15.2064 10.6068 14.9963C10.3967 14.7863 10.1119 14.6683 9.81482 14.6683C9.51778 14.6683 9.23291 14.7863 9.02286 14.9963C8.81282 15.2064 8.69482 15.4912 8.69482 15.7883Z" stroke="#FF7800" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.4148 8.69464H11.6815C10.8894 8.69464 10.1297 9.00931 9.5696 9.56942C9.00949 10.1295 8.69482 10.8892 8.69482 11.6813V12.428C8.69482 12.626 8.77349 12.8159 8.91352 12.9559C9.05354 13.096 9.24346 13.1746 9.44149 13.1746C9.63952 13.1746 9.82944 13.096 9.96946 12.9559C10.1095 12.8159 10.1882 12.626 10.1882 12.428C10.1882 12.2299 10.2668 12.04 10.4069 11.9C10.5469 11.76 10.7368 11.6813 10.9348 11.6813H15.4148C15.8109 11.6813 16.1907 11.524 16.4708 11.2439C16.7508 10.9639 16.9082 10.584 16.9082 10.188C16.9082 9.79192 16.7508 9.41208 16.4708 9.13203C16.1907 8.85197 15.8109 8.69464 15.4148 8.69464Z" stroke="#FF7800" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
`;

    const chillerCategory$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: chillerCategory
    }, Symbol.toStringTag, { value: 'Module' }));

    const ambientCategory = `
  <g fill="none">
    <path d="M16.8527 11.0021V16.851C16.8527 17.0491 16.774 17.239 16.634 17.379C16.4939 17.519 16.304 17.5977 16.106 17.5977H7.89266C7.69463 17.5977 7.50472 17.519 7.36469 17.379C7.22466 17.239 7.146 17.0491 7.146 16.851V11.0021" stroke="#FFC800" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16.5555 6.39813H7.44818C7.36321 6.39812 7.28077 6.42705 7.21445 6.48017C7.14812 6.53328 7.10187 6.60741 7.08331 6.69033L6.40186 9.75813C6.40186 10.0552 6.51986 10.3401 6.7299 10.5501C6.93994 10.7601 7.22481 10.8781 7.52186 10.8781C7.8189 10.8781 8.10377 10.7601 8.31381 10.5501C8.52386 10.3401 8.64186 10.0552 8.64186 9.75813C8.64186 10.0552 8.75986 10.3401 8.9699 10.5501C9.17994 10.7601 9.46481 10.8781 9.76186 10.8781C10.0589 10.8781 10.3438 10.7601 10.5538 10.5501C10.7639 10.3401 10.8819 10.0552 10.8819 9.75813C10.8819 10.0552 10.9999 10.3401 11.2099 10.5501C11.4199 10.7601 11.7048 10.8781 12.0019 10.8781C12.2989 10.8781 12.5838 10.7601 12.7938 10.5501C13.0039 10.3401 13.1219 10.0552 13.1219 9.75813C13.1219 10.0552 13.2399 10.3401 13.4499 10.5501C13.6599 10.7601 13.9448 10.8781 14.2419 10.8781C14.5389 10.8781 14.8238 10.7601 15.0338 10.5501C15.2439 10.3401 15.3619 10.0552 15.3619 9.75813C15.3619 10.0552 15.4799 10.3401 15.6899 10.5501C15.8999 10.7601 16.1848 10.8781 16.4819 10.8781C16.7789 10.8781 17.0638 10.7601 17.2738 10.5501C17.4839 10.3401 17.6019 10.0552 17.6019 9.75813L16.9199 6.69033C16.9015 6.6074 16.8554 6.53324 16.7891 6.4801C16.7229 6.42697 16.6405 6.39805 16.5555 6.39813Z" stroke="#FFC800" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M13.4959 14.2386C13.4959 13.8426 13.3386 13.4627 13.0586 13.1827C12.7785 12.9026 12.3987 12.7453 12.0026 12.7453C11.6066 12.7453 11.2267 12.9026 10.9467 13.1827C10.6666 13.4627 10.5093 13.8426 10.5093 14.2386V17.5986H13.4959V14.2386Z" stroke="#FFC800" stroke-linecap="round" stroke-linejoin="round"/>
    <circle cx="12" cy="12" r="11.5" stroke="#FFC800"/>
  </g>
`;

    const ambientCategory$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: ambientCategory
    }, Symbol.toStringTag, { value: 'Module' }));

    const add$2 = `
  <path d="M14 4C14 2.89543 13.1046 2 12 2C10.8954 2 10 2.89543 10 4V10H4C2.89543 10 2 10.8954 2 12C2 13.1046 2.89543 14 4 14H10V20C10 21.1046 10.8954 22 12 22C13.1046 22 14 21.1046 14 20V14H20C21.1046 14 22 13.1046 22 12C22 10.8954 21.1046 10 20 10H14V4Z" />
`;

    const add$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: add$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const minus$2 = `
  <path d="M2 12C2 10.8954 2.89543 10 4 10H20C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14H4C2.89543 14 2 13.1046 2 12Z"/>
`;

    const minus$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: minus$2
    }, Symbol.toStringTag, { value: 'Module' }));

    const add = `
<path d="M13.75 3.32031C13.75 2.16051 13.1598 1.5 12 1.5C10.8402 1.5 10.25 2.16051 10.25 3.32031V10.375H3.29688C2.13708 10.375 1.5 10.8402 1.5 12C1.5 13.1598 2.13708 13.75 3.29688 13.75H10.25V20.6875C10.25 21.8473 10.8402 22.5 12 22.5C13.1598 22.5 13.75 21.8473 13.75 20.6875V13.75H20.6406C21.8004 13.75 22.5 13.1598 22.5 12C22.5 10.8402 21.8004 10.375 20.6406 10.375H13.75V3.32031Z" />
`;

    const add$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: add
    }, Symbol.toStringTag, { value: 'Module' }));

    const carrier = `<path d="M4.7324 20.4001C3.86855 20.4001 3.13146 20.1024 2.52113 19.5071C1.9108 18.9117 1.60563 18.1768 1.60563 17.3024H1.49296C1.07981 17.2652 0.7277 17.0931 0.43662 16.7861C0.14554 16.4792 0 16.1117 0 15.6838V5.2187C0 4.77219 0.159624 4.3908 0.478873 4.07452C0.798122 3.75824 1.1831 3.6001 1.6338 3.6001H15.7183C16.169 3.6001 16.554 3.75824 16.8732 4.07452C17.1925 4.3908 17.3521 4.77219 17.3521 5.2187V7.98149H19.6338C19.7653 7.98149 19.8873 8.0094 20 8.06521C20.1127 8.12103 20.2066 8.20475 20.2817 8.31638L23.8592 13.0327C23.8967 13.1071 23.9296 13.1815 23.9577 13.2559C23.9859 13.3303 24 13.4141 24 13.5071V16.4931C24 16.7164 23.9249 16.9071 23.7747 17.0652C23.6244 17.2234 23.4272 17.3024 23.1831 17.3024H22.169C22.169 18.1768 21.8638 18.9117 21.2535 19.5071C20.6432 20.1024 19.8967 20.4001 19.0141 20.4001C18.1502 20.4001 17.4178 20.1024 16.8169 19.5071C16.216 18.9117 15.9155 18.1768 15.9155 17.3024H7.85916C7.85916 18.1768 7.55399 18.9117 6.94366 19.5071C6.33333 20.1024 5.59624 20.4001 4.7324 20.4001ZM4.7324 19.1164C5.25822 19.1164 5.69953 18.935 6.05634 18.5722C6.41315 18.2094 6.59155 17.7768 6.59155 17.2745C6.59155 16.7908 6.41315 16.3675 6.05634 16.0047C5.69953 15.642 5.25822 15.4606 4.7324 15.4606C4.22535 15.4606 3.79343 15.642 3.43662 16.0047C3.07981 16.3675 2.90141 16.7908 2.90141 17.2745C2.90141 17.7768 3.07981 18.2094 3.43662 18.5722C3.79343 18.935 4.22535 19.1164 4.7324 19.1164ZM1.26761 5.2187V15.6838C1.26761 15.721 1.277 15.7582 1.29577 15.7954L1.35211 15.9071C1.37089 15.9443 1.39906 15.9722 1.43662 15.9908C1.47418 16.0094 1.50235 16.0187 1.52113 16.0187H1.88732C2.13146 15.4978 2.50704 15.0606 3.01409 14.7071C3.52113 14.3536 4.0939 14.1768 4.7324 14.1768C5.33333 14.1768 5.89671 14.3536 6.42254 14.7071C6.94836 15.0606 7.33333 15.4978 7.57747 16.0187H16.0845V5.2187C16.0845 5.10707 16.0469 5.0187 15.9718 4.95359C15.8967 4.88847 15.8122 4.85591 15.7183 4.85591H1.6338C1.52113 4.85591 1.43193 4.88847 1.3662 4.95359C1.30047 5.0187 1.26761 5.10707 1.26761 5.2187ZM19.0423 19.1164C19.5493 19.1164 19.9812 18.935 20.338 18.5722C20.6948 18.2094 20.8732 17.7768 20.8732 17.2745C20.8732 16.7908 20.6948 16.3675 20.338 16.0047C19.9812 15.642 19.5493 15.4606 19.0423 15.4606C18.5352 15.4606 18.0986 15.642 17.7324 16.0047C17.3662 16.3675 17.1831 16.7908 17.1831 17.2745C17.1831 17.7768 17.3662 18.2094 17.7324 18.5722C18.0986 18.935 18.5352 19.1164 19.0423 19.1164ZM17.3521 14.7071L17.9621 14.4679C18.5705 14.2293 19.2404 14.1973 19.8687 14.3769C20.5956 14.5846 21.2164 15.0608 21.6054 15.709L21.9 16.2001H22.7324V13.6745L19.3803 9.26521H17.3521V14.7071Z"/>`;

    const carrier$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: carrier
    }, Symbol.toStringTag, { value: 'Module' }));

    const minus = `
<path d="M1.20001 12C1.20001 11.0059 1.80708 10.2 3.00001 10.2H21C22.1929 10.2 22.8 11.0059 22.8 12C22.8 12.9941 22.1929 13.8 21 13.8H3.00001C1.80708 13.8 1.20001 12.9941 1.20001 12Z" />
`;

    const minus$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: minus
    }, Symbol.toStringTag, { value: 'Module' }));

    const cartAdd = `
  <path d="M17.3333 18.3845C18.0693 18.3845 18.6667 18.9704 18.6667 19.6929C18.6667 20.4148 18.0693 21 17.3333 21C16.5973 21 16 20.4148 16 19.6929C16 18.9704 16.5973 18.3845 17.3333 18.3845ZM10 18.3845C10.736 18.3845 11.3333 18.9704 11.3333 19.6929C11.3333 20.4148 10.736 21 10 21C9.264 21 8.66667 20.4148 8.66667 19.6929C8.66667 18.9704 9.264 18.3845 10 18.3845ZM18.7693 17.0905L18.69 17.0702L18.6873 17.0774H8.66667L4.852 5.30774H2V4H5.68733L9.55533 15.769H17.836L20.1953 7.92388H8.52067L8 6.61614H21.3333H22L18.7693 17.0905ZM13.3333 14.4626V12.501H11.3333V11.1932H13.3333V9.23162H14.6667V11.1932H16.6667V12.501H14.6667V14.4626H13.3333Z" />
`;

    const cartAdd$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: cartAdd
    }, Symbol.toStringTag, { value: 'Module' }));

    const cart = `
  <path d="M17.3333 18.3851C18.0693 18.3851 18.6667 18.971 18.6667 19.6929C18.6667 20.4148 18.0693 21 17.3333 21C16.5973 21 16 20.4148 16 19.6929C16 18.971 16.5973 18.3851 17.3333 18.3851ZM10 18.3851C10.736 18.3851 11.3333 18.971 11.3333 19.6929C11.3333 20.4148 10.736 21 10 21C9.264 21 8.66667 20.4148 8.66667 19.6929C8.66667 18.971 9.264 18.3851 10 18.3851ZM22 6.61559L18.7693 17.091L18.69 17.0707L18.6873 17.0779H8.66667L4.85133 5.30779H2V4H5.68733L9.55533 15.7688H17.836L20.1953 7.92272H8.41667L8 6.61559H21.3333H22Z" />
`;

    const cart$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: cart
    }, Symbol.toStringTag, { value: 'Module' }));

    const close = `
  <path d="M20.3,3.8c-1-1-2.5-1-3.5,0L12,8.6L7.2,3.8c-1-1-2.5-1-3.5,0s-1,2.5,0,3.4L8.5,12l-4.8,4.8c-1,1-1,2.5,0,3.4
c1,1,2.5,1,3.5,0l4.8-4.8l4.8,4.8c1,1,2.5,1,3.5,0c1-1,1-2.5,0-3.4L15.5,12l4.8-4.8C21.3,6.2,21.3,4.7,20.3,3.8z"/>
`;

    const close$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: close
    }, Symbol.toStringTag, { value: 'Module' }));

    const collapse = `
  <path d="M17.3954 7.47054L12.001 13.133L6.60521 7.46974C6.00932 6.84342 5.04338 6.84342 4.44749 7.46974C3.85084 8.09525 3.85084 9.1084 4.44749 9.73472L10.9214 16.5305C11.5173 17.156 12.4825 17.1568 13.0792 16.5313L19.5531 9.73552C20.149 9.1092 20.149 8.09605 19.5531 7.46974C18.9572 6.84422 17.9912 6.84502 17.3954 7.47054Z" />
`;

    const collapse$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: collapse
    }, Symbol.toStringTag, { value: 'Module' }));

    const dropUp = `
  <g style='transform-origin: center;transform: rotate(180deg)'>
    <path d="M17.3954 7.47054L12.001 13.133L6.60521 7.46974C6.00932 6.84342 5.04338 6.84342 4.44749 7.46974C3.85084 8.09525 3.85084 9.1084 4.44749 9.73472L10.9214 16.5305C11.5173 17.156 12.4825 17.1568 13.0792 16.5313L19.5531 9.73552C20.149 9.1092 20.149 8.09605 19.5531 7.46974C18.9572 6.84422 17.9912 6.84502 17.3954 7.47054Z" />
  </g>
`;

    const dropUp$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dropUp
    }, Symbol.toStringTag, { value: 'Module' }));

    const dropdown = `
  <path d="M17.3954 7.47054L12.001 13.133L6.60521 7.46974C6.00932 6.84342 5.04338 6.84342 4.44749 7.46974C3.85084 8.09525 3.85084 9.1084 4.44749 9.73472L10.9214 16.5305C11.5173 17.156 12.4825 17.1568 13.0792 16.5313L19.5531 9.73552C20.149 9.1092 20.149 8.09605 19.5531 7.46974C18.9572 6.84422 17.9912 6.84502 17.3954 7.47054Z" />
`;

    const dropdown$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: dropdown
    }, Symbol.toStringTag, { value: 'Module' }));

    const expand = `
  <g style='transform-origin: center;transform: rotate(180deg)'>
    <path d="M17.3954 7.47054L12.001 13.133L6.60521 7.46974C6.00932 6.84342 5.04338 6.84342 4.44749 7.46974C3.85084 8.09525 3.85084 9.1084 4.44749 9.73472L10.9214 16.5305C11.5173 17.156 12.4825 17.1568 13.0792 16.5313L19.5531 9.73552C20.149 9.1092 20.149 8.09605 19.5531 7.46974C18.9572 6.84422 17.9912 6.84502 17.3954 7.47054Z" />
  </g>
`;

    const expand$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: expand
    }, Symbol.toStringTag, { value: 'Module' }));

    const image = `
  <path d="M7.075 11.85H16.425L13.325 7.775L10.95 10.8L9.375 8.875L7.075 11.85ZM6.05 15.5C5.55 15.5 5.125 15.325 4.775 14.975C4.425 14.625 4.25 14.2 4.25 13.7V2.3C4.25 1.8 4.425 1.375 4.775 1.025C5.125 0.675 5.55 0.5 6.05 0.5H17.45C17.95 0.5 18.375 0.675 18.725 1.025C19.075 1.375 19.25 1.8 19.25 2.3V13.7C19.25 14.2 19.075 14.625 18.725 14.975C18.375 15.325 17.95 15.5 17.45 15.5H6.05ZM6.05 14H17.45C17.5167 14 17.5833 13.9667 17.65 13.9C17.7167 13.8333 17.75 13.7667 17.75 13.7V2.3C17.75 2.23333 17.7167 2.16667 17.65 2.1C17.5833 2.03333 17.5167 2 17.45 2H6.05C5.98333 2 5.91667 2.03333 5.85 2.1C5.78333 2.16667 5.75 2.23333 5.75 2.3V13.7C5.75 13.7667 5.78333 13.8333 5.85 13.9C5.91667 13.9667 5.98333 14 6.05 14ZM2.55 19C2.05 19 1.625 18.825 1.275 18.475C0.925 18.125 0.75 17.7 0.75 17.2V4.3H2.25V17.2C2.25 17.2667 2.28333 17.3333 2.35 17.4C2.41667 17.4667 2.48333 17.5 2.55 17.5H15.45V19H2.55Z"/>
`;

    const image$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: image
    }, Symbol.toStringTag, { value: 'Module' }));

    const info = `
  <path  d="M12 1C14.9174 1 17.7153 2.15893 19.7782 4.22183C21.8411 6.28473 23 9.08262 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1ZM12 2.83333C6.93739 2.83333 2.83333 6.93739 2.83333 12C2.83333 17.0626 6.93739 21.1667 12 21.1667C17.0626 21.1667 21.1667 17.0626 21.1667 12C21.1667 6.93739 17.0626 2.83333 12 2.83333ZM12 10.1667C12.5063 10.1667 12.9167 10.5771 12.9167 11.0833V17.5C12.9167 18.0063 12.5063 18.4167 12 18.4167C11.4937 18.4167 11.0833 18.0063 11.0833 17.5V11.0833C11.0833 10.5771 11.4937 10.1667 12 10.1667ZM12 6.5C12.5063 6.5 12.9167 6.91041 12.9167 7.41667C12.9167 7.92293 12.5063 8.33333 12 8.33333C11.4937 8.33333 11.0833 7.92293 11.0833 7.41667C11.0833 6.91041 11.4937 6.5 12 6.5Z"/>
`;

    const info$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: info
    }, Symbol.toStringTag, { value: 'Module' }));

    const inputError = `
  <path d="M12 5.26509C12.7611 5.18489 13.4491 5.72154 13.5566 6.47925V11.3151C13.4491 12.0728 12.7611 12.6095 12 12.5292C11.2389 12.6095 10.5509 12.0728 10.4434 11.3151V6.46887C10.5559 5.71534 11.2424 5.18445 12 5.26509Z"/>
  <path d="M13.5566 16.1613C13.5566 15.3016 12.8597 14.6047 12 14.6047C11.1403 14.6047 10.4434 15.3016 10.4434 16.1613C10.4434 17.021 11.1403 17.7179 12 17.7179C12.8597 17.7179 13.5566 17.021 13.5566 16.1613Z"/>
  <path d="M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C22.9943 18.0728 18.0728 22.9943 12 23ZM12 3.28302C7.1871 3.28302 3.28493 7.18364 3.28303 11.9965C3.28112 16.8094 7.18019 20.7132 11.9931 20.717C16.806 20.7208 20.7113 16.8233 20.717 12.0104C20.717 7.19444 16.8159 3.28875 12 3.28302Z"/>
`;

    const inputError$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: inputError
    }, Symbol.toStringTag, { value: 'Module' }));

    const mark = `
  <path d="M20.4357 8.37056L10.6396 18.4215C10.2624 18.8065 9.77177 19 9.27917 19C8.78657 19 8.29398 18.8065 7.91876 18.4215L3.56427 13.9538C2.81191 13.1838 2.81191 11.9341 3.56427 11.1622C4.31664 10.3902 5.53274 10.3902 6.2851 11.1622L9.27917 14.2341L17.7149 5.57895C18.4673 4.80702 19.6834 4.80702 20.4357 5.57895C21.1881 6.35089 21.1881 7.59863 20.4357 8.37056Z"/>
`;

    const mark$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: mark
    }, Symbol.toStringTag, { value: 'Module' }));

    const remove = `
  <circle cx="12" cy="12" r="12" style="fill:var(--oryx-color-canvas-500, #eeeeee)"/>
  <path d="M16.1425 7.85748C15.6659 7.38084 14.8931 7.38084 14.4165 7.85748L12 10.2739L9.58353 7.85748C9.10689 7.38084 8.33411 7.38084 7.85748 7.85748C7.38084 8.33411 7.38084 9.10689 7.85748 9.58353L10.2739 12L7.85748 14.4165C7.38084 14.8931 7.38084 15.6659 7.85748 16.1425C8.33411 16.6192 9.10689 16.6192 9.58353 16.1425L12 13.7261L14.4165 16.1425C14.8931 16.6192 15.6659 16.6192 16.1425 16.1425C16.6192 15.6659 16.6192 14.8931 16.1425 14.4165L13.7261 12L16.1425 9.58353C16.6192 9.10689 16.6192 8.33411 16.1425 7.85748Z" />
`;

    const remove$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: remove
    }, Symbol.toStringTag, { value: 'Module' }));

    const rocket = `
  <path d="M20.6598 0.380021C21.5851 0.67218 22.4006 1.2368 22.9998 2.00002C23.8298 3.42002 24.9098 6.46002 20.6398 11.39C20.6398 11.39 15.7298 16.63 9.72978 18.99C9.39181 19.1229 9.02233 19.1539 8.66693 19.0793C8.31153 19.0047 7.98575 18.8276 7.72978 18.57L5.15978 16C4.90267 15.7436 4.72815 15.4161 4.65865 15.0597C4.58915 14.7033 4.62785 14.3343 4.76978 14C6.35715 10.2861 8.61479 6.8963 11.4298 4.00002C15.5998 -0.299979 18.6398 -0.409979 20.6598 0.380021ZM15.6442 8.93881C16.0454 9.20692 16.5172 9.35002 16.9998 9.35002C17.3206 9.35134 17.6385 9.28913 17.9351 9.16698C18.2317 9.04483 18.5012 8.86515 18.7281 8.63831C18.9549 8.41147 19.1346 8.14196 19.2567 7.84533C19.3789 7.5487 19.4411 7.23082 19.4398 6.91002C19.4398 6.42743 19.2967 5.95569 19.0286 5.55443C18.7605 5.15317 18.3794 4.84043 17.9335 4.65576C17.4877 4.47108 16.9971 4.42276 16.5238 4.5169C16.0504 4.61105 15.6157 4.84344 15.2744 5.18468C14.9332 5.52592 14.7008 5.96069 14.6067 6.434C14.5125 6.90731 14.5608 7.39792 14.7455 7.84377C14.9302 8.28962 15.2429 8.6707 15.6442 8.93881ZM5.07967 11.0201C4.78967 11.5201 4.57967 11.9101 4.39967 12.2801C4.38272 12.3156 4.35872 12.3473 4.32914 12.3732C4.29956 12.3992 4.265 12.4188 4.22758 12.431C4.19016 12.4431 4.15066 12.4476 4.11148 12.444C4.07229 12.4404 4.03425 12.4288 3.99967 12.4101L0.569668 11.2301C0.435003 11.2101 0.309421 11.1502 0.209178 11.0581C0.108935 10.966 0.0386448 10.846 0.00740494 10.7135C-0.0238349 10.581 -0.0145861 10.4421 0.0339543 10.3149C0.0824948 10.1878 0.168092 10.0781 0.279668 10.0001L1.56967 8.74008L3.29967 7.00008C3.43421 6.88194 3.59648 6.7998 3.77134 6.76133C3.94621 6.72286 4.12797 6.72931 4.29967 6.78008L6.89967 7.64008C6.9297 7.64676 6.95752 7.66102 6.98047 7.68151C7.00343 7.702 7.02074 7.72803 7.03077 7.75711C7.0408 7.7862 7.04321 7.81737 7.03776 7.84765C7.03232 7.87793 7.0192 7.90631 6.99967 7.93008C6.30159 8.92284 5.66055 9.9545 5.07967 11.0201ZM4.05744 16.5976C4.17311 16.6443 4.2742 16.721 4.35024 16.8199L7.52024 19.9999C7.60605 20.0809 7.67033 20.182 7.70727 20.2941C7.7442 20.4061 7.75263 20.5256 7.73179 20.6418C7.71094 20.7579 7.66148 20.867 7.58788 20.9592C7.51428 21.0514 7.41886 21.1239 7.31024 21.1699C7.31024 21.1699 4.53024 22.5599 3.14024 21.1699C1.75024 19.7799 3.14024 16.9999 3.14024 16.9999C3.1842 16.8832 3.25857 16.7803 3.35563 16.702C3.4527 16.6236 3.56894 16.5726 3.69233 16.5542C3.81572 16.5359 3.94177 16.5508 4.05744 16.5976ZM16.7504 16.43C16.7405 16.3997 16.7231 16.3723 16.6998 16.3505C16.6766 16.3287 16.6482 16.3131 16.6173 16.3051C16.5864 16.2971 16.554 16.2971 16.5231 16.3049C16.4922 16.3127 16.4638 16.3282 16.4404 16.35C15.3104 17.19 14.2604 17.9 13.4404 18.35L12.2304 19.08C12.1708 19.1185 12.1256 19.1757 12.1021 19.2427C12.0785 19.3097 12.078 19.3826 12.1004 19.45L13.4404 22.86C13.4665 22.9957 13.5327 23.1205 13.6305 23.2182C13.7283 23.3158 13.8531 23.3819 13.9889 23.4077C14.1247 23.4336 14.2651 23.4181 14.392 23.3632C14.5188 23.3083 14.6263 23.2166 14.7004 23.1L15.9304 21.74L17.5604 20C17.6686 19.86 17.7414 19.6961 17.7728 19.522C17.8041 19.3479 17.793 19.1688 17.7404 19L16.7504 16.43Z" />
`;

    const rocket$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: rocket
    }, Symbol.toStringTag, { value: 'Module' }));

    const search = `
  <path d="M16.7485 15.2635L21.6724 20.212V20.1945C21.9562 20.4628 22.0664 20.859 21.9603 21.2287C21.8541 21.5983 21.5484 21.8829 21.1621 21.9715C20.7759 22.0601 20.3704 21.9386 20.1038 21.6545L15.1436 16.6849C13.7435 17.6394 12.071 18.1497 10.3577 18.1449C6.44091 18.1472 3.04866 15.5184 2.19948 11.8228C1.3503 8.12723 3.27235 4.35772 6.82191 2.75737C10.3715 1.15701 14.5948 2.15578 16.9789 5.15935C19.363 8.16291 19.2672 12.3643 16.7485 15.2635ZM16.5307 10.0727C16.5307 6.7776 13.7669 4.10637 10.3577 4.10637C6.9484 4.10637 4.18465 6.7776 4.18465 10.0727C4.18465 13.3679 6.9484 16.0391 10.3577 16.0391C13.7669 16.0391 16.5307 13.3679 16.5307 10.0727Z" />
`;

    const search$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: search
    }, Symbol.toStringTag, { value: 'Module' }));

    const trash = `
  <path d="M20.4,4.5C20.1,4.2,19.6,4,19,4h-3.5V2.6c-0.1-0.9-0.8-1.5-1.6-1.6h-3.6c-1,0.1-1.7,0.7-1.7,1.6V4H5C3.9,4,3,4.9,3,6v1.1c0,0.3,0.3,0.6,0.6,0.6h16.8c0.3,0,0.6-0.3,0.6-0.6V5.9C21,5.4,20.8,4.9,20.4,4.5z M14.4,4H9.6V3.2c0.1-0.6,0.7-1.1,1.3-1h2.2c0.6-0.1,1.2,0.4,1.3,1V4z"/>
  <path d="M19.8,8.7H4.1H4v0.1l0.6,12C4.7,22,5.7,23,6.9,23h10.3c1.2,0,2.2-1,2.3-2.2l0.5-12V8.7C19.9,8.7,19.8,8.7,19.8,8.7zM9.2,11.2v8.1c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.2-0.4-0.4-0.3-0.7v-8.1c0-0.3,0.1-0.6,0.3-0.7c0.2-0.2,0.5-0.2,0.8,0C9.1,10.7,9.3,10.9,9.2,11.2z M12.3,20c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.1-0.3-0.4-0.3-0.7v-8.1c-0.1-0.3,0.1-0.5,0.3-0.7c0.3-0.2,0.6-0.2,0.8,0c0.2,0.1,0.3,0.4,0.3,0.7v8.1C12.7,19.6,12.5,19.8,12.3,20z M16.1,19.3c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0c-0.2-0.2-0.4-0.4-0.3-0.7v-8.1c0-0.4,0.4-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7V19.3z"/>
`;

    const trash$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: trash
    }, Symbol.toStringTag, { value: 'Module' }));

    const visible = `
  <path d="M8.44464 12.2581C8.44464 10.3055 10.0275 8.72258 11.9801 8.72258C13.9318 8.72486 15.5133 10.3064 15.5156 12.2581C15.5156 14.2107 13.9327 15.7935 11.9801 15.7935C10.0275 15.7935 8.44464 14.2107 8.44464 12.2581Z" />
  <path d="M12.0059 4C4.136 4 0.980382 9.67123 0.130318 11.6139C-0.0485177 12.0228 -0.0430662 12.4888 0.145286 12.8934C1.04438 14.8289 4.33883 20.5161 12.0059 20.5161C19.6963 20.5161 22.9479 14.7974 23.8253 12.8774C24.0058 12.4822 24.011 12.0292 23.8397 11.6299C23.0139 9.70271 19.8981 4 12.0059 4ZM11.9801 17.8581C8.88733 17.8581 6.38012 15.3509 6.38012 12.2581C6.38012 9.16527 8.88733 6.65806 11.9801 6.65806C15.0729 6.65806 17.5801 9.16527 17.5801 12.2581C17.5767 15.3494 15.0715 17.8547 11.9801 17.8581Z" />
`;

    const visible$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: visible
    }, Symbol.toStringTag, { value: 'Module' }));

    const invisible = `
  <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5836 5.6247L21.0065 4.20276C21.5105 3.6988 21.5105 2.8817 21.0065 2.37773C20.5026 1.87376 19.6855 1.87376 19.1815 2.37773L17.2414 4.31786C15.7905 3.71244 14.0605 3.32586 12.0063 3.32586C4.13686 3.32586 0.980733 8.99657 0.130668 10.9398C-0.0484646 11.3486 -0.0432004 11.8146 0.14512 12.2193C0.646797 13.299 1.8948 15.5488 4.23389 17.3259L2.61325 18.9465C2.11331 19.4513 2.11543 20.2652 2.61799 20.7673C3.12055 21.2694 3.93447 21.2709 4.4388 20.7705L6.51467 18.6946C8.02693 19.3888 9.84267 19.842 12.0068 19.842C19.6971 19.842 22.9487 14.1233 23.8262 12.2033C24.0068 11.8072 24.0117 11.3531 23.8396 10.9532C23.3585 9.83167 22.1023 7.43425 19.5836 5.6247ZM6.38099 11.5839C6.37996 9.5773 7.45314 7.72364 9.19385 6.72541C10.9346 5.72717 13.0764 5.73709 14.8078 6.75141L13.2672 8.29154C11.9597 7.77951 10.4731 8.09027 9.48023 9.08316C8.48734 10.0761 8.17658 11.5626 8.6886 12.8701L7.14847 14.4108C6.64482 13.5539 6.37981 12.5778 6.38099 11.5839ZM8.92912 16.2781C9.83655 16.8707 10.8972 17.1855 11.981 17.1839L11.9769 17.1834C14.0308 17.1852 15.9207 16.062 16.9008 14.257C17.8808 12.452 17.7937 10.2552 16.6736 8.5336L15.1619 10.0453C15.8172 11.3996 15.5434 13.0202 14.4796 14.084C13.4157 15.1478 11.7951 15.4217 10.4409 14.7664L8.92912 16.2781Z" />
`;

    const invisible$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: invisible
    }, Symbol.toStringTag, { value: 'Module' }));

    const wishlist = `
  <path d="M20.3644 3.78609C19.33 2.64932 17.8804 2.00252 16.3617 2C14.8417 2.00192 13.3906 2.64838 12.3546 3.78536L12.0015 4.16682L11.6484 3.78536C9.59251 1.52326 6.13215 1.39335 3.91953 3.49514C3.82148 3.58831 3.72679 3.68508 3.63565 3.78536C1.45478 6.19026 1.45478 9.90692 3.63565 12.3118L11.4826 20.7718C11.754 21.0648 12.2064 21.0773 12.493 20.7998C12.5024 20.7907 12.5115 20.7814 12.5204 20.7718L20.3645 12.3118C22.5452 9.90717 22.5452 6.19073 20.3644 3.78609ZM19.3302 11.3056H19.3295L12.0015 19.2072L4.67282 11.3056C3.00676 9.46799 3.00676 6.62845 4.67282 4.79089C6.1858 3.11441 8.74172 3.00929 10.3816 4.55608C10.4612 4.63118 10.5378 4.70949 10.6112 4.79089L11.4826 5.73065C11.7697 6.02233 12.2333 6.02233 12.5204 5.73065L13.3917 4.79162C14.9047 3.11513 17.4606 3.01002 19.1005 4.55681C19.1801 4.63191 19.2567 4.71022 19.3302 4.79162C21.0107 6.63209 21.023 9.47681 19.3302 11.3056Z"/>
`;

    const wishlist$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        default: wishlist
    }, Symbol.toStringTag, { value: 'Module' }));

    const reverse = (color) => {
        if (typeof color === 'string') {
            return color;
        }
        else
            return {
                100: color[500],
                200: color[400],
                300: color[300],
                400: color[200],
                500: color[100],
            };
    };
    const colorPalette = {
        white: {
            100: '#FFFFFF',
            200: '#F5F5F5',
            300: '#E7EAEE',
            400: '#DCE0E5',
            500: '#DBDBDB',
        },
        gray: {
            100: '#B7BEC9',
            200: '#B2B2B2',
            300: '#71747C',
            400: '#4C4C4C',
            500: '#333333',
        },
        green: {
            100: '#F1F8F7',
            200: '#94DDC0',
            300: '#11856E',
            400: '#1C6C5C',
            500: '#004628',
        },
        orange: {
            100: '#FEF0E6',
            200: '#FFAA70',
            300: '#FF6800',
            400: '#B7540F',
            500: '#894618',
        },
        red: {
            100: '#F8E9E6',
            200: '#F19D8F',
            300: '#C72712',
            400: '#A03523',
            500: '#782214',
        },
        yellow: {
            100: '#FFF7E6',
            200: '#FEDC93',
            300: '#FDBE36',
            400: '#E4A41C',
            500: '#D88D00',
        },
        blue: {
            100: '#EAF1FA',
            200: '#A2C6E5',
            300: '#0064B4',
            400: '#005090',
            500: '#034072',
        },
    };

    const color = {
        ink: '#121212',
        canvas: colorPalette.white,
        neutral: colorPalette.gray,
        primary: colorPalette.green,
        secondary: colorPalette.yellow,
        highlight: colorPalette.red,
        success: colorPalette.green,
        warning: colorPalette.orange,
        error: colorPalette.red,
        info: colorPalette.blue,
        focus: colorPalette.green[300],
        placeholder: colorPalette.gray[300],
    };

    const darkColor = {
        ink: '#fff',
        canvas: {
            100: '#000000',
            200: '#0a0a0a',
            300: '#181511',
            400: '#231f1a',
            500: '#242424',
        },
        neutral: reverse(color.neutral),
        primary: reverse(color.primary),
        highlight: reverse(color.highlight),
        success: reverse(color.success),
        warning: reverse(color.warning),
        error: reverse(color.error),
        info: reverse(color.info),
        focus: reverse(color.focus),
        placeholder: colorPalette.gray[200],
    };

    const darkTokens = {
        elevation: {
            color: 'rgb(237 237 237 / 15%)',
            'color-2': 'rgb(225 225 225 / 15%)',
        },
        chip: {
            color: '#efeeee',
            background: {
                color: '#71747c',
            },
            success: {
                color: '#f1f8f7',
                background: {
                    color: '#138671',
                },
            },
            inactive: {
                color: '#f8f8f8',
                background: {
                    color: '#71747c',
                },
            },
            offline: {
                color: '#efeeee',
                background: {
                    color: '#71747c',
                },
            },
            low: {
                color: '#fffbe6',
                background: {
                    color: '#cd8814',
                },
            },
            warning: {
                color: '#fef0e6',
                background: {
                    color: '#b7540f',
                },
            },
            info: {
                color: '#eaf1fa',
                background: {
                    color: '#2261af',
                },
            },
            error: {
                color: '#f9f2f1',
                background: {
                    color: '#c72712',
                },
            },
        },
    };

    const tokens = {
        font: '"Montserrat", sans-serif',
        'font-size': {
            base: '14px',
            medium: '16px',
            large: '22px',
        },
        'font-weight': {
            medium: '500',
            semibold: '600',
        },
        container: {
            width: '1340px',
        },
        layout: {
            gap: '10px',
        },
        box: {
            shadow: {
                focus: '0 0 3px var(--oryx-color-focus)',
            },
        },
        elevation: {
            color: 'rgb(23 11 11 / 15%)',
            'color-2': 'rgb(18 18 18 / 15%)',
            0: '0 1px 3px',
            1: '0 4px 12px',
            2: '1px 3px 18px',
            3: '-2px 2px 20px',
        },
        'transition-time': '0.3s',
        transition: {
            time: {
                medium: '0.6s',
                long: '0.9s',
            },
        },
        'border-radius': '10px',
        border: {
            thin: '1px',
            thick: '2px',
            radius: {
                small: '4px',
                medium: '5px',
                large: '24px',
            },
        },
        space: '5px',
        'space-2': 'calc(var(--oryx-space) * 2)',
        'space-3': 'calc(var(--oryx-space) * 3)',
        'space-4': 'calc(var(--oryx-space) * 4)',
        icon: {
            size: {
                default: 'var(--oryx-icon-size-large)',
                large: '24px',
                medium: '18px',
                small: '12px',
            },
        },
        modal: {
            min: {
                width: 'min(100vw, 400px)',
            },
            background: {
                color: 'rgb(0 0 0 / 50%)',
            },
        },
        cart: {
            'quantity-input': {
                button: {
                    disabled: {
                        color: '#b2b2b2',
                    },
                    hover: {
                        background: {
                            color: '#e7eaee',
                        },
                    },
                    color: '#121212',
                    background: {
                        color: '#f5f5f5',
                    },
                    border: {
                        color: '#dce0e5',
                    },
                },
                input: {
                    hover: {
                        border: {
                            color: '#b7bec9',
                        },
                    },
                },
            },
        },
    };

    const storefrontTokens = [
        {
            color,
            ...tokens,
        },
        {
            media: {
                mode: 'dark',
            },
            color: darkColor,
            ...darkTokens,
        },
        {
            media: {
                screen: "sm" /* Size.Sm */,
            },
            font: {
                weight: {
                    medium: '600',
                },
                size: {
                    base: '16px',
                },
            },
        },
        {
            media: {
                screen: "md" /* Size.Md */,
            },
            font: {
                weight: {
                    medium: '500',
                },
                size: {
                    base: '14px',
                },
            },
        },
    ];

    const index = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
        __proto__: null,
        storefrontTokens
    }, Symbol.toStringTag, { value: 'Module' }));

    exports.render = render;

    Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: 'Module' } });

    return exports;

})({});
